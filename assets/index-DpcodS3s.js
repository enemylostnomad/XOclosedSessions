(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var SB=Object.defineProperty,NB=(e,t,n)=>t in e?SB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Uj=(e,t,n)=>NB(e,typeof t!="symbol"?t+"":t,n);function jB(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();var sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function To(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dP={exports:{}},V0={},fP={exports:{}},vn={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Vp=Symbol.for("react.element"),CB=Symbol.for("react.portal"),MB=Symbol.for("react.fragment"),AB=Symbol.for("react.strict_mode"),EB=Symbol.for("react.profiler"),DB=Symbol.for("react.provider"),PB=Symbol.for("react.context"),TB=Symbol.for("react.forward_ref"),OB=Symbol.for("react.suspense"),IB=Symbol.for("react.memo"),_B=Symbol.for("react.lazy"),Vj=Symbol.iterator;function LB(e){return e===null||typeof e!="object"?null:(e=Vj&&e[Vj]||e["@@iterator"],typeof e=="function"?e:null)}var pP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mP=Object.assign,hP={};function _d(e,t,n){this.props=e,this.context=t,this.refs=hP,this.updater=n||pP}_d.prototype.isReactComponent={};_d.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_d.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gP(){}gP.prototype=_d.prototype;function D1(e,t,n){this.props=e,this.context=t,this.refs=hP,this.updater=n||pP}var P1=D1.prototype=new gP;P1.constructor=D1;mP(P1,_d.prototype);P1.isPureReactComponent=!0;var Wj=Array.isArray,yP=Object.prototype.hasOwnProperty,T1={current:null},vP={key:!0,ref:!0,__self:!0,__source:!0};function bP(e,t,n){var r,a={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)yP.call(t,r)&&!vP.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(s===1)a.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in s=e.defaultProps,s)a[r]===void 0&&(a[r]=s[r]);return{$$typeof:Vp,type:e,key:i,ref:o,props:a,_owner:T1.current}}function FB(e,t){return{$$typeof:Vp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function O1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vp}function RB(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Hj=/\/+/g;function Ov(e,t){return typeof e=="object"&&e!==null&&e.key!=null?RB(""+e.key):t.toString(36)}function Fh(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vp:case CB:o=!0}}if(o)return o=e,a=a(o),e=r===""?"."+Ov(o,0):r,Wj(a)?(n="",e!=null&&(n=e.replace(Hj,"$&/")+"/"),Fh(a,t,n,"",function(u){return u})):a!=null&&(O1(a)&&(a=FB(a,n+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Hj,"$&/")+"/")+e)),t.push(a)),1;if(o=0,r=r===""?".":r+":",Wj(e))for(var s=0;s<e.length;s++){i=e[s];var l=r+Ov(i,s);o+=Fh(i,t,n,l,a)}else if(l=LB(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=r+Ov(i,s++),o+=Fh(i,t,n,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function qm(e,t,n){if(e==null)return e;var r=[],a=0;return Fh(e,r,"","",function(i){return t.call(n,i,a++)}),r}function $B(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Za={current:null},Rh={transition:null},BB={ReactCurrentDispatcher:Za,ReactCurrentBatchConfig:Rh,ReactCurrentOwner:T1};function xP(){throw Error("act(...) is not supported in production builds of React.")}vn.Children={map:qm,forEach:function(e,t,n){qm(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qm(e,function(){t++}),t},toArray:function(e){return qm(e,function(t){return t})||[]},only:function(e){if(!O1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};vn.Component=_d;vn.Fragment=MB;vn.Profiler=EB;vn.PureComponent=D1;vn.StrictMode=AB;vn.Suspense=OB;vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BB;vn.act=xP;vn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mP({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=T1.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)yP.call(t,l)&&!vP.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Vp,type:e.type,key:a,ref:i,props:r,_owner:o}};vn.createContext=function(e){return e={$$typeof:PB,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:DB,_context:e},e.Consumer=e};vn.createElement=bP;vn.createFactory=function(e){var t=bP.bind(null,e);return t.type=e,t};vn.createRef=function(){return{current:null}};vn.forwardRef=function(e){return{$$typeof:TB,render:e}};vn.isValidElement=O1;vn.lazy=function(e){return{$$typeof:_B,_payload:{_status:-1,_result:e},_init:$B}};vn.memo=function(e,t){return{$$typeof:IB,type:e,compare:t===void 0?null:t}};vn.startTransition=function(e){var t=Rh.transition;Rh.transition={};try{e()}finally{Rh.transition=t}};vn.unstable_act=xP;vn.useCallback=function(e,t){return Za.current.useCallback(e,t)};vn.useContext=function(e){return Za.current.useContext(e)};vn.useDebugValue=function(){};vn.useDeferredValue=function(e){return Za.current.useDeferredValue(e)};vn.useEffect=function(e,t){return Za.current.useEffect(e,t)};vn.useId=function(){return Za.current.useId()};vn.useImperativeHandle=function(e,t,n){return Za.current.useImperativeHandle(e,t,n)};vn.useInsertionEffect=function(e,t){return Za.current.useInsertionEffect(e,t)};vn.useLayoutEffect=function(e,t){return Za.current.useLayoutEffect(e,t)};vn.useMemo=function(e,t){return Za.current.useMemo(e,t)};vn.useReducer=function(e,t,n){return Za.current.useReducer(e,t,n)};vn.useRef=function(e){return Za.current.useRef(e)};vn.useState=function(e){return Za.current.useState(e)};vn.useSyncExternalStore=function(e,t,n){return Za.current.useSyncExternalStore(e,t,n)};vn.useTransition=function(){return Za.current.useTransition()};vn.version="18.3.1";fP.exports=vn;var g=fP.exports;const W0=To(g),zB=jB({__proto__:null,default:W0},[g]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var UB=g,VB=Symbol.for("react.element"),WB=Symbol.for("react.fragment"),HB=Object.prototype.hasOwnProperty,qB=UB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KB={key:!0,ref:!0,__self:!0,__source:!0};function wP(e,t,n){var r,a={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)HB.call(t,r)&&!KB.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:VB,type:e,key:i,ref:o,props:a,_owner:qB.current}}V0.Fragment=WB;V0.jsx=wP;V0.jsxs=wP;dP.exports=V0;var c=dP.exports,ox={},kP={exports:{}},_i={},SP={exports:{}},NP={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(W,le){var k=W.length;W.push(le);e:for(;0<k;){var F=k-1>>>1,T=W[F];if(0<a(T,le))W[F]=le,W[k]=T,k=F;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var le=W[0],k=W.pop();if(k!==le){W[0]=k;e:for(var F=0,T=W.length,C=T>>>1;F<C;){var B=2*(F+1)-1,R=W[B],G=B+1,se=W[G];if(0>a(R,k))G<T&&0>a(se,R)?(W[F]=se,W[G]=k,F=G):(W[F]=R,W[B]=k,F=B);else if(G<T&&0>a(se,k))W[F]=se,W[G]=k,F=G;else break e}}return le}function a(W,le){var k=W.sortIndex-le.sortIndex;return k!==0?k:W.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],d=1,f=null,p=3,m=!1,h=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var le=n(u);le!==null;){if(le.callback===null)r(u);else if(le.startTime<=W)r(u),le.sortIndex=le.expirationTime,t(l,le);else break;le=n(u)}}function S(W){if(v=!1,w(W),!h)if(n(l)!==null)h=!0,je(j);else{var le=n(u);le!==null&&te(S,le.startTime-W)}}function j(W,le){h=!1,v&&(v=!1,y(P),P=-1),m=!0;var k=p;try{for(w(le),f=n(l);f!==null&&(!(f.expirationTime>le)||W&&!I());){var F=f.callback;if(typeof F=="function"){f.callback=null,p=f.priorityLevel;var T=F(f.expirationTime<=le);le=e.unstable_now(),typeof T=="function"?f.callback=T:f===n(l)&&r(l),w(le)}else r(l);f=n(l)}if(f!==null)var C=!0;else{var B=n(u);B!==null&&te(S,B.startTime-le),C=!1}return C}finally{f=null,p=k,m=!1}}var N=!1,A=null,P=-1,U=5,D=-1;function I(){return!(e.unstable_now()-D<U)}function O(){if(A!==null){var W=e.unstable_now();D=W;var le=!0;try{le=A(!0,W)}finally{le?H():(N=!1,A=null)}}else N=!1}var H;if(typeof b=="function")H=function(){b(O)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,oe=J.port2;J.port1.onmessage=O,H=function(){oe.postMessage(null)}}else H=function(){x(O,0)};function je(W){A=W,N||(N=!0,H())}function te(W,le){P=x(function(){W(e.unstable_now())},le)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){h||m||(h=!0,je(j))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(p){case 1:case 2:case 3:var le=3;break;default:le=p}var k=p;p=le;try{return W()}finally{p=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var k=p;p=W;try{return le()}finally{p=k}},e.unstable_scheduleCallback=function(W,le,k){var F=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?F+k:F):k=F,W){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=k+T,W={id:d++,callback:le,priorityLevel:W,startTime:k,expirationTime:T,sortIndex:-1},k>F?(W.sortIndex=k,t(u,W),n(l)===null&&W===n(u)&&(v?(y(P),P=-1):v=!0,te(S,k-F))):(W.sortIndex=T,t(l,W),h||m||(h=!0,je(j))),W},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(W){var le=p;return function(){var k=p;p=le;try{return W.apply(this,arguments)}finally{p=k}}}})(NP);SP.exports=NP;var GB=SP.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var YB=g,Ti=GB;function dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jP=new Set,np={};function su(e,t){pd(e,t),pd(e+"Capture",t)}function pd(e,t){for(np[e]=t,e=0;e<t.length;e++)jP.add(t[e])}var _s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sx=Object.prototype.hasOwnProperty,XB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qj={},Kj={};function JB(e){return sx.call(Kj,e)?!0:sx.call(qj,e)?!1:XB.test(e)?Kj[e]=!0:(qj[e]=!0,!1)}function ZB(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function QB(e,t,n,r){if(t===null||typeof t>"u"||ZB(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qa(e,t,n,r,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ma={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ma[e]=new Qa(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ma[t]=new Qa(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ma[e]=new Qa(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ma[e]=new Qa(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ma[e]=new Qa(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ma[e]=new Qa(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ma[e]=new Qa(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ma[e]=new Qa(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ma[e]=new Qa(e,5,!1,e.toLowerCase(),null,!1,!1)});var I1=/[\-:]([a-z])/g;function _1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I1,_1);Ma[t]=new Qa(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I1,_1);Ma[t]=new Qa(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I1,_1);Ma[t]=new Qa(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ma[e]=new Qa(e,1,!1,e.toLowerCase(),null,!1,!1)});Ma.xlinkHref=new Qa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ma[e]=new Qa(e,1,!1,e.toLowerCase(),null,!0,!0)});function L1(e,t,n,r){var a=Ma.hasOwnProperty(t)?Ma[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(QB(t,n,a,r)&&(n=null),r||a===null?JB(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ys=YB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Km=Symbol.for("react.element"),Ru=Symbol.for("react.portal"),$u=Symbol.for("react.fragment"),F1=Symbol.for("react.strict_mode"),lx=Symbol.for("react.profiler"),CP=Symbol.for("react.provider"),MP=Symbol.for("react.context"),R1=Symbol.for("react.forward_ref"),cx=Symbol.for("react.suspense"),ux=Symbol.for("react.suspense_list"),$1=Symbol.for("react.memo"),bl=Symbol.for("react.lazy"),AP=Symbol.for("react.offscreen"),Gj=Symbol.iterator;function of(e){return e===null||typeof e!="object"?null:(e=Gj&&e[Gj]||e["@@iterator"],typeof e=="function"?e:null)}var Sr=Object.assign,Iv;function Mf(e){if(Iv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Iv=t&&t[1]||""}return`
`+Iv+e}var _v=!1;function Lv(e,t){if(!e||_v)return"";_v=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=r.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{_v=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mf(e):""}function ez(e){switch(e.tag){case 5:return Mf(e.type);case 16:return Mf("Lazy");case 13:return Mf("Suspense");case 19:return Mf("SuspenseList");case 0:case 2:case 15:return e=Lv(e.type,!1),e;case 11:return e=Lv(e.type.render,!1),e;case 1:return e=Lv(e.type,!0),e;default:return""}}function dx(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $u:return"Fragment";case Ru:return"Portal";case lx:return"Profiler";case F1:return"StrictMode";case cx:return"Suspense";case ux:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case MP:return(e.displayName||"Context")+".Consumer";case CP:return(e._context.displayName||"Context")+".Provider";case R1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $1:return t=e.displayName||null,t!==null?t:dx(e.type)||"Memo";case bl:t=e._payload,e=e._init;try{return dx(e(t))}catch{}}return null}function tz(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dx(t);case 8:return t===F1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ul(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function EP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function nz(e){var t=EP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Gm(e){e._valueTracker||(e._valueTracker=nz(e))}function DP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=EP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function lg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fx(e,t){var n=t.checked;return Sr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yj(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ul(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function PP(e,t){t=t.checked,t!=null&&L1(e,"checked",t,!1)}function px(e,t){PP(e,t);var n=Ul(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?mx(e,t.type,n):t.hasOwnProperty("defaultValue")&&mx(e,t.type,Ul(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xj(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function mx(e,t,n){(t!=="number"||lg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Af=Array.isArray;function nd(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ul(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function hx(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(dt(91));return Sr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jj(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(dt(92));if(Af(n)){if(1<n.length)throw Error(dt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ul(n)}}function TP(e,t){var n=Ul(t.value),r=Ul(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Zj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function OP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gx(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?OP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ym,IP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ym=Ym||document.createElement("div"),Ym.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ym.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function rp(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rz=["Webkit","ms","Moz","O"];Object.keys(Lf).forEach(function(e){rz.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Lf[t]=Lf[e]})});function _P(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Lf.hasOwnProperty(e)&&Lf[e]?(""+t).trim():t+"px"}function LP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=_P(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var az=Sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yx(e,t){if(t){if(az[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(dt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(dt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(dt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(dt(62))}}function vx(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bx=null;function B1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xx=null,rd=null,ad=null;function Qj(e){if(e=qp(e)){if(typeof xx!="function")throw Error(dt(280));var t=e.stateNode;t&&(t=Y0(t),xx(e.stateNode,e.type,t))}}function FP(e){rd?ad?ad.push(e):ad=[e]:rd=e}function RP(){if(rd){var e=rd,t=ad;if(ad=rd=null,Qj(e),t)for(e=0;e<t.length;e++)Qj(t[e])}}function $P(e,t){return e(t)}function BP(){}var Fv=!1;function zP(e,t,n){if(Fv)return e(t,n);Fv=!0;try{return $P(e,t,n)}finally{Fv=!1,(rd!==null||ad!==null)&&(BP(),RP())}}function ap(e,t){var n=e.stateNode;if(n===null)return null;var r=Y0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(dt(231,t,typeof n));return n}var wx=!1;if(_s)try{var sf={};Object.defineProperty(sf,"passive",{get:function(){wx=!0}}),window.addEventListener("test",sf,sf),window.removeEventListener("test",sf,sf)}catch{wx=!1}function iz(e,t,n,r,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Ff=!1,cg=null,ug=!1,kx=null,oz={onError:function(e){Ff=!0,cg=e}};function sz(e,t,n,r,a,i,o,s,l){Ff=!1,cg=null,iz.apply(oz,arguments)}function lz(e,t,n,r,a,i,o,s,l){if(sz.apply(this,arguments),Ff){if(Ff){var u=cg;Ff=!1,cg=null}else throw Error(dt(198));ug||(ug=!0,kx=u)}}function lu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function UP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function e2(e){if(lu(e)!==e)throw Error(dt(188))}function cz(e){var t=e.alternate;if(!t){if(t=lu(e),t===null)throw Error(dt(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return e2(a),e;if(i===r)return e2(a),t;i=i.sibling}throw Error(dt(188))}if(n.return!==r.return)n=a,r=i;else{for(var o=!1,s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o)throw Error(dt(189))}}if(n.alternate!==r)throw Error(dt(190))}if(n.tag!==3)throw Error(dt(188));return n.stateNode.current===n?e:t}function VP(e){return e=cz(e),e!==null?WP(e):null}function WP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=WP(e);if(t!==null)return t;e=e.sibling}return null}var HP=Ti.unstable_scheduleCallback,t2=Ti.unstable_cancelCallback,uz=Ti.unstable_shouldYield,dz=Ti.unstable_requestPaint,_r=Ti.unstable_now,fz=Ti.unstable_getCurrentPriorityLevel,z1=Ti.unstable_ImmediatePriority,qP=Ti.unstable_UserBlockingPriority,dg=Ti.unstable_NormalPriority,pz=Ti.unstable_LowPriority,KP=Ti.unstable_IdlePriority,H0=null,Jo=null;function mz(e){if(Jo&&typeof Jo.onCommitFiberRoot=="function")try{Jo.onCommitFiberRoot(H0,e,void 0,(e.current.flags&128)===128)}catch{}}var wo=Math.clz32?Math.clz32:yz,hz=Math.log,gz=Math.LN2;function yz(e){return e>>>=0,e===0?32:31-(hz(e)/gz|0)|0}var Xm=64,Jm=4194304;function Ef(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var s=o&~a;s!==0?r=Ef(s):(i&=o,i!==0&&(r=Ef(i)))}else o=n&~a,o!==0?r=Ef(o):i!==0&&(r=Ef(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wo(t),a=1<<n,r|=e[n],t&=~a;return r}function vz(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bz(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-wo(i),s=1<<o,l=a[o];l===-1?(!(s&n)||s&r)&&(a[o]=vz(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function Sx(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function GP(){var e=Xm;return Xm<<=1,!(Xm&4194240)&&(Xm=64),e}function Rv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wo(t),e[t]=n}function xz(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-wo(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function U1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wo(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Bn=0;function YP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var XP,V1,JP,ZP,QP,Nx=!1,Zm=[],Pl=null,Tl=null,Ol=null,ip=new Map,op=new Map,Nl=[],wz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function n2(e,t){switch(e){case"focusin":case"focusout":Pl=null;break;case"dragenter":case"dragleave":Tl=null;break;case"mouseover":case"mouseout":Ol=null;break;case"pointerover":case"pointerout":ip.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":op.delete(t.pointerId)}}function lf(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=qp(t),t!==null&&V1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function kz(e,t,n,r,a){switch(t){case"focusin":return Pl=lf(Pl,e,t,n,r,a),!0;case"dragenter":return Tl=lf(Tl,e,t,n,r,a),!0;case"mouseover":return Ol=lf(Ol,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ip.set(i,lf(ip.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,op.set(i,lf(op.get(i)||null,e,t,n,r,a)),!0}return!1}function eT(e){var t=Ec(e.target);if(t!==null){var n=lu(t);if(n!==null){if(t=n.tag,t===13){if(t=UP(n),t!==null){e.blockedOn=t,QP(e.priority,function(){JP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function $h(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jx(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bx=r,n.target.dispatchEvent(r),bx=null}else return t=qp(n),t!==null&&V1(t),e.blockedOn=n,!1;t.shift()}return!0}function r2(e,t,n){$h(e)&&n.delete(t)}function Sz(){Nx=!1,Pl!==null&&$h(Pl)&&(Pl=null),Tl!==null&&$h(Tl)&&(Tl=null),Ol!==null&&$h(Ol)&&(Ol=null),ip.forEach(r2),op.forEach(r2)}function cf(e,t){e.blockedOn===t&&(e.blockedOn=null,Nx||(Nx=!0,Ti.unstable_scheduleCallback(Ti.unstable_NormalPriority,Sz)))}function sp(e){function t(a){return cf(a,e)}if(0<Zm.length){cf(Zm[0],e);for(var n=1;n<Zm.length;n++){var r=Zm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pl!==null&&cf(Pl,e),Tl!==null&&cf(Tl,e),Ol!==null&&cf(Ol,e),ip.forEach(t),op.forEach(t),n=0;n<Nl.length;n++)r=Nl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Nl.length&&(n=Nl[0],n.blockedOn===null);)eT(n),n.blockedOn===null&&Nl.shift()}var id=Ys.ReactCurrentBatchConfig,pg=!0;function Nz(e,t,n,r){var a=Bn,i=id.transition;id.transition=null;try{Bn=1,W1(e,t,n,r)}finally{Bn=a,id.transition=i}}function jz(e,t,n,r){var a=Bn,i=id.transition;id.transition=null;try{Bn=4,W1(e,t,n,r)}finally{Bn=a,id.transition=i}}function W1(e,t,n,r){if(pg){var a=jx(e,t,n,r);if(a===null)Gv(e,t,r,mg,n),n2(e,r);else if(kz(a,e,t,n,r))r.stopPropagation();else if(n2(e,r),t&4&&-1<wz.indexOf(e)){for(;a!==null;){var i=qp(a);if(i!==null&&XP(i),i=jx(e,t,n,r),i===null&&Gv(e,t,r,mg,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Gv(e,t,r,null,n)}}var mg=null;function jx(e,t,n,r){if(mg=null,e=B1(r),e=Ec(e),e!==null)if(t=lu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=UP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mg=e,null}function tT(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fz()){case z1:return 1;case qP:return 4;case dg:case pz:return 16;case KP:return 536870912;default:return 16}default:return 16}}var Ml=null,H1=null,Bh=null;function nT(){if(Bh)return Bh;var e,t=H1,n=t.length,r,a="value"in Ml?Ml.value:Ml.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===a[i-r];r++);return Bh=a.slice(e,1<r?1-r:void 0)}function zh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Qm(){return!0}function a2(){return!1}function Li(e){function t(n,r,a,i,o){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(n=e[s],this[s]=n?n(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Qm:a2,this.isPropagationStopped=a2,this}return Sr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Qm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Qm)},persist:function(){},isPersistent:Qm}),t}var Ld={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q1=Li(Ld),Hp=Sr({},Ld,{view:0,detail:0}),Cz=Li(Hp),$v,Bv,uf,q0=Sr({},Hp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:K1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==uf&&(uf&&e.type==="mousemove"?($v=e.screenX-uf.screenX,Bv=e.screenY-uf.screenY):Bv=$v=0,uf=e),$v)},movementY:function(e){return"movementY"in e?e.movementY:Bv}}),i2=Li(q0),Mz=Sr({},q0,{dataTransfer:0}),Az=Li(Mz),Ez=Sr({},Hp,{relatedTarget:0}),zv=Li(Ez),Dz=Sr({},Ld,{animationName:0,elapsedTime:0,pseudoElement:0}),Pz=Li(Dz),Tz=Sr({},Ld,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Oz=Li(Tz),Iz=Sr({},Ld,{data:0}),o2=Li(Iz),_z={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rz(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fz[e])?!!t[e]:!1}function K1(){return Rz}var $z=Sr({},Hp,{key:function(e){if(e.key){var t=_z[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=zh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Lz[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:K1,charCode:function(e){return e.type==="keypress"?zh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?zh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Bz=Li($z),zz=Sr({},q0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s2=Li(zz),Uz=Sr({},Hp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:K1}),Vz=Li(Uz),Wz=Sr({},Ld,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hz=Li(Wz),qz=Sr({},q0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Kz=Li(qz),Gz=[9,13,27,32],G1=_s&&"CompositionEvent"in window,Rf=null;_s&&"documentMode"in document&&(Rf=document.documentMode);var Yz=_s&&"TextEvent"in window&&!Rf,rT=_s&&(!G1||Rf&&8<Rf&&11>=Rf),l2=" ",c2=!1;function aT(e,t){switch(e){case"keyup":return Gz.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iT(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bu=!1;function Xz(e,t){switch(e){case"compositionend":return iT(t);case"keypress":return t.which!==32?null:(c2=!0,l2);case"textInput":return e=t.data,e===l2&&c2?null:e;default:return null}}function Jz(e,t){if(Bu)return e==="compositionend"||!G1&&aT(e,t)?(e=nT(),Bh=H1=Ml=null,Bu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rT&&t.locale!=="ko"?null:t.data;default:return null}}var Zz={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zz[e.type]:t==="textarea"}function oT(e,t,n,r){FP(r),t=hg(t,"onChange"),0<t.length&&(n=new q1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $f=null,lp=null;function Qz(e){yT(e,0)}function K0(e){var t=Vu(e);if(DP(t))return e}function eU(e,t){if(e==="change")return t}var sT=!1;if(_s){var Uv;if(_s){var Vv="oninput"in document;if(!Vv){var d2=document.createElement("div");d2.setAttribute("oninput","return;"),Vv=typeof d2.oninput=="function"}Uv=Vv}else Uv=!1;sT=Uv&&(!document.documentMode||9<document.documentMode)}function f2(){$f&&($f.detachEvent("onpropertychange",lT),lp=$f=null)}function lT(e){if(e.propertyName==="value"&&K0(lp)){var t=[];oT(t,lp,e,B1(e)),zP(Qz,t)}}function tU(e,t,n){e==="focusin"?(f2(),$f=t,lp=n,$f.attachEvent("onpropertychange",lT)):e==="focusout"&&f2()}function nU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return K0(lp)}function rU(e,t){if(e==="click")return K0(t)}function aU(e,t){if(e==="input"||e==="change")return K0(t)}function iU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jo=typeof Object.is=="function"?Object.is:iU;function cp(e,t){if(jo(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!sx.call(t,a)||!jo(e[a],t[a]))return!1}return!0}function p2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function m2(e,t){var n=p2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=p2(n)}}function cT(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cT(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function uT(){for(var e=window,t=lg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=lg(e.document)}return t}function Y1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function oU(e){var t=uT(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cT(n.ownerDocument.documentElement,n)){if(r!==null&&Y1(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=m2(n,i);var o=m2(n,r);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sU=_s&&"documentMode"in document&&11>=document.documentMode,zu=null,Cx=null,Bf=null,Mx=!1;function h2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Mx||zu==null||zu!==lg(r)||(r=zu,"selectionStart"in r&&Y1(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bf&&cp(Bf,r)||(Bf=r,r=hg(Cx,"onSelect"),0<r.length&&(t=new q1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=zu)))}function eh(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Uu={animationend:eh("Animation","AnimationEnd"),animationiteration:eh("Animation","AnimationIteration"),animationstart:eh("Animation","AnimationStart"),transitionend:eh("Transition","TransitionEnd")},Wv={},dT={};_s&&(dT=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function G0(e){if(Wv[e])return Wv[e];if(!Uu[e])return e;var t=Uu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in dT)return Wv[e]=t[n];return e}var fT=G0("animationend"),pT=G0("animationiteration"),mT=G0("animationstart"),hT=G0("transitionend"),gT=new Map,g2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yl(e,t){gT.set(e,t),su(t,[e])}for(var Hv=0;Hv<g2.length;Hv++){var qv=g2[Hv],lU=qv.toLowerCase(),cU=qv[0].toUpperCase()+qv.slice(1);Yl(lU,"on"+cU)}Yl(fT,"onAnimationEnd");Yl(pT,"onAnimationIteration");Yl(mT,"onAnimationStart");Yl("dblclick","onDoubleClick");Yl("focusin","onFocus");Yl("focusout","onBlur");Yl(hT,"onTransitionEnd");pd("onMouseEnter",["mouseout","mouseover"]);pd("onMouseLeave",["mouseout","mouseover"]);pd("onPointerEnter",["pointerout","pointerover"]);pd("onPointerLeave",["pointerout","pointerover"]);su("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));su("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));su("onBeforeInput",["compositionend","keypress","textInput","paste"]);su("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));su("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));su("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Df="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Df));function y2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,lz(r,t,void 0,e),e.currentTarget=null}function yT(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;y2(a,s,u),i=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;y2(a,s,u),i=l}}}if(ug)throw e=kx,ug=!1,kx=null,e}function ir(e,t){var n=t[Tx];n===void 0&&(n=t[Tx]=new Set);var r=e+"__bubble";n.has(r)||(vT(t,e,2,!1),n.add(r))}function Kv(e,t,n){var r=0;t&&(r|=4),vT(n,e,r,t)}var th="_reactListening"+Math.random().toString(36).slice(2);function up(e){if(!e[th]){e[th]=!0,jP.forEach(function(n){n!=="selectionchange"&&(uU.has(n)||Kv(n,!1,e),Kv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[th]||(t[th]=!0,Kv("selectionchange",!1,t))}}function vT(e,t,n,r){switch(tT(t)){case 1:var a=Nz;break;case 4:a=jz;break;default:a=W1}n=a.bind(null,t,n,e),a=void 0,!wx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Gv(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=Ec(s),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}s=s.parentNode}}r=r.return}zP(function(){var u=i,d=B1(n),f=[];e:{var p=gT.get(e);if(p!==void 0){var m=q1,h=e;switch(e){case"keypress":if(zh(n)===0)break e;case"keydown":case"keyup":m=Bz;break;case"focusin":h="focus",m=zv;break;case"focusout":h="blur",m=zv;break;case"beforeblur":case"afterblur":m=zv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=i2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Az;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Vz;break;case fT:case pT:case mT:m=Pz;break;case hT:m=Hz;break;case"scroll":m=Cz;break;case"wheel":m=Kz;break;case"copy":case"cut":case"paste":m=Oz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=s2}var v=(t&4)!==0,x=!v&&e==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var b=u,w;b!==null;){w=b;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=ap(b,y),S!=null&&v.push(dp(b,S,w)))),x)break;b=b.return}0<v.length&&(p=new m(p,h,null,n,d),f.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==bx&&(h=n.relatedTarget||n.fromElement)&&(Ec(h)||h[Ls]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(h=n.relatedTarget||n.toElement,m=u,h=h?Ec(h):null,h!==null&&(x=lu(h),h!==x||h.tag!==5&&h.tag!==6)&&(h=null)):(m=null,h=u),m!==h)){if(v=i2,S="onMouseLeave",y="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=s2,S="onPointerLeave",y="onPointerEnter",b="pointer"),x=m==null?p:Vu(m),w=h==null?p:Vu(h),p=new v(S,b+"leave",m,n,d),p.target=x,p.relatedTarget=w,S=null,Ec(d)===u&&(v=new v(y,b+"enter",h,n,d),v.target=w,v.relatedTarget=x,S=v),x=S,m&&h)t:{for(v=m,y=h,b=0,w=v;w;w=Au(w))b++;for(w=0,S=y;S;S=Au(S))w++;for(;0<b-w;)v=Au(v),b--;for(;0<w-b;)y=Au(y),w--;for(;b--;){if(v===y||y!==null&&v===y.alternate)break t;v=Au(v),y=Au(y)}v=null}else v=null;m!==null&&v2(f,p,m,v,!1),h!==null&&x!==null&&v2(f,x,h,v,!0)}}e:{if(p=u?Vu(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var j=eU;else if(u2(p))if(sT)j=aU;else{j=nU;var N=tU}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(j=rU);if(j&&(j=j(e,u))){oT(f,j,n,d);break e}N&&N(e,p,u),e==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&mx(p,"number",p.value)}switch(N=u?Vu(u):window,e){case"focusin":(u2(N)||N.contentEditable==="true")&&(zu=N,Cx=u,Bf=null);break;case"focusout":Bf=Cx=zu=null;break;case"mousedown":Mx=!0;break;case"contextmenu":case"mouseup":case"dragend":Mx=!1,h2(f,n,d);break;case"selectionchange":if(sU)break;case"keydown":case"keyup":h2(f,n,d)}var A;if(G1)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Bu?aT(e,n)&&(P="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(rT&&n.locale!=="ko"&&(Bu||P!=="onCompositionStart"?P==="onCompositionEnd"&&Bu&&(A=nT()):(Ml=d,H1="value"in Ml?Ml.value:Ml.textContent,Bu=!0)),N=hg(u,P),0<N.length&&(P=new o2(P,e,null,n,d),f.push({event:P,listeners:N}),A?P.data=A:(A=iT(n),A!==null&&(P.data=A)))),(A=Yz?Xz(e,n):Jz(e,n))&&(u=hg(u,"onBeforeInput"),0<u.length&&(d=new o2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}yT(f,t)})}function dp(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hg(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ap(e,n),i!=null&&r.unshift(dp(e,i,a)),i=ap(e,t),i!=null&&r.push(dp(e,i,a))),e=e.return}return r}function Au(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function v2(e,t,n,r,a){for(var i=t._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,a?(l=ap(n,i),l!=null&&o.unshift(dp(n,l,s))):a||(l=ap(n,i),l!=null&&o.push(dp(n,l,s)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var dU=/\r\n?/g,fU=/\u0000|\uFFFD/g;function b2(e){return(typeof e=="string"?e:""+e).replace(dU,`
`).replace(fU,"")}function nh(e,t,n){if(t=b2(t),b2(e)!==t&&n)throw Error(dt(425))}function gg(){}var Ax=null,Ex=null;function Dx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Px=typeof setTimeout=="function"?setTimeout:void 0,pU=typeof clearTimeout=="function"?clearTimeout:void 0,x2=typeof Promise=="function"?Promise:void 0,mU=typeof queueMicrotask=="function"?queueMicrotask:typeof x2<"u"?function(e){return x2.resolve(null).then(e).catch(hU)}:Px;function hU(e){setTimeout(function(){throw e})}function Yv(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),sp(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);sp(t)}function Il(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function w2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Fd=Math.random().toString(36).slice(2),Yo="__reactFiber$"+Fd,fp="__reactProps$"+Fd,Ls="__reactContainer$"+Fd,Tx="__reactEvents$"+Fd,gU="__reactListeners$"+Fd,yU="__reactHandles$"+Fd;function Ec(e){var t=e[Yo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ls]||n[Yo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=w2(e);e!==null;){if(n=e[Yo])return n;e=w2(e)}return t}e=n,n=e.parentNode}return null}function qp(e){return e=e[Yo]||e[Ls],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(dt(33))}function Y0(e){return e[fp]||null}var Ox=[],Wu=-1;function Xl(e){return{current:e}}function lr(e){0>Wu||(e.current=Ox[Wu],Ox[Wu]=null,Wu--)}function nr(e,t){Wu++,Ox[Wu]=e.current,e.current=t}var Vl={},Ba=Xl(Vl),ui=Xl(!1),qc=Vl;function md(e,t){var n=e.type.contextTypes;if(!n)return Vl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function di(e){return e=e.childContextTypes,e!=null}function yg(){lr(ui),lr(Ba)}function k2(e,t,n){if(Ba.current!==Vl)throw Error(dt(168));nr(Ba,t),nr(ui,n)}function bT(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(dt(108,tz(e)||"Unknown",a));return Sr({},n,r)}function vg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Vl,qc=Ba.current,nr(Ba,e),nr(ui,ui.current),!0}function S2(e,t,n){var r=e.stateNode;if(!r)throw Error(dt(169));n?(e=bT(e,t,qc),r.__reactInternalMemoizedMergedChildContext=e,lr(ui),lr(Ba),nr(Ba,e)):lr(ui),nr(ui,n)}var xs=null,X0=!1,Xv=!1;function xT(e){xs===null?xs=[e]:xs.push(e)}function vU(e){X0=!0,xT(e)}function Jl(){if(!Xv&&xs!==null){Xv=!0;var e=0,t=Bn;try{var n=xs;for(Bn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xs=null,X0=!1}catch(a){throw xs!==null&&(xs=xs.slice(e+1)),HP(z1,Jl),a}finally{Bn=t,Xv=!1}}return null}var Hu=[],qu=0,bg=null,xg=0,qi=[],Ki=0,Kc=null,Ns=1,js="";function wc(e,t){Hu[qu++]=xg,Hu[qu++]=bg,bg=e,xg=t}function wT(e,t,n){qi[Ki++]=Ns,qi[Ki++]=js,qi[Ki++]=Kc,Kc=e;var r=Ns;e=js;var a=32-wo(r)-1;r&=~(1<<a),n+=1;var i=32-wo(t)+a;if(30<i){var o=a-a%5;i=(r&(1<<o)-1).toString(32),r>>=o,a-=o,Ns=1<<32-wo(t)+a|n<<a|r,js=i+e}else Ns=1<<i|n<<a|r,js=e}function X1(e){e.return!==null&&(wc(e,1),wT(e,1,0))}function J1(e){for(;e===bg;)bg=Hu[--qu],Hu[qu]=null,xg=Hu[--qu],Hu[qu]=null;for(;e===Kc;)Kc=qi[--Ki],qi[Ki]=null,js=qi[--Ki],qi[Ki]=null,Ns=qi[--Ki],qi[Ki]=null}var Ei=null,Mi=null,pr=!1,yo=null;function kT(e,t){var n=Yi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function N2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ei=e,Mi=Il(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ei=e,Mi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Kc!==null?{id:Ns,overflow:js}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Yi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ei=e,Mi=null,!0):!1;default:return!1}}function Ix(e){return(e.mode&1)!==0&&(e.flags&128)===0}function _x(e){if(pr){var t=Mi;if(t){var n=t;if(!N2(e,t)){if(Ix(e))throw Error(dt(418));t=Il(n.nextSibling);var r=Ei;t&&N2(e,t)?kT(r,n):(e.flags=e.flags&-4097|2,pr=!1,Ei=e)}}else{if(Ix(e))throw Error(dt(418));e.flags=e.flags&-4097|2,pr=!1,Ei=e}}}function j2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ei=e}function rh(e){if(e!==Ei)return!1;if(!pr)return j2(e),pr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Dx(e.type,e.memoizedProps)),t&&(t=Mi)){if(Ix(e))throw ST(),Error(dt(418));for(;t;)kT(e,t),t=Il(t.nextSibling)}if(j2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(dt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Mi=Il(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Mi=null}}else Mi=Ei?Il(e.stateNode.nextSibling):null;return!0}function ST(){for(var e=Mi;e;)e=Il(e.nextSibling)}function hd(){Mi=Ei=null,pr=!1}function Z1(e){yo===null?yo=[e]:yo.push(e)}var bU=Ys.ReactCurrentBatchConfig;function df(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(dt(309));var r=n.stateNode}if(!r)throw Error(dt(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(dt(284));if(!n._owner)throw Error(dt(290,e))}return e}function ah(e,t){throw e=Object.prototype.toString.call(t),Error(dt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function C2(e){var t=e._init;return t(e._payload)}function NT(e){function t(y,b){if(e){var w=y.deletions;w===null?(y.deletions=[b],y.flags|=16):w.push(b)}}function n(y,b){if(!e)return null;for(;b!==null;)t(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function a(y,b){return y=Rl(y,b),y.index=0,y.sibling=null,y}function i(y,b,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<b?(y.flags|=2,b):w):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function s(y,b,w,S){return b===null||b.tag!==6?(b=rb(w,y.mode,S),b.return=y,b):(b=a(b,w),b.return=y,b)}function l(y,b,w,S){var j=w.type;return j===$u?d(y,b,w.props.children,S,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bl&&C2(j)===b.type)?(S=a(b,w.props),S.ref=df(y,b,w),S.return=y,S):(S=Gh(w.type,w.key,w.props,null,y.mode,S),S.ref=df(y,b,w),S.return=y,S)}function u(y,b,w,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=ab(w,y.mode,S),b.return=y,b):(b=a(b,w.children||[]),b.return=y,b)}function d(y,b,w,S,j){return b===null||b.tag!==7?(b=$c(w,y.mode,S,j),b.return=y,b):(b=a(b,w),b.return=y,b)}function f(y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=rb(""+b,y.mode,w),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Km:return w=Gh(b.type,b.key,b.props,null,y.mode,w),w.ref=df(y,null,b),w.return=y,w;case Ru:return b=ab(b,y.mode,w),b.return=y,b;case bl:var S=b._init;return f(y,S(b._payload),w)}if(Af(b)||of(b))return b=$c(b,y.mode,w,null),b.return=y,b;ah(y,b)}return null}function p(y,b,w,S){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:s(y,b,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Km:return w.key===j?l(y,b,w,S):null;case Ru:return w.key===j?u(y,b,w,S):null;case bl:return j=w._init,p(y,b,j(w._payload),S)}if(Af(w)||of(w))return j!==null?null:d(y,b,w,S,null);ah(y,w)}return null}function m(y,b,w,S,j){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,s(b,y,""+S,j);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Km:return y=y.get(S.key===null?w:S.key)||null,l(b,y,S,j);case Ru:return y=y.get(S.key===null?w:S.key)||null,u(b,y,S,j);case bl:var N=S._init;return m(y,b,w,N(S._payload),j)}if(Af(S)||of(S))return y=y.get(w)||null,d(b,y,S,j,null);ah(b,S)}return null}function h(y,b,w,S){for(var j=null,N=null,A=b,P=b=0,U=null;A!==null&&P<w.length;P++){A.index>P?(U=A,A=null):U=A.sibling;var D=p(y,A,w[P],S);if(D===null){A===null&&(A=U);break}e&&A&&D.alternate===null&&t(y,A),b=i(D,b,P),N===null?j=D:N.sibling=D,N=D,A=U}if(P===w.length)return n(y,A),pr&&wc(y,P),j;if(A===null){for(;P<w.length;P++)A=f(y,w[P],S),A!==null&&(b=i(A,b,P),N===null?j=A:N.sibling=A,N=A);return pr&&wc(y,P),j}for(A=r(y,A);P<w.length;P++)U=m(A,y,P,w[P],S),U!==null&&(e&&U.alternate!==null&&A.delete(U.key===null?P:U.key),b=i(U,b,P),N===null?j=U:N.sibling=U,N=U);return e&&A.forEach(function(I){return t(y,I)}),pr&&wc(y,P),j}function v(y,b,w,S){var j=of(w);if(typeof j!="function")throw Error(dt(150));if(w=j.call(w),w==null)throw Error(dt(151));for(var N=j=null,A=b,P=b=0,U=null,D=w.next();A!==null&&!D.done;P++,D=w.next()){A.index>P?(U=A,A=null):U=A.sibling;var I=p(y,A,D.value,S);if(I===null){A===null&&(A=U);break}e&&A&&I.alternate===null&&t(y,A),b=i(I,b,P),N===null?j=I:N.sibling=I,N=I,A=U}if(D.done)return n(y,A),pr&&wc(y,P),j;if(A===null){for(;!D.done;P++,D=w.next())D=f(y,D.value,S),D!==null&&(b=i(D,b,P),N===null?j=D:N.sibling=D,N=D);return pr&&wc(y,P),j}for(A=r(y,A);!D.done;P++,D=w.next())D=m(A,y,P,D.value,S),D!==null&&(e&&D.alternate!==null&&A.delete(D.key===null?P:D.key),b=i(D,b,P),N===null?j=D:N.sibling=D,N=D);return e&&A.forEach(function(O){return t(y,O)}),pr&&wc(y,P),j}function x(y,b,w,S){if(typeof w=="object"&&w!==null&&w.type===$u&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Km:e:{for(var j=w.key,N=b;N!==null;){if(N.key===j){if(j=w.type,j===$u){if(N.tag===7){n(y,N.sibling),b=a(N,w.props.children),b.return=y,y=b;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===bl&&C2(j)===N.type){n(y,N.sibling),b=a(N,w.props),b.ref=df(y,N,w),b.return=y,y=b;break e}n(y,N);break}else t(y,N);N=N.sibling}w.type===$u?(b=$c(w.props.children,y.mode,S,w.key),b.return=y,y=b):(S=Gh(w.type,w.key,w.props,null,y.mode,S),S.ref=df(y,b,w),S.return=y,y=S)}return o(y);case Ru:e:{for(N=w.key;b!==null;){if(b.key===N)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(y,b.sibling),b=a(b,w.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else t(y,b);b=b.sibling}b=ab(w,y.mode,S),b.return=y,y=b}return o(y);case bl:return N=w._init,x(y,b,N(w._payload),S)}if(Af(w))return h(y,b,w,S);if(of(w))return v(y,b,w,S);ah(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(y,b.sibling),b=a(b,w),b.return=y,y=b):(n(y,b),b=rb(w,y.mode,S),b.return=y,y=b),o(y)):n(y,b)}return x}var gd=NT(!0),jT=NT(!1),wg=Xl(null),kg=null,Ku=null,Q1=null;function ek(){Q1=Ku=kg=null}function tk(e){var t=wg.current;lr(wg),e._currentValue=t}function Lx(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function od(e,t){kg=e,Q1=Ku=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(li=!0),e.firstContext=null)}function Qi(e){var t=e._currentValue;if(Q1!==e)if(e={context:e,memoizedValue:t,next:null},Ku===null){if(kg===null)throw Error(dt(308));Ku=e,kg.dependencies={lanes:0,firstContext:e}}else Ku=Ku.next=e;return t}var Dc=null;function nk(e){Dc===null?Dc=[e]:Dc.push(e)}function CT(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,nk(t)):(n.next=a.next,a.next=n),t.interleaved=n,Fs(e,r)}function Fs(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var xl=!1;function rk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MT(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Es(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _l(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,An&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Fs(e,n)}return a=r.interleaved,a===null?(t.next=t,nk(r)):(t.next=a.next,a.next=t),r.interleaved=t,Fs(e,n)}function Uh(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,U1(e,n)}}function M2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Sg(e,t,n,r){var a=e.updateQueue;xl=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=l))}if(i!==null){var f=a.baseState;o=0,d=u=l=null,s=i;do{var p=s.lane,m=s.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var h=e,v=s;switch(p=t,m=n,v.tag){case 1:if(h=v.payload,typeof h=="function"){f=h.call(m,f,p);break e}f=h;break e;case 3:h.flags=h.flags&-65537|128;case 0:if(h=v.payload,p=typeof h=="function"?h.call(m,f,p):h,p==null)break e;f=Sr({},f,p);break e;case 2:xl=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else m={eventTime:m,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(d===null&&(l=f),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=d,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Yc|=o,e.lanes=o,e.memoizedState=f}}function A2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(dt(191,a));a.call(r)}}}var Kp={},Zo=Xl(Kp),pp=Xl(Kp),mp=Xl(Kp);function Pc(e){if(e===Kp)throw Error(dt(174));return e}function ak(e,t){switch(nr(mp,t),nr(pp,e),nr(Zo,Kp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:gx(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=gx(t,e)}lr(Zo),nr(Zo,t)}function yd(){lr(Zo),lr(pp),lr(mp)}function AT(e){Pc(mp.current);var t=Pc(Zo.current),n=gx(t,e.type);t!==n&&(nr(pp,e),nr(Zo,n))}function ik(e){pp.current===e&&(lr(Zo),lr(pp))}var vr=Xl(0);function Ng(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jv=[];function ok(){for(var e=0;e<Jv.length;e++)Jv[e]._workInProgressVersionPrimary=null;Jv.length=0}var Vh=Ys.ReactCurrentDispatcher,Zv=Ys.ReactCurrentBatchConfig,Gc=0,kr=null,Jr=null,da=null,jg=!1,zf=!1,hp=0,xU=0;function Pa(){throw Error(dt(321))}function sk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jo(e[n],t[n]))return!1;return!0}function lk(e,t,n,r,a,i){if(Gc=i,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vh.current=e===null||e.memoizedState===null?NU:jU,e=n(r,a),zf){i=0;do{if(zf=!1,hp=0,25<=i)throw Error(dt(301));i+=1,da=Jr=null,t.updateQueue=null,Vh.current=CU,e=n(r,a)}while(zf)}if(Vh.current=Cg,t=Jr!==null&&Jr.next!==null,Gc=0,da=Jr=kr=null,jg=!1,t)throw Error(dt(300));return e}function ck(){var e=hp!==0;return hp=0,e}function qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return da===null?kr.memoizedState=da=e:da=da.next=e,da}function eo(){if(Jr===null){var e=kr.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var t=da===null?kr.memoizedState:da.next;if(t!==null)da=t,Jr=e;else{if(e===null)throw Error(dt(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},da===null?kr.memoizedState=da=e:da=da.next=e}return da}function gp(e,t){return typeof t=="function"?t(e):t}function Qv(e){var t=eo(),n=t.queue;if(n===null)throw Error(dt(311));n.lastRenderedReducer=e;var r=Jr,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var s=o=null,l=null,u=i;do{var d=u.lane;if((Gc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,kr.lanes|=d,Yc|=d}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=s,jo(r,t.memoizedState)||(li=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,kr.lanes|=i,Yc|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function eb(e){var t=eo(),n=t.queue;if(n===null)throw Error(dt(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);jo(i,t.memoizedState)||(li=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ET(){}function DT(e,t){var n=kr,r=eo(),a=t(),i=!jo(r.memoizedState,a);if(i&&(r.memoizedState=a,li=!0),r=r.queue,uk(OT.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||da!==null&&da.memoizedState.tag&1){if(n.flags|=2048,yp(9,TT.bind(null,n,r,a,t),void 0,null),pa===null)throw Error(dt(349));Gc&30||PT(n,t,a)}return a}function PT(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function TT(e,t,n,r){t.value=n,t.getSnapshot=r,IT(t)&&_T(e)}function OT(e,t,n){return n(function(){IT(t)&&_T(e)})}function IT(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jo(e,n)}catch{return!0}}function _T(e){var t=Fs(e,1);t!==null&&ko(t,e,1,-1)}function E2(e){var t=qo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:e},t.queue=e,e=e.dispatch=SU.bind(null,kr,e),[t.memoizedState,e]}function yp(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function LT(){return eo().memoizedState}function Wh(e,t,n,r){var a=qo();kr.flags|=e,a.memoizedState=yp(1|t,n,void 0,r===void 0?null:r)}function J0(e,t,n,r){var a=eo();r=r===void 0?null:r;var i=void 0;if(Jr!==null){var o=Jr.memoizedState;if(i=o.destroy,r!==null&&sk(r,o.deps)){a.memoizedState=yp(t,n,i,r);return}}kr.flags|=e,a.memoizedState=yp(1|t,n,i,r)}function D2(e,t){return Wh(8390656,8,e,t)}function uk(e,t){return J0(2048,8,e,t)}function FT(e,t){return J0(4,2,e,t)}function RT(e,t){return J0(4,4,e,t)}function $T(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function BT(e,t,n){return n=n!=null?n.concat([e]):null,J0(4,4,$T.bind(null,t,e),n)}function dk(){}function zT(e,t){var n=eo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function UT(e,t){var n=eo();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&sk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function VT(e,t,n){return Gc&21?(jo(n,t)||(n=GP(),kr.lanes|=n,Yc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,li=!0),e.memoizedState=n)}function wU(e,t){var n=Bn;Bn=n!==0&&4>n?n:4,e(!0);var r=Zv.transition;Zv.transition={};try{e(!1),t()}finally{Bn=n,Zv.transition=r}}function WT(){return eo().memoizedState}function kU(e,t,n){var r=Fl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},HT(e))qT(t,n);else if(n=CT(e,t,n,r),n!==null){var a=Ya();ko(n,e,r,a),KT(n,t,r)}}function SU(e,t,n){var r=Fl(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(HT(e))qT(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,n);if(a.hasEagerState=!0,a.eagerState=s,jo(s,o)){var l=t.interleaved;l===null?(a.next=a,nk(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}n=CT(e,t,a,r),n!==null&&(a=Ya(),ko(n,e,r,a),KT(n,t,r))}}function HT(e){var t=e.alternate;return e===kr||t!==null&&t===kr}function qT(e,t){zf=jg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function KT(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,U1(e,n)}}var Cg={readContext:Qi,useCallback:Pa,useContext:Pa,useEffect:Pa,useImperativeHandle:Pa,useInsertionEffect:Pa,useLayoutEffect:Pa,useMemo:Pa,useReducer:Pa,useRef:Pa,useState:Pa,useDebugValue:Pa,useDeferredValue:Pa,useTransition:Pa,useMutableSource:Pa,useSyncExternalStore:Pa,useId:Pa,unstable_isNewReconciler:!1},NU={readContext:Qi,useCallback:function(e,t){return qo().memoizedState=[e,t===void 0?null:t],e},useContext:Qi,useEffect:D2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Wh(4194308,4,$T.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Wh(4194308,4,e,t)},useInsertionEffect:function(e,t){return Wh(4,2,e,t)},useMemo:function(e,t){var n=qo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=kU.bind(null,kr,e),[r.memoizedState,e]},useRef:function(e){var t=qo();return e={current:e},t.memoizedState=e},useState:E2,useDebugValue:dk,useDeferredValue:function(e){return qo().memoizedState=e},useTransition:function(){var e=E2(!1),t=e[0];return e=wU.bind(null,e[1]),qo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kr,a=qo();if(pr){if(n===void 0)throw Error(dt(407));n=n()}else{if(n=t(),pa===null)throw Error(dt(349));Gc&30||PT(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,D2(OT.bind(null,r,i,e),[e]),r.flags|=2048,yp(9,TT.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=qo(),t=pa.identifierPrefix;if(pr){var n=js,r=Ns;n=(r&~(1<<32-wo(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=hp++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=xU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},jU={readContext:Qi,useCallback:zT,useContext:Qi,useEffect:uk,useImperativeHandle:BT,useInsertionEffect:FT,useLayoutEffect:RT,useMemo:UT,useReducer:Qv,useRef:LT,useState:function(){return Qv(gp)},useDebugValue:dk,useDeferredValue:function(e){var t=eo();return VT(t,Jr.memoizedState,e)},useTransition:function(){var e=Qv(gp)[0],t=eo().memoizedState;return[e,t]},useMutableSource:ET,useSyncExternalStore:DT,useId:WT,unstable_isNewReconciler:!1},CU={readContext:Qi,useCallback:zT,useContext:Qi,useEffect:uk,useImperativeHandle:BT,useInsertionEffect:FT,useLayoutEffect:RT,useMemo:UT,useReducer:eb,useRef:LT,useState:function(){return eb(gp)},useDebugValue:dk,useDeferredValue:function(e){var t=eo();return Jr===null?t.memoizedState=e:VT(t,Jr.memoizedState,e)},useTransition:function(){var e=eb(gp)[0],t=eo().memoizedState;return[e,t]},useMutableSource:ET,useSyncExternalStore:DT,useId:WT,unstable_isNewReconciler:!1};function ho(e,t){if(e&&e.defaultProps){t=Sr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fx(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Sr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Z0={isMounted:function(e){return(e=e._reactInternals)?lu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ya(),a=Fl(e),i=Es(r,a);i.payload=t,n!=null&&(i.callback=n),t=_l(e,i,a),t!==null&&(ko(t,e,a,r),Uh(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ya(),a=Fl(e),i=Es(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=_l(e,i,a),t!==null&&(ko(t,e,a,r),Uh(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ya(),r=Fl(e),a=Es(n,r);a.tag=2,t!=null&&(a.callback=t),t=_l(e,a,r),t!==null&&(ko(t,e,r,n),Uh(t,e,r))}};function P2(e,t,n,r,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!cp(n,r)||!cp(a,i):!0}function GT(e,t,n){var r=!1,a=Vl,i=t.contextType;return typeof i=="object"&&i!==null?i=Qi(i):(a=di(t)?qc:Ba.current,r=t.contextTypes,i=(r=r!=null)?md(e,a):Vl),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Z0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function T2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Z0.enqueueReplaceState(t,t.state,null)}function Rx(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},rk(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=Qi(i):(i=di(t)?qc:Ba.current,a.context=md(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Fx(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Z0.enqueueReplaceState(a,a.state,null),Sg(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function vd(e,t){try{var n="",r=t;do n+=ez(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function tb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $x(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MU=typeof WeakMap=="function"?WeakMap:Map;function YT(e,t,n){n=Es(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ag||(Ag=!0,Gx=r),$x(e,t)},n}function XT(e,t,n){n=Es(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){$x(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){$x(e,t),typeof r!="function"&&(Ll===null?Ll=new Set([this]):Ll.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function O2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new MU;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=zU.bind(null,e,t,n),t.then(e,e))}function I2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _2(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Es(-1,1),t.tag=2,_l(n,t,1))),n.lanes|=1),e)}var AU=Ys.ReactCurrentOwner,li=!1;function qa(e,t,n,r){t.child=e===null?jT(t,null,n,r):gd(t,e.child,n,r)}function L2(e,t,n,r,a){n=n.render;var i=t.ref;return od(t,a),r=lk(e,t,n,r,i,a),n=ck(),e!==null&&!li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rs(e,t,a)):(pr&&n&&X1(t),t.flags|=1,qa(e,t,r,a),t.child)}function F2(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!bk(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,JT(e,t,i,r,a)):(e=Gh(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:cp,n(o,r)&&e.ref===t.ref)return Rs(e,t,a)}return t.flags|=1,e=Rl(i,r),e.ref=t.ref,e.return=t,t.child=e}function JT(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(cp(i,r)&&e.ref===t.ref)if(li=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(li=!0);else return t.lanes=e.lanes,Rs(e,t,a)}return Bx(e,t,n,r,a)}function ZT(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},nr(Yu,Ni),Ni|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,nr(Yu,Ni),Ni|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,nr(Yu,Ni),Ni|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,nr(Yu,Ni),Ni|=r;return qa(e,t,a,n),t.child}function QT(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bx(e,t,n,r,a){var i=di(n)?qc:Ba.current;return i=md(t,i),od(t,a),n=lk(e,t,n,r,i,a),r=ck(),e!==null&&!li?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Rs(e,t,a)):(pr&&r&&X1(t),t.flags|=1,qa(e,t,n,a),t.child)}function R2(e,t,n,r,a){if(di(n)){var i=!0;vg(t)}else i=!1;if(od(t,a),t.stateNode===null)Hh(e,t),GT(t,n,r),Rx(t,n,r,a),r=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Qi(u):(u=di(n)?qc:Ba.current,u=md(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&T2(t,o,r,u),xl=!1;var p=t.memoizedState;o.state=p,Sg(t,r,o,a),l=t.memoizedState,s!==r||p!==l||ui.current||xl?(typeof d=="function"&&(Fx(t,n,d,r),l=t.memoizedState),(s=xl||P2(t,n,s,r,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,MT(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ho(t.type,s),o.props=u,f=t.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Qi(l):(l=di(n)?qc:Ba.current,l=md(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||p!==l)&&T2(t,o,r,l),xl=!1,p=t.memoizedState,o.state=p,Sg(t,r,o,a);var h=t.memoizedState;s!==f||p!==h||ui.current||xl?(typeof m=="function"&&(Fx(t,n,m,r),h=t.memoizedState),(u=xl||P2(t,n,u,r,p,h,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,h,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,h,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),o.props=r,o.state=h,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return zx(e,t,n,r,i,a)}function zx(e,t,n,r,a,i){QT(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return a&&S2(t,n,!1),Rs(e,t,i);r=t.stateNode,AU.current=t;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=gd(t,e.child,null,i),t.child=gd(t,null,s,i)):qa(e,t,s,i),t.memoizedState=r.state,a&&S2(t,n,!0),t.child}function e3(e){var t=e.stateNode;t.pendingContext?k2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&k2(e,t.context,!1),ak(e,t.containerInfo)}function $2(e,t,n,r,a){return hd(),Z1(a),t.flags|=256,qa(e,t,n,r),t.child}var Ux={dehydrated:null,treeContext:null,retryLane:0};function Vx(e){return{baseLanes:e,cachePool:null,transitions:null}}function t3(e,t,n){var r=t.pendingProps,a=vr.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),nr(vr,a&1),e===null)return _x(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ty(o,r,0,null),e=$c(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Vx(n),t.memoizedState=Ux,e):fk(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return EU(e,t,o,r,s,a,n);if(i){i=r.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Rl(a,l),r.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=Rl(s,i):(i=$c(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Vx(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ux,r}return i=e.child,e=i.sibling,r=Rl(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function fk(e,t){return t=ty({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ih(e,t,n,r){return r!==null&&Z1(r),gd(t,e.child,null,n),e=fk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function EU(e,t,n,r,a,i,o){if(n)return t.flags&256?(t.flags&=-257,r=tb(Error(dt(422))),ih(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=ty({mode:"visible",children:r.children},a,0,null),i=$c(i,a,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&gd(t,e.child,null,o),t.child.memoizedState=Vx(o),t.memoizedState=Ux,i);if(!(t.mode&1))return ih(e,t,o,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var s=r.dgst;return r=s,i=Error(dt(419)),r=tb(i,r,void 0),ih(e,t,o,r)}if(s=(o&e.childLanes)!==0,li||s){if(r=pa,r!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,Fs(e,a),ko(r,e,a,-1))}return vk(),r=tb(Error(dt(421))),ih(e,t,o,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=UU.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,Mi=Il(a.nextSibling),Ei=t,pr=!0,yo=null,e!==null&&(qi[Ki++]=Ns,qi[Ki++]=js,qi[Ki++]=Kc,Ns=e.id,js=e.overflow,Kc=t),t=fk(t,r.children),t.flags|=4096,t)}function B2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Lx(e.return,t,n)}function nb(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function n3(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(qa(e,t,r.children,n),r=vr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&B2(e,n,t);else if(e.tag===19)B2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(nr(vr,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Ng(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),nb(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ng(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}nb(t,!0,n,null,i);break;case"together":nb(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hh(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rs(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(dt(153));if(t.child!==null){for(e=t.child,n=Rl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Rl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function DU(e,t,n){switch(t.tag){case 3:e3(t),hd();break;case 5:AT(t);break;case 1:di(t.type)&&vg(t);break;case 4:ak(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;nr(wg,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(nr(vr,vr.current&1),t.flags|=128,null):n&t.child.childLanes?t3(e,t,n):(nr(vr,vr.current&1),e=Rs(e,t,n),e!==null?e.sibling:null);nr(vr,vr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return n3(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),nr(vr,vr.current),r)break;return null;case 22:case 23:return t.lanes=0,ZT(e,t,n)}return Rs(e,t,n)}var r3,Wx,a3,i3;r3=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wx=function(){};a3=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pc(Zo.current);var i=null;switch(n){case"input":a=fx(e,a),r=fx(e,r),i=[];break;case"select":a=Sr({},a,{value:void 0}),r=Sr({},r,{value:void 0}),i=[];break;case"textarea":a=hx(e,a),r=hx(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gg)}yx(n,r);var o;n=null;for(u in a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(np.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(s=a!=null?a[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(np.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ir("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};i3=function(e,t,n,r){n!==r&&(t.flags|=4)};function ff(e,t){if(!pr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ta(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function PU(e,t,n){var r=t.pendingProps;switch(J1(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ta(t),null;case 1:return di(t.type)&&yg(),Ta(t),null;case 3:return r=t.stateNode,yd(),lr(ui),lr(Ba),ok(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rh(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yo!==null&&(Jx(yo),yo=null))),Wx(e,t),Ta(t),null;case 5:ik(t);var a=Pc(mp.current);if(n=t.type,e!==null&&t.stateNode!=null)a3(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(dt(166));return Ta(t),null}if(e=Pc(Zo.current),rh(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Yo]=t,r[fp]=i,e=(t.mode&1)!==0,n){case"dialog":ir("cancel",r),ir("close",r);break;case"iframe":case"object":case"embed":ir("load",r);break;case"video":case"audio":for(a=0;a<Df.length;a++)ir(Df[a],r);break;case"source":ir("error",r);break;case"img":case"image":case"link":ir("error",r),ir("load",r);break;case"details":ir("toggle",r);break;case"input":Yj(r,i),ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ir("invalid",r);break;case"textarea":Jj(r,i),ir("invalid",r)}yx(n,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?r.textContent!==s&&(i.suppressHydrationWarning!==!0&&nh(r.textContent,s,e),a=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&nh(r.textContent,s,e),a=["children",""+s]):np.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ir("scroll",r)}switch(n){case"input":Gm(r),Xj(r,i,!0);break;case"textarea":Gm(r),Zj(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=gg)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=OP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Yo]=t,e[fp]=r,r3(e,t,!1,!1),t.stateNode=e;e:{switch(o=vx(n,r),n){case"dialog":ir("cancel",e),ir("close",e),a=r;break;case"iframe":case"object":case"embed":ir("load",e),a=r;break;case"video":case"audio":for(a=0;a<Df.length;a++)ir(Df[a],e);a=r;break;case"source":ir("error",e),a=r;break;case"img":case"image":case"link":ir("error",e),ir("load",e),a=r;break;case"details":ir("toggle",e),a=r;break;case"input":Yj(e,r),a=fx(e,r),ir("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Sr({},r,{value:void 0}),ir("invalid",e);break;case"textarea":Jj(e,r),a=hx(e,r),ir("invalid",e);break;default:a=r}yx(n,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?LP(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&IP(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&rp(e,l):typeof l=="number"&&rp(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(np.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ir("scroll",e):l!=null&&L1(e,i,l,o))}switch(n){case"input":Gm(e),Xj(e,r,!1);break;case"textarea":Gm(e),Zj(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ul(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?nd(e,!!r.multiple,i,!1):r.defaultValue!=null&&nd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=gg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ta(t),null;case 6:if(e&&t.stateNode!=null)i3(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(dt(166));if(n=Pc(mp.current),Pc(Zo.current),rh(t)){if(r=t.stateNode,n=t.memoizedProps,r[Yo]=t,(i=r.nodeValue!==n)&&(e=Ei,e!==null))switch(e.tag){case 3:nh(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&nh(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yo]=t,t.stateNode=r}return Ta(t),null;case 13:if(lr(vr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pr&&Mi!==null&&t.mode&1&&!(t.flags&128))ST(),hd(),t.flags|=98560,i=!1;else if(i=rh(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(dt(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(dt(317));i[Yo]=t}else hd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ta(t),i=!1}else yo!==null&&(Jx(yo),yo=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||vr.current&1?Qr===0&&(Qr=3):vk())),t.updateQueue!==null&&(t.flags|=4),Ta(t),null);case 4:return yd(),Wx(e,t),e===null&&up(t.stateNode.containerInfo),Ta(t),null;case 10:return tk(t.type._context),Ta(t),null;case 17:return di(t.type)&&yg(),Ta(t),null;case 19:if(lr(vr),i=t.memoizedState,i===null)return Ta(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ff(i,!1);else{if(Qr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ng(e),o!==null){for(t.flags|=128,ff(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return nr(vr,vr.current&1|2),t.child}e=e.sibling}i.tail!==null&&_r()>bd&&(t.flags|=128,r=!0,ff(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ng(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ff(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pr)return Ta(t),null}else 2*_r()-i.renderingStartTime>bd&&n!==1073741824&&(t.flags|=128,r=!0,ff(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=_r(),t.sibling=null,n=vr.current,nr(vr,r?n&1|2:n&1),t):(Ta(t),null);case 22:case 23:return yk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ni&1073741824&&(Ta(t),t.subtreeFlags&6&&(t.flags|=8192)):Ta(t),null;case 24:return null;case 25:return null}throw Error(dt(156,t.tag))}function TU(e,t){switch(J1(t),t.tag){case 1:return di(t.type)&&yg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yd(),lr(ui),lr(Ba),ok(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ik(t),null;case 13:if(lr(vr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(dt(340));hd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return lr(vr),null;case 4:return yd(),null;case 10:return tk(t.type._context),null;case 22:case 23:return yk(),null;case 24:return null;default:return null}}var oh=!1,_a=!1,OU=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Gu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mr(e,t,r)}else n.current=null}function o3(e,t,n){try{n()}catch(r){Mr(e,t,r)}}var z2=!1;function IU(e,t){if(Ax=pg,e=uT(),Y1(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,d=0,f=e,p=null;t:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(s=o+a),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break t;if(p===n&&++u===a&&(s=o),p===i&&++d===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ex={focusedElem:e,selectionRange:n},pg=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var h=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(h!==null){var v=h.memoizedProps,x=h.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ho(t.type,v),x);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(S){Mr(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return h=z2,z2=!1,h}function Uf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&o3(t,n,i)}a=a.next}while(a!==r)}}function Q0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Hx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function s3(e){var t=e.alternate;t!==null&&(e.alternate=null,s3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Yo],delete t[fp],delete t[Tx],delete t[gU],delete t[yU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function l3(e){return e.tag===5||e.tag===3||e.tag===4}function U2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||l3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gg));else if(r!==4&&(e=e.child,e!==null))for(qx(e,t,n),e=e.sibling;e!==null;)qx(e,t,n),e=e.sibling}function Kx(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Kx(e,t,n),e=e.sibling;e!==null;)Kx(e,t,n),e=e.sibling}var Na=null,go=!1;function hl(e,t,n){for(n=n.child;n!==null;)c3(e,t,n),n=n.sibling}function c3(e,t,n){if(Jo&&typeof Jo.onCommitFiberUnmount=="function")try{Jo.onCommitFiberUnmount(H0,n)}catch{}switch(n.tag){case 5:_a||Gu(n,t);case 6:var r=Na,a=go;Na=null,hl(e,t,n),Na=r,go=a,Na!==null&&(go?(e=Na,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Na.removeChild(n.stateNode));break;case 18:Na!==null&&(go?(e=Na,n=n.stateNode,e.nodeType===8?Yv(e.parentNode,n):e.nodeType===1&&Yv(e,n),sp(e)):Yv(Na,n.stateNode));break;case 4:r=Na,a=go,Na=n.stateNode.containerInfo,go=!0,hl(e,t,n),Na=r,go=a;break;case 0:case 11:case 14:case 15:if(!_a&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&o3(n,t,o),a=a.next}while(a!==r)}hl(e,t,n);break;case 1:if(!_a&&(Gu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Mr(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:n.mode&1?(_a=(r=_a)||n.memoizedState!==null,hl(e,t,n),_a=r):hl(e,t,n);break;default:hl(e,t,n)}}function V2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new OU),t.forEach(function(r){var a=VU.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function mo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Na=s.stateNode,go=!1;break e;case 3:Na=s.stateNode.containerInfo,go=!0;break e;case 4:Na=s.stateNode.containerInfo,go=!0;break e}s=s.return}if(Na===null)throw Error(dt(160));c3(i,o,a),Na=null,go=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Mr(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u3(t,e),t=t.sibling}function u3(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mo(t,e),Uo(e),r&4){try{Uf(3,e,e.return),Q0(3,e)}catch(v){Mr(e,e.return,v)}try{Uf(5,e,e.return)}catch(v){Mr(e,e.return,v)}}break;case 1:mo(t,e),Uo(e),r&512&&n!==null&&Gu(n,n.return);break;case 5:if(mo(t,e),Uo(e),r&512&&n!==null&&Gu(n,n.return),e.flags&32){var a=e.stateNode;try{rp(a,"")}catch(v){Mr(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&PP(a,i),vx(s,o);var u=vx(s,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?LP(a,f):d==="dangerouslySetInnerHTML"?IP(a,f):d==="children"?rp(a,f):L1(a,d,f,u)}switch(s){case"input":px(a,i);break;case"textarea":TP(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?nd(a,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?nd(a,!!i.multiple,i.defaultValue,!0):nd(a,!!i.multiple,i.multiple?[]:"",!1))}a[fp]=i}catch(v){Mr(e,e.return,v)}}break;case 6:if(mo(t,e),Uo(e),r&4){if(e.stateNode===null)throw Error(dt(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Mr(e,e.return,v)}}break;case 3:if(mo(t,e),Uo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sp(t.containerInfo)}catch(v){Mr(e,e.return,v)}break;case 4:mo(t,e),Uo(e);break;case 13:mo(t,e),Uo(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(hk=_r())),r&4&&V2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(_a=(u=_a)||d,mo(t,e),_a=u):mo(t,e),Uo(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Mt=e,d=e.child;d!==null;){for(f=Mt=d;Mt!==null;){switch(p=Mt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Uf(4,p,p.return);break;case 1:Gu(p,p.return);var h=p.stateNode;if(typeof h.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(v){Mr(r,n,v)}}break;case 5:Gu(p,p.return);break;case 22:if(p.memoizedState!==null){H2(f);continue}}m!==null?(m.return=p,Mt=m):H2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{a=f.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=_P("display",o))}catch(v){Mr(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Mr(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:mo(t,e),Uo(e),r&4&&V2(e);break;case 21:break;default:mo(t,e),Uo(e)}}function Uo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(l3(n)){var r=n;break e}n=n.return}throw Error(dt(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(rp(a,""),r.flags&=-33);var i=U2(e);Kx(e,i,a);break;case 3:case 4:var o=r.stateNode.containerInfo,s=U2(e);qx(e,s,o);break;default:throw Error(dt(161))}}catch(l){Mr(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _U(e,t,n){Mt=e,d3(e)}function d3(e,t,n){for(var r=(e.mode&1)!==0;Mt!==null;){var a=Mt,i=a.child;if(a.tag===22&&r){var o=a.memoizedState!==null||oh;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||_a;s=oh;var u=_a;if(oh=o,(_a=l)&&!u)for(Mt=a;Mt!==null;)o=Mt,l=o.child,o.tag===22&&o.memoizedState!==null?q2(a):l!==null?(l.return=o,Mt=l):q2(a);for(;i!==null;)Mt=i,d3(i),i=i.sibling;Mt=a,oh=s,_a=u}W2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,Mt=i):W2(e)}}function W2(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:_a||Q0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!_a)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:ho(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&A2(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}A2(t,o,n)}break;case 5:var s=t.stateNode;if(n===null&&t.flags&4){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&sp(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}_a||t.flags&512&&Hx(t)}catch(p){Mr(t,t.return,p)}}if(t===e){Mt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Mt=n;break}Mt=t.return}}function H2(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Mt=n;break}Mt=t.return}}function q2(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Q0(4,t)}catch(l){Mr(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(l){Mr(t,a,l)}}var i=t.return;try{Hx(t)}catch(l){Mr(t,i,l)}break;case 5:var o=t.return;try{Hx(t)}catch(l){Mr(t,o,l)}}}catch(l){Mr(t,t.return,l)}if(t===e){Mt=null;break}var s=t.sibling;if(s!==null){s.return=t.return,Mt=s;break}Mt=t.return}}var LU=Math.ceil,Mg=Ys.ReactCurrentDispatcher,pk=Ys.ReactCurrentOwner,Ji=Ys.ReactCurrentBatchConfig,An=0,pa=null,Vr=null,Ca=0,Ni=0,Yu=Xl(0),Qr=0,vp=null,Yc=0,ey=0,mk=0,Vf=null,oi=null,hk=0,bd=1/0,bs=null,Ag=!1,Gx=null,Ll=null,sh=!1,Al=null,Eg=0,Wf=0,Yx=null,qh=-1,Kh=0;function Ya(){return An&6?_r():qh!==-1?qh:qh=_r()}function Fl(e){return e.mode&1?An&2&&Ca!==0?Ca&-Ca:bU.transition!==null?(Kh===0&&(Kh=GP()),Kh):(e=Bn,e!==0||(e=window.event,e=e===void 0?16:tT(e.type)),e):1}function ko(e,t,n,r){if(50<Wf)throw Wf=0,Yx=null,Error(dt(185));Wp(e,n,r),(!(An&2)||e!==pa)&&(e===pa&&(!(An&2)&&(ey|=n),Qr===4&&jl(e,Ca)),fi(e,r),n===1&&An===0&&!(t.mode&1)&&(bd=_r()+500,X0&&Jl()))}function fi(e,t){var n=e.callbackNode;bz(e,t);var r=fg(e,e===pa?Ca:0);if(r===0)n!==null&&t2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&t2(n),t===1)e.tag===0?vU(K2.bind(null,e)):xT(K2.bind(null,e)),mU(function(){!(An&6)&&Jl()}),n=null;else{switch(YP(r)){case 1:n=z1;break;case 4:n=qP;break;case 16:n=dg;break;case 536870912:n=KP;break;default:n=dg}n=b3(n,f3.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function f3(e,t){if(qh=-1,Kh=0,An&6)throw Error(dt(327));var n=e.callbackNode;if(sd()&&e.callbackNode!==n)return null;var r=fg(e,e===pa?Ca:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Dg(e,r);else{t=r;var a=An;An|=2;var i=m3();(pa!==e||Ca!==t)&&(bs=null,bd=_r()+500,Rc(e,t));do try{$U();break}catch(s){p3(e,s)}while(!0);ek(),Mg.current=i,An=a,Vr!==null?t=0:(pa=null,Ca=0,t=Qr)}if(t!==0){if(t===2&&(a=Sx(e),a!==0&&(r=a,t=Xx(e,a))),t===1)throw n=vp,Rc(e,0),jl(e,r),fi(e,_r()),n;if(t===6)jl(e,r);else{if(a=e.current.alternate,!(r&30)&&!FU(a)&&(t=Dg(e,r),t===2&&(i=Sx(e),i!==0&&(r=i,t=Xx(e,i))),t===1))throw n=vp,Rc(e,0),jl(e,r),fi(e,_r()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(dt(345));case 2:kc(e,oi,bs);break;case 3:if(jl(e,r),(r&130023424)===r&&(t=hk+500-_r(),10<t)){if(fg(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Ya(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Px(kc.bind(null,e,oi,bs),t);break}kc(e,oi,bs);break;case 4:if(jl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var o=31-wo(r);i=1<<o,o=t[o],o>a&&(a=o),r&=~i}if(r=a,r=_r()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LU(r/1960))-r,10<r){e.timeoutHandle=Px(kc.bind(null,e,oi,bs),r);break}kc(e,oi,bs);break;case 5:kc(e,oi,bs);break;default:throw Error(dt(329))}}}return fi(e,_r()),e.callbackNode===n?f3.bind(null,e):null}function Xx(e,t){var n=Vf;return e.current.memoizedState.isDehydrated&&(Rc(e,t).flags|=256),e=Dg(e,t),e!==2&&(t=oi,oi=n,t!==null&&Jx(t)),e}function Jx(e){oi===null?oi=e:oi.push.apply(oi,e)}function FU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!jo(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function jl(e,t){for(t&=~mk,t&=~ey,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wo(t),r=1<<n;e[n]=-1,t&=~r}}function K2(e){if(An&6)throw Error(dt(327));sd();var t=fg(e,0);if(!(t&1))return fi(e,_r()),null;var n=Dg(e,t);if(e.tag!==0&&n===2){var r=Sx(e);r!==0&&(t=r,n=Xx(e,r))}if(n===1)throw n=vp,Rc(e,0),jl(e,t),fi(e,_r()),n;if(n===6)throw Error(dt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,oi,bs),fi(e,_r()),null}function gk(e,t){var n=An;An|=1;try{return e(t)}finally{An=n,An===0&&(bd=_r()+500,X0&&Jl())}}function Xc(e){Al!==null&&Al.tag===0&&!(An&6)&&sd();var t=An;An|=1;var n=Ji.transition,r=Bn;try{if(Ji.transition=null,Bn=1,e)return e()}finally{Bn=r,Ji.transition=n,An=t,!(An&6)&&Jl()}}function yk(){Ni=Yu.current,lr(Yu)}function Rc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,pU(n)),Vr!==null)for(n=Vr.return;n!==null;){var r=n;switch(J1(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&yg();break;case 3:yd(),lr(ui),lr(Ba),ok();break;case 5:ik(r);break;case 4:yd();break;case 13:lr(vr);break;case 19:lr(vr);break;case 10:tk(r.type._context);break;case 22:case 23:yk()}n=n.return}if(pa=e,Vr=e=Rl(e.current,null),Ca=Ni=t,Qr=0,vp=null,mk=ey=Yc=0,oi=Vf=null,Dc!==null){for(t=0;t<Dc.length;t++)if(n=Dc[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=a,r.next=o}n.pending=r}Dc=null}return e}function p3(e,t){do{var n=Vr;try{if(ek(),Vh.current=Cg,jg){for(var r=kr.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}jg=!1}if(Gc=0,da=Jr=kr=null,zf=!1,hp=0,pk.current=null,n===null||n.return===null){Qr=1,vp=t,Vr=null;break}e:{var i=e,o=n.return,s=n,l=t;if(t=Ca,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=s,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=I2(o);if(m!==null){m.flags&=-257,_2(m,o,s,i,t),m.mode&1&&O2(i,u,t),t=m,l=u;var h=t.updateQueue;if(h===null){var v=new Set;v.add(l),t.updateQueue=v}else h.add(l);break e}else{if(!(t&1)){O2(i,u,t),vk();break e}l=Error(dt(426))}}else if(pr&&s.mode&1){var x=I2(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),_2(x,o,s,i,t),Z1(vd(l,s));break e}}i=l=vd(l,s),Qr!==4&&(Qr=2),Vf===null?Vf=[i]:Vf.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var y=YT(i,l,t);M2(i,y);break e;case 1:s=l;var b=i.type,w=i.stateNode;if(!(i.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ll===null||!Ll.has(w)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=XT(i,s,t);M2(i,S);break e}}i=i.return}while(i!==null)}g3(n)}catch(j){t=j,Vr===n&&n!==null&&(Vr=n=n.return);continue}break}while(!0)}function m3(){var e=Mg.current;return Mg.current=Cg,e===null?Cg:e}function vk(){(Qr===0||Qr===3||Qr===2)&&(Qr=4),pa===null||!(Yc&268435455)&&!(ey&268435455)||jl(pa,Ca)}function Dg(e,t){var n=An;An|=2;var r=m3();(pa!==e||Ca!==t)&&(bs=null,Rc(e,t));do try{RU();break}catch(a){p3(e,a)}while(!0);if(ek(),An=n,Mg.current=r,Vr!==null)throw Error(dt(261));return pa=null,Ca=0,Qr}function RU(){for(;Vr!==null;)h3(Vr)}function $U(){for(;Vr!==null&&!uz();)h3(Vr)}function h3(e){var t=v3(e.alternate,e,Ni);e.memoizedProps=e.pendingProps,t===null?g3(e):Vr=t,pk.current=null}function g3(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=TU(n,t),n!==null){n.flags&=32767,Vr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Qr=6,Vr=null;return}}else if(n=PU(n,t,Ni),n!==null){Vr=n;return}if(t=t.sibling,t!==null){Vr=t;return}Vr=t=e}while(t!==null);Qr===0&&(Qr=5)}function kc(e,t,n){var r=Bn,a=Ji.transition;try{Ji.transition=null,Bn=1,BU(e,t,n,r)}finally{Ji.transition=a,Bn=r}return null}function BU(e,t,n,r){do sd();while(Al!==null);if(An&6)throw Error(dt(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(dt(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(xz(e,i),e===pa&&(Vr=pa=null,Ca=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||sh||(sh=!0,b3(dg,function(){return sd(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ji.transition,Ji.transition=null;var o=Bn;Bn=1;var s=An;An|=4,pk.current=null,IU(e,n),u3(n,e),oU(Ex),pg=!!Ax,Ex=Ax=null,e.current=n,_U(n),dz(),An=s,Bn=o,Ji.transition=i}else e.current=n;if(sh&&(sh=!1,Al=e,Eg=a),i=e.pendingLanes,i===0&&(Ll=null),mz(n.stateNode),fi(e,_r()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Ag)throw Ag=!1,e=Gx,Gx=null,e;return Eg&1&&e.tag!==0&&sd(),i=e.pendingLanes,i&1?e===Yx?Wf++:(Wf=0,Yx=e):Wf=0,Jl(),null}function sd(){if(Al!==null){var e=YP(Eg),t=Ji.transition,n=Bn;try{if(Ji.transition=null,Bn=16>e?16:e,Al===null)var r=!1;else{if(e=Al,Al=null,Eg=0,An&6)throw Error(dt(331));var a=An;for(An|=4,Mt=e.current;Mt!==null;){var i=Mt,o=i.child;if(Mt.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Mt=u;Mt!==null;){var d=Mt;switch(d.tag){case 0:case 11:case 15:Uf(8,d,i)}var f=d.child;if(f!==null)f.return=d,Mt=f;else for(;Mt!==null;){d=Mt;var p=d.sibling,m=d.return;if(s3(d),d===u){Mt=null;break}if(p!==null){p.return=m,Mt=p;break}Mt=m}}}var h=i.alternate;if(h!==null){var v=h.child;if(v!==null){h.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}Mt=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Mt=o;else e:for(;Mt!==null;){if(i=Mt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Uf(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,Mt=y;break e}Mt=i.return}}var b=e.current;for(Mt=b;Mt!==null;){o=Mt;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Mt=w;else e:for(o=b;Mt!==null;){if(s=Mt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Q0(9,s)}}catch(j){Mr(s,s.return,j)}if(s===o){Mt=null;break e}var S=s.sibling;if(S!==null){S.return=s.return,Mt=S;break e}Mt=s.return}}if(An=a,Jl(),Jo&&typeof Jo.onPostCommitFiberRoot=="function")try{Jo.onPostCommitFiberRoot(H0,e)}catch{}r=!0}return r}finally{Bn=n,Ji.transition=t}}return!1}function G2(e,t,n){t=vd(n,t),t=YT(e,t,1),e=_l(e,t,1),t=Ya(),e!==null&&(Wp(e,1,t),fi(e,t))}function Mr(e,t,n){if(e.tag===3)G2(e,e,n);else for(;t!==null;){if(t.tag===3){G2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ll===null||!Ll.has(r))){e=vd(n,e),e=XT(t,e,1),t=_l(t,e,1),e=Ya(),t!==null&&(Wp(t,1,e),fi(t,e));break}}t=t.return}}function zU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ya(),e.pingedLanes|=e.suspendedLanes&n,pa===e&&(Ca&n)===n&&(Qr===4||Qr===3&&(Ca&130023424)===Ca&&500>_r()-hk?Rc(e,0):mk|=n),fi(e,t)}function y3(e,t){t===0&&(e.mode&1?(t=Jm,Jm<<=1,!(Jm&130023424)&&(Jm=4194304)):t=1);var n=Ya();e=Fs(e,t),e!==null&&(Wp(e,t,n),fi(e,n))}function UU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),y3(e,n)}function VU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(dt(314))}r!==null&&r.delete(t),y3(e,n)}var v3;v3=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ui.current)li=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return li=!1,DU(e,t,n);li=!!(e.flags&131072)}else li=!1,pr&&t.flags&1048576&&wT(t,xg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Hh(e,t),e=t.pendingProps;var a=md(t,Ba.current);od(t,n),a=lk(null,t,r,e,a,n);var i=ck();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,di(r)?(i=!0,vg(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,rk(t),a.updater=Z0,t.stateNode=a,a._reactInternals=t,Rx(t,r,e,n),t=zx(null,t,r,!0,i,n)):(t.tag=0,pr&&i&&X1(t),qa(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Hh(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=HU(r),e=ho(r,e),a){case 0:t=Bx(null,t,r,e,n);break e;case 1:t=R2(null,t,r,e,n);break e;case 11:t=L2(null,t,r,e,n);break e;case 14:t=F2(null,t,r,ho(r.type,e),n);break e}throw Error(dt(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ho(r,a),Bx(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ho(r,a),R2(e,t,r,a,n);case 3:e:{if(e3(t),e===null)throw Error(dt(387));r=t.pendingProps,i=t.memoizedState,a=i.element,MT(e,t),Sg(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=vd(Error(dt(423)),t),t=$2(e,t,r,n,a);break e}else if(r!==a){a=vd(Error(dt(424)),t),t=$2(e,t,r,n,a);break e}else for(Mi=Il(t.stateNode.containerInfo.firstChild),Ei=t,pr=!0,yo=null,n=jT(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hd(),r===a){t=Rs(e,t,n);break e}qa(e,t,r,n)}t=t.child}return t;case 5:return AT(t),e===null&&_x(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Dx(r,a)?o=null:i!==null&&Dx(r,i)&&(t.flags|=32),QT(e,t),qa(e,t,o,n),t.child;case 6:return e===null&&_x(t),null;case 13:return t3(e,t,n);case 4:return ak(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=gd(t,null,r,n):qa(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ho(r,a),L2(e,t,r,a,n);case 7:return qa(e,t,t.pendingProps,n),t.child;case 8:return qa(e,t,t.pendingProps.children,n),t.child;case 12:return qa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,nr(wg,r._currentValue),r._currentValue=o,i!==null)if(jo(i.value,o)){if(i.children===a.children&&!ui.current){t=Rs(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Es(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Lx(i.return,n,t),s.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(dt(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),Lx(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}qa(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,od(t,n),a=Qi(a),r=r(a),t.flags|=1,qa(e,t,r,n),t.child;case 14:return r=t.type,a=ho(r,t.pendingProps),a=ho(r.type,a),F2(e,t,r,a,n);case 15:return JT(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ho(r,a),Hh(e,t),t.tag=1,di(r)?(e=!0,vg(t)):e=!1,od(t,n),GT(t,r,a),Rx(t,r,a,n),zx(null,t,r,!0,e,n);case 19:return n3(e,t,n);case 22:return ZT(e,t,n)}throw Error(dt(156,t.tag))};function b3(e,t){return HP(e,t)}function WU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yi(e,t,n,r){return new WU(e,t,n,r)}function bk(e){return e=e.prototype,!(!e||!e.isReactComponent)}function HU(e){if(typeof e=="function")return bk(e)?1:0;if(e!=null){if(e=e.$$typeof,e===R1)return 11;if(e===$1)return 14}return 2}function Rl(e,t){var n=e.alternate;return n===null?(n=Yi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gh(e,t,n,r,a,i){var o=2;if(r=e,typeof e=="function")bk(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $u:return $c(n.children,a,i,t);case F1:o=8,a|=8;break;case lx:return e=Yi(12,n,t,a|2),e.elementType=lx,e.lanes=i,e;case cx:return e=Yi(13,n,t,a),e.elementType=cx,e.lanes=i,e;case ux:return e=Yi(19,n,t,a),e.elementType=ux,e.lanes=i,e;case AP:return ty(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CP:o=10;break e;case MP:o=9;break e;case R1:o=11;break e;case $1:o=14;break e;case bl:o=16,r=null;break e}throw Error(dt(130,e==null?e:typeof e,""))}return t=Yi(o,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function $c(e,t,n,r){return e=Yi(7,e,r,t),e.lanes=n,e}function ty(e,t,n,r){return e=Yi(22,e,r,t),e.elementType=AP,e.lanes=n,e.stateNode={isHidden:!1},e}function rb(e,t,n){return e=Yi(6,e,null,t),e.lanes=n,e}function ab(e,t,n){return t=Yi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function qU(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Rv(0),this.expirationTimes=Rv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rv(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function xk(e,t,n,r,a,i,o,s,l){return e=new qU(e,t,n,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Yi(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rk(i),e}function KU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ru,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function x3(e){if(!e)return Vl;e=e._reactInternals;e:{if(lu(e)!==e||e.tag!==1)throw Error(dt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(dt(171))}if(e.tag===1){var n=e.type;if(di(n))return bT(e,n,t)}return t}function w3(e,t,n,r,a,i,o,s,l){return e=xk(n,r,!0,e,a,i,o,s,l),e.context=x3(null),n=e.current,r=Ya(),a=Fl(n),i=Es(r,a),i.callback=t??null,_l(n,i,a),e.current.lanes=a,Wp(e,a,r),fi(e,r),e}function ny(e,t,n,r){var a=t.current,i=Ya(),o=Fl(a);return n=x3(n),t.context===null?t.context=n:t.pendingContext=n,t=Es(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_l(a,t,o),e!==null&&(ko(e,a,o,i),Uh(e,a,o)),o}function Pg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Y2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function wk(e,t){Y2(e,t),(e=e.alternate)&&Y2(e,t)}function GU(){return null}var k3=typeof reportError=="function"?reportError:function(e){console.error(e)};function kk(e){this._internalRoot=e}ry.prototype.render=kk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(dt(409));ny(e,t,null,null)};ry.prototype.unmount=kk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Xc(function(){ny(null,e,null,null)}),t[Ls]=null}};function ry(e){this._internalRoot=e}ry.prototype.unstable_scheduleHydration=function(e){if(e){var t=ZP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nl.length&&t!==0&&t<Nl[n].priority;n++);Nl.splice(n,0,e),n===0&&eT(e)}};function Sk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ay(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function X2(){}function YU(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var u=Pg(o);i.call(u)}}var o=w3(t,r,e,0,null,!1,!1,"",X2);return e._reactRootContainer=o,e[Ls]=o.current,up(e.nodeType===8?e.parentNode:e),Xc(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var s=r;r=function(){var u=Pg(l);s.call(u)}}var l=xk(e,0,!1,null,null,!1,!1,"",X2);return e._reactRootContainer=l,e[Ls]=l.current,up(e.nodeType===8?e.parentNode:e),Xc(function(){ny(t,l,n,r)}),l}function iy(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Pg(o);s.call(l)}}ny(t,o,e,a)}else o=YU(n,t,e,a,r);return Pg(o)}XP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ef(t.pendingLanes);n!==0&&(U1(t,n|1),fi(t,_r()),!(An&6)&&(bd=_r()+500,Jl()))}break;case 13:Xc(function(){var r=Fs(e,1);if(r!==null){var a=Ya();ko(r,e,1,a)}}),wk(e,1)}};V1=function(e){if(e.tag===13){var t=Fs(e,134217728);if(t!==null){var n=Ya();ko(t,e,134217728,n)}wk(e,134217728)}};JP=function(e){if(e.tag===13){var t=Fl(e),n=Fs(e,t);if(n!==null){var r=Ya();ko(n,e,t,r)}wk(e,t)}};ZP=function(){return Bn};QP=function(e,t){var n=Bn;try{return Bn=e,t()}finally{Bn=n}};xx=function(e,t,n){switch(t){case"input":if(px(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Y0(r);if(!a)throw Error(dt(90));DP(r),px(r,a)}}}break;case"textarea":TP(e,n);break;case"select":t=n.value,t!=null&&nd(e,!!n.multiple,t,!1)}};$P=gk;BP=Xc;var XU={usingClientEntryPoint:!1,Events:[qp,Vu,Y0,FP,RP,gk]},pf={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JU={bundleType:pf.bundleType,version:pf.version,rendererPackageName:pf.rendererPackageName,rendererConfig:pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ys.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VP(e),e===null?null:e.stateNode},findFiberByHostInstance:pf.findFiberByHostInstance||GU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lh.isDisabled&&lh.supportsFiber)try{H0=lh.inject(JU),Jo=lh}catch{}}_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XU;_i.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sk(t))throw Error(dt(200));return KU(e,t,null,n)};_i.createRoot=function(e,t){if(!Sk(e))throw Error(dt(299));var n=!1,r="",a=k3;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=xk(e,1,!1,null,null,n,!1,r,a),e[Ls]=t.current,up(e.nodeType===8?e.parentNode:e),new kk(t)};_i.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(dt(188)):(e=Object.keys(e).join(","),Error(dt(268,e)));return e=VP(t),e=e===null?null:e.stateNode,e};_i.flushSync=function(e){return Xc(e)};_i.hydrate=function(e,t,n){if(!ay(t))throw Error(dt(200));return iy(null,e,t,!0,n)};_i.hydrateRoot=function(e,t,n){if(!Sk(e))throw Error(dt(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",o=k3;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=w3(t,null,e,1,n??null,a,!1,i,o),e[Ls]=t.current,up(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new ry(t)};_i.render=function(e,t,n){if(!ay(t))throw Error(dt(200));return iy(null,e,t,!1,n)};_i.unmountComponentAtNode=function(e){if(!ay(e))throw Error(dt(40));return e._reactRootContainer?(Xc(function(){iy(null,null,e,!1,function(){e._reactRootContainer=null,e[Ls]=null})}),!0):!1};_i.unstable_batchedUpdates=gk;_i.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ay(n))throw Error(dt(200));if(e==null||e._reactInternals===void 0)throw Error(dt(38));return iy(e,t,n,!1,r)};_i.version="18.3.1-next-f1338f8080-20240426";function S3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(S3)}catch(e){console.error(e)}}S3(),kP.exports=_i;var Rd=kP.exports,J2=Rd;ox.createRoot=J2.createRoot,ox.hydrateRoot=J2.hydrateRoot;const ZU=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),N3=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],j3=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],QU=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],C3=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],e8=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],t8=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],n8=new Set([10244]),r8=(e,t)=>{var n;if(n8.has(e))return!0;const r=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),a=((n=r==null?void 0:r.name)==null?void 0:n.toLowerCase())||"";return t8.some(i=>a.includes(i))},a8=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},ch=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(a).padStart(2,"0")}`:`${r}:${String(a).padStart(2,"0")}`},M3=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,A3=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const r=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${r}m`}if(t>=1e4){const r=(t/1e3).toFixed(0);return`${n}${r}k`}return`${e.toLocaleString()}`},ca=(e,t=2)=>Number.isFinite(e)?M3()&&Math.abs(e)>=1e4?A3(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",yl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return M3()&&t>=1e4?A3(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var i8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const o8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),tn=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:a=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:s,...l},u)=>g.createElement("svg",{ref:u,...i8,width:a,height:a,stroke:r,strokeWidth:o?Number(i)*24/Number(a):i,className:`lucide lucide-${o8(e)}`,...l},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(s)?s:[s])||[]]));return n.displayName=`${e}`,n},E3=tn("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),s8=tn("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),Nk=tn("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),D3=tn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),l8=tn("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),jk=tn("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),c8=tn("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),P3=tn("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Zx=tn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),u8=tn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Co=tn("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),d8=tn("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),f8=tn("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),p8=tn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),m8=tn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),bp=tn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),h8=tn("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Ck=tn("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),g8=tn("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),T3=tn("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),y8=tn("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),Mk=tn("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),v8=tn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Ak=tn("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),b8=tn("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Ek=tn("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),ma=tn("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Z2=tn("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),x8=tn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),w8=tn("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),k8=tn("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),O3=tn("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),xd=tn("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),oy=tn("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),sy=tn("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Tg=tn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),S8=tn("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),El=tn("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Bc=tn("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),N8=tn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Er=tn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),j8=tn("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),I3=tn("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ta=tn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),xp=tn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Dk=({className:e})=>c.jsx(x8,{className:e,strokeWidth:3.2}),cu=e=>{const t=e.replace(/^\/+/,"");if(typeof window<"u"){const r=window.location.pathname||"";if(r.includes("/reports/"))return`../../${t}`;if(r.includes("/web/web/"))return`../${t}`}const n="./";return`${n.endsWith("/")?n:`${n}/`}${t}`},Pk=({className:e=""})=>{const t=cu("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Tk=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_aegis.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},zc=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ok=({className:e=""})=>{const t=cu("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Hf=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_fury.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Ik=({className:e=""})=>{const t=cu("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},C8=[{id:"overview",label:"Overview",icon:Bc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:Bc},{id:"fight-breakdown",label:"Fight Breakdown",icon:El},{id:"top-players",label:"Top Players",icon:Bc},{id:"top-skills-outgoing",label:"Top Skills",icon:Nk},{id:"squad-composition",label:"Classes",icon:Er},{id:"timeline",label:"Squad vs Enemy",icon:Er},{id:"map-distribution",label:"Map Distribution",icon:Ek}]},{id:"roster",label:"Roster Intel",icon:bp,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:bp},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Er},{id:"fight-comp",label:"Fight Comp",icon:El}]},{id:"offense",label:"Offensive Stats",icon:El,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:El},{id:"player-breakdown",label:"Player Breakdown",icon:Ak},{id:"damage-breakdown",label:"Damage Breakdown",icon:jk},{id:"spike-damage",label:"Spike Damage",icon:xp},{id:"conditions-outgoing",label:"Conditions",icon:oy}]},{id:"defense",label:"Defensive Stats",icon:xd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:k8},{id:"defense-detailed",label:"Defense Detailed",icon:xd},{id:"defense-mitigation",label:"Damage Mitigation",icon:Ok},{id:"boon-output",label:"Boon Output",icon:zc},{id:"boon-timeline",label:"Boon Timeline",icon:Tk},{id:"boon-uptime",label:"Boon Uptime",icon:Hf},{id:"support-detailed",label:"Support Detailed",icon:Dk},{id:"healing-stats",label:"Healing Stats",icon:T3}]},{id:"other",label:"Other Metrics",icon:Tg,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Ck},{id:"special-buffs",label:"Special Buffs",icon:Tg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Ik},{id:"skill-usage",label:"Skill Usage",icon:Mk},{id:"apm-stats",label:"APM Breakdown",icon:Pk}]}],M8=(e,t=!0,n=!1)=>{const[r,a]=g.useState(!1),[i,o]=g.useState("overview"),s=g.useRef(null),l=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>C8,[]),f=g.useMemo(()=>d.flatMap(h=>h.items),[d]),p=h=>{const v=h==="kdr"?"overview":h,x=s.current,y=document.getElementById(v);if(x&&y){const b=x.getBoundingClientRect(),w=y.getBoundingClientRect().top-b.top+x.scrollTop,S=Math.max(0,x.scrollHeight-x.clientHeight),j=Math.min(Math.max(w-16,0),S);x.scrollTo({top:j,behavior:"smooth"}),o(v)}else y&&(y.scrollIntoView({behavior:"smooth",block:"start"}),o(v));a(!1)};g.useEffect(()=>{if(e||n)return;const h=v=>{if(n)return;const x=s.current;if(!x)return;const y=v.target;if(!(y instanceof Element&&y.closest("[data-stats-mobile-nav]"))&&!(y instanceof Node&&x.contains(y))&&v.deltaY!==0&&!(x.scrollHeight<=x.clientHeight)){if(u.current+=v.deltaY,l.current===null){const b=()=>{const w=u.current;if(Math.abs(w)<.5){u.current=0,l.current=null;return}const S=w*.2;u.current=w-S,x.scrollBy({top:S,behavior:"auto"}),l.current=requestAnimationFrame(b)};l.current=requestAnimationFrame(b)}v.preventDefault()}};return window.addEventListener("wheel",h,{passive:!1}),()=>{window.removeEventListener("wheel",h),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=h=>{var v;const x=Math.max(0,f.findIndex(w=>w.id===i)),y=Math.min(Math.max(x+h,0),f.length-1),b=(v=f[y])==null?void 0:v.id;b&&p(b)};return g.useEffect(()=>{if(!t||n)return;const h=s.current;if(!h)return;let v=0;const x=()=>{var b;const w=h.getBoundingClientRect().top;let S=((b=f[0])==null?void 0:b.id)||"overview";f.forEach(j=>{const N=document.getElementById(j.id);N&&N.getBoundingClientRect().top-w<=24&&(S=j.id)}),o(j=>j===S?j:S)},y=()=>{v&&cancelAnimationFrame(v),v=requestAnimationFrame(x)};return x(),h.addEventListener("scroll",y,{passive:!0}),window.addEventListener("resize",y),()=>{v&&cancelAnimationFrame(v),h.removeEventListener("scroll",y),window.removeEventListener("resize",y)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:a,activeNavId:i,setActiveNavId:o,scrollContainerRef:s,tocGroups:d,tocItems:f,scrollToSection:p,stepSection:m}},Q2=["selfBuffs","groupBuffs","squadBuffs"],vs=(e,t,n=0)=>t?e/t:n,eC=e=>e!=null&&e.classification?e.classification==="Boon":!0,_3=e=>`b${e}`,A8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},L3=(e,t,n,r,a,i,o)=>{const s=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?i-1:o-1,0);return!s||!a?{generationMs:0,wastedMs:0}:t?{generationMs:n*a*s,wastedMs:r*a*s}:{generationMs:n/100*a*s,wastedMs:r/100*a*s}},E8=(e,t,n)=>{const r=e.activeTimeMs||1,a=e.numFights||1,i=e.groupSupported||1,o=e.squadSupported||1,s=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:s.generationMs+l.generationMs,wastedMs:s.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let p=1;t==="groupBuffs"?p=vs(i-a,a,1):t==="squadBuffs"?p=vs(o-a,a,1):t==="totalBuffs"&&(p=o);let m=0,h=0;if(t==="selfBuffs")m=n?vs(d,r):vs(d,r)*100,h=n?vs(f,r):vs(f,r)*100;else{const v=vs(d,r)/(p||1),x=vs(f,r)/(p||1);m=n?v:v*100,h=n?x:x*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:h}},F3=(e,t,n,r)=>{const{generationMs:a,uptimeRaw:i}=E8(e,t,n),o=e.activeTimeMs||1;return r==="total"?a/1e3:r==="average"?vs(a,o):i},D8=(e,t,n,r,a)=>{const i=F3(e,t,n,r),o=r==="uptime"&&!n,s=r==="average",l=a!=null&&a.roundCountStats&&!o&&!s?0:2,u=i.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return o?`${u}%`:u},P8=e=>{const t=new Map,n=new Map;return e.forEach(r=>{const a=r.details;if(!a)return;const i=a.durationMS||0,o=a.buffMap||{};Object.entries(o).forEach(([d,f])=>{if(!t.has(d)){t.set(d,f);return}const p=t.get(d)||{},m={name:p.name||f.name,stacking:p.stacking??f.stacking,icon:p.icon||f.icon,classification:p.classification||f.classification};t.set(d,m)});const s=(a.players||[]).filter(d=>!d.notInSquad),l=s.length,u=new Map;s.forEach(d=>{const f=d.group??0;u.set(f,(u.get(f)||0)+1)}),s.forEach(d=>{const f=d.account||d.name||d.character_name||"Unknown",p=d.profession||"Unknown",m=d.group??0,h=u.get(m)||1,v=A8(d,i);n.has(f)||n.set(f,{account:f,profession:p,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const x=n.get(f);x.profession=p,p!=="Unknown"&&(x.professions.add(p),x.professionTimeMs[p]=(x.professionTimeMs[p]||0)+v),x.activeTimeMs+=v,x.numFights+=1,x.groupSupported+=h,x.squadSupported+=l,Q2.forEach(y=>{(d[y]||[]).forEach(b=>{var w,S,j,N;if(typeof(b==null?void 0:b.id)!="number")return;const A=_3(b.id),P=o[A];if(!eC(P))return;const U=(P==null?void 0:P.stacking)??!1,D=((S=(w=b.buffData)==null?void 0:w[0])==null?void 0:S.generation)??0,I=((N=(j=b.buffData)==null?void 0:j[0])==null?void 0:N.wasted)??0,{generationMs:O,wastedMs:H}=L3(y,U,D,I,i,h,l);!O&&!H||(t.has(A)||t.set(A,P||{}),x.boons[A]||(x.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),x.boons[A][y].generationMs+=O,x.boons[A][y].wastedMs+=H)})})})}),{boonTables:Array.from(t.keys()).filter(r=>eC(t.get(r))).map(r=>{const a=t.get(r)||{},i=[];return n.forEach(o=>{var s;const l=o.boons[r];if(!l||!Q2.some(f=>l[f].generationMs>0||l[f].wastedMs>0))return;const u=Array.from(o.professions||[]).filter(f=>f&&f!=="Unknown");let d=o.profession;if(u.length>0){d=u[0];let f=((s=o.professionTimeMs)==null?void 0:s[d])||0;u.forEach(p=>{var m;const h=((m=o.professionTimeMs)==null?void 0:m[p])||0;h>f&&(f=h,d=p)})}i.push({account:o.account,profession:d||"Unknown",professionList:u,activeTimeMs:o.activeTimeMs||1,numFights:o.numFights||1,groupSupported:o.groupSupported||1,squadSupported:o.squadSupported||1,categories:{selfBuffs:{...l.selfBuffs},groupBuffs:{...l.groupBuffs},squadBuffs:{...l.squadBuffs}}})}),{id:r,name:a.name||r,icon:a.icon,stacking:a.stacking??!1,rows:i}}).filter(r=>r.rows.length>0)}},Qx=(e,t,n,r,a,i,o={})=>{var s,l,u,d;const f=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!f)return{generationMs:0,wastedMs:0};const p=o[_3(n)],m=(p==null?void 0:p.stacking)??!1,h=((l=(s=f.buffData)==null?void 0:s[0])==null?void 0:l.generation)??0,v=((d=(u=f.buffData)==null?void 0:u[0])==null?void 0:d.wasted)??0;return L3(t,m,h,v,r,a,i)},T8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},O8={methods:T8},I8=O8,_k="count",_8=e=>(e||0)/1e3,L8=(e,t)=>{var n;if(!e)return 0;const r=(n=I8.methods.tiered)==null?void 0:n.tiers;if(!r)return e;const a=t/Math.max(e,1);return a<=r.shortMs?e*r.weights.short:a<=r.mediumMs?e*r.weights.medium:e*r.weights.long},R3=(e,t,n)=>n==="duration"?_8(t):n==="tiered"?L8(e,t):e;function F8(e,t=_k){var n;const r=(n=e.statsAll)==null?void 0:n[0],a=Number((r==null?void 0:r.appliedCrowdControl)??0),i=Number((r==null?void 0:r.appliedCrowdControlDuration)??0);return R3(a,i,t)}function R8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},a=e.filter(s=>!s.notInSquad),i=a.length,o=new Map;a.forEach(s=>{const l=s.group??0;o.set(l,(o.get(l)||0)+1)}),a.forEach(s=>{const l=o.get(s.group??0)||1,u=Qx(s,"selfBuffs",1122,n,l,i,r),d=Qx(s,"squadBuffs",1122,n,l,i,r);s.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function $8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function B8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function z8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const tC=e=>{var t,n,r,a;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((a=(r=e.support)==null?void 0:r[0])==null?void 0:a.condiCleanseSelf)||0)},nC=(e,t=_k)=>{var n;const r=(n=e.support)==null?void 0:n[0],a=Number((r==null?void 0:r.boonStrips)??0),i=Number((r==null?void 0:r.boonStripsTime)??0);return R3(a,i,t)},rC=e=>$8(e),aC=e=>z8(e),iC=e=>B8(e),oC=(e,t=_k)=>F8(e,t),U8=(e,t)=>R8(e,t),V8="count",$3={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},ew={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},W8={uploading:!1,message:null,url:null,buildStatus:"idle"},sC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),B3={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},uh=e=>{if(e)return B3[e]},ld=(e,t)=>{if(!e||t===void 0||t===null)return;const n=Number(t);return Number.isFinite(n)?e[`b${n}`]||e[String(n)]:e[String(t)]},wp=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=sC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const a of r){const i=sC.get(a);if(i)return i}return null},_u=e=>wp(e),z3=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=wp(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(B3).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Yh=(e,t,n)=>{var r;if(t&&n){const a=(r=ld(n,t))==null?void 0:r.name,i=wp(a);if(i)return i}return e?wp(e):null},H8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"},q8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const a=Number(r[1]??0);if(Number.isFinite(a)){if(n===null){n=a;return}a>n&&(t+=a-n),n=a}}),t},K8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),a=Number(n[1]??0);Number.isFinite(a)&&r!==0&&a>0&&(t+=1)}),t},G8=e=>{const{players:t,targets:n,skillMap:r,buffMap:a}=e,i=e.getPlayerKey||H8,o=z3(a),s={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&(s[h]||(s[h]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(x=>{if(!x.id)return;let y=`Skill ${x.id}`,b;r&&(r[`s${x.id}`]?(y=r[`s${x.id}`].name||y,b=r[`s${x.id}`].icon||b):r[`${x.id}`]&&(y=r[`${x.id}`].name||y,b=r[`${x.id}`].icon||b));const w=ld(a,x.id);y.startsWith("Skill ")&&w!=null&&w.name&&(y=w.name,b=w.icon||b);const S=Yh(y,x.id,a);if(!S)return;const j=w==null?void 0:w.name,N=o.get(S)||(w==null?void 0:w.icon),A=y.startsWith("Skill ")?j||S:y,P=b||(w==null?void 0:w.icon),U=Number(x.connectedHits??0),D=Number(x.hits??0),I=U>0?U:D,O=Number(x.totalDamage??0);if(!Number.isFinite(I)&&!Number.isFinite(O))return;const H=l[S]||{name:S,icon:N,applications:0,damage:0};H.applications+=Number.isFinite(I)?I:0,H.damage+=Number.isFinite(O)?O:0,!H.icon&&N&&(H.icon=N),l[S]=H;const J=s[h][S]||{icon:N,applications:0,damage:0,skills:{}};J.applications+=Number.isFinite(I)?I:0,J.damage+=Number.isFinite(O)?O:0;const oe=J.skills[A]||{name:A,hits:0,damage:0,icon:P};oe.hits+=Number.isFinite(I)?I:0,oe.damage+=Number.isFinite(O)?O:0,!oe.icon&&P&&(oe.icon=P),J.skills[A]=oe,!J.icon&&N&&(J.icon=N),s[h][S]=J})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const h=i(m);h&&m!=null&&m.name&&u.set(m.name,h)});let d=0,f=0,p=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(h=>{const v=Number(h==null?void 0:h.id);if(!Number.isFinite(v))return;const x=ld(a,v),y=wp(x==null?void 0:x.name);if(!y||x!=null&&x.classification&&x.classification!=="Condition")return;const b=y;if(!b)return;const w=h.statesPerSource||{};p+=1,Object.entries(w).forEach(([S,j])=>{var N;const A=u.get(S);if(!A)return;f+=1;const P=q8(j),U=K8(j);d+=P;const D=((N=s[A])==null?void 0:N[b])||{applications:0,damage:0,skills:{}};D.applicationsFromBuffs=(D.applicationsFromBuffs||0)+P,D.applicationsFromBuffsActive=(D.applicationsFromBuffsActive||0)+U,s[A]=s[A]||{},s[A][b]=D;const I=l[b]||{name:b,applications:0,damage:0};I.applicationsFromBuffs=(I.applicationsFromBuffs||0)+P,I.applicationsFromBuffsActive=(I.applicationsFromBuffsActive||0)+U,l[b]=I})})}),Object.values(s).forEach(m=>{Object.values(m).forEach(h=>{typeof h.applicationsFromBuffs=="number"&&(h.applications=h.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:s,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:p,buffStateSourcesSeen:f}}},Jc={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},Y8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function Ds(e){return Jc[e]||Jc.Unknown}function X8(e){return e?Y8[e]||e:"Unknown"}function Tc(e){if(!e)return null;let t="./svg/class-icons";if(typeof window<"u"){const a=window.location.host||"",i=window.location.pathname||"",o=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(a)&&i.startsWith("/web/");i.includes("/reports/")?t="../../svg/class-icons":i.includes("/web/web/")?t="../svg/class-icons":o&&(t="/svg/class-icons")}const n=Jc[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=X8(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const J8=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const o=e.getTime();return Number.isFinite(o)&&o>0?o:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const a=t.replace(/([+-]\d{2})$/,"$1:00"),i=Date.parse(a);return Number.isFinite(i)&&i>0?i:0},Xr=(e,t)=>J8((e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)??(e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)),Xh=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a,includePlayerSkillMap:i})=>{const o=m=>{var h;return(Array.isArray((h=m==null?void 0:m.details)==null?void 0:h.players)?m.details.players:[]).length>0},s=e.filter(m=>o(m)),l=r||ew,u=n||$3,d=m=>{if(!m||typeof m!="object")return m;const h=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!h||h.length===0)return m;const v=j=>Array.isArray(j)&&j.some(N=>N&&Number(N.count)>0),x=new Map,y=new Map;e.forEach(j=>{var N;const A=(j==null?void 0:j.filePath)||(j==null?void 0:j.id);A&&x.set(String(A),j);const P=(j==null?void 0:j.permalink)||((N=j==null?void 0:j.details)==null?void 0:N.permalink);typeof P=="string"&&P.trim()&&y.set(P.trim(),j)});const b=h.map(j=>{var N;if(!j||typeof j!="object")return j;const A=j.id?String(j.id):"",P=typeof j.permalink=="string"?j.permalink.trim():"",U=(A?x.get(A):void 0)||(P?y.get(P):void 0);if(!U)return j;let D=j;if(Number(j.timestamp)<=0){const O=Xr(U==null?void 0:U.details,U);O&&(D={...D,timestamp:O})}const I=(N=U==null?void 0:U.details)==null?void 0:N.teamBreakdown;return v(I)&&(D={...D,teamBreakdown:I}),D}),w=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],S=w.some(j=>Array.isArray(j==null?void 0:j.targetFocus)&&j.targetFocus.some(N=>Number((N==null?void 0:N.damage)||0)>0||Number((N==null?void 0:N.hits)||0)>0))?w:b.map((j,N)=>{const A=j&&typeof j.enemyClassCounts=="object"&&j.enemyClassCounts?j.enemyClassCounts:{},P=Object.entries(A).map(([W,le])=>({label:String(W||"Unknown"),count:Number(le||0)})).filter(W=>W.count>0).sort((W,le)=>le.count-W.count||W.label.localeCompare(le.label)),U=P.reduce((W,le)=>W+le.count,0),D=P.map(W=>({label:W.label,damage:W.count,hits:0,share:U>0?W.count/U:0})),I=Number((j==null?void 0:j.enemyDowns)||0),O=Number((j==null?void 0:j.enemyDeaths)||0),H=Number((j==null?void 0:j.alliesDown)||0),J=Number((j==null?void 0:j.alliesDead)||0),oe=Number((j==null?void 0:j.totalOutgoingDamage)||0),je=Number((j==null?void 0:j.totalIncomingDamage)||0),te=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:j!=null&&j.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((j==null?void 0:j.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((j==null?void 0:j.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:J>0?O/J:O},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:O},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:I},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:J},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:H},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:oe-je},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:oe},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:je},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((j==null?void 0:j.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((j==null?void 0:j.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((j==null?void 0:j.alliesRevived)||0)}];return{id:String((j==null?void 0:j.id)||`fight-${N+1}`),shortLabel:`F${N+1}`,fullLabel:`${String((j==null?void 0:j.mapName)||(j==null?void 0:j.label)||"Unknown Map")}  ${String((j==null?void 0:j.duration)||"--:--")}`,mapName:String((j==null?void 0:j.mapName)||""),timestamp:Number((j==null?void 0:j.timestamp)||0),duration:String((j==null?void 0:j.duration)||"--:--"),isWin:!!(j!=null&&j.isWin),targetFocus:D,squadMetrics:te}});return{...m,fightBreakdown:b,fightDiffMode:S}},f=(()=>{if(t)return d(t);const m=a||V8,h=i!==!1,v=l.topSkillDamageSource||"target",x=l.topSkillsMetric||"damage",y=s.length;let b=0,w=0,S=0,j=0,N=0,A=0,P=0,U=0;const D=E=>{const V=((E==null?void 0:E.players)||[]).filter(Ie=>!Ie.notInSquad);let Z=0,ae=0,ue=0,Le=0;return V.forEach(Ie=>{var vt;const Ct=(vt=Ie.defenses)==null?void 0:vt[0];if(!Ct)return;const Ut=Number(Ct.downCount||0),$e=Number(Ct.deadCount||0);Z+=Ut+$e,ue+=$e}),V.forEach(Ie=>{!Ie.statsTargets||Ie.statsTargets.length===0||Ie.statsTargets.forEach(vt=>{const Ct=vt==null?void 0:vt[0];if(!Ct)return;const Ut=Number(Ct.downed||0),$e=Number(Ct.killed||0);ae+=Ut+$e,Le+=$e})}),{squadDownsDeaths:Z,enemyDownsDeaths:ae,squadDeaths:ue,enemyDeaths:Le}},I=E=>{const{squadDownsDeaths:V,enemyDownsDeaths:Z}=D(E);return V>0||Z>0?Z>V:typeof(E==null?void 0:E.success)=="boolean"?E.success:!1},O=new Map,H=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),J={},oe={},je=new Map,te={},W={},le={},k=new Map,F=new Map,T=new Set(Object.keys(Jc)),C=Object.keys(Jc).filter(E=>E&&E!=="Unknown").sort((E,V)=>V.length-E.length),B=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],R=E=>{if(!E)return"Unknown";const V=String(E).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(T.has(V))return V;const Z=V.toLowerCase();for(const ae of C)if(Z.includes(ae.toLowerCase()))return ae;return B.find(ae=>Z.includes(ae.toLowerCase()))||V||"Unknown"},G=E=>E!=null&&E.classification?E.classification==="Boon":!0,se=new Map,K=new Map,L=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),z=E=>{const V=Number(E);return Number.isFinite(V)?V:0},ne=E=>{const V=String(E).split("|"),Z=V[0]||"Unknown",ae=R(V[1]||"Unknown"),ue=V[2]||Z||"Unknown";return{name:Z,profession:ae,account:ue}},$=(E,V,Z)=>{let ae=E.get(V);return ae?Z.profession&&!ae.professionList.includes(Z.profession)&&ae.professionList.push(Z.profession):(ae={account:Z.account,name:Z.name,profession:Z.profession,professionList:Z.profession?[Z.profession]:[],activeMs:0,mitigationTotals:L()},E.set(V,ae)),ae},ie=(E,V,Z)=>{let ae=E.get(V);return ae?Z.profession&&!ae.professionList.includes(Z.profession)&&ae.professionList.push(Z.profession):(ae={account:Z.account,name:Z.name,profession:Z.profession,professionList:Z.profession?[Z.profession]:[],activeMs:0,mitigationTotals:L(),minion:Z.minion},E.set(V,ae)),ae},ge=(E,V)=>{E.totalHits+=z((V==null?void 0:V.skill_hits)??(V==null?void 0:V.skillHits)),E.blocked+=z(V==null?void 0:V.blocked),E.evaded+=z(V==null?void 0:V.evaded),E.glanced+=z(V==null?void 0:V.glanced),E.missed+=z(V==null?void 0:V.missed),E.invulned+=z(V==null?void 0:V.invulned),E.interrupted+=z(V==null?void 0:V.interrupted),E.totalMitigation+=z((V==null?void 0:V.avoided_damage)??(V==null?void 0:V.avoidedDamage)),E.minMitigation+=z((V==null?void 0:V.min_avoided_damage)??(V==null?void 0:V.minAvoidedDamage))},Y=E=>Object.values(E).some(V=>V>0),he=new Map,Pe=E=>{const V=he.get(E);if(!V)return{hasSkill:!1,avg:1,min:1,hits:0};const Z=V.connectedHits||0,ae=Z>0?V.totalDamage/Z:0,ue=V.minCount>0?V.minTotal/V.minCount:0;return{hasSkill:!0,avg:ae,min:ue,hits:Z}},mt=new Map,Yt=new Map,ye=(E,V,Z)=>{const ae=E.get(V)||L();return ae.totalHits+=Z.totalHits,ae.blocked+=Z.blocked,ae.evaded+=Z.evaded,ae.glanced+=Z.glanced,ae.missed+=Z.missed,ae.invulned+=Z.invulned,ae.interrupted+=Z.interrupted,E.set(V,ae),ae};s.forEach(E=>{const V=E.details;V&&(V.targets||[]).forEach(Z=>{const ae=(Z==null?void 0:Z.totalDamageDist)||[],ue=Array.isArray(ae)?ae[0]:null;ue==null||ue.forEach(Le=>{if(!(Le!=null&&Le.id))return;const Ie=Number(Le.id),vt=he.get(Ie)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};vt.totalDamage+=Number(Le.totalDamage||0),vt.connectedHits+=Number(Le.connectedHits||0);const Ct=Number.isFinite(Number(Le.min))?Number(Le.min):0;vt.minTotal+=Ct,vt.minCount+=1,he.set(Ie,vt)})})}),s.forEach(E=>{var V,Z;const ae=E.details;if(!ae)return;const ue=ae.players,Le=ae.targets||[],Ie=ae.combatReplayMetaData||{},vt=(Ie==null?void 0:Ie.inchToPixel)>0?Ie.inchToPixel:1,Ct=(Ie==null?void 0:Ie.pollingRate)>0?Ie.pollingRate:1,Ut=5e3,$e=re=>Array.isArray(re)?re.map(Oe=>Array.isArray(Oe)?[Number(Oe[0]),Number(Oe[1])]:null).filter(Oe=>!!Oe&&Number.isFinite(Oe[0])):[];let pe=[],me=ae.durationMS||0,tt=!1;const be=ue.find(re=>(re==null?void 0:re.hasCommanderTag)&&!(re!=null&&re.notInSquad));(V=be==null?void 0:be.combatReplayData)!=null&&V.positions&&(pe=be.combatReplayData.positions,$e(be.combatReplayData.dead).forEach(([re])=>{re>0&&(tt=!0,me=Math.min(me,re))}));const rt=re=>{var Oe;const ze=(Oe=re.statsAll)==null?void 0:Oe[0];if((ze==null?void 0:ze.distToCom)!==void 0&&(ze==null?void 0:ze.distToCom)!=="Infinity")return Math.round(Number(ze.distToCom));if((ze==null?void 0:ze.stackDist)!==void 0)return Math.round(Number(ze.stackDist))||0;if(re.hasCommanderTag)return 0;const gt=re.combatReplayData;if(!(gt!=null&&gt.positions)||!pe.length)return 0;const ht=gt.positions,Ve=$e(gt.dead),ot=$e(gt.down),Se=Math.floor((gt.start||0)/Ct);let qe=0;if(Ve.length&&ot.length)for(const[et]of Ve){if(et<0)continue;const at=Math.max(0,Math.floor(et/Ct))-Se;for(const[_e,ut]of ot){if(et!==ut)continue;const kt=tt&&_e>me?Math.max(1,Math.floor(me/Ct)):at,St=Math.max(0,Math.min(kt,ht.length,pe.length));if(St<=0)continue;let hn=0;for(let nn=0;nn<St;nn++){const[on,st]=ht[nn],[Dr,En]=pe[nn];hn+=Math.hypot(on-Dr,st-En)}qe=Math.round(hn/St/vt)}}return qe},nt=ue.filter(re=>!re.notInSquad);S+=nt.length,j+=Le.filter(re=>!re.isFake).length,U8(ue,{durationMS:ae.durationMS,buffMap:ae.buffMap});const{squadDeaths:bt,enemyDeaths:Me}=D(ae);N+=bt,A+=Me,U+=bt,P+=Me,I(ae)?b++:w++;const Ee=ae.skillMap?Number((Z=Object.keys(ae.skillMap).find(re=>{var Oe,ze;return((ze=(Oe=ae.skillMap)==null?void 0:Oe[re])==null?void 0:ze.name)==="Battle Standard"}))==null?void 0:Z.replace(/^s/,"")):null;ue.forEach((re,Oe)=>{var ze,gt,ht,Ve,ot,Se,qe,et,at,_e,ut,kt,St;if(re.notInSquad)return;const hn=re.account||"Unknown",nn=hn!=="Unknown"?hn:re.name||"Unknown",on=re.name||"Unknown";O.has(nn)||O.set(nn,{name:on,account:nn,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:re.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const st=O.get(nn);if(re.hasCommanderTag&&(st.isCommander=!0),on!=="Unknown"&&st.characterNames.add(String(on)),re.profession&&re.profession!=="Unknown"){st.profession=re.profession,st.professions.add(re.profession);const Ze=Array.isArray(re.activeTimes)&&typeof re.activeTimes[0]=="number"?re.activeTimes[0]:ae.durationMS||0;st.professionTimeMs[re.profession]=(st.professionTimeMs[re.profession]||0)+Ze}st.logsJoined++,st.downContrib+=rC(re),st.cleanses+=tC(re),st.strips+=nC(re,m),st.healing+=aC(re),st.barrier+=iC(re),st.cc+=oC(re,m),st.stab+=re.stabGeneration||0;const Dr=rt(re);Dr<=Ut&&(st.totalDist+=Dr,st.distCount++),(ze=re.defenses)!=null&&ze[0]&&(st.dodges+=re.defenses[0].dodgeCount||0,st.downs+=re.defenses[0].downCount||0,st.deaths+=re.defenses[0].deadCount||0),ae.durationMS&&(st.totalFightMs+=ae.durationMS);const En=Array.isArray(re.activeTimes)&&typeof re.activeTimes[0]=="number"?re.activeTimes[0]:ae.durationMS||0;st.squadActiveMs+=En;const Gn=Xr(ae,E),Rr=Number((ae==null?void 0:ae.durationMS)||0);if(Gn>0&&((st.firstSeenFightTs<=0||Gn<st.firstSeenFightTs)&&(st.firstSeenFightTs=Gn),st.lastSeenFightTs<=0||Gn>st.lastSeenFightTs?(st.lastSeenFightTs=Gn,st.lastSeenFightDurationMs=Rr):Gn===st.lastSeenFightTs&&Rr>st.lastSeenFightDurationMs&&(st.lastSeenFightDurationMs=Rr)),st.defenseActiveMs+=En,st.supportActiveMs+=En,st.healingActiveMs+=En,Array.isArray(re.buffUptimes)&&re.buffUptimes.length>0&&re.buffUptimes.forEach(Ze=>{var Ue,Ke,Fe,jt,Bt,gn;if(typeof(Ze==null?void 0:Ze.id)!="number")return;const Ht=`b${Ze.id}`,sn=((Ue=ae.buffMap)==null?void 0:Ue[Ht])||((Ke=ae.buffMap)==null?void 0:Ke[String(Ze.id)]);if(!sn||G(sn))return;const Fn=Number(((jt=(Fe=Ze.buffData)==null?void 0:Fe[0])==null?void 0:jt.uptime)??0),wa=Number(((gn=(Bt=Ze.buffData)==null?void 0:Bt[0])==null?void 0:gn.presence)??0);if((!Number.isFinite(Fn)||Fn<=0)&&(!Number.isFinite(wa)||wa<=0))return;const zn=(sn==null?void 0:sn.stacking)??!1,bu=(zn?Number.isFinite(Fn)?Fn:0:Number.isFinite(Fn)?Fn/100:0)*En,Tm=zn?wa:Fn,Xd=Math.min(Math.max(Number.isFinite(Tm)?Tm:0,0),100)/100*En,Un=Number.isFinite(bu)&&bu>0,Jd=Number.isFinite(Xd)&&Xd>0;if(!Un&&!Jd)return;const Cn=_u(sn==null?void 0:sn.name);if(Cn&&ZU.has(Cn)&&(!(sn!=null&&sn.classification)||sn.classification==="Condition")){const uo=bu/1e3,ai=sn==null?void 0:sn.icon,sc=te[Cn]||{name:Cn,icon:ai,applications:0,damage:0};sc.applicationsFromUptime=(sc.applicationsFromUptime||0)+uo,!sc.icon&&ai&&(sc.icon=ai),te[Cn]=sc;const lc=st.outgoingConditions[Cn]||{applications:0,damage:0,skills:{},icon:ai};lc.applicationsFromUptime=(lc.applicationsFromUptime||0)+uo,!lc.icon&&ai&&(lc.icon=ai),st.outgoingConditions[Cn]=lc;const cc=W[Cn]||{name:Cn,icon:ai,applications:0,damage:0};cc.applicationsFromUptime=(cc.applicationsFromUptime||0)+uo,!cc.icon&&ai&&(cc.icon=ai),W[Cn]=cc;const uc=st.incomingConditions[Cn]||{applications:0,damage:0,skills:{},icon:ai};uc.applicationsFromUptime=(uc.applicationsFromUptime||0)+uo,!uc.icon&&ai&&(uc.icon=ai),st.incomingConditions[Cn]=uc}k.has(Ht)||k.set(Ht,{name:sn==null?void 0:sn.name,stacking:zn,icon:sn==null?void 0:sn.icon}),F.has(Ht)||F.set(Ht,new Map);const xu=F.get(Ht),co=st.account||re.account||re.name||"Unknown";let $i=xu.get(co);$i||($i={account:co,profession:st.profession||re.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},xu.set(co,$i));const ll=re.profession||st.profession;ll&&ll!=="Unknown"&&($i.professions.add(ll),$i.professionTimeMs[ll]=($i.professionTimeMs[ll]||0)+En,$i.profession=ll),$i.totalMs+=Un?bu:0,$i.uptimeMs+=Jd?Xd:0,$i.durationMs+=En}),(gt=re.defenses)!=null&&gt[0]){const Ze=Ke=>{let Fe=String(Ke||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return Fe.toUpperCase().includes("UNKNOWN")&&(Fe="Unknown"),Fe},Ue=(()=>{const Ke=Array.isArray(re==null?void 0:re.minions)?re.minions:[];if(Ke.length===0)return{total:0,byMinion:{}};let Fe=0;const jt={};return Ke.forEach(Bt=>{const gn=Array.isArray(Bt==null?void 0:Bt.totalDamageTakenDist)?Bt.totalDamageTakenDist:[],Ht=Array.isArray(gn[0])?gn[0]:[],sn=Ze(Bt==null?void 0:Bt.name);Ht.forEach(Fn=>{const wa=Number((Fn==null?void 0:Fn.totalDamage)??(Fn==null?void 0:Fn.damageTaken)??0);Number.isFinite(wa)&&(Fe+=wa,jt[sn]=(jt[sn]||0)+wa)})}),{total:Fe,byMinion:jt}})();Ue.byMinion&&typeof Ue.byMinion=="object"&&Object.entries(Ue.byMinion).forEach(([Ke,Fe])=>{const jt=Number(Fe||0);!Number.isFinite(jt)||jt<=0||(st.defenseMinionDamageTaken[Ke]=(st.defenseMinionDamageTaken[Ke]||0)+jt)}),j3.forEach(Ke=>{const Fe=Ke.id==="minionDamageTaken"?Ue.total:Number(re.defenses[0][Ke.field]??0);Number.isFinite(Fe)&&(st.defenseTotals[Ke.id]=(st.defenseTotals[Ke.id]||0)+Fe)})}(ht=re.support)!=null&&ht[0]&&C3.forEach(Ze=>{let Ue=Number(re.support[0][Ze.field]??0);Number.isFinite(Ue)&&(H.has(Ze.field)&&Ue>999999&&(Ue=0),st.supportTotals[Ze.id]=(st.supportTotals[Ze.id]||0)+Ue)});const Pr=(Ze,Ue)=>{Number.isFinite(Ue)&&(st.healingTotals[Ze]=(st.healingTotals[Ze]||0)+Ue)},On=(Ze,Ue)=>Array.isArray(Ze)?Ze.reduce((Ke,Fe)=>Ke+Number((Fe==null?void 0:Fe[Ue])??0),0):0,Da=(Ze,Ue,Ke)=>{if(!Number.isFinite(Ke)||Ke<=0)return;const Fe=ue[Ue],jt=Ue===Oe,Bt=Fe==null?void 0:Fe.notInSquad,gn=!Bt,Ht=gn&&(Fe==null?void 0:Fe.group)!=null&&Fe.group===re.group;Pr(Ze,Ke),gn&&Pr(`squad${Ze[0].toUpperCase()}${Ze.slice(1)}`,Ke),Ht&&Pr(`group${Ze[0].toUpperCase()}${Ze.slice(1)}`,Ke),jt&&Pr(`self${Ze[0].toUpperCase()}${Ze.slice(1)}`,Ke),Bt&&Pr(`offSquad${Ze[0].toUpperCase()}${Ze.slice(1)}`,Ke)};if(Array.isArray(re.rotation)){let Ze=0;re.rotation.forEach(Ue=>{var Ke;if(!(Ue!=null&&Ue.id)||!r8(Ue.id,ae.skillMap))return;const Fe=((Ke=Ue.skills)==null?void 0:Ke.length)||0;Fe>0&&(Ze+=Fe,Pr(`resUtility_s${Ue.id}`,Fe))}),Ze>0&&Pr("resUtility",Ze)}const ia=(Ve=re.extHealingStats)==null?void 0:Ve.outgoingHealingAllies;Array.isArray(ia)&&ia.forEach((Ze,Ue)=>{const Ke=On(Ze,"healing"),Fe=On(Ze,"downedHealing");Da("healing",Ue,Ke),Da("downedHealing",Ue,Fe)});const Ri=(ot=re.extBarrierStats)==null?void 0:ot.outgoingBarrierAllies;Array.isArray(Ri)&&Ri.forEach((Ze,Ue)=>{const Ke=On(Ze,"barrier");Da("barrier",Ue,Ke)});const oc=(Se=re.statsAll)==null?void 0:Se[0],cs=(qe=re.dpsAll)==null?void 0:qe[0],vu=(et=re.support)==null?void 0:et[0];if(N3.forEach(Ze=>{if(Ze.id==="downContributionPercent"||!Ze.field)return;let Ue=0,Ke=0;Ze.source==="dpsAll"&&cs?Ue=Number(cs[Ze.field]??0):Ze.source==="statsAll"&&oc?(Ue=Number(oc[Ze.field]??0),Ke=Number(oc[Ze.denomField||Ze.weightField||"connectedDamageCount"]??0)):Ze.source==="support"&&vu?Ue=Number(vu[Ze.field]??0):re.statsTargets&&re.statsTargets.forEach(Fe=>{Fe!=null&&Fe[0]&&(Ue+=Number(Fe[0][Ze.field]??0),Ke+=Number(Fe[0][Ze.denomField||Ze.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Ue)&&(st.offenseTotals[Ze.id]=(st.offenseTotals[Ze.id]||0)+Ue,Ze.isRate&&Ke>0&&(st.offenseRateWeights[Ze.id]=(st.offenseRateWeights[Ze.id]||0)+Ke))}),re.targetDamageDist&&Number.isFinite(Ee)){const Ze=re.targetDamageDist.flatMap(Ue=>Ue||[]).flatMap(Ue=>Ue||[]).reduce((Ue,Ke)=>Ke!=null&&Ke.id&&Ke.id===Ee?Ue+((Ke==null?void 0:Ke.connectedHits)||0):Ue,0);st.offenseTotals.battleStandardHits=(st.offenseTotals.battleStandardHits||0)+Ze}st.revives+=((_e=(at=re.support)==null?void 0:at[0])==null?void 0:_e.resurrects)||0,cs&&(st.damage+=cs.damage||0,st.dps+=cs.dps||0);const sl=Ze=>{var Ue,Ke;let Fe=`Skill ${Ze.id}`;const jt=((Ue=ae.skillMap)==null?void 0:Ue[`s${Ze.id}`])||((Ke=ae.skillMap)==null?void 0:Ke[`${Ze.id}`]);let Bt=jt==null?void 0:jt.icon;jt!=null&&jt.name&&(Fe=jt.name);const gn=ld(ae.buffMap,Ze.id);if(Fe.startsWith("Skill ")&&gn!=null&&gn.name&&(Fe=gn.name,Bt=gn.icon||Bt),Fe.startsWith("Skill ")){const Ht=Yh(Fe,Ze.id,ae.buffMap);Ht&&(Fe=Ht,Bt=(gn==null?void 0:gn.icon)||Bt)}return{name:Fe,icon:Bt}},Lo=Ze=>{if(!(Ze!=null&&Ze.id))return;const{name:Ue,icon:Ke}=sl(Ze);J[Ze.id]||(J[Ze.id]={name:Ue,icon:Ke,damage:0,hits:0,downContribution:0}),J[Ze.id].name.startsWith("Skill ")&&!Ue.startsWith("Skill ")&&(J[Ze.id].name=Ue),!J[Ze.id].icon&&Ke&&(J[Ze.id].icon=Ke),J[Ze.id].damage+=Ze.totalDamage,J[Ze.id].hits+=Ze.connectedHits,J[Ze.id].downContribution+=Number(Ze.downContribution||0)},ba=re.account||re.name||"Unknown",ri=re.profession||"Unknown",xa=`${ba}|${ri}`;let Wa=je.get(xa);Wa||(Wa={key:xa,account:ba,displayName:ba,profession:ri,professionList:[ri],totalFightMs:0,skills:new Map},je.set(xa,Wa)),Wa.professionList.includes(ri)||Wa.professionList.push(ri),Wa.totalFightMs+=ae.durationMS||0;const In=Ze=>{if(!(Ze!=null&&Ze.id))return;const{name:Ue,icon:Ke}=sl(Ze),Fe=`s${Ze.id}`;let jt=Wa.skills.get(Fe);jt||(jt={id:Fe,name:Ue,icon:Ke,damage:0,downContribution:0},Wa.skills.set(Fe,jt)),jt.name.startsWith("Skill ")&&!Ue.startsWith("Skill ")&&(jt.name=Ue),!jt.icon&&Ke&&(jt.icon=Ke),jt.damage+=Number(Ze.totalDamage||0),jt.downContribution+=Number(Ze.downContribution||0)};if(v==="total")(ut=re.totalDamageDist)==null||ut.forEach(Ze=>{Ze==null||Ze.forEach(Ue=>{Lo(Ue),In(Ue)})});else{const Ze=new Map;(kt=re.targetDamageDist)==null||kt.forEach(Ue=>{Ue==null||Ue.forEach(Ke=>{Ke==null||Ke.forEach(Fe=>{const jt=Number(Fe==null?void 0:Fe.id);if(Number.isFinite(jt)){const Bt=Ze.get(jt)||{damage:0,hits:0,downContribution:0};Bt.damage+=Number((Fe==null?void 0:Fe.totalDamage)||0),Bt.hits+=Number((Fe==null?void 0:Fe.connectedHits)||0),Bt.downContribution+=Number((Fe==null?void 0:Fe.downContribution)||0),Ze.set(jt,Bt)}Lo(Fe),In(Fe)})})}),!(ae!=null&&ae.detailedWvW)&&((St=re.totalDamageDist)==null||St.forEach(Ue=>{Ue==null||Ue.forEach(Ke=>{const Fe=Number(Ke==null?void 0:Ke.id);if(!Number.isFinite(Fe))return;const jt=Ze.get(Fe);if(!jt){Lo(Ke),In(Ke);return}const Bt=Number((Ke==null?void 0:Ke.totalDamage)||0),gn=Number((Ke==null?void 0:Ke.connectedHits)||0),Ht=Number((Ke==null?void 0:Ke.downContribution)||0),sn=Bt-Number(jt.damage||0),Fn=gn-Number(jt.hits||0),wa=Ht-Number(jt.downContribution||0);if(sn<=0&&Fn<=0&&wa<=0)return;const zn={...Ke,totalDamage:Math.max(0,sn),connectedHits:Math.max(0,Fn),downContribution:Math.max(0,wa)};Lo(zn),In(zn)})}))}re.totalDamageTaken&&re.totalDamageTaken.forEach(Ze=>{Ze==null||Ze.forEach(Ue=>{var Ke,Fe;if(!(Ue!=null&&Ue.id))return;let jt=`Skill ${Ue.id}`;const Bt=((Ke=ae.skillMap)==null?void 0:Ke[`s${Ue.id}`])||((Fe=ae.skillMap)==null?void 0:Fe[`${Ue.id}`]);let gn=Bt==null?void 0:Bt.icon;Bt!=null&&Bt.name&&(jt=Bt.name);const Ht=ld(ae.buffMap,Ue.id);if(jt.startsWith("Skill ")&&Ht!=null&&Ht.name&&(jt=Ht.name,gn=Ht.icon||gn),jt.startsWith("Skill ")){const sn=Yh(jt,Ue.id,ae.buffMap);sn&&(jt=sn,gn=(Ht==null?void 0:Ht.icon)||gn)}oe[Ue.id]||(oe[Ue.id]={name:jt,icon:gn,damage:0,hits:0}),(!oe[Ue.id].name.startsWith("Skill ")||jt.startsWith("Skill "))&&(oe[Ue.id].name=jt),!oe[Ue.id].icon&&gn&&(oe[Ue.id].icon=gn),oe[Ue.id].damage+=Ue.totalDamage,oe[Ue.id].hits+=Ue.hits})})}),Le.forEach(re=>{if(re!=null&&re.isFake)return;const Oe=R((re==null?void 0:re.profession)||(re==null?void 0:re.name)||(re==null?void 0:re.id));Oe&&(le[Oe]=(le[Oe]||0)+1)});const Ce=G8({players:ue,targets:Le,skillMap:ae.skillMap,buffMap:ae.buffMap,getPlayerKey:re=>re.account&&re.account!=="Unknown"?re.account:re.name||null}),Te=z3(ae.buffMap);Object.entries(Ce.playerConditions).forEach(([re,Oe])=>{const ze=O.get(re);ze&&Object.entries(Oe).forEach(([gt,ht])=>{const Ve=ze.outgoingConditions[gt]||{applications:0,damage:0,skills:{},icon:ht.icon};Ve.applications+=Number(ht.applications||0),Ve.damage+=Number(ht.damage||0),ht.applicationsFromBuffs&&(Ve.applicationsFromBuffs=(Ve.applicationsFromBuffs||0)+ht.applicationsFromBuffs),ht.applicationsFromBuffsActive&&(Ve.applicationsFromBuffsActive=(Ve.applicationsFromBuffsActive||0)+ht.applicationsFromBuffsActive),Object.entries(ht.skills||{}).forEach(([ot,Se])=>{const qe=Ve.skills[ot]||{name:Se.name,hits:0,damage:0,icon:Se.icon};qe.hits+=Number(Se.hits||0),qe.damage+=Number(Se.damage||0),!qe.icon&&Se.icon&&(qe.icon=Se.icon),Ve.skills[ot]=qe}),!Ve.icon&&ht.icon&&(Ve.icon=ht.icon),ze.outgoingConditions[gt]=Ve})}),Object.entries(Ce.summary).forEach(([re,Oe])=>{const ze=te[re]||{name:Oe.name||re,icon:Oe.icon,applications:0,damage:0};ze.applications+=Number(Oe.applications||0),ze.damage+=Number(Oe.damage||0),Oe.applicationsFromBuffs&&(ze.applicationsFromBuffs=(ze.applicationsFromBuffs||0)+Oe.applicationsFromBuffs),Oe.applicationsFromBuffsActive&&(ze.applicationsFromBuffsActive=(ze.applicationsFromBuffsActive||0)+Oe.applicationsFromBuffsActive),!ze.icon&&Oe.icon&&(ze.icon=Oe.icon),te[re]=ze}),nt.forEach(re=>{const Oe=re.account&&re.account!=="Unknown"?re.account:re.name||"Unknown",ze=O.get(Oe);!ze||!re.totalDamageTaken||re.totalDamageTaken.forEach(gt=>gt==null?void 0:gt.forEach(ht=>{var Ve,ot;if(!(ht!=null&&ht.id))return;let Se=`Skill ${ht.id}`;const qe=((Ve=ae.skillMap)==null?void 0:Ve[`s${ht.id}`])||((ot=ae.skillMap)==null?void 0:ot[`${ht.id}`]);qe!=null&&qe.name&&(Se=qe.name);const et=ld(ae.buffMap,ht.id);Se.startsWith("Skill ")&&et!=null&&et.name&&(Se=et.name);const at=Yh(Se,ht.id,ae.buffMap);if(!at)return;const _e=et==null?void 0:et.name,ut=Te.get(at)||(et==null?void 0:et.icon),kt=(qe==null?void 0:qe.icon)||(et==null?void 0:et.icon)||ut;Se.startsWith("Skill ")&&(_e||at)&&(Se=_e||at);const St=Number(ht.hits??0),hn=Number(ht.totalDamage??0),nn=W[at]||{name:at,icon:ut,applications:0,damage:0};nn.applications+=Number.isFinite(St)?St:0,nn.damage+=Number.isFinite(hn)?hn:0,!nn.icon&&ut&&(nn.icon=ut),W[at]=nn;const on=ze.incomingConditions[at]||{applications:0,damage:0,skills:{},icon:ut};on.applications+=Number.isFinite(St)?St:0,on.damage+=Number.isFinite(hn)?hn:0;const st=on.skills[Se]||{name:Se,hits:0,damage:0,icon:kt};st.hits+=Number.isFinite(St)?St:0,st.damage+=Number.isFinite(hn)?hn:0,!st.icon&&kt&&(st.icon=kt),on.skills[Se]=st,!on.icon&&ut&&(on.icon=ut),ze.incomingConditions[at]=on}))});const He=ae.player_damage_mitigation||ae.playerDamageMitigation,ve=He&&typeof He=="object"&&Object.keys(He).length>0;ve&&Object.entries(He).forEach(([re,Oe])=>{if(!Oe||typeof Oe!="object")return;const ze=ne(re),gt=$(se,ze.account,ze);Object.values(Oe).forEach(ht=>{z((ht==null?void 0:ht.avoided_damage)??(ht==null?void 0:ht.avoidedDamage))<=0||ge(gt.mitigationTotals,ht)})});const Be=ae.player_minion_damage_mitigation||ae.playerMinionDamageMitigation,Ye=Be&&typeof Be=="object"&&Object.keys(Be).length>0;Ye&&Object.entries(Be).forEach(([re,Oe])=>{if(!Oe||typeof Oe!="object")return;const ze=ne(re);Object.entries(Oe).forEach(([gt,ht])=>{if(!ht||typeof ht!="object")return;const Ve=`${ze.account}::${gt}`,ot=ie(K,Ve,{...ze,minion:String(gt||"Unknown")});Object.values(ht).forEach(Se=>{ge(ot.mitigationTotals,Se)})})}),(!ve||!Ye)&&(ve||nt.forEach(re=>{const Oe=(re==null?void 0:re.totalDamageTaken)||[];if(!Array.isArray(Oe)||Oe.length===0)return;const ze=re.account||re.name||"Unknown",gt={account:ze,name:re.name||ze,profession:R(re.profession||"Unknown")};$(se,ze,gt);const ht=Array.isArray(Oe)?Oe[0]:null;ht==null||ht.forEach(Ve=>{if(!(Ve!=null&&Ve.id))return;const ot=z(Ve.blocked),Se=z(Ve.evaded),qe=z(Ve.glance??Ve.glanced),et=z(Ve.missed),at=z(Ve.invulned),_e=z(Ve.interrupted),ut=z(Ve.hits??Ve.connectedHits),kt=Number(Ve.id);ye(mt,`${ze}::${kt}`,{totalHits:ut,blocked:ot,evaded:Se,glanced:qe,missed:et,invulned:at,interrupted:_e})})}),Ye||nt.forEach(re=>{const Oe=(re==null?void 0:re.minions)||[];if(!Array.isArray(Oe)||Oe.length===0)return;const ze=re.account||re.name||"Unknown",gt={account:ze,name:re.name||ze,profession:R(re.profession||"Unknown")};Oe.forEach(ht=>{const Ve=(ht==null?void 0:ht.totalDamageTakenDist)||[];if(!Array.isArray(Ve)||Ve.length===0)return;let ot=String((ht==null?void 0:ht.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";ot.toUpperCase().includes("UNKNOWN")&&(ot="Unknown");const Se=`${ze}::${ot}`;ie(K,Se,{...gt,minion:ot});const qe=Array.isArray(Ve)?Ve[0]:null;qe==null||qe.forEach(et=>{if(!(et!=null&&et.id))return;const at=z(et.blocked),_e=z(et.evaded),ut=z(et.glance??et.glanced),kt=z(et.missed),St=z(et.invulned),hn=z(et.interrupted),nn=z(et.hits??et.connectedHits),on=Number(et.id);ye(Yt,`${Se}::${on}`,{totalHits:nn,blocked:at,evaded:_e,glanced:ut,missed:kt,invulned:St,interrupted:hn})})})}))});const fe=(E,V)=>{const Z=new Map,ae=ue=>{let Le=Z.get(ue);return Le||(Le=L(),Z.set(ue,Le)),Le};V.forEach((ue,Le)=>{const Ie=Le.lastIndexOf("::"),vt=Ie>-1?Le.slice(0,Ie):Le,Ct=Ie>-1?Number(Le.slice(Ie+2)):Number.NaN,Ut=Number.isFinite(Ct)?Pe(Ct):{hasSkill:!1,avg:0,min:0,hits:0};if(!Ut.hasSkill||Ut.hits<=0)return;const $e=Ut.avg,pe=Ut.min,me=ue.glanced*$e/2+(ue.blocked+ue.evaded+ue.missed+ue.invulned+ue.interrupted)*$e,tt=ue.glanced*pe/2+(ue.blocked+ue.evaded+ue.missed+ue.invulned+ue.interrupted)*pe;if(me<=0)return;const be=ae(vt);be.totalHits+=ue.totalHits,be.blocked+=ue.blocked,be.evaded+=ue.evaded,be.glanced+=ue.glanced,be.missed+=ue.missed,be.invulned+=ue.invulned,be.interrupted+=ue.interrupted,be.totalMitigation+=me,be.minMitigation+=tt}),E.forEach((ue,Le)=>{const Ie=Z.get(Le)||L();ue.mitigationTotals.totalHits=Ie.totalHits,ue.mitigationTotals.blocked=Ie.blocked,ue.mitigationTotals.evaded=Ie.evaded,ue.mitigationTotals.glanced=Ie.glanced,ue.mitigationTotals.missed=Ie.missed,ue.mitigationTotals.invulned=Ie.invulned,ue.mitigationTotals.interrupted=Ie.interrupted,ue.mitigationTotals.totalMitigation=Ie.totalMitigation,ue.mitigationTotals.minMitigation=Ie.minMitigation})};fe(se,mt),fe(K,Yt);const ke=y>0?Math.round(S/y):0,Xe=y>0?Math.round(j/y):0,Nt=N>0?(A/N).toFixed(2):A>0?"":"0.00",pn=P>0?(U/P).toFixed(2):U>0?"":"0.00",q=(E,V)=>{const Z=E.filter(Le=>Number.isFinite(Le.value)&&(V?Le.value>0:Le.value>=0)).sort((Le,Ie)=>{const vt=V?Ie.value-Le.value:Le.value-Ie.value;return vt!==0?vt:Le.account.localeCompare(Ie.account)});let ae=null,ue=0;return Z.map((Le,Ie)=>((ae===null||Le.value!==ae)&&(ue=Ie+1,ae=Le.value),{rank:ue,...Le}))},Qe=Array.from(O.values()).map(E=>{const V=Array.from(E.professions).filter(Z=>Z!=="Unknown");if(E.professionList=V,V.length>0){let Z=V[0],ae=E.professionTimeMs[Z]||0;V.forEach(ue=>{const Le=E.professionTimeMs[ue]||0;Le>ae&&(ae=Le,Z=ue)}),E.profession=Z}return{key:E.account,stat:E}}),Pt=E=>{const V=O.get(E.account);if(!V){const ue=E.professionList.length>0?E.professionList:E.profession?[E.profession]:[];return{...E,professionList:ue}}const Z=V.professionList&&V.professionList.length>0?V.professionList:Array.from(V.professions||[]).filter(ue=>ue&&ue!=="Unknown"),ae=V.profession||E.profession;return{...E,profession:ae,professionList:Z.length>0?Z:ae?[ae]:[],activeMs:V.defenseActiveMs||V.totalFightMs||E.activeMs}},Zt=Array.from(se.values()).map(Pt).filter(E=>Y(E.mitigationTotals)).sort((E,V)=>E.account.localeCompare(V.account)),Sn=Array.from(K.values()).map(Pt).filter(E=>E.mitigationTotals.totalMitigation>0).sort((E,V)=>{const Z=E.account.localeCompare(V.account);return Z!==0?Z:String(E.minion||"").localeCompare(String(V.minion||""))}),Qn=(E,V)=>{switch(V){case"downContrib":return E.downContrib;case"barrier":return E.barrier;case"healing":return E.healing;case"dodges":return E.dodges;case"strips":return E.strips;case"cleanses":return E.cleanses;case"cc":return E.cc;case"stability":return E.stab;case"revives":return E.revives;case"dps":return E.dps;case"damage":return E.damage;case"participation":return E.logsJoined;case"closestToTag":return!E.isCommander&&E.distCount>0?E.totalDist/E.distCount:Number.POSITIVE_INFINITY;default:return 0}},bn=(E,V)=>q(Qe.map(({stat:Z})=>({account:Z.account,profession:Z.profession,professionList:Z.professionList,value:Qn(Z,E),count:Z.logsJoined})),V),un={downContrib:bn("downContrib",!0),barrier:bn("barrier",!0),healing:bn("healing",!0),dodges:bn("dodges",!0),strips:bn("strips",!0),cleanses:bn("cleanses",!0),cc:bn("cc",!0),stability:bn("stability",!0),revives:bn("revives",!0),participation:bn("participation",!0),dps:bn("dps",!0),damage:bn("damage",!0),closestToTag:bn("closestToTag",!1).filter(E=>Number.isFinite(E.value))},Aa={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},mn=E=>{const V=E==null?void 0:E[0];return{value:(V==null?void 0:V.value)??0,player:(V==null?void 0:V.account)??"-",count:(V==null?void 0:V.count)??0,profession:(V==null?void 0:V.profession)??"Unknown",professionList:(V==null?void 0:V.professionList)??[]}},Ln={maxDownContrib:mn([]),maxBarrier:mn([]),maxHealing:mn([]),maxDodges:mn([]),maxStrips:mn([]),maxCleanses:mn([]),maxCC:mn([]),maxStab:mn([]),closestToTag:mn([])},yr={},er=(E,V)=>{if(V==="closestToTag")return Qn(E,V);const Z=Math.max(1,(E.totalFightMs||0)/1e3);return Qn(E,V)/Z};Object.values(Aa).forEach(E=>{const V=E!=="closestToTag";yr[E]=q(Qe.map(({stat:Z})=>({account:Z.account,profession:Z.profession,professionList:Z.professionList,value:er(Z,E),count:Z.logsJoined})),V)}),Ln.maxDownContrib=mn(yr.downContrib),Ln.maxBarrier=mn(yr.barrier),Ln.maxHealing=mn(yr.healing),Ln.maxDodges=mn(yr.dodges),Ln.maxStrips=mn(yr.strips),Ln.maxCleanses=mn(yr.cleanses),Ln.maxCC=mn(yr.cc),Ln.maxStab=mn(yr.stability),Ln.closestToTag=mn(yr.closestToTag);const hu={maxDownContrib:mn(un.downContrib),maxBarrier:mn(un.barrier),maxHealing:mn(un.healing),maxDodges:mn(un.dodges),maxStrips:mn(un.strips),maxCleanses:mn(un.cleanses),maxCC:mn(un.cc),maxStab:mn(un.stability),closestToTag:mn(un.closestToTag)};let ya={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Fr,Fi,nl=0;if(l!=null&&l.showMvp){const E={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},V=Le=>{const Ie=E[Le];return Ie?Number(u[Ie]||0)>0:!1},Z=[],ae=Le=>[...Le||[]].filter(Ie=>V(Ie==null?void 0:Ie.name)).sort((Ie,vt)=>vt.ratio-Ie.ratio||Ie.rank-vt.rank||Ie.name.localeCompare(vt.name)).slice(0,3),ue=Le=>{var Ie;if(!Le)return;const vt=ae(Le.contribs);return{...Le,player:Le.name,reason:((Ie=vt[0])==null?void 0:Ie.name)||"Top Performance",topStats:vt}};Qe.forEach(({stat:Le})=>{let Ie=0;const vt=[],Ct=(Ut,$e,pe,me,tt=!0)=>{var be,rt;if(pe<=0)return;const nt=((be=$e[0])==null?void 0:be.value)||0;if(nt&&Number.isFinite(Ut)&&(tt?Ut>0:Ut<Number.POSITIVE_INFINITY)){const bt=tt?Ut/nt:nt/Ut;Ie+=bt*pe;const Me=((rt=$e.find(Ee=>Ee.account===Le.account))==null?void 0:rt.rank)||0;vt.push({name:me,ratio:bt,val:Ut.toLocaleString(),rank:Me})}};Ct(Le.downContrib,un.downContrib,u.downContribution,"Down Contribution"),Ct(Le.healing,un.healing,u.healing,"Healing"),Ct(Le.cleanses,un.cleanses,u.cleanses,"Cleanses"),Ct(Le.strips,un.strips,u.strips,"Strips"),Ct(Le.stab,un.stability,u.stability,"Stability"),Ct(Le.cc,un.cc,u.cc,"CC"),Ct(Le.revives,un.revives,u.revives,"Revives"),Ct(Qn(Le,"closestToTag"),un.closestToTag,u.distanceToTag,"Distance to Tag",!1),Ct(Le.logsJoined,un.participation,u.participation,"Participation"),Ct(Le.dodges,un.dodges,u.dodging,"Dodging"),Ct(Le.dps,un.dps,u.dps,"DPS"),Ct(Le.damage,un.damage,u.damage,"Damage"),Z.push({...Le,score:Ie,contribs:vt.filter(Ut=>V(Ut.name))})}),Z.sort((Le,Ie)=>Ie.score-Le.score),Z[0]&&Z[0].score>0&&(ya=ue(Z[0])||ya),Fr=ue(Z[1]),Fi=ue(Z[2]),nl=Z.length>0?Z.reduce((Le,Ie)=>Le+Ie.score,0)/Z.length:0}const rl=Object.values(J).sort((E,V)=>V.damage-E.damage||V.hits-E.hits||String(E.name||"").localeCompare(String(V.name||""))).slice(0,25),Ea=Object.values(J).sort((E,V)=>V.downContribution-E.downContribution||V.hits-E.hits||String(E.name||"").localeCompare(String(V.name||""))).slice(0,25),os=x==="downContribution"?Ea:rl,va=Object.values(oe).sort((E,V)=>V.damage-E.damage).slice(0,25),yi=E=>{const V=String(E).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Z=V.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return Z?`${Z[1]} Borderlands`:V||"Unknown"},ti=(E,V)=>yi((E==null?void 0:E.zone)||(E==null?void 0:E.mapName)||(E==null?void 0:E.map)||(E==null?void 0:E.location)||(E==null?void 0:E.fightName)||(V==null?void 0:V.fightName)||(V==null?void 0:V.encounterName)||"Unknown"),al=(E,V)=>{const Z=(V==null?void 0:V.permalink)||(E==null?void 0:E.permalink);if(typeof Z=="string"&&Z.trim().length>0)return Z.trim();const ae=E==null?void 0:E.uploadLinks;if(!Array.isArray(ae))return"";for(const ue of ae){if(typeof ue=="string"&&ue.trim().length>0)return ue.trim();if(ue&&typeof ue=="object"){const Le=ue.permalink||ue.link||ue.url||ue.reportLink;if(typeof Le=="string"&&Le.trim().length>0)return Le.trim()}}return""},il=(E,V)=>{const Z=Number((E==null?void 0:E.durationMS)||0);return Z>0?ch(Z):(typeof(V==null?void 0:V.encounterDuration)=="string"?V.encounterDuration.trim():"")||"--:--"},Va=(E,V)=>{if((Array.isArray(E==null?void 0:E.players)?E.players:[]).length>0)return I(E);if(typeof(E==null?void 0:E.success)=="boolean")return E.success;const Z=V==null?void 0:V.dashboardSummary;if(Z&&typeof Z=="object"){if(Z.isWin===!0)return!0;if(Z.isWin===!1)return!1}return null},ni=(E,V)=>{var Z,ae;const ue=Xr((Z=E.log)==null?void 0:Z.details,E.log),Le=Xr((ae=V.log)==null?void 0:ae.details,V.log),Ie=ue>0,vt=Le>0;return Ie&&vt&&ue!==Le?ue-Le:Ie!==vt?Ie?-1:1:E.originalIndex-V.originalIndex},dr=e.map((E,V)=>({log:E,originalIndex:V})).sort(ni),ss=dr.filter(({log:E})=>o(E)),ls={};s.forEach(E=>{const V=ti(E==null?void 0:E.details,E);ls[V]=(ls[V]||0)+1});const gu=Object.entries(ls).map(([E,V])=>{const Z=String(E).trim(),ae=/eternal battlegrounds|^ebg$/i.test(Z);let ue="#64748b";return ae?ue="#ffffff":/red/i.test(Z)?ue="#ef4444":/blue/i.test(Z)?ue="#3b82f6":/green/i.test(Z)&&(ue="#22c55e"),{name:E,value:V,color:ue}}).sort((E,V)=>V.value-E.value),{boonTables:Kr}=P8(s),ac=(()=>{const E=pe=>String(pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=pe=>E(pe).toLowerCase().split(/[^a-z0-9]+/i).map(me=>me.trim()).filter(Boolean).map(me=>me.length>3&&me.endsWith("s")?me.slice(0,-1):me),Z=(pe,me)=>{const tt=E(pe),be=E(me);if(!be)return tt;if(!tt)return be;const rt=V(tt),nt=V(be),bt=new Set(rt),Me=new Set(nt),Ee=nt.length>0&&nt.every(Te=>bt.has(Te)),Ce=rt.length>0&&rt.every(Te=>Me.has(Te));return Ee||Ce?tt:`${tt} - ${be}`},ae=new Map,ue=(pe,me)=>{if(!ae.has(pe))ae.set(pe,{id:pe,name:String((me==null?void 0:me.name)||pe),icon:me==null?void 0:me.icon,stacking:!!(me!=null&&me.stacking),players:new Map,fights:[]});else if(me){const tt=ae.get(pe);(!tt.name||tt.name===pe)&&me!=null&&me.name&&(tt.name=String(me.name)),!tt.icon&&me!=null&&me.icon&&(tt.icon=String(me.icon)),!tt.stacking&&me!=null&&me.stacking&&(tt.stacking=!0)}return ae.get(pe)},Le=pe=>Array.isArray(pe)?pe.map(me=>Array.isArray(me)?[Number(me[0]),Number(me[1])]:me&&typeof me=="object"?[Number(me.time),Number(me.value)]:null).filter(me=>!!me&&Number.isFinite(me[0])&&Number.isFinite(me[1])&&me[0]>=0).sort((me,tt)=>me[0]-tt[0]):[],Ie=(pe,me,tt)=>{const be=pe.get(me)||[];be.length<tt&&(be.length=tt);for(let rt=0;rt<tt;rt+=1)Number.isFinite(be[rt])||(be[rt]=0);return pe.set(me,be),be},vt=(pe,me,tt,be,rt)=>{if(!me||me==="__all__"||be<=0)return;const nt=Le(tt);if(nt.length===0)return;const bt=Ie(pe,me,be),Me=Math.max(1,Number(rt||0),be*5e3),Ee=ve=>Math.max(0,Math.min(Me,Number(ve||0))),Ce=(ve,Be,Ye)=>{if(!Number.isFinite(Ye)||Ye<=0)return;let re=Ee(ve);const Oe=Ee(Be);if(!(Oe<=re))for(;re<Oe;){const ze=Math.max(0,Math.min(be-1,Math.floor(re/5e3))),gt=Math.min(Oe,(ze+1)*5e3),ht=Math.max(0,gt-re);ht>0&&(bt[ze]=Number(bt[ze]||0)+ht*Ye),re=gt}};let Te=Ee(nt[0][0]),He=Math.max(0,Number(nt[0][1]||0));for(let ve=1;ve<nt.length;ve+=1){const[Be,Ye]=nt[ve],re=Ee(Be);Ce(Te,re,He),Te=re,He=Math.max(0,Number(Ye||0))}Ce(Te,Me,He)},Ct=(pe,me,tt)=>{const be=Array.from({length:tt},(bt,Me)=>Number((pe==null?void 0:pe[Me])||0)),rt=be.reduce((bt,Me)=>bt+Number(Me||0),0);if(!Number.isFinite(me)||me<=0)return be.map(()=>0);if(!Number.isFinite(rt)||rt<=0){const bt=me/Math.max(1,tt);return be.map(()=>bt)}const nt=me/rt;return be.map(bt=>Number(bt||0)*nt)},Ut=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),$e=(pe,me,tt)=>{const be=Math.max(0,Number(tt||0));be&&(pe[me]=Number(pe[me]||0)+be,(me==="selfBuffs"||me==="squadBuffs")&&(pe.totalBuffs=Number(pe.totalBuffs||0)+be))};return s.map(pe=>({log:pe,ts:Xr(pe==null?void 0:pe.details,pe)})).sort((pe,me)=>pe.ts-me.ts).forEach(({log:pe},me)=>{const tt=pe==null?void 0:pe.details;if(!tt)return;const be=(Array.isArray(tt.players)?tt.players:[]).filter(Oe=>!(Oe!=null&&Oe.notInSquad)),rt=be.length;if(rt<=0)return;const nt=Math.max(0,Number((tt==null?void 0:tt.durationMS)||0)),bt=Math.max(1,Math.ceil(Math.max(1,nt)/5e3)),Me=tt!=null&&tt.buffMap&&typeof tt.buffMap=="object"?tt.buffMap:{},Ee=new Map,Ce=new Map;be.forEach(Oe=>{const ze=Number((Oe==null?void 0:Oe.group)??0);Ce.set(ze,(Ce.get(ze)||0)+1);const gt=String((Oe==null?void 0:Oe.account)||(Oe==null?void 0:Oe.name)||"Unknown");[Oe==null?void 0:Oe.name,Oe==null?void 0:Oe.display_name,Oe==null?void 0:Oe.character_name,Oe==null?void 0:Oe.account].map(ht=>String(ht||"").trim()).filter(Boolean).forEach(ht=>Ee.set(ht,gt))});const Te=E(tt.fightName||pe.fightName||`Fight ${me+1}`),He=ti(tt,pe),ve=Z(Te,String(He||"")),Be=new Map,Ye=new Map,re=new Map;be.forEach(Oe=>{const ze=String((Oe==null?void 0:Oe.account)||(Oe==null?void 0:Oe.name)||"Unknown"),gt=String((Oe==null?void 0:Oe.profession)||"Unknown"),ht=ze,Ve=Number((Oe==null?void 0:Oe.group)??0),ot=Math.max(1,Number(Ce.get(Ve)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(Se=>{(Array.isArray(Oe==null?void 0:Oe[Se])?Oe[Se]:[]).forEach(qe=>{var et;const at=Number(qe==null?void 0:qe.id);if(!Number.isFinite(at))return;const _e=`b${at}`,ut=Me[_e]||{},kt=String((ut==null?void 0:ut.classification)||"");if(kt&&kt!=="Boon")return;const St=Number(((et=Qx(Oe,Se,at,nt,ot,rt,Me))==null?void 0:et.generationMs)||0);if(!Number.isFinite(St)||St<=0)return;const hn=ue(_e,ut),nn=hn.players.get(ht)||{key:ht,account:ze,displayName:ze,profession:gt,professionList:gt&&gt!=="Unknown"?[gt]:[],logs:0,totals:Ut()};gt&&gt!=="Unknown"&&!nn.professionList.includes(gt)&&nn.professionList.push(gt),(!nn.profession||nn.profession==="Unknown")&&gt&&gt!=="Unknown"&&(nn.profession=gt);const on=re.get(_e)||new Set;on.has(ht)||(on.add(ht),nn.logs+=1,re.set(_e,on)),$e(nn.totals,Se,St),hn.players.set(ht,nn);const st=hn.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:Ut()};$e(st.totals,Se,St),hn.players.set("__all__",st);const Dr=Be.get(_e)||new Map,En=Dr.get(ht)||Ut();$e(En,Se,St),Dr.set(ht,En);const Gn=Dr.get("__all__")||Ut();$e(Gn,Se,St),Dr.set("__all__",Gn),Be.set(_e,Dr);const Rr=Array.isArray(Oe==null?void 0:Oe.buffUptimes)?Oe.buffUptimes.find(On=>Number(On==null?void 0:On.id)===at):null,Pr=Rr!=null&&Rr.statesPerSource&&typeof Rr.statesPerSource=="object"?Rr.statesPerSource:null;if(Pr){const On=Ye.get(_e)||new Map;Object.entries(Pr).forEach(([Da,ia])=>{const Ri=Ee.get(String(Da||"").trim());Ri&&vt(On,Ri,ia,bt,nt)}),Ye.set(_e,On)}})})}),Be.forEach((Oe,ze)=>{const gt=ae.get(ze);if(!gt)return;const ht=Ye.get(ze)||new Map,Ve={};let ot=Array.from({length:bt},()=>0),Se=0;Oe.forEach((_e,ut)=>{const kt={selfBuffs:Number((_e==null?void 0:_e.selfBuffs)||0),groupBuffs:Number((_e==null?void 0:_e.groupBuffs)||0),squadBuffs:Number((_e==null?void 0:_e.squadBuffs)||0),totalBuffs:Number((_e==null?void 0:_e.totalBuffs)||0)},St=Math.max(0,Number(kt.totalBuffs||0));if(!Number.isFinite(St)||St<=0)return;const hn=ht.get(ut)||[],nn=Ct(hn,St,bt);Ve[ut]={total:St,totals:kt,bucketWeights5s:Array.from({length:bt},(on,st)=>Number(hn[st]||0)),buckets5s:nn},ut!=="__all__"&&(St>Se&&(Se=St),ot=ot.map((on,st)=>Number(on||0)+Number(nn[st]||0)))});const qe=Oe.get("__all__"),et=Number((qe==null?void 0:qe.totalBuffs)||0);if(et>0&&(Ve.__all__={total:et,totals:{selfBuffs:Number((qe==null?void 0:qe.selfBuffs)||0),groupBuffs:Number((qe==null?void 0:qe.groupBuffs)||0),squadBuffs:Number((qe==null?void 0:qe.squadBuffs)||0),totalBuffs:Number((qe==null?void 0:qe.totalBuffs)||0)},bucketWeights5s:Array.from({length:bt},(_e,ut)=>Number((ht.get("__all__")||[])[ut]||0)),buckets5s:ot.some(_e=>Number(_e||0)>0)?ot:Ct(ht.get("__all__")||[],et,bt)}),Object.keys(Ve).length===0)return;const at=gt.players.get("__all__");at&&(at.logs+=1,gt.players.set("__all__",at)),gt.fights.push({id:pe.filePath||pe.id||`fight-${me+1}`,shortLabel:`F${me+1}`,fullLabel:ve,timestamp:Xr(tt,pe),durationMs:nt,values:Ve,maxTotal:Se})})}),Array.from(ae.values()).map(pe=>({id:pe.id,name:pe.name||pe.id,icon:pe.icon,stacking:pe.stacking,players:Array.from(pe.players.values()).sort((me,tt)=>{var be,rt;if(me.key==="__all__")return-1;if(tt.key==="__all__")return 1;const nt=Number(((be=tt.totals)==null?void 0:be.totalBuffs)||0)-Number(((rt=me.totals)==null?void 0:rt.totalBuffs)||0);return nt!==0?nt:String(me.displayName||"").localeCompare(String(tt.displayName||""))}),fights:[...pe.fights].sort((me,tt)=>me.timestamp>0&&tt.timestamp>0&&me.timestamp!==tt.timestamp?me.timestamp-tt.timestamp:me.shortLabel.localeCompare(tt.shortLabel,void 0,{numeric:!0}))})).filter(pe=>pe.players.length>0&&pe.fights.length>0).sort((pe,me)=>String(pe.name||"").localeCompare(String(me.name||"")))})(),ol=(()=>{const E=$e=>String($e||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=$e=>E($e).toLowerCase().split(/[^a-z0-9]+/i).map(pe=>pe.trim()).filter(Boolean).map(pe=>pe.length>3&&pe.endsWith("s")?pe.slice(0,-1):pe),Z=($e,pe)=>{const me=E($e),tt=E(pe);if(!tt)return me;if(!me)return tt;const be=V(me),rt=V(tt),nt=new Set(be),bt=new Set(rt),Me=rt.length>0&&rt.every(Ce=>nt.has(Ce)),Ee=be.length>0&&be.every(Ce=>bt.has(Ce));return Me||Ee?me:`${me} - ${tt}`},ae=new Map,ue=($e,pe)=>{if(!ae.has($e))ae.set($e,{id:$e,name:String((pe==null?void 0:pe.name)||$e),icon:pe==null?void 0:pe.icon,stacking:!!(pe!=null&&pe.stacking),players:new Map,fights:[]});else if(pe){const me=ae.get($e);(!me.name||me.name===$e)&&pe!=null&&pe.name&&(me.name=String(pe.name)),!me.icon&&pe!=null&&pe.icon&&(me.icon=String(pe.icon)),!me.stacking&&pe!=null&&pe.stacking&&(me.stacking=!0)}return ae.get($e)},Le=$e=>Array.isArray($e)?$e.map(pe=>Array.isArray(pe)?[Number(pe[0]),Number(pe[1])]:pe&&typeof pe=="object"?[Number(pe.time),Number(pe.value)]:null).filter(pe=>!!pe&&Number.isFinite(pe[0])&&Number.isFinite(pe[1])&&pe[0]>=0).sort((pe,me)=>pe[0]-me[0]):[],Ie=($e,pe)=>pe?(String($e||"").trim().toLowerCase(),25):1,vt=($e,pe,me)=>{const tt=Number.isFinite($e)?Math.max(0,$e):0;return pe?Math.max(0,Math.min(me,Math.round(tt))):tt>0?1:0},Ct=($e,pe,me,tt)=>{const be=Array.from({length:pe},()=>0);if(!$e||typeof $e!="object"||pe<=0)return be;Object.values($e).forEach(nt=>{const bt=Le(nt);if(bt.length===0)return;let Me=0,Ee=0;for(let Ce=0;Ce<pe;Ce+=1){const Te=Ce*5e3;for(;Me<bt.length&&bt[Me][0]<=Te;)Ee=Math.max(0,Number(bt[Me][1]||0)),Me+=1;be[Ce]+=Math.max(0,Number(Ee||0))}});const rt=Ie(tt,me);return be.map(nt=>vt(nt,me,rt))},Ut=$e=>{const pe=$e.reduce((tt,be)=>tt+Math.max(0,Number(be||0)),0),me=$e.reduce((tt,be)=>Math.max(tt,Math.max(0,Number(be||0))),0);return{total:pe,peak:me,buckets5s:$e}};return s.map($e=>({log:$e,ts:Xr($e==null?void 0:$e.details,$e)})).sort(($e,pe)=>$e.ts-pe.ts).forEach(({log:$e},pe)=>{const me=$e==null?void 0:$e.details;if(!me)return;const tt=(Array.isArray(me.players)?me.players:[]).filter(He=>!(He!=null&&He.notInSquad));if(tt.length<=0)return;const be=Math.max(0,Number((me==null?void 0:me.durationMS)||0)),rt=Math.max(1,Math.ceil(Math.max(1,be)/5e3)),nt=me!=null&&me.buffMap&&typeof me.buffMap=="object"?me.buffMap:{},bt=E(me.fightName||$e.fightName||`Fight ${pe+1}`),Me=ti(me,$e),Ee=Z(bt,String(Me||"")),Ce=new Map,Te=new Map;tt.forEach(He=>{const ve=String((He==null?void 0:He.account)||(He==null?void 0:He.name)||"Unknown"),Be=ve,Ye=String((He==null?void 0:He.profession)||"Unknown");(Array.isArray(He==null?void 0:He.buffUptimes)?He.buffUptimes:[]).forEach(re=>{const Oe=Number(re==null?void 0:re.id);if(!Number.isFinite(Oe))return;const ze=`b${Oe}`,gt=nt[ze]||{},ht=String((gt==null?void 0:gt.classification)||"");if(ht&&ht!=="Boon")return;const Ve=re!=null&&re.statesPerSource&&typeof re.statesPerSource=="object"?re.statesPerSource:null;if(!Ve)return;const ot=Ct(Ve,rt,!!(gt!=null&&gt.stacking),String((gt==null?void 0:gt.name)||"")),Se=Ut(ot);if(Se.total<=0&&Se.peak<=0)return;const qe=ue(ze,gt),et=qe.players.get(Be)||{key:Be,account:ve,displayName:ve,profession:Ye,professionList:Ye&&Ye!=="Unknown"?[Ye]:[],logs:0,total:0,peak:0};Ye&&Ye!=="Unknown"&&!et.professionList.includes(Ye)&&et.professionList.push(Ye),(!et.profession||et.profession==="Unknown")&&Ye&&Ye!=="Unknown"&&(et.profession=Ye);const at=Te.get(ze)||new Set;at.has(Be)||(at.add(Be),et.logs+=1,Te.set(ze,at)),et.total+=Se.total,et.peak=Math.max(et.peak,Se.peak),qe.players.set(Be,et);const _e=Ce.get(ze)||new Map;_e.set(Be,Se),Ce.set(ze,_e)})}),Ce.forEach((He,ve)=>{const Be=ae.get(ve);if(!Be)return;const Ye={};let re=0;He.forEach((Oe,ze)=>{Ye[ze]={total:Number(Oe.total||0),peak:Number(Oe.peak||0),buckets5s:Array.isArray(Oe.buckets5s)?Oe.buckets5s.map(gt=>Number(gt||0)):[]},re=Math.max(re,Number(Oe.peak||0))}),Object.keys(Ye).length!==0&&Be.fights.push({id:$e.filePath||$e.id||`fight-${pe+1}`,shortLabel:`F${pe+1}`,fullLabel:Ee,timestamp:Xr(me,$e),durationMs:be,values:Ye,maxTotal:re})})}),Array.from(ae.values()).map($e=>({id:$e.id,name:$e.name||$e.id,icon:$e.icon,stacking:$e.stacking,players:Array.from($e.players.values()).sort((pe,me)=>{const tt=Number(me.peak||0)-Number(pe.peak||0);if(tt!==0)return tt;const be=Number(me.total||0)-Number(pe.total||0);return be!==0?be:String(pe.displayName||"").localeCompare(String(me.displayName||""))}),fights:[...$e.fights].sort((pe,me)=>pe.timestamp>0&&me.timestamp>0&&pe.timestamp!==me.timestamp?pe.timestamp-me.timestamp:pe.shortLabel.localeCompare(me.shortLabel,void 0,{numeric:!0}))})).filter($e=>$e.players.length>0&&$e.fights.length>0).sort(($e,pe)=>String($e.name||"").localeCompare(String(pe.name||"")))})(),ic=dr.map(({log:E})=>{const V=E==null?void 0:E.details,Z=Array.isArray(V==null?void 0:V.players)?V.players:[],ae=Array.isArray(V==null?void 0:V.targets)?V.targets:[],ue=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,Le=Z.filter(me=>!me.notInSquad),Ie=ae.filter(me=>!me.isFake),vt=Math.max(0,Number((ue==null?void 0:ue.squadCount)||0)),Ct=Math.max(0,Number((ue==null?void 0:ue.enemyCount)||0)),Ut=Le.length>0?Le.length:vt,$e=Ie.length>0?Ie.length:Ct,pe=Z.length>0?Z.length:Ut;return{timestamp:Xr(V,E),squadCount:Ut,friendlyCount:pe,enemies:$e,isWin:Va(V,E)}}).map((E,V)=>({...E,index:V+1,label:`Log ${V+1}`})),_o={};Array.from(O.values()).forEach(E=>{E.profession&&E.profession!=="Unknown"&&(_o[E.profession]=(_o[E.profession]||0)+1)});const yu=Object.entries(_o).map(([E,V])=>({name:E,value:V,color:Ds(E)})).sort((E,V)=>V.value-E.value),X={};Object.keys(le).length===0&&s.forEach(E=>{var V,Z;(Z=(V=E.details)==null?void 0:V.targets)==null||Z.forEach(ae=>{if(ae.isFake)return;const ue=ae.profession&&ae.profession!=="Unknown"?ae.profession:ae.name||ae.id||"Unknown",Le=R(ue);X[Le]=(X[Le]||0)+1})});const Ne=Object.keys(le).length>0?le:X,Je=Object.entries(Ne).map(([E,V])=>({name:E,value:V,color:Ds(E)})).sort((E,V)=>V.value-E.value),yt=dr.map(({log:E},V)=>{const Z=E==null?void 0:E.details,ae=Array.isArray(Z==null?void 0:Z.players)?Z.players:[],ue=ae.filter(ve=>!ve.notInSquad),Le=ae.filter(ve=>ve.notInSquad),Ie=(Array.isArray(Z==null?void 0:Z.targets)?Z.targets:[]).filter(ve=>!ve.isFake),vt=E!=null&&E.dashboardSummary&&typeof E.dashboardSummary=="object"?E.dashboardSummary:null,Ct=ue.reduce((ve,Be)=>{var Ye,re;return ve+(((re=(Ye=Be.dpsAll)==null?void 0:Ye[0])==null?void 0:re.damage)||0)},0),Ut=ue.reduce((ve,Be)=>{var Ye,re;return ve+(((re=(Ye=Be.defenses)==null?void 0:Ye[0])==null?void 0:re.damageTaken)||0)},0),{enemyDeaths:$e,enemyDownsDeaths:pe}=D(Z),me=Va(Z,E),tt=Xr(Z,E),be=ti(Z,E),rt=ve=>{if(!ve||typeof ve!="object")return;const Be=ve.teamID??ve.teamId??ve.team??ve.teamColor??ve.team_color;if(Be!=null)return Be;const Ye=Object.keys(ve).find(re=>/^team/i.test(re));return Ye?ve[Ye]:void 0},nt=(ve,Be)=>{const Ye={};return ve.forEach(re=>{const Oe=Be(re),ze=R(Oe);ze&&(Ye[ze]=(Ye[ze]||0)+1)}),Ye},bt=nt(ue,ve=>(ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)),Me=nt(Le,ve=>(ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)),Ee=nt(Ie,ve=>(ve==null?void 0:ve.profession)||(ve==null?void 0:ve.name)||(ve==null?void 0:ve.id)),Ce=new Set;ue.forEach(ve=>{const Be=rt(ve);Be!=null&&Ce.add(String(Be))});const Te=new Map;Ie.forEach(ve=>{if((ve==null?void 0:ve.enemyPlayer)===!1)return;const Be=rt(ve);if(Be==null)return;const Ye=String(Be);Ce.has(Ye)||Te.set(Ye,(Te.get(Ye)||0)+1)});const He=Array.from(Te.entries()).sort((ve,Be)=>{const Ye=Be[1]-ve[1];return Ye!==0?Ye:ve[0].localeCompare(Be[0],void 0,{numeric:!0})}).slice(0,3).map(([ve,Be])=>({teamId:ve,count:Be}));return{id:E.filePath||`fight-${V}`,label:E.encounterName||`Fight ${V+1}`,permalink:al(Z,E),timestamp:tt,mapName:be,duration:il(Z,E),isWin:me,squadCount:ue.length>0?ue.length:Math.max(0,Number((vt==null?void 0:vt.squadCount)||0)),allyCount:Le.length,enemyCount:Ie.length>0?Ie.length:Math.max(0,Number((vt==null?void 0:vt.enemyCount)||0)),teamBreakdown:He,alliesDown:ue.reduce((ve,Be)=>{var Ye,re;return ve+(((re=(Ye=Be.defenses)==null?void 0:Ye[0])==null?void 0:re.downCount)||0)},0),alliesDead:ue.length>0?ue.reduce((ve,Be)=>{var Ye,re;return ve+(((re=(Ye=Be.defenses)==null?void 0:Ye[0])==null?void 0:re.deadCount)||0)},0):Math.max(0,Number((vt==null?void 0:vt.squadDeaths)||0)),alliesRevived:ue.reduce((ve,Be)=>{var Ye,re;return Number(((re=(Ye=Be.statsAll)==null?void 0:Ye[0])==null?void 0:re.saved)||0)>0?ve+1:ve},0),rallies:0,enemyDeaths:Ie.length>0||ue.length>0?$e:Math.max(0,Number((vt==null?void 0:vt.enemyDeaths)||0)),enemyDowns:Math.max(0,pe-$e),totalOutgoingDamage:Ct,totalIncomingDamage:Ut,incomingBarrierAbsorbed:ue.reduce((ve,Be)=>{var Ye,re;return ve+(((re=(Ye=Be.defenses)==null?void 0:Ye[0])==null?void 0:re.damageBarrier)||0)},0),outgoingBarrierAbsorbed:ue.reduce((ve,Be)=>{var Ye;const re=(Ye=Be.extBarrierStats)==null?void 0:Ye.outgoingBarrier;if(!Array.isArray(re))return ve;let Oe=0;return re.forEach(ze=>{if(Array.isArray(ze)){ze.forEach(gt=>{Oe+=Number((gt==null?void 0:gt.barrier)||0)});return}Oe+=Number((ze==null?void 0:ze.barrier)||0)}),ve+Oe},0),squadClassCountsFight:bt,allyClassCountsFight:Me,enemyClassCounts:Ee}}),Et=ss.map(({log:E},V)=>{const Z=E.details;if(!Z)return null;const ae=(Array.isArray(Z.players)?Z.players:[]).filter(Se=>!Se.notInSquad),ue=Array.isArray(Z.targets)?Z.targets:[],Le=Xr(Z,E),Ie=ti(Z,E),vt=Number(Z.durationMS||0),{squadDownsDeaths:Ct,enemyDownsDeaths:Ut,squadDeaths:$e,enemyDeaths:pe}=D(Z),me=new Map,tt=(Se,qe,et)=>{const at=me.get(Se)||{label:Se,damage:0,hits:0};at.damage+=qe,at.hits+=et,me.set(Se,at)};if(ae.forEach(Se=>{(Array.isArray(Se==null?void 0:Se.statsTargets)?Se.statsTargets:[]).forEach((qe,et)=>{const at=Array.isArray(qe)?qe[0]:qe,_e=Number((at==null?void 0:at.damage)??(at==null?void 0:at.totalDmg)??(at==null?void 0:at.connectedDmg)??0),ut=Number((at==null?void 0:at.connectedHits)??(at==null?void 0:at.connectedDamageCount)??(at==null?void 0:at.hits)??0);if(_e<=0&&ut<=0)return;const kt=ue[et];if(kt!=null&&kt.isFake)return;const St=(kt==null?void 0:kt.profession)||(kt==null?void 0:kt.name)||(kt==null?void 0:kt.id)||`Target ${et+1}`,hn=R(St);tt(hn||String(St),_e,ut)})}),me.size===0){const Se=new Map,qe=et=>{if(!Array.isArray(et)||et.length===0)return[];const at=et[0];if(Array.isArray(at)&&Array.isArray(at[0])){if(typeof at[0][0]=="number")return at;if(Array.isArray(at[0])&&typeof at[0][0]=="number")return et.map(_e=>Array.isArray(_e)?_e[0]||[]:[])}return[]};ae.forEach(et=>{qe(et==null?void 0:et.targetDamage1S).forEach((at,_e)=>{if(!Array.isArray(at)||at.length===0)return;const ut=at.map(St=>Number(St)).filter(St=>Number.isFinite(St)&&St>=0);if(ut.length===0)return;const kt=Math.max(0,ut[ut.length-1]||0);kt<=0||Se.set(_e,(Se.get(_e)||0)+kt)})}),Se.forEach((et,at)=>{if(et<=0)return;const _e=ue[at];if(_e!=null&&_e.isFake)return;const ut=(_e==null?void 0:_e.profession)||(_e==null?void 0:_e.name)||(_e==null?void 0:_e.id)||`Target ${at+1}`,kt=R(ut);tt(kt||String(ut),et,0)})}if(me.size===0&&ue.forEach((Se,qe)=>{if(Se!=null&&Se.isFake)return;const et=Array.isArray(Se==null?void 0:Se.totalDamageTaken)?Se.totalDamageTaken:Array.isArray(Se==null?void 0:Se.totalDamageDist)?Se.totalDamageDist:[];let at=0,_e=0;if(et.forEach(St=>{at+=Number((St==null?void 0:St.totalDamage)||(St==null?void 0:St.damage)||0),_e+=Number((St==null?void 0:St.connectedHits)||(St==null?void 0:St.hits)||0)}),at<=0&&Number((Se==null?void 0:Se.damageTaken)||0)>0&&(at=Number(Se.damageTaken||0)),at<=0&&_e<=0)return;const ut=(Se==null?void 0:Se.profession)||(Se==null?void 0:Se.name)||(Se==null?void 0:Se.id)||`Target ${qe+1}`,kt=R(ut);tt(kt||String(ut),at,_e)}),me.size===0){const Se=new Map;ue.forEach((qe,et)=>{if(qe!=null&&qe.isFake)return;const at=(qe==null?void 0:qe.profession)||(qe==null?void 0:qe.name)||(qe==null?void 0:qe.id)||`Target ${et+1}`,_e=R(at)||String(at);Se.set(_e,(Se.get(_e)||0)+1)}),Se.forEach((qe,et)=>{qe>0&&tt(et,qe,0)})}const be=Array.from(me.values()).sort((Se,qe)=>qe.damage-Se.damage||qe.hits-Se.hits||Se.label.localeCompare(qe.label)),rt=be.reduce((Se,qe)=>Se+qe.damage,0),nt=be.map(Se=>({label:Se.label,damage:Se.damage,hits:Se.hits,share:rt>0?Se.damage/rt:0})),bt=ue.filter(Se=>!(Se!=null&&Se.isFake)).length,Me=ae.length,Ee=ae.reduce((Se,qe)=>{var et,at;return Se+Number(((at=(et=qe==null?void 0:qe.dpsAll)==null?void 0:et[0])==null?void 0:at.damage)||0)},0),Ce=ae.reduce((Se,qe)=>{var et,at;return Se+Number(((at=(et=qe==null?void 0:qe.defenses)==null?void 0:et[0])==null?void 0:at.damageTaken)||0)},0),Te=ae.reduce((Se,qe)=>{var et,at;return Se+Number(((at=(et=qe==null?void 0:qe.defenses)==null?void 0:et[0])==null?void 0:at.damageBarrier)||0)},0),He=ae.reduce((Se,qe)=>{var et;const at=(et=qe==null?void 0:qe.extBarrierStats)==null?void 0:et.outgoingBarrier;if(!Array.isArray(at))return Se;let _e=0;return at.forEach(ut=>{Array.isArray(ut)?ut.forEach(kt=>{_e+=Number((kt==null?void 0:kt.barrier)||0)}):_e+=Number((ut==null?void 0:ut.barrier)||0)}),Se+_e},0),ve=ae.reduce((Se,qe)=>{var et,at;return Number(((at=(et=qe==null?void 0:qe.statsAll)==null?void 0:et[0])==null?void 0:at.saved)||0)>0?Se+1:Se},0),Be=ae.reduce((Se,qe)=>Se+Number(tC(qe)||0),0),Ye=ae.reduce((Se,qe)=>Se+Number(nC(qe)||0),0),re=ae.reduce((Se,qe)=>Se+Number((qe==null?void 0:qe.stabGeneration)||0),0),Oe=ae.reduce((Se,qe)=>Se+Number(aC(qe)||0),0),ze=ae.reduce((Se,qe)=>Se+Number(iC(qe)||0),0),gt=ae.reduce((Se,qe)=>Se+Number(oC(qe)||0),0),ht=ae.reduce((Se,qe)=>Se+Number(rC(qe)||0),0),Ve=$e>0?pe/$e:pe,ot=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:I(Z)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Me},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:bt},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:Ve},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:pe},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Ut-pe)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:$e},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,Ct-$e)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Ee-Ce},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Ee},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ce},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:Be},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:Ye},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:re},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:Oe},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:ze},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Te},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:He},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:gt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:ht},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:ve}];return{id:E.filePath||E.id||`fight-${V+1}`,shortLabel:`F${V+1}`,fullLabel:`${Ie||E.encounterName||"Unknown Map"}  ${ch(vt)}`,mapName:Ie,timestamp:Le,duration:ch(vt),isWin:I(Z),targetFocus:nt,squadMetrics:ot}}).filter(Boolean),Ft=Array.from(O.values()).map(E=>{const V=Object.entries(E.professionTimeMs||{}).map(([Z,ae])=>({profession:Z,timeMs:Number(ae||0)})).filter(Z=>Z.profession&&Z.profession!=="Unknown"&&Z.timeMs>0).sort((Z,ae)=>{const ue=ae.timeMs-Z.timeMs;return ue!==0?ue:Z.profession.localeCompare(ae.profession)});return{account:E.account||"Unknown",characterNames:Array.from(E.characterNames||[]).filter(Boolean).sort((Z,ae)=>Z.localeCompare(ae)),classTimes:V,combatTimeMs:Number(E.squadActiveMs||E.totalFightMs||0),squadTimeMs:(()=>{const Z=Number(E.firstSeenFightTs||0),ae=Number(E.lastSeenFightTs||0),ue=Math.max(0,Number(E.lastSeenFightDurationMs||0));return Z>0&&ae>0?Math.max(0,ae+ue-Z):Number(E.squadActiveMs||E.totalFightMs||0)})()}}).filter(E=>E.account&&E.account!=="Unknown").sort((E,V)=>{const Z=V.squadTimeMs-E.squadTimeMs;return Z!==0?Z:String(E.account).localeCompare(String(V.account))}),wt=s.map(E=>E).sort((E,V)=>Xr(E.details,E)-Xr(V.details,V)).map((E,V)=>{const Z=E==null?void 0:E.details,ae=Array.isArray(Z==null?void 0:Z.players)?Z.players.filter(Ie=>!(Ie!=null&&Ie.notInSquad)):[],ue=new Map;ae.forEach(Ie=>{const vt=Number(Ie==null?void 0:Ie.group),Ct=Number.isFinite(vt)&&vt>0?vt:0;ue.has(Ct)||ue.set(Ct,{party:Ct,players:[],classCounts:{}});const Ut=R((Ie==null?void 0:Ie.profession)||(Ie==null?void 0:Ie.name)||"Unknown"),$e=String((Ie==null?void 0:Ie.account)||"Unknown"),pe=String((Ie==null?void 0:Ie.name)||(Ie==null?void 0:Ie.character_name)||""),me=!!(Ie!=null&&Ie.hasCommanderTag),tt=ue.get(Ct);tt.players.push({account:$e,characterName:pe,profession:Ut,isCommander:me}),tt.classCounts[Ut]=(tt.classCounts[Ut]||0)+1});const Le=Array.from(ue.values()).map(Ie=>({...Ie,players:Ie.players.sort((vt,Ct)=>{const Ut=+!!Ct.isCommander-+!!vt.isCommander;if(Ut!==0)return Ut;const $e=String(vt.profession).localeCompare(String(Ct.profession));return $e!==0?$e:String(vt.account).localeCompare(String(Ct.account))})})).sort((Ie,vt)=>Ie.party===0&&vt.party!==0?1:vt.party===0&&Ie.party!==0?-1:Ie.party-vt.party);return{id:String((E==null?void 0:E.filePath)||(E==null?void 0:E.id)||`fight-${V+1}`),label:`F${V+1}`,timestamp:Xr(Z,E),mapName:ti(Z,E),duration:ch(Number((Z==null?void 0:Z.durationMS)||0)),parties:Le}}),dn=(E,V)=>{const Z=(V==null?void 0:V.skillMap)||{},ae=(V==null?void 0:V.buffMap)||{};let ue=0,Le=0,Ie="";const vt=$e=>{const pe=Number($e);if(!Number.isFinite(pe))return String($e||"Unknown Skill");const me=(Z==null?void 0:Z[`s${pe}`])||(Z==null?void 0:Z[`${pe}`]);if(me!=null&&me.name)return String(me.name);const tt=(ae==null?void 0:ae[`b${pe}`])||(ae==null?void 0:ae[`${pe}`]);return tt!=null&&tt.name?String(tt.name):`Skill ${pe}`},Ct=$e=>{if(!$e||typeof $e!="object")return;const pe=[Number($e.max),Number($e.maxDamage),Number($e.maxHit)].filter(be=>Number.isFinite(be)),me=pe.length>0?Math.max(...pe):0;me>ue&&(ue=me,Ie=vt($e.id));const tt=Number($e.downContribution||0);tt>Le&&(Le=tt)};let Ut=!1;return Array.isArray(E==null?void 0:E.targetDamageDist)&&E.targetDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(pe=>{Array.isArray(pe)&&pe.forEach(me=>{Ut=!0,Ct(me)})})}),(!Ut||ue<=0)&&Array.isArray(E==null?void 0:E.totalDamageDist)&&E.totalDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(pe=>Ct(pe))}),{peak:ue,peakDownContribution:Le,skillName:Ie||"Unknown Skill"}},fn=(()=>{const E=be=>String(be||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=be=>E(be).toLowerCase().split(/[^a-z0-9]+/i).map(rt=>rt.trim()).filter(Boolean).map(rt=>rt.length>3&&rt.endsWith("s")?rt.slice(0,-1):rt),Z=(be,rt)=>{const nt=E(be),bt=E(rt);if(!bt)return nt;if(!nt)return bt;const Me=V(nt),Ee=V(bt),Ce=new Set(Me),Te=new Set(Ee),He=Ee.length>0&&Ee.every(Be=>Ce.has(Be)),ve=Me.length>0&&Me.every(Be=>Te.has(Be));return He||ve?nt:`${nt} - ${bt}`},ae=[],ue=new Map,Le=be=>{const rt=Te=>{if(!Array.isArray(Te)||Te.length===0)return[];const He=[];for(let ve=0;ve<Te.length;ve+=1){const Be=Number(Te[ve]||0),Ye=ve>0?Number(Te[ve-1]||0):0;He.push(Math.max(0,Be-Ye))}return He},nt=Te=>{if(!Array.isArray(Te))return[];const He=Te.reduce((Be,Ye)=>Math.max(Be,Array.isArray(Ye)?Ye.length:0),0);if(He<=0)return[];const ve=new Array(He).fill(0);return Te.forEach(Be=>{if(Array.isArray(Be))for(let Ye=0;Ye<He;Ye+=1)ve[Ye]+=Number(Be[Ye]||0)}),ve},bt=Te=>Array.isArray(Te)?Te.map(He=>Number(He||0)):null,Me=(Te=>{if(!Array.isArray(Te)||Te.length===0)return null;const He=Te[0];if(!Array.isArray(He))return null;if(Array.isArray(He[0])&&Array.isArray(He[0][0]))return nt(He);if(Array.isArray(He[0])&&!Array.isArray(He[0][0])){const ve=Te.map(Be=>bt(Array.isArray(Be)?Be[0]:null)).filter(Be=>Array.isArray(Be)&&Be.length>0);if(ve.length>0)return nt(ve)}return null})(be==null?void 0:be.targetDamage1S),Ee=Array.isArray(be==null?void 0:be.damage1S)&&Array.isArray(be.damage1S[0])?be.damage1S[0]:null,Ce=Me||(Array.isArray(Ee)?Ee.map(Te=>Number(Te||0)):[]);return rt(Ce)},Ie=(be,rt)=>{if(!Array.isArray(be)||be.length===0||rt<=0)return 0;let nt=0,bt=0;for(let Me=0;Me<be.length;Me+=1)nt+=Number(be[Me]||0),Me>=rt&&(nt-=Number(be[Me-rt]||0)),Me>=rt-1&&nt>bt&&(bt=nt);return Math.max(0,bt)},vt=(be,rt)=>{if(!Array.isArray(be)||be.length===0||rt<=0)return[];const nt=[];for(let bt=0;bt<be.length;bt+=rt){const Me=Math.min(bt+rt,be.length),Ee=be.slice(bt,Me).reduce((Ce,Te)=>Ce+Number(Te||0),0);nt.push(Ee)}return nt},Ct=(be,rt)=>{let nt=0,bt=0;const Me=new Map,Ee=Ce=>{if(!Ce||typeof Ce!="object"||Ce.indirectDamage)return;const Te=Number(Ce.totalDamage||0),He=Number(Ce.downContribution||0);!Number.isFinite(Te)&&!Number.isFinite(He)||(nt+=Number.isFinite(Te)?Te:0,bt+=Number.isFinite(He)?He:0)};return Array.isArray(be==null?void 0:be.targetDamageDist)&&be.targetDamageDist.forEach(Ce=>{Array.isArray(Ce)&&Ce.forEach(Te=>{Array.isArray(Te)&&Te.forEach(He=>{const ve=Number(He==null?void 0:He.id);if(Number.isFinite(ve)){const Be=Me.get(ve)||{damage:0,downContribution:0};Be.damage+=Number((He==null?void 0:He.totalDamage)||0),Be.downContribution+=Number((He==null?void 0:He.downContribution)||0),Me.set(ve,Be)}Ee(He)})})}),!(rt!=null&&rt.detailedWvW)&&Array.isArray(be==null?void 0:be.totalDamageDist)&&be.totalDamageDist.forEach(Ce=>{Array.isArray(Ce)&&Ce.forEach(Te=>{const He=Number(Te==null?void 0:Te.id);if(!Number.isFinite(He)){Ee(Te);return}const ve=Me.get(He);if(!ve){Ee(Te);return}const Be=Number((Te==null?void 0:Te.totalDamage)||0)-Number(ve.damage||0),Ye=Number((Te==null?void 0:Te.downContribution)||0)-Number(ve.downContribution||0);Be<=0&&Ye<=0||Ee({...Te,totalDamage:Math.max(0,Be),downContribution:Math.max(0,Ye)})})}),{damageTotal:Math.max(0,nt),downContributionTotal:Math.max(0,bt)}},Ut=(be,rt)=>{const nt=Number(be);if(!Number.isFinite(nt))return{name:String(be||"Unknown Skill"),icon:void 0};const bt=(rt==null?void 0:rt.skillMap)||{},Me=(rt==null?void 0:rt.buffMap)||{},Ee=(bt==null?void 0:bt[`s${nt}`])||(bt==null?void 0:bt[`${nt}`]);if(Ee!=null&&Ee.name)return{name:String(Ee.name),icon:Ee==null?void 0:Ee.icon};const Ce=(Me==null?void 0:Me[`b${nt}`])||(Me==null?void 0:Me[`${nt}`]);return Ce!=null&&Ce.name?{name:String(Ce.name),icon:Ce==null?void 0:Ce.icon}:{name:`Skill ${nt}`,icon:void 0}},$e=be=>Array.isArray(be)?be.map(rt=>Array.isArray(rt)?[Number(rt[0]),Number(rt[1])]:rt&&typeof rt=="object"?[Number(rt.time),Number(rt.value)]:null).filter(rt=>!!rt&&Number.isFinite(rt[0])&&rt[0]>=0):[],pe=(be,rt,nt,bt,Me)=>{if(!be.length||bt<=0)return[];const Ee=Math.max(bt*5e3,Me||0),Ce=ze=>ze.reduce((gt,ht)=>ht>=0&&ht<=Ee+2e3?gt+1:gt,0),Te=be.map(ze=>Number(ze||0)).filter(ze=>Number.isFinite(ze)&&ze>=0);if(!Te.length)return[];const He=[Te],ve=Te.reduce((ze,gt)=>Math.max(ze,gt),0),Be=Te.reduce((ze,gt)=>Math.min(ze,gt),Number.POSITIVE_INFINITY);ve>Ee*20&&He.push(Te.map(ze=>ze/1e3)),ve<=Ee*2&&Be>=0&&ve>0&&ve<Math.max(120,bt*5+10)&&He.push(Te.map(ze=>ze*1e3));let Ye=Te,re=0,Oe=-1;return He.forEach(ze=>{const gt=ze.reduce((Ve,ot)=>Math.min(Ve,ot),Number.POSITIVE_INFINITY),ht=new Set([0,...rt,...nt]);if(Number.isFinite(gt)&&Ee>0&&gt>Ee){const Ve=Math.floor(gt/Ee)*Ee;ht.add(Ve),ht.add(Math.max(0,Ve-Ee))}ht.forEach(Ve=>{const ot=ze.map(qe=>qe-Ve),Se=Ce(ot);Se>Oe&&(Oe=Se,re=Ve,Ye=ze)})}),Ye.map(ze=>ze-re).filter(ze=>Number.isFinite(ze)&&ze>=0)},me=(be,rt,nt,bt,Me)=>{const Ee=pe(be,rt,nt,bt,Me);return Array.from(new Set(Ee.map(Ce=>Math.floor(Ce/5e3)).filter(Ce=>Number.isFinite(Ce)&&Ce>=0&&Ce<bt)))};s.map(be=>({log:be,ts:Xr(be==null?void 0:be.details,be)})).sort((be,rt)=>be.ts-rt.ts).forEach(({log:be},rt)=>{const nt=be==null?void 0:be.details;if(!nt)return;const bt=E(nt.fightName||be.fightName||`Fight ${rt+1}`),Me=ti(nt,be),Ee=Z(bt,String(Me||"")),Ce={},Te=Array.isArray(nt.players)?nt.players:[],He=Te.flatMap(Ve=>{const ot=Ve==null?void 0:Ve.combatReplayData;return Array.isArray(ot)?ot.map(Se=>Number(Se==null?void 0:Se.start)):[Number(ot==null?void 0:ot.start)]}).filter(Ve=>Number.isFinite(Ve)&&Ve>=0);Te.forEach(Ve=>{if(Ve!=null&&Ve.notInSquad)return;const ot=String((Ve==null?void 0:Ve.account)||(Ve==null?void 0:Ve.name)||"Unknown"),Se=String((Ve==null?void 0:Ve.character_name)||(Ve==null?void 0:Ve.display_name)||(Ve==null?void 0:Ve.name)||""),qe=String((Ve==null?void 0:Ve.profession)||"Unknown"),et=`${ot}|${qe}`,at=dn(Ve,nt),_e=Number(at.peak||0),ut=Number(at.peakDownContribution||0),kt=Le(Ve),{damageTotal:St,downContributionTotal:hn}=Ct(Ve,nt),nn=St>0?Math.min(1,Math.max(0,hn/St)):0,on=kt.map(Ke=>Number(Ke||0)*nn),st=Number(Ie(kt,1)||0),Dr=Number(Ie(kt,5)||0),En=Number(Ie(kt,30)||0),Gn=Number(Ie(on,1)||0),Rr=Number(Ie(on,5)||0),Pr=Number(Ie(on,30)||0),On=Math.max(0,Math.ceil(Number((nt==null?void 0:nt.durationMS)||0)/5e3)),Da=Math.max(0,Math.ceil(kt.length/5)),ia=Math.max(0,Math.ceil(on.length/5)),Ri=Math.max(On,Da,ia),oc=vt(kt,5),cs=vt(on,5),vu=Array.from({length:Ri},(Ke,Fe)=>Number(oc[Fe]||0)),sl=Array.from({length:Ri},(Ke,Fe)=>Number(cs[Fe]||0)),Lo=new Map,ba=Ke=>{if(!Ke||typeof Ke!="object"||Ke.indirectDamage)return;const Fe=Number(Ke.totalDamage||0),jt=Number(Ke.downContribution||0);if((!Number.isFinite(Fe)||Fe<=0)&&(!Number.isFinite(jt)||jt<=0))return;const Bt=Number(Ke.connectedHits||Ke.hits||0),gn=Ut(Ke.id,nt),Ht=gn.name,sn=Lo.get(Ht)||{skillName:Ht,damage:0,downContribution:0,hits:0,icon:gn.icon};sn.damage+=Number.isFinite(Fe)?Fe:0,sn.downContribution+=Number.isFinite(jt)?jt:0,sn.hits+=Number.isFinite(Bt)?Bt:0,!sn.icon&&gn.icon&&(sn.icon=gn.icon),Lo.set(Ht,sn)},ri=new Map;Array.isArray(Ve==null?void 0:Ve.targetDamageDist)&&Ve.targetDamageDist.forEach(Ke=>{Array.isArray(Ke)&&Ke.forEach(Fe=>{Array.isArray(Fe)&&Fe.forEach(jt=>{const Bt=Number(jt==null?void 0:jt.id),gn=Number((jt==null?void 0:jt.totalDamage)||0),Ht=Number((jt==null?void 0:jt.downContribution)||0);if(Number.isFinite(Bt)){const sn=ri.get(Bt)||{damage:0,downContribution:0,hits:0};sn.damage+=Number.isFinite(gn)?gn:0,sn.downContribution+=Number.isFinite(Ht)?Ht:0,sn.hits+=Number((jt==null?void 0:jt.connectedHits)||(jt==null?void 0:jt.hits)||0),ri.set(Bt,sn)}ba(jt)})})}),!(nt!=null&&nt.detailedWvW)&&Array.isArray(Ve==null?void 0:Ve.totalDamageDist)&&Ve.totalDamageDist.forEach(Ke=>{Array.isArray(Ke)&&Ke.forEach(Fe=>{const jt=Number(Fe==null?void 0:Fe.id);if(!Number.isFinite(jt)){ba(Fe);return}const Bt=ri.get(jt);if(!Bt){ba(Fe);return}const gn=Number((Fe==null?void 0:Fe.totalDamage)||0),Ht=Number((Fe==null?void 0:Fe.downContribution)||0),sn=Number((Fe==null?void 0:Fe.connectedHits)||(Fe==null?void 0:Fe.hits)||0),Fn=gn-Number(Bt.damage||0),wa=Ht-Number(Bt.downContribution||0),zn=sn-Number(Bt.hits||0);Fn<=0&&wa<=0&&zn<=0||ba({...Fe,totalDamage:Math.max(0,Fn),downContribution:Math.max(0,wa),connectedHits:Math.max(0,zn),hits:Math.max(0,zn)})})});const xa=(()=>{const Ke=Ve==null?void 0:Ve.combatReplayData;return Array.isArray(Ke)?Ke.filter(Fe=>Fe&&typeof Fe=="object"):Ke&&typeof Ke=="object"?[Ke]:[]})(),Wa=xa.map(Ke=>Number(Ke==null?void 0:Ke.start)).filter(Ke=>Number.isFinite(Ke)&&Ke>=0),In=xa.flatMap(Ke=>$e(Ke==null?void 0:Ke.down).map(([Fe])=>Number(Fe||0))),Ze=xa.flatMap(Ke=>$e(Ke==null?void 0:Ke.dead).map(([Fe])=>Number(Fe||0)));Ce[et]={hit:_e,burst1s:st,burst5s:Dr,burst30s:En,hitDown:ut,burst1sDown:Gn,burst5sDown:Rr,burst30sDown:Pr,skillName:at.skillName,buckets5s:vu,buckets5sDown:sl,downIndices5s:me(In,Wa,He,Ri,Number((nt==null?void 0:nt.durationMS)||0)),deathIndices5s:me(Ze,Wa,He,Ri,Number((nt==null?void 0:nt.durationMS)||0)),skillRows:Array.from(Lo.values()).sort((Ke,Fe)=>Fe.damage-Ke.damage).slice(0,50)};const Ue=ue.get(et)||{key:et,account:ot,displayName:ot,characterName:Se,profession:qe,professionList:[qe],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Ue.logs+=1,Ue.professionList.includes(qe)||Ue.professionList.push(qe),!Ue.characterName&&Se&&(Ue.characterName=Se),_e>Ue.peakHit&&(Ue.peakHit=_e,Ue.peakFightLabel=Ee,Ue.peakSkillName=at.skillName),st>Ue.peak1s&&(Ue.peak1s=st),Dr>Ue.peak5s&&(Ue.peak5s=Dr),En>Ue.peak30s&&(Ue.peak30s=En),ut>Ue.peakHitDown&&(Ue.peakHitDown=ut),Gn>Ue.peak1sDown&&(Ue.peak1sDown=Gn),Rr>Ue.peak5sDown&&(Ue.peak5sDown=Rr),Pr>Ue.peak30sDown&&(Ue.peak30sDown=Pr),ue.set(et,Ue)});const ve=Object.values(Ce).reduce((Ve,ot)=>Math.max(Ve,Number((ot==null?void 0:ot.hit)||0)),0),Be=Object.values(Ce).reduce((Ve,ot)=>Math.max(Ve,Number((ot==null?void 0:ot.burst1s)||0)),0),Ye=Object.values(Ce).reduce((Ve,ot)=>Math.max(Ve,Number((ot==null?void 0:ot.burst5s)||0)),0),re=Object.values(Ce).reduce((Ve,ot)=>Math.max(Ve,Number((ot==null?void 0:ot.burst30s)||0)),0),Oe=Object.values(Ce).reduce((Ve,ot)=>Math.max(Ve,Number((ot==null?void 0:ot.hitDown)||0)),0),ze=Object.values(Ce).reduce((Ve,ot)=>Math.max(Ve,Number((ot==null?void 0:ot.burst1sDown)||0)),0),gt=Object.values(Ce).reduce((Ve,ot)=>Math.max(Ve,Number((ot==null?void 0:ot.burst5sDown)||0)),0),ht=Object.values(Ce).reduce((Ve,ot)=>Math.max(Ve,Number((ot==null?void 0:ot.burst30sDown)||0)),0);ae.push({id:be.filePath||be.id||`fight-${rt+1}`,shortLabel:`F${rt+1}`,fullLabel:Ee,timestamp:Xr(nt,be),values:Ce,maxHit:ve,max1s:Be,max5s:Ye,max30s:re,maxHitDown:Oe,max1sDown:ze,max5sDown:gt,max30sDown:ht})});const tt=Array.from(ue.values()).sort((be,rt)=>rt.peakHit!==be.peakHit?rt.peakHit-be.peakHit:be.displayName.localeCompare(rt.displayName));return{fights:ae,players:tt}})(),jr=(()=>{const E=Me=>String(Me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),V=Me=>E(Me).toLowerCase().split(/[^a-z0-9]+/i).map(Ee=>Ee.trim()).filter(Boolean).map(Ee=>Ee.length>3&&Ee.endsWith("s")?Ee.slice(0,-1):Ee),Z=(Me,Ee)=>{const Ce=E(Me),Te=E(Ee);if(!Te)return Ce;if(!Ce)return Te;const He=V(Ce),ve=V(Te),Be=new Set(He),Ye=new Set(ve),re=ve.length>0&&ve.every(ze=>Be.has(ze)),Oe=He.length>0&&He.every(ze=>Ye.has(ze));return re||Oe?Ce:`${Ce} - ${Te}`},ae=[],ue=new Map,Le=(Me,Ee)=>{const Ce=Number(Me);if(!Number.isFinite(Ce))return{name:String(Me||"Unknown Skill"),icon:void 0};const Te=(Ee==null?void 0:Ee.skillMap)||{},He=(Ee==null?void 0:Ee.buffMap)||{},ve=(Te==null?void 0:Te[`s${Ce}`])||(Te==null?void 0:Te[`${Ce}`]);if(ve!=null&&ve.name)return{name:String(ve.name),icon:ve==null?void 0:ve.icon};const Be=(He==null?void 0:He[`b${Ce}`])||(He==null?void 0:He[`${Ce}`]);return Be!=null&&Be.name?{name:String(Be.name),icon:Be==null?void 0:Be.icon}:{name:`Skill ${Ce}`,icon:void 0}},Ie=(Me,Ee)=>{let Ce=0,Te="";const He=ve=>{if(!ve||typeof ve!="object"||ve.indirectDamage)return;const Be=[Number(ve.max),Number(ve.maxDamage),Number(ve.maxHit)].filter(re=>Number.isFinite(re)),Ye=Be.length>0?Math.max(...Be):0;Ye>Ce&&(Ce=Ye,Te=Le(ve.id,Ee).name)};return Array.isArray(Me==null?void 0:Me.totalDamageDist)&&Me.totalDamageDist.forEach(ve=>{Array.isArray(ve)&&ve.forEach(Be=>He(Be))}),Array.isArray(Me==null?void 0:Me.targetDamageDist)&&Me.targetDamageDist.forEach(ve=>{Array.isArray(ve)&&ve.forEach(Be=>{Array.isArray(Be)&&Be.forEach(Ye=>He(Ye))})}),{peak:Ce,skillName:Te||"Unknown Skill"}},vt=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Ee=[];for(let Ce=0;Ce<Me.length;Ce+=1){const Te=Number(Me[Ce]||0),He=Ce>0?Number(Me[Ce-1]||0):0;Ee.push(Math.max(0,Te-He))}return Ee},Ct=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Ee=Me.reduce((Te,He)=>Math.max(Te,Array.isArray(He)?He.length:0),0);if(Ee<=0)return[];const Ce=new Array(Ee).fill(0);return Me.forEach(Te=>{if(Array.isArray(Te))for(let He=0;He<Ee;He+=1)Ce[He]+=Number(Te[He]||0)}),Ce},Ut=Me=>{if(!Array.isArray(Me)||Me.length===0)return[];const Ee=Me[0];if(typeof Ee=="number")return Me.map(Ce=>Number(Ce||0));if(Array.isArray(Ee)&&Ee.length>0){if(typeof Ee[0]=="number")return Ee.map(Ce=>Number(Ce||0));if(Array.isArray(Ee[0])){const Ce=Ee.map(Te=>Array.isArray(Te)?Te.map(He=>Number(He||0)):null).filter(Te=>Array.isArray(Te)&&Te.length>0);if(Ce.length>0)return Ct(Ce)}}return[]},$e=Me=>{const Ee=Ut(Me==null?void 0:Me.powerDamage1S),Ce=Ut(Me==null?void 0:Me.damage1S),Te=Ee.length>0?Ee:Ce;return vt(Te)},pe=(Me,Ee)=>{const Ce=Me==null?void 0:Me.targetPowerDamage1S;if(!Array.isArray(Ce)||!Array.isArray(Ce[Ee]))return[];const Te=Ce[Ee];if(!Array.isArray(Te)||Te.length===0)return[];if(typeof Te[0]=="number")return Te.map(He=>Number(He||0));if(Array.isArray(Te[0])&&!Array.isArray(Te[0][0]))return Te[0].map(He=>Number(He||0));if(Array.isArray(Te[0])&&Array.isArray(Te[0][0])){const He=Te[0].map(ve=>Array.isArray(ve)?ve.map(Be=>Number(Be||0)):null).filter(ve=>Array.isArray(ve)&&ve.length>0);return Ct(He)}return[]},me=(Me,Ee)=>{if(!Array.isArray(Me)||Me.length===0||Ee<=0)return 0;let Ce=0,Te=0;for(let He=0;He<Me.length;He+=1)Ce+=Number(Me[He]||0),He>=Ee&&(Ce-=Number(Me[He-Ee]||0)),He>=Ee-1&&Ce>Te&&(Te=Ce);return Math.max(0,Te)},tt=(Me,Ee)=>{if(!Array.isArray(Me)||Me.length===0||Ee<=0)return[];const Ce=[];for(let Te=0;Te<Me.length;Te+=Ee){const He=Math.min(Te+Ee,Me.length),ve=Me.slice(Te,He).reduce((Be,Ye)=>Be+Number(Ye||0),0);Ce.push(ve)}return Ce},be=Me=>Array.isArray(Me)?Me.map(Ee=>Array.isArray(Ee)?[Number(Ee[0]),Number(Ee[1])]:Ee&&typeof Ee=="object"?[Number(Ee.time),Number(Ee.value)]:null).filter(Ee=>!!Ee&&Number.isFinite(Ee[0])&&Ee[0]>=0):[],rt=(Me,Ee,Ce,Te,He)=>{if(!Me.length||Te<=0)return[];const ve=Math.max(Te*5e3,He||0),Be=ot=>ot.reduce((Se,qe)=>qe>=0&&qe<=ve+2e3?Se+1:Se,0),Ye=Me.map(ot=>Number(ot||0)).filter(ot=>Number.isFinite(ot)&&ot>=0);if(!Ye.length)return[];const re=[Ye],Oe=Ye.reduce((ot,Se)=>Math.max(ot,Se),0),ze=Ye.reduce((ot,Se)=>Math.min(ot,Se),Number.POSITIVE_INFINITY);Oe>ve*20&&re.push(Ye.map(ot=>ot/1e3)),Oe<=ve*2&&ze>=0&&Oe>0&&Oe<Math.max(120,Te*5+10)&&re.push(Ye.map(ot=>ot*1e3));let gt=Ye,ht=0,Ve=-1;return re.forEach(ot=>{const Se=ot.reduce((et,at)=>Math.min(et,at),Number.POSITIVE_INFINITY),qe=new Set([0,...Ee,...Ce]);if(Number.isFinite(Se)&&ve>0&&Se>ve){const et=Math.floor(Se/ve)*ve;qe.add(et),qe.add(Math.max(0,et-ve))}qe.forEach(et=>{const at=ot.map(ut=>ut-et),_e=Be(at);_e>Ve&&(Ve=_e,ht=et,gt=ot)})}),gt.map(ot=>ot-ht).filter(ot=>Number.isFinite(ot)&&ot>=0)},nt=(Me,Ee,Ce,Te,He)=>{const ve=rt(Me,Ee,Ce,Te,He);return Array.from(new Set(ve.map(Be=>Math.floor(Be/5e3)).filter(Be=>Number.isFinite(Be)&&Be>=0&&Be<Te)))};s.map(Me=>({log:Me,ts:Xr(Me==null?void 0:Me.details,Me)})).sort((Me,Ee)=>Me.ts-Ee.ts).forEach(({log:Me},Ee)=>{const Ce=Me==null?void 0:Me.details;if(!Ce)return;const Te=E(Ce.fightName||Me.fightName||`Fight ${Ee+1}`),He=ti(Ce,Me),ve=Z(Te,String(He||"")),Be={},Ye=(Array.isArray(Ce.players)?Ce.players:[]).filter(_e=>!(_e!=null&&_e.notInSquad)),re=Ye.flatMap(_e=>{const ut=_e==null?void 0:_e.combatReplayData;return Array.isArray(ut)?ut.map(kt=>Number(kt==null?void 0:kt.start)):[Number(ut==null?void 0:ut.start)]}).filter(_e=>Number.isFinite(_e)&&_e>=0),Oe=Ye.flatMap(_e=>{const ut=_e==null?void 0:_e.combatReplayData;return(Array.isArray(ut)?ut:ut?[ut]:[]).flatMap(kt=>be(kt==null?void 0:kt.down).map(([St])=>Number(St||0)))}),ze=Ye.flatMap(_e=>{const ut=_e==null?void 0:_e.combatReplayData;return(Array.isArray(ut)?ut:ut?[ut]:[]).flatMap(kt=>be(kt==null?void 0:kt.dead).map(([St])=>Number(St||0)))}),gt=new Map,ht=new Map,Ve=new Map;(Array.isArray(Ce.targets)?Ce.targets:[]).forEach((_e,ut)=>{if(!_e||_e.isFake||!_e.enemyPlayer)return;const kt=R((_e==null?void 0:_e.profession)||(_e==null?void 0:_e.name)||(_e==null?void 0:_e.id))||"Unknown";Ve.set(kt,(Ve.get(kt)||0)+1);const St=ht.get(kt)||new Map;Array.isArray(_e==null?void 0:_e.totalDamageDist)&&_e.totalDamageDist.forEach(En=>{Array.isArray(En)&&En.forEach(Gn=>{if(!Gn||typeof Gn!="object"||Gn.indirectDamage)return;const Rr=Number(Gn.totalDamage||0);if(!Number.isFinite(Rr)||Rr<=0)return;const Pr=Number(Gn.connectedHits||Gn.hits||0),On=Le(Gn.id,Ce),Da=On.name,ia=St.get(Da)||{skillName:Da,damage:0,hits:0,icon:On.icon};ia.damage+=Rr,ia.hits+=Number.isFinite(Pr)?Pr:0,!ia.icon&&On.icon&&(ia.icon=On.icon),St.set(Da,ia)})}),ht.set(kt,St);const hn=Ct(Ye.map(En=>pe(En,ut))),nn=hn.length>0?vt(hn):$e(_e),on=Ie(_e,Ce);let st=gt.get(kt);st||(st={perSecond:[],hit:0,skillName:""},gt.set(kt,st)),nn.length>st.perSecond.length&&(st.perSecond.length=nn.length);for(let En=0;En<nn.length;En+=1)st.perSecond[En]=Number(st.perSecond[En]||0)+Number(nn[En]||0);const Dr=Number(on.peak||0);Dr>st.hit&&(st.hit=Dr,st.skillName=on.skillName||"Unknown Skill")});const ot=Array.from(gt.values()).some(_e=>Array.isArray(_e.perSecond)&&_e.perSecond.some(ut=>Number(ut||0)>0));if(gt.size===0||!ot){const _e=Ct(Ye.map(kt=>{const St=Ut(kt==null?void 0:kt.powerDamageTaken1S);return vt(St)})),ut=Array.from(Ve.values()).reduce((kt,St)=>kt+Number(St||0),0);_e.length>0&&ut>0&&Ve.forEach((kt,St)=>{const hn=Number(kt||0)/ut,nn=_e.map(st=>Number(st||0)*hn),on=gt.get(St);gt.set(St,{perSecond:nn,hit:Number((on==null?void 0:on.hit)||0),skillName:String((on==null?void 0:on.skillName)||"")})})}gt.forEach((_e,ut)=>{var kt;const St=ut,hn=Number(_e.hit||0),nn=Number(me(_e.perSecond,1)||0),on=Number(me(_e.perSecond,5)||0),st=Number(me(_e.perSecond,30)||0),Dr=Math.max(0,Math.ceil(Number((Ce==null?void 0:Ce.durationMS)||0)/5e3)),En=Math.max(0,Math.ceil(_e.perSecond.length/5)),Gn=Math.max(Dr,En),Rr=tt(_e.perSecond,5),Pr=Array.from({length:Gn},(Da,ia)=>Number(Rr[ia]||0));Be[St]={hit:hn,burst1s:nn,burst5s:on,burst30s:st,skillName:_e.skillName||"Unknown Skill",buckets5s:Pr,downIndices5s:nt(Oe,[],re,Gn,Number((Ce==null?void 0:Ce.durationMS)||0)),deathIndices5s:nt(ze,[],re,Gn,Number((Ce==null?void 0:Ce.durationMS)||0)),skillRows:Array.from(((kt=ht.get(ut))==null?void 0:kt.values())||[]).sort((Da,ia)=>ia.damage-Da.damage).slice(0,50)};const On=ue.get(St)||{key:St,account:ut,displayName:ut,characterName:"",profession:ut,professionList:[ut],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};On.logs+=1,hn>On.peakHit&&(On.peakHit=hn,On.peakFightLabel=ve,On.peakSkillName=_e.skillName||"Unknown Skill"),nn>On.peak1s&&(On.peak1s=nn),on>On.peak5s&&(On.peak5s=on),st>On.peak30s&&(On.peak30s=st),ue.set(St,On)});const Se=Object.values(Be).reduce((_e,ut)=>Math.max(_e,Number((ut==null?void 0:ut.hit)||0)),0),qe=Object.values(Be).reduce((_e,ut)=>Math.max(_e,Number((ut==null?void 0:ut.burst1s)||0)),0),et=Object.values(Be).reduce((_e,ut)=>Math.max(_e,Number((ut==null?void 0:ut.burst5s)||0)),0),at=Object.values(Be).reduce((_e,ut)=>Math.max(_e,Number((ut==null?void 0:ut.burst30s)||0)),0);ae.push({id:Me.filePath||Me.id||`fight-${Ee+1}`,shortLabel:`F${Ee+1}`,fullLabel:ve,timestamp:Xr(Ce,Me),values:Be,maxHit:Se,max1s:qe,max5s:et,max30s:at})});const bt=Array.from(ue.values()).sort((Me,Ee)=>Ee.peakHit!==Me.peakHit?Ee.peakHit-Me.peakHit:Me.displayName.localeCompare(Ee.displayName));return{fights:ae,players:bt}})(),rr=Array.from(F.entries()).map(([E,V])=>{const Z=k.get(E)||{},ae=Array.from(V.values()).map(ue=>{var Le,Ie;const vt=Array.from(ue.professions||[]).filter(be=>be&&be!=="Unknown");let Ct=ue.profession||"Unknown";if(vt.length>0){Ct=vt[0];let be=((Le=ue.professionTimeMs)==null?void 0:Le[Ct])||0;vt.forEach(rt=>{var nt;const bt=((nt=ue.professionTimeMs)==null?void 0:nt[rt])||0;bt>be&&(be=bt,Ct=rt)})}const Ut=ue.durationMs||0,$e=ue.totalMs/1e3,pe=Ut>0?ue.totalMs/Ut:0,me=((Ie=O.get(ue.account))==null?void 0:Ie.supportActiveMs)||Ut,tt=me>0?ue.uptimeMs/me:0;return{account:ue.account,profession:Ct,professionList:vt,total:$e,perSecond:pe,uptimePerSecond:tt,duration:Ut/1e3}}).filter(ue=>ue.total>0||ue.perSecond>0);return{id:E,name:Z.name||E,icon:Z.icon,rows:ae}}).filter(E=>E.rows.length>0),ct=Array.from(je.values()).map(E=>{const V=Array.from(E.skills.values()).sort((ae,ue)=>ue.damage-ae.damage),Z={key:E.key,account:E.account,displayName:E.displayName,profession:E.profession,professionList:E.professionList,totalFightMs:E.totalFightMs,skills:V};return h&&(Z.skillMap=V.reduce((ae,ue)=>(ae[ue.id]=ue,ae),{})),Z}).sort((E,V)=>E.displayName.localeCompare(V.displayName));return{total:y,wins:b,losses:w,avgSquadSize:ke,avgEnemies:Xe,squadKDR:Nt,enemyKDR:pn,totalSquadKills:A,totalSquadDeaths:N,totalEnemyKills:U,totalEnemyDeaths:P,leaderboards:un,...hu,outgoingConditionSummary:Object.values(te).sort((E,V)=>V.damage-E.damage),incomingConditionSummary:Object.values(W).sort((E,V)=>V.damage-E.damage),outgoingConditionPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.outgoingConditions})),incomingConditionPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,conditions:E.incomingConditions})),topSkills:os,topIncomingSkills:va,topSkillsByDamage:rl,topSkillsByDownContribution:Ea,playerSkillBreakdowns:ct,topSkillsMetric:x,mapData:gu,timelineData:ic,boonTables:Kr,boonTimeline:ac,boonUptimeTimeline:ol,offensePlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,offenseTotals:E.offenseTotals,offenseRateWeights:E.offenseRateWeights,totalFightMs:E.totalFightMs})),defensePlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,defenseTotals:E.defenseTotals,activeMs:E.defenseActiveMs,minionDamageTakenByMinion:E.defenseMinionDamageTaken})),damageMitigationPlayers:Zt,damageMitigationMinions:Sn,supportPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,supportTotals:E.supportTotals,activeMs:E.supportActiveMs})),healingPlayers:Array.from(O.values()).map(E=>({account:E.account,profession:E.profession,professionList:E.professionList,healingTotals:E.healingTotals,activeMs:E.healingActiveMs})),mvp:ya,silver:Fr,bronze:Fi,squadClassData:yu,enemyClassData:Je,fightBreakdown:yt,fightDiffMode:Et,attendanceData:Ft,squadCompByFight:wt,spikeDamage:fn,incomingStrikeDamage:jr,specialTables:rr,topStatsPerSecond:Ln,topStatsLeaderboardsPerSecond:yr,avgMvpScore:nl}})(),p=(()=>{const m=new Map,h=new Map,v=[],x=new Map,y=new Map;s.forEach(w=>{const S=w.details;if(!S)return;const j=S.skillMap||{},N=S.fightName||"Log",A=Xr(S,w)||Date.now(),P={id:w.filePath||w.id||N,label:N,timestamp:A,skillEntries:{},playerActiveSeconds:{},durationSeconds:S.durationMS?S.durationMS/1e3:0};(S.players||[]).forEach(U=>{if(U.notInSquad)return;const D=U.account||U.name||"Unknown",I=U.profession||"Unknown",O=`${D}|${I}`;let H=h.get(O);H||(H={key:O,account:D,displayName:D,profession:I,professionList:[I],logs:0,totalActiveSeconds:0,skillTotals:{}},h.set(O,H)),H.logs++;const J=(Array.isArray(U.activeTimes)?U.activeTimes[0]:0)/1e3;H.totalActiveSeconds=(H.totalActiveSeconds||0)+J,P.playerActiveSeconds[O]=J,(U.rotation||[]).forEach(oe=>{var je,te,W;if(!(oe!=null&&oe.id))return;const le=((je=oe.skills)==null?void 0:je.length)||0;if(le<=0)return;const k=`s${oe.id}`,F=((te=j[k])==null?void 0:te.name)||`Skill ${oe.id}`,T=(W=j[k])==null?void 0:W.icon;H.skillTotals[k]=(H.skillTotals[k]||0)+le,m.set(k,(m.get(k)||0)+le),x.set(k,F),T&&!y.has(k)&&y.set(k,T),P.skillEntries[k]||(P.skillEntries[k]={name:F,icon:T,players:{}}),!P.skillEntries[k].icon&&T&&(P.skillEntries[k].icon=T),P.skillEntries[k].players[O]=(P.skillEntries[k].players[O]||0)+le})}),v.push(P)});const b=Array.from(m.entries()).map(([w,S])=>({id:w,name:x.get(w)||w,total:S,icon:y.get(w)})).sort((w,S)=>S.total-w.total);return{logRecords:v,players:Array.from(h.values()),skillOptions:b,resUtilitySkills:[]}})();return{validLogs:s,stats:f,skillUsageData:p}},Z8=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:a,embedded:i,onWebUpload:o})=>{const[s,l]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const m=new Set;let h=null,v=null;e.forEach(A=>{const P=A.details;if(!P)return;const U=P.timeStartStd||P.timeStart||P.uploadTime||A.uploadTime,D=P.timeEndStd||P.timeEnd||P.uploadTime||A.uploadTime,I=U?new Date(U):null,O=D?new Date(D):null;I&&!Number.isNaN(I.getTime())&&(!h||I<h)&&(h=I),O&&!Number.isNaN(O.getTime())&&(!v||O>v)&&(v=O),(P.players||[]).forEach(H=>{if(!(H!=null&&H.notInSquad)&&H!=null&&H.hasCommanderTag){const J=(H==null?void 0:H.name)||(H==null?void 0:H.account)||"Unknown";m.add(J)}})});const x=Array.from(m).sort((A,P)=>A.localeCompare(P)),y=h||new Date,b=v||y,w=y.toISOString(),S=b.toISOString(),j=`${y.toLocaleString()} - ${b.toLocaleString()}`,N=A=>String(A).padStart(2,"0");return{id:`${y.getFullYear()}${N(y.getMonth()+1)}${N(y.getDate())}-${N(y.getHours())}${N(y.getMinutes())}${N(y.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:x.length?x.join(", "):"Unknown Commander",commanders:x,dateStart:w,dateEnd:S,dateLabel:j,generatedAt:new Date().toISOString()}},p=()=>{var m;const h={...t,skillUsageData:n,statsViewSettings:r,uiTheme:a};if(Array.isArray(h.fightDiffMode)&&h.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return h;try{const v=Xh({logs:e,statsViewSettings:r}),x=(m=v==null?void 0:v.stats)==null?void 0:m.fightDiffMode;if(Array.isArray(x)&&x.length>0)return{...h,fightDiffMode:x}}catch{}return h};return{devMockUploadState:s,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!i&&o)try{const m=f(),h=p();await o({meta:m,stats:h})}catch(m){console.error("[StatsView] Web upload failed:",m)}},handleDevMockUpload:async()=>{var m;if(!(i||!((m=window.electronAPI)!=null&&m.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const h=f(),v=p(),x=await window.electronAPI.mockWebReport({meta:h,stats:v});x!=null&&x.success?l({uploading:!1,message:"Local report ready.",url:x.url||null}):l({uploading:!1,message:(x==null?void 0:x.error)||"Local report failed.",url:null})}catch(h){l({uploading:!1,message:(h==null?void 0:h.message)||"Local report failed.",url:null})}}}}};function Q8(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(a),t&&(r.href=t),a.href=e,a.href}const eV=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function $l(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let mf=null;function U3(e={}){return mf||(e.includeStyleProperties?(mf=e.includeStyleProperties,mf):(mf=$l(window.getComputedStyle(document.documentElement)),mf))}function Og(e,t){const n=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return n?parseFloat(n.replace("px","")):0}function tV(e){const t=Og(e,"border-left-width"),n=Og(e,"border-right-width");return e.clientWidth+t+n}function nV(e){const t=Og(e,"border-top-width"),n=Og(e,"border-bottom-width");return e.clientHeight+t+n}function V3(e,t={}){const n=t.width||tV(e),r=t.height||nV(e);return{width:n,height:r}}function rV(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const ki=16384;function aV(e){(e.width>ki||e.height>ki)&&(e.width>ki&&e.height>ki?e.width>e.height?(e.height*=ki/e.width,e.width=ki):(e.width*=ki/e.height,e.height=ki):e.width>ki?(e.height*=ki/e.width,e.width=ki):(e.width*=ki/e.height,e.height=ki))}function Ig(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function iV(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function oV(e,t,n){const r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),i.setAttribute("width","100%"),i.setAttribute("height","100%"),i.setAttribute("x","0"),i.setAttribute("y","0"),i.setAttribute("externalResourcesRequired","true"),a.appendChild(i),i.appendChild(e),iV(a)}const pi=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||pi(n,t)};function sV(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function lV(e,t){return U3(t).map(n=>{const r=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${r}${a?" !important":""};`}).join(" ")}function cV(e,t,n,r){const a=`.${e}:${t}`,i=n.cssText?sV(n):lV(n,r);return document.createTextNode(`${a}{${i}}`)}function lC(e,t,n,r){const a=window.getComputedStyle(e,n),i=a.getPropertyValue("content");if(i===""||i==="none")return;const o=eV();try{t.className=`${t.className} ${o}`}catch{return}const s=document.createElement("style");s.appendChild(cV(o,n,a,r)),t.appendChild(s)}function uV(e,t,n){lC(e,t,":before",n),lC(e,t,":after",n)}const cC="application/font-woff",uC="image/jpeg",dV={woff:cC,woff2:cC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:uC,jpeg:uC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function fV(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Lk(e){const t=fV(e).toLowerCase();return dV[t]||""}function pV(e){return e.split(/,/)[1]}function tw(e){return e.search(/^(data:)/)!==-1}function mV(e,t){return`data:${t};base64,${e}`}async function W3(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const a=await r.blob();return new Promise((i,o)=>{const s=new FileReader;s.onerror=o,s.onloadend=()=>{try{i(n({res:r,result:s.result}))}catch(l){o(l)}},s.readAsDataURL(a)})}const ib={};function hV(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Fk(e,t,n){const r=hV(e,t,n.includeQueryParams);if(ib[r]!=null)return ib[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const i=await W3(e,n.fetchRequestInit,({res:o,result:s})=>(t||(t=o.headers.get("Content-Type")||""),pV(s)));a=mV(i,t)}catch(i){a=n.imagePlaceholder||"";let o=`Failed to fetch resource: ${e}`;i&&(o=typeof i=="string"?i:i.message),o&&console.warn(o)}return ib[r]=a,a}async function gV(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Ig(t)}async function yV(e,t){if(e.currentSrc){const i=document.createElement("canvas"),o=i.getContext("2d");i.width=e.clientWidth,i.height=e.clientHeight,o==null||o.drawImage(e,0,0,i.width,i.height);const s=i.toDataURL();return Ig(s)}const n=e.poster,r=Lk(n),a=await Fk(n,r,t);return Ig(a)}async function vV(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await ly(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function bV(e,t){return pi(e,HTMLCanvasElement)?gV(e):pi(e,HTMLVideoElement)?yV(e,t):pi(e,HTMLIFrameElement)?vV(e,t):e.cloneNode(H3(e))}const xV=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",H3=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function wV(e,t,n){var r,a;if(H3(t))return t;let i=[];return xV(e)&&e.assignedNodes?i=$l(e.assignedNodes()):pi(e,HTMLIFrameElement)&&!((r=e.contentDocument)===null||r===void 0)&&r.body?i=$l(e.contentDocument.body.childNodes):i=$l(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),i.length===0||pi(e,HTMLVideoElement)||await i.reduce((o,s)=>o.then(()=>ly(s,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function kV(e,t,n){const r=t.style;if(!r)return;const a=window.getComputedStyle(e);a.cssText?(r.cssText=a.cssText,r.transformOrigin=a.transformOrigin):U3(n).forEach(i=>{let o=a.getPropertyValue(i);i==="font-size"&&o.endsWith("px")&&(o=`${Math.floor(parseFloat(o.substring(0,o.length-2)))-.1}px`),pi(e,HTMLIFrameElement)&&i==="display"&&o==="inline"&&(o="block"),i==="d"&&t.getAttribute("d")&&(o=`path(${t.getAttribute("d")})`),r.setProperty(i,o,a.getPropertyPriority(i))})}function SV(e,t){pi(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),pi(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function NV(e,t){if(pi(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));r&&r.setAttribute("selected","")}}function jV(e,t,n){return pi(t,Element)&&(kV(e,t,n),uV(e,t,n),SV(e,t),NV(e,t)),t}async function CV(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let i=0;i<n.length;i++){const o=n[i].getAttribute("xlink:href");if(o){const s=e.querySelector(o),l=document.querySelector(o);!s&&l&&!r[o]&&(r[o]=await ly(l,t,!0))}}const a=Object.values(r);if(a.length){const i="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg");o.setAttribute("xmlns",i),o.style.position="absolute",o.style.width="0",o.style.height="0",o.style.overflow="hidden",o.style.display="none";const s=document.createElementNS(i,"defs");o.appendChild(s);for(let l=0;l<a.length;l++)s.appendChild(a[l]);e.appendChild(o)}return e}async function ly(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>bV(r,t)).then(r=>wV(e,r,t)).then(r=>jV(e,r,t)).then(r=>CV(r,t))}const q3=/url\((['"]?)([^'"]+?)\1\)/g,MV=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,AV=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function EV(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function DV(e){const t=[];return e.replace(q3,(n,r,a)=>(t.push(a),n)),t.filter(n=>!tw(n))}async function PV(e,t,n,r,a){try{const i=n?Q8(t,n):t,o=Lk(t);let s;return a||(s=await Fk(i,o,r)),e.replace(EV(t),`$1${s}$3`)}catch{}return e}function TV(e,{preferredFontFormat:t}){return t?e.replace(AV,n=>{for(;;){const[r,,a]=MV.exec(n)||[];if(!a)return"";if(a===t)return`src: ${r};`}}):e}function K3(e){return e.search(q3)!==-1}async function G3(e,t,n){if(!K3(e))return e;const r=TV(e,n);return DV(r).reduce((a,i)=>a.then(o=>PV(o,i,t,n)),Promise.resolve(r))}async function Eu(e,t,n){var r;const a=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(a){const i=await G3(a,null,n);return t.style.setProperty(e,i,t.style.getPropertyPriority(e)),!0}return!1}async function OV(e,t){await Eu("background",e,t)||await Eu("background-image",e,t),await Eu("mask",e,t)||await Eu("-webkit-mask",e,t)||await Eu("mask-image",e,t)||await Eu("-webkit-mask-image",e,t)}async function IV(e,t){const n=pi(e,HTMLImageElement);if(!(n&&!tw(e.src))&&!(pi(e,SVGImageElement)&&!tw(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,a=await Fk(r,Lk(r),t);await new Promise((i,o)=>{e.onload=i,e.onerror=t.onImageErrorHandler?(...l)=>{try{i(t.onImageErrorHandler(...l))}catch(u){o(u)}}:o;const s=e;s.decode&&(s.decode=i),s.loading==="lazy"&&(s.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function _V(e,t){const n=$l(e.childNodes).map(r=>Y3(r,t));await Promise.all(n).then(()=>e)}async function Y3(e,t){pi(e,Element)&&(await OV(e,t),await IV(e,t),await _V(e,t))}function LV(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(a=>{n[a]=r[a]}),e}const dC={};async function fC(e){let t=dC[e];if(t!=null)return t;const n=await(await fetch(e)).text();return t={url:e,cssText:n},dC[e]=t,t}async function pC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async i=>{let o=i.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),W3(o,t.fetchRequestInit,({result:s})=>(n=n.replace(i,`url(${s})`),[i,s]))});return Promise.all(a).then(()=>n)}function mC(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=a.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(a,"");const i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,o="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",s=new RegExp(o,"gi");for(;;){let l=i.exec(r);if(l===null){if(l=s.exec(r),l===null)break;i.lastIndex=s.lastIndex}else s.lastIndex=i.lastIndex;t.push(l[0])}return t}async function FV(e,t){const n=[],r=[];return e.forEach(a=>{if("cssRules"in a)try{$l(a.cssRules||[]).forEach((i,o)=>{if(i.type===CSSRule.IMPORT_RULE){let s=o+1;const l=i.href,u=fC(l).then(d=>pC(d,t)).then(d=>mC(d).forEach(f=>{try{a.insertRule(f,f.startsWith("@import")?s+=1:a.cssRules.length)}catch(p){console.error("Error inserting rule from remote css",{rule:f,error:p})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(i){const o=e.find(s=>s.href==null)||document.styleSheets[0];a.href!=null&&r.push(fC(a.href).then(s=>pC(s,t)).then(s=>mC(s).forEach(l=>{o.insertRule(l,o.cssRules.length)})).catch(s=>{console.error("Error loading remote stylesheet",s)})),console.error("Error inlining remote css file",i)}}),Promise.all(r).then(()=>(e.forEach(a=>{if("cssRules"in a)try{$l(a.cssRules||[]).forEach(i=>{n.push(i)})}catch(i){console.error(`Error while reading CSS rules from ${a.href}`,i)}}),n))}function RV(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>K3(t.style.getPropertyValue("src")))}async function $V(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=$l(e.ownerDocument.styleSheets),r=await FV(n,t);return RV(r)}function X3(e){return e.trim().replace(/["']/g,"")}function BV(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(X3(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function zV(e,t){const n=await $V(e,t),r=BV(e);return(await Promise.all(n.filter(a=>r.has(X3(a.style.fontFamily))).map(a=>{const i=a.parentStyleSheet?a.parentStyleSheet.href:null;return G3(a.cssText,i,t)}))).join(`
`)}async function UV(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await zV(e,t);if(n){const r=document.createElement("style"),a=document.createTextNode(n);r.appendChild(a),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function VV(e,t={}){const{width:n,height:r}=V3(e,t),a=await ly(e,t,!0);return await UV(a,t),await Y3(a,t),LV(a,t),await oV(a,n,r)}async function WV(e,t={}){const{width:n,height:r}=V3(e,t),a=await VV(e,t),i=await Ig(a),o=document.createElement("canvas"),s=o.getContext("2d"),l=t.pixelRatio||rV(),u=t.canvasWidth||n,d=t.canvasHeight||r;return o.width=u*l,o.height=d*l,t.skipAutoScale||aV(o),o.style.width=`${u}`,o.style.height=`${d}`,t.backgroundColor&&(s.fillStyle=t.backgroundColor,s.fillRect(0,0,o.width,o.height)),s.drawImage(i,0,0,o.width,o.height),o}async function HV(e,t={}){return(await WV(e,t)).toDataURL()}const qV=e=>{const[t,n]=g.useState(!1),r=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return i();const s=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(d,f)=>{const p=typeof d=="string"?d:d instanceof URL?d.toString():d.url;if(/^https?:\/\//i.test(p)){const m=await window.electronAPI.fetchImageAsDataUrl(p);if(m!=null&&m.success&&m.dataUrl)return s(m.dataUrl)}return s(d,f)};window.fetch=u,globalThis.fetch=u;try{return await i()}finally{window.fetch=s,globalThis.fetch=l}},a=async i=>{var o;if(!((o=window.electronAPI)!=null&&o.fetchImageAsDataUrl))return()=>{};const s=new Map,l=[],u=async p=>{if(s.has(p))return s.get(p)||null;const m=await window.electronAPI.fetchImageAsDataUrl(p);return m!=null&&m.success&&m.dataUrl?(s.set(p,m.dataUrl),m.dataUrl):(s.set(p,""),null)},d=Array.from(i.querySelectorAll("img"));await Promise.all(d.map(async p=>{var m;const h=p.currentSrc||p.src;if(!h||h.startsWith("data:")||h.startsWith("blob:")||h.startsWith("file:"))return;const v=await u(h);if(!v)return;const x=p.src,y=p.srcset;p.src=v,p.srcset="",l.push(()=>{p.src=x,p.srcset=y});try{await((m=p.decode)==null?void 0:m.call(p))}catch{}}));const f=Array.from(i.querySelectorAll("*"));return await Promise.all(f.map(async p=>{const m=window.getComputedStyle(p).backgroundImage;if(!m||m==="none"||!m.includes("url("))return;const h=Array.from(m.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!h.length)return;let v=m,x=!1;for(const b of h){const w=b[1];if(!w)continue;const S=await u(w);S&&(v=v.replace(b[0],`url("${S}")`),x=!0)}if(!x)return;const y=p.style.backgroundImage;p.style.backgroundImage=v,l.push(()=>{p.style.backgroundImage=y})})),()=>{l.forEach(p=>p())}};return{sharing:t,setSharing:n,handleShare:async()=>{var i;if(e||!((i=window.electronAPI)!=null&&i.sendStatsScreenshot))return;n(!0);const o=document.getElementById("stats-dashboard-container");if(o)try{await new Promise(p=>setTimeout(p,100));const s=Array.from(o.querySelectorAll(".stats-share-exclude"));o.classList.add("stats-share-mode"),s.forEach(p=>{p.dataset.prevDisplay=p.style.display,p.style.display="none"});let l;const u=await a(o);try{const p=o.scrollWidth,m=o.scrollHeight;l=await r(()=>HV(o,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:p,height:m,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{u(),o.classList.remove("stats-share-mode"),s.forEach(p=>{p.style.display=p.dataset.prevDisplay||"",delete p.dataset.prevDisplay})}const d=await(await(await fetch(l)).blob()).arrayBuffer(),f=new Uint8Array(d);window.electronAPI.sendStatsScreenshot(f)}catch(s){console.error("Failed to capture stats:",s)}setTimeout(()=>n(!1),2e3)}}},Pf=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},KV=e=>!!(e&&e.__statsPruned===!0),hC=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,a])=>{if(!a||typeof a!="object")return;const i={};typeof a.name=="string"&&(i.name=a.name),typeof a.icon=="string"&&(i.icon=a.icon),t!=null&&t.includeClassification&&typeof a.classification=="string"&&(i.classification=a.classification),t!=null&&t.includeStacking&&(typeof a.stacking=="boolean"?i.stacking=a.stacking:typeof a.stacking=="number"&&(i.stacking=!!a.stacking)),Object.keys(i).length>0&&(n[r]=i)}),n},gC=e=>{var t;const n=(t=e==null?void 0:e.statsAll)==null?void 0:t[0];return!n||typeof n!="object"?!1:n.distToCom!==void 0&&n.distToCom!=="Infinity"||n.stackDist!==void 0},GV=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const a=Pf(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(a.positions=r.positions),a};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},yC=e=>{if(!e||typeof e!="object")return e;const t=Pf(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=hC(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=hC(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,r=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!gC(a));t.players=n.map(a=>{const i=Pf(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];i.minions=o.map(l=>Pf(l,["name","totalDamageTakenDist"]));const s=r&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!gC(a));return i.combatReplayData=GV(a==null?void 0:a.combatReplayData,s),i})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>Pf(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},YV=e=>{if(!e||typeof e!="object"||KV(e))return e;const t={...e};return e.details?t.details=yC(e.details):t.details=yC(e),t.__statsPruned=!0,t},XV=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})=>{const i=e.length>8,[o,s]=g.useState(()=>Xh(typeof Worker<"u"&&i?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:a}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:a})),[l,u]=g.useState(0),[d,f]=g.useState(0),[p,m]=g.useState(0),[h,v]=g.useState(0),[x,y]=g.useState(null),b=g.useRef(0),[w,S]=g.useState(0),j=g.useRef(null),N=g.useRef(null),[A,P]=g.useState(!1),U=g.useRef(null),D=g.useRef(null),I=g.useRef(0),O=g.useRef(0),H=g.useRef(new Map),J=g.useRef(""),oe=g.useRef(void 0),je=g.useRef(""),te=g.useRef(0),[W,le]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[k,F]=g.useState(null),T=g.useRef(0),C=()=>{if(U.current!==null&&(window.clearTimeout(U.current),U.current=null),D.current!==null){const z=window.cancelIdleCallback;typeof z=="function"&&z(D.current),D.current=null}},B=(z,ne)=>{const $=String((z==null?void 0:z.filePath)||(z==null?void 0:z.id)||`idx-${ne}`),ie=z!=null&&z.details&&typeof z.details=="object"?z.details:null,ge=H.current.get($);if(ge&&(ie&&ge.sourceDetails===ie||!ie&&ge.sourceLog===z))return ge.pruned;const Y=YV(z);return H.current.set($,{sourceLog:z,sourceDetails:ie,pruned:Y}),Y},R=g.useMemo(()=>{if(!r){J.current="",oe.current=void 0;return}const z={...r};delete z.topSkillsMetric;const ne=JSON.stringify(z);return J.current!==ne&&(J.current=ne,oe.current=z),oe.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!A&&i)return N.current||(N.current=new Worker(new URL(""+new URL(""+new URL("statsWorker-DdbAXDAY-xO643nw3.js",import.meta.url).href,import.meta.url).href,import.meta.url),{type:"module"}),N.current.onmessage=z=>{var ne;if(((ne=z.data)==null?void 0:ne.type)==="result"){const $=typeof z.data.token=="number"?z.data.token:null;if($!==null&&$!==b.current)return;g.startTransition(()=>{var ie;s(z.data.result),typeof z.data.computeId=="number"?u(z.data.computeId):u(Pe=>Pe+1),typeof z.data.logCount=="number"&&f(z.data.logCount),typeof z.data.token=="number"&&m(z.data.token),typeof z.data.completedAt=="number"&&v(z.data.completedAt),typeof z.data.flushId=="number"&&y(z.data.flushId);const ge=$===null||$===b.current,Y=te.current,he=typeof z.data.logCount=="number"?z.data.logCount:0;if(ge){const Pe=typeof z.data.completedAt=="number"?z.data.completedAt:Date.now(),mt=((ie=z.data)==null?void 0:ie.diagnostics)||{},Yt=Math.max(0,Number(mt.computeMs||0)),ye=T.current>0?T.current:Pe,fe=Math.max(0,Pe-ye),ke=Math.max(0,fe-Yt);F({mode:"worker",logsInPayload:Number(mt.logsInPayload||z.data.logCount||0),streamedLogs:Number(z.data.logCount||0),totalLogs:Y,startedAt:ye,completedAt:Pe,streamMs:ke,computeMs:Yt,totalMs:fe,flushId:typeof z.data.flushId=="number"?z.data.flushId:null,transferStripStats:mt.transferStripStats,counts:mt.counts,expectedLogCount:Number(mt.expectedLogCount||0),droppedLogMessages:Number(mt.droppedLogMessages||0)})}ge&&he>=Y&&le(Pe=>({...Pe,active:Y>0,phase:Y>0?"settled":"idle",streamed:Y,total:Y,completedAt:typeof z.data.completedAt=="number"?z.data.completedAt:Date.now()}))})}},N.current.onerror=z=>{var ne;console.warn("[StatsWorker] Worker error. Falling back to main thread.",z),(ne=N.current)==null||ne.terminate(),N.current=null,P(!0)},N.current.onmessageerror=z=>{var ne;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",z),(ne=N.current)==null||ne.terminate(),N.current=null,P(!0)},j.current!==null&&N.current.postMessage({type:"flush",flushId:j.current,token:b.current})),()=>{var z;O.current+=1,C(),(z=N.current)==null||z.terminate(),N.current=null}},[A,i]),g.useEffect(()=>{var z;if(!N.current||A||!i)return;const ne=O.current+1;O.current=ne;let $=!1;try{te.current=e.length,T.current=Date.now(),F(null),le({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const ie=b.current+1;b.current=ie,S(ie);const ge=new Set;e.forEach((ye,fe)=>{ge.add(String((ye==null?void 0:ye.filePath)||(ye==null?void 0:ye.id)||`idx-${fe}`))}),H.current.forEach((ye,fe)=>{ge.has(fe)||H.current.delete(fe)}),C(),N.current.postMessage({type:"reset",token:ie,totalLogs:e.length}),N.current.postMessage({type:"settings",token:ie,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:R,disruptionMethod:a}});let Y=0;const he=e.length,Pe=(ye,fe=!1)=>{const ke=performance.now();if(!fe&&ke-I.current<120&&Y<he)return;I.current=ke;const Xe=Math.min(Y,he);le(Nt=>Nt.active===he>0&&Nt.phase===ye&&Nt.streamed===Xe&&Nt.total===he?Nt:{...Nt,active:he>0,phase:ye,streamed:Xe,total:he})},mt=()=>{if($||O.current!==ne||!N.current)return;const ye=window.requestIdleCallback;if(typeof ye=="function"){D.current=ye(fe=>{D.current=null,Yt(fe)},{timeout:120});return}U.current=window.setTimeout(()=>{U.current=null,Yt()},0)},Yt=ye=>{if($||O.current!==ne||!N.current)return;const fe=!!(ye&&typeof ye.timeRemaining=="function"),ke=fe?Math.max(0,Number(ye.timeRemaining()||0)):0,Xe=fe?ke>12?4:ke>7?2:1:1;let Nt=0;for(;Nt<Xe&&Y<he;)N.current.postMessage({type:"log",token:ie,payload:B(e[Y],Y)}),Y+=1,Nt+=1;Y<he?(Pe("streaming"),mt()):(Pe("computing",!0),N.current.postMessage({type:"flush",token:ie}))};I.current=0,he<=0?(Pe("computing",!0),N.current.postMessage({type:"flush",token:ie})):(Pe("streaming",!0),mt())}catch(ie){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",ie),C(),(z=N.current)==null||z.terminate(),N.current=null,P(!0),le({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),F(null)}return()=>{$=!0,C()}},[e,t,n,R,a,i,A]);const G=g.useMemo(()=>{if(!A&&typeof Worker<"u"&&i)return null;const z=Date.now(),ne=performance.now(),$=Xh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:R,disruptionMethod:a}),ie=Math.max(0,performance.now()-ne),ge=Date.now();return{result:$,computeMs:ie,startedAt:z,completedAt:ge}},[A,e,t,n,R,a,i]),se=g.useMemo(()=>{if(!A&&typeof Worker<"u"&&i)return"worker";const z=e[0],ne=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(z==null?void 0:z.filePath)||(z==null?void 0:z.name)||"",lastLogPath:(ne==null?void 0:ne.filePath)||(ne==null?void 0:ne.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:a||null,settingsKey:J.current})},[A,i,e,t,a]);g.useEffect(()=>{if(!A&&typeof Worker<"u"&&i||je.current===se)return;je.current=se,u(ne=>ne+1),f(e.length),m(b.current);const z=Date.now();v(z),F({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(G==null?void 0:G.startedAt)||z,completedAt:z,streamMs:0,computeMs:Math.max(0,Number((G==null?void 0:G.computeMs)||0)),totalMs:Math.max(0,Number((G==null?void 0:G.computeMs)||0)),flushId:null})},[se,G,A,e.length,i]);const K=A||typeof Worker>"u"||!i?(G==null?void 0:G.result)??Xh({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:R,disruptionMethod:a}):o,L=!A&&typeof Worker<"u"&&i?W:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:K,computeTick:l,lastComputedLogCount:d,lastComputedToken:p,activeToken:w,lastComputedAt:h,lastComputedFlushId:x,aggregationProgress:L,aggregationDiagnostics:k,requestFlush:()=>{const z=Date.now();return j.current=z,N.current&&!A&&N.current.postMessage({type:"flush",flushId:z,token:b.current}),z}}},JV=e=>({apmSpecBuckets:g.useMemo(()=>{const t=new Map,n=new Map((e.skillOptions||[]).map(i=>[i.id,i])),r=new Map,a=(i,o)=>{if(r.has(o))return r.get(o);const s=n.get(o);let l=!1;return s&&typeof s.autoAttack=="boolean"?l=s.autoAttack:l=a8(i),r.set(o,l),l};return(e.players||[]).forEach(i=>{const o=(i==null?void 0:i.profession)||"Unknown";let s=t.get(o);s||(s={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},t.set(o,s)),s.players.push(i);const l=Number((i==null?void 0:i.totalActiveSeconds)||0),u=Number.isFinite(l)&&l>0?l:0;s.totalActiveSeconds+=u;let d=0,f=0;const p=i&&typeof i.skillTotals=="object"&&i.skillTotals!==null?i.skillTotals:{};Object.entries(p).forEach(([S,j])=>{const N=Number(j);if(!Number.isFinite(N)||N<=0)return;const A=n.get(S),P=(A==null?void 0:A.name)||S,U=A==null?void 0:A.icon,D=a(P,S);d+=N,D&&(f+=N);let I=s.skillMap.get(S);I||(I={id:S,name:P,icon:U,totalCasts:0,playerCounts:new Map},s.skillMap.set(S,I)),!I.icon&&U&&(I.icon=U),I.totalCasts+=N;const O=(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`;I.playerCounts.set(O,N)}),s.totalCasts+=d,s.totalAutoCasts+=f;const m=u/60,h=m>0?d/m:0,v=Math.max(0,d-f),x=m>0?v/m:0,y=u>0?d/u:0,b=u>0?v/u:0,w={key:(i==null?void 0:i.key)||`${(i==null?void 0:i.account)||"Unknown"}|${o}`,account:(i==null?void 0:i.account)||"Unknown",displayName:(i==null?void 0:i.displayName)||(i==null?void 0:i.account)||"Unknown",profession:o,professionList:Array.isArray(i==null?void 0:i.professionList)?i.professionList:[o],logs:Number((i==null?void 0:i.logs)||0),totalActiveSeconds:u,totalCasts:d,totalAutoCasts:f,apm:h,apmNoAuto:x,aps:y,apsNoAuto:b};s.playerRows.push(w)}),t.forEach(i=>{i.playerRows.sort((u,d)=>d.apm-u.apm);const o=Number(i.totalActiveSeconds||0),s=o>0?o/60:0,l=Math.max(0,Number(i.totalCasts||0)-Number(i.totalAutoCasts||0));i.totalApm=s>0?Number(i.totalCasts||0)/s:0,i.totalApmNoAuto=s>0?l/s:0,i.totalAps=o>0?Number(i.totalCasts||0)/o:0,i.totalApsNoAuto=o>0?l/o:0,i.skills=Array.from(i.skillMap.values()).map(u=>{const d=i.playerRows.map(h=>{var v;const x=Number(((v=u.playerCounts)==null?void 0:v.get(h.key))||0);if(!Number.isFinite(x)||x<=0)return null;const y=Number(h.totalActiveSeconds||0),b=y>0?x/(y/60):0,w=y>0?x/y:0;return{...h,count:x,apm:b,aps:w}}).filter(Boolean).sort((h,v)=>v.apm-h.apm||String(h.displayName||"").localeCompare(String(v.displayName||""))),f=Number(u.totalCasts||0),p=o>0?f/o:0,m=s>0?f/s:0;return{...u,playerRows:d,totalCasts:f,totalCastsPerSecond:p,totalApm:m}}).sort((u,d)=>d.totalCasts-u.totalCasts)}),Array.from(t.values()).sort((i,o)=>i.profession.localeCompare(o.profession))},[e])}),ZV=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const a=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),i=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(p=>{const m=p.skillTotals[t]||0;if(m===0)return;let h=m;if(f){const v=p.totalActiveSeconds||1;h=v>0?m/v:0}d.set(p.key,h)}),d},[e.players,t,r]),o=g.useMemo(()=>t?Array.from(i.entries()).map(([d,f])=>{const p=a.get(d);return{key:d,name:(p==null?void 0:p.displayName)||d,profession:(p==null?void 0:p.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[i,a,t]),{chartData:s,maxY:l}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((p,m)=>{const h=p.skillEntries[t];if(!h)return null;const v={index:m,name:p.label,shortLabel:p.label,fullLabel:p.label,timestamp:p.timestamp};let x=!1,y=!1;if(Object.entries(h.players).forEach(([b,w])=>{var S;if(n.size>0&&!n.has(b))return;let j=w;if(f){const N=((S=p.playerActiveSeconds)==null?void 0:S[b])||0;j=N>0?w/N:0}v[b]=j,j>d&&(d=j),x=!0,y=!0}),n.size>0){if(!y)return null}else if(!x)return null;return n.forEach(b=>{v[b]===void 0&&(v[b]=0)}),v}).filter(p=>p!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const p=f.profession||"Unknown";d[p]||(d[p]=[]),d[p].push(f)}),Object.entries(d).map(([f,p])=>({profession:f,players:p.sort((m,h)=>m.displayName.localeCompare(h.displayName))})).sort((f,p)=>f.profession.localeCompare(p.profession))},[e.players]);return{playerMapByKey:a,playerTotalsForSkill:i,skillBarData:o,skillChartData:s,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function J3(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=J3(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Pn(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=J3(e))&&(r&&(r+=" "),r+=t);return r}var QV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rk(e){if(typeof e!="string")return!1;var t=QV;return t.includes(e)}var e7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],t7=new Set(e7);function Z3(e){return typeof e!="string"?!1:t7.has(e)}function Q3(e){return typeof e=="string"&&e.startsWith("data-")}function to(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Z3(n)||Q3(n))&&(t[n]=e[n]);return t}function wd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return to(t)}return typeof e=="object"&&!Array.isArray(e)?to(e):null}function za(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(Z3(n)||Q3(n)||Rk(n))&&(t[n]=e[n]);return t}function n7(e){return e==null?null:g.isValidElement(e)?za(e.props):typeof e=="object"&&!Array.isArray(e)?za(e):null}var r7=["children","width","height","viewBox","className","style","title","desc"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nw.apply(null,arguments)}function a7(e,t){if(e==null)return{};var n,r,a=i7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function i7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $k=g.forwardRef((e,t)=>{var{children:n,width:r,height:a,viewBox:i,className:o,style:s,title:l,desc:u}=e,d=a7(e,r7),f=i||{width:r,height:a,x:0,y:0},p=Pn("recharts-surface",o);return g.createElement("svg",nw({},za(d),{className:p,width:r,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),o7=["children","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rw.apply(null,arguments)}function s7(e,t){if(e==null)return{};var n,r,a=l7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function l7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xa=g.forwardRef((e,t)=>{var{children:n,className:r}=e,a=s7(e,o7),i=Pn("recharts-layer",r);return g.createElement("g",rw({className:i},za(a),{ref:t}),n)}),eO=g.createContext(null),c7=()=>g.useContext(eO);function or(e){return function(){return e}}const tO=Math.cos,_g=Math.sin,Oo=Math.sqrt,Lg=Math.PI,cy=2*Lg,aw=Math.PI,iw=2*aw,Sc=1e-6,u7=iw-Sc;function nO(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function d7(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return nO;const n=10**t;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class f7{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?nO:d7(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,a){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(t,n,r,a,i,o){this._append`C${+t},${+n},${+r},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,n,r,a,i){if(t=+t,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,l=r-t,u=a-n,d=o-t,f=s-n,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(p>Sc)if(!(Math.abs(f*l-u*d)>Sc)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-o,h=a-s,v=l*l+u*u,x=m*m+h*h,y=Math.sqrt(v),b=Math.sqrt(p),w=i*Math.tan((aw-Math.acos((v+p-x)/(2*y*b)))/2),S=w/b,j=w/y;Math.abs(S-1)>Sc&&this._append`L${t+S*d},${n+S*f}`,this._append`A${i},${i},0,0,${+(f*m>d*h)},${this._x1=t+j*l},${this._y1=n+j*u}`}}arc(t,n,r,a,i,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(a),l=r*Math.sin(a),u=t+s,d=n+l,f=1^o,p=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Sc||Math.abs(this._y1-d)>Sc)&&this._append`L${u},${d}`,r&&(p<0&&(p=p%iw+iw),p>u7?this._append`A${r},${r},0,1,${f},${t-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:p>Sc&&this._append`A${r},${r},0,${+(p>=aw)},${f},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function Bk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new f7(t)}function zk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rO(e){this._context=e}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function uy(e){return new rO(e)}function aO(e){return e[0]}function iO(e){return e[1]}function oO(e,t){var n=or(!0),r=null,a=uy,i=null,o=Bk(s);e=typeof e=="function"?e:e===void 0?aO:or(e),t=typeof t=="function"?t:t===void 0?iO:or(t);function s(l){var u,d=(l=zk(l)).length,f,p=!1,m;for(r==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+e(f,u,l),+t(f,u,l));if(m)return i=null,m+""||null}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:or(+l),s):e},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:or(+l),s):t},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:or(!!l),s):n},s.curve=function(l){return arguments.length?(a=l,r!=null&&(i=a(r)),s):a},s.context=function(l){return arguments.length?(l==null?r=i=null:i=a(r=l),s):r},s}function dh(e,t,n){var r=null,a=or(!0),i=null,o=uy,s=null,l=Bk(u);e=typeof e=="function"?e:e===void 0?aO:or(+e),t=typeof t=="function"?t:or(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?iO:or(+n);function u(f){var p,m,h,v=(f=zk(f)).length,x,y=!1,b,w=new Array(v),S=new Array(v);for(i==null&&(s=o(b=l())),p=0;p<=v;++p){if(!(p<v&&a(x=f[p],p,f))===y)if(y=!y)m=p,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=p-1;h>=m;--h)s.point(w[h],S[h]);s.lineEnd(),s.areaEnd()}y&&(w[p]=+e(x,p,f),S[p]=+t(x,p,f),s.point(r?+r(x,p,f):w[p],n?+n(x,p,f):S[p]))}if(b)return s=null,b+""||null}function d(){return oO().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:or(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:or(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:or(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:or(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:or(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class sO{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function p7(e){return new sO(e,!0)}function m7(e){return new sO(e,!1)}const Uk={draw(e,t){const n=Oo(t/Lg);e.moveTo(n,0),e.arc(0,0,n,0,cy)}},h7={draw(e,t){const n=Oo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},lO=Oo(1/3),g7=lO*2,y7={draw(e,t){const n=Oo(t/g7),r=n*lO;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},v7={draw(e,t){const n=Oo(t),r=-n/2;e.rect(r,r,n,n)}},b7=.8908130915292852,cO=_g(Lg/10)/_g(7*Lg/10),x7=_g(cy/10)*cO,w7=-tO(cy/10)*cO,k7={draw(e,t){const n=Oo(t*b7),r=x7*n,a=w7*n;e.moveTo(0,-n),e.lineTo(r,a);for(let i=1;i<5;++i){const o=cy*i/5,s=tO(o),l=_g(o);e.lineTo(l*n,-s*n),e.lineTo(s*r-l*a,l*r+s*a)}e.closePath()}},ob=Oo(3),S7={draw(e,t){const n=-Oo(t/(ob*3));e.moveTo(0,n*2),e.lineTo(-ob*n,-n),e.lineTo(ob*n,-n),e.closePath()}},Bi=-.5,zi=Oo(3)/2,ow=1/Oo(12),N7=(ow/2+1)*3,j7={draw(e,t){const n=Oo(t/N7),r=n/2,a=n*ow,i=r,o=n*ow+n,s=-i,l=o;e.moveTo(r,a),e.lineTo(i,o),e.lineTo(s,l),e.lineTo(Bi*r-zi*a,zi*r+Bi*a),e.lineTo(Bi*i-zi*o,zi*i+Bi*o),e.lineTo(Bi*s-zi*l,zi*s+Bi*l),e.lineTo(Bi*r+zi*a,Bi*a-zi*r),e.lineTo(Bi*i+zi*o,Bi*o-zi*i),e.lineTo(Bi*s+zi*l,Bi*l-zi*s),e.closePath()}};function C7(e,t){let n=null,r=Bk(a);e=typeof e=="function"?e:or(e||Uk),t=typeof t=="function"?t:or(t===void 0?64:+t);function a(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:or(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:or(+i),a):t},a.context=function(i){return arguments.length?(n=i??null,a):n},a}function Fg(){}function Rg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function uO(e){this._context=e}uO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Rg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M7(e){return new uO(e)}function dO(e){this._context=e}dO.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A7(e){return new dO(e)}function fO(e){this._context=e}fO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Rg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E7(e){return new fO(e)}function pO(e){this._context=e}pO.prototype={areaStart:Fg,areaEnd:Fg,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function D7(e){return new pO(e)}function vC(e){return e<0?-1:1}function bC(e,t,n){var r=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(r||a<0&&-0),o=(n-e._y1)/(a||r<0&&-0),s=(i*a+o*r)/(r+a);return(vC(i)+vC(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function xC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function sb(e,t,n){var r=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-r)/3;e._context.bezierCurveTo(r+s,a+s*t,i-s,o-s*n,i,o)}function $g(e){this._context=e}$g.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sb(this,this._t0,xC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sb(this,xC(this,n=bC(this,e,t)),n);break;default:sb(this,this._t0,n=bC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function mO(e){this._context=new hO(e)}(mO.prototype=Object.create($g.prototype)).point=function(e,t){$g.prototype.point.call(this,t,e)};function hO(e){this._context=e}hO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,a,i){this._context.bezierCurveTo(t,e,r,n,i,a)}};function P7(e){return new $g(e)}function T7(e){return new mO(e)}function gO(e){this._context=e}gO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=wC(e),a=wC(t),i=0,o=1;o<n;++i,++o)this._context.bezierCurveTo(r[0][i],a[0][i],r[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function wC(e){var t,n=e.length-1,r,a=new Array(n),i=new Array(n),o=new Array(n);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[n-1]=2,i[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=a[t]/i[t-1],i[t]-=r,o[t]-=r*o[t-1];for(a[n-1]=o[n-1]/i[n-1],t=n-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[n-1]=(e[n]+a[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function O7(e){return new gO(e)}function dy(e,t){this._context=e,this._t=t}dy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function I7(e){return new dy(e,.5)}function _7(e){return new dy(e,0)}function L7(e){return new dy(e,1)}function Zc(e,t){if((o=e.length)>1)for(var n=1,r,a,i=e[t[0]],o,s=i.length;n<o;++n)for(a=i,i=e[t[n]],r=0;r<s;++r)i[r][1]+=i[r][0]=isNaN(a[r][1])?a[r][0]:a[r][1]}function sw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function F7(e,t){return e[t]}function R7(e){const t=[];return t.key=e,t}function $7(){var e=or([]),t=sw,n=Zc,r=F7;function a(i){var o=Array.from(e.apply(this,arguments),R7),s,l=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,i)]).data=f;for(s=0,d=zk(t(o));s<l;++s)o[d[s]].index=s;return n(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:or(Array.from(i)),a):e},a.value=function(i){return arguments.length?(r=typeof i=="function"?i:or(+i),a):r},a.order=function(i){return arguments.length?(t=i==null?sw:typeof i=="function"?i:or(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(n=i??Zc,a):n},a}function B7(e,t){if((r=e.length)>0){for(var n,r,a=0,i=e[0].length,o;a<i;++a){for(o=n=0;n<r;++n)o+=e[n][a][1]||0;if(o)for(n=0;n<r;++n)e[n][a][1]/=o}Zc(e,t)}}function z7(e,t){if((a=e.length)>0){for(var n=0,r=e[t[0]],a,i=r.length;n<i;++n){for(var o=0,s=0;o<a;++o)s+=e[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}Zc(e,t)}}function U7(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var n=0,r=1,a,i,o;r<i;++r){for(var s=0,l=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[r][1]||0,p=d[r-1][1]||0,m=(f-p)/2,h=0;h<s;++h){var v=e[t[h]],x=v[r][1]||0,y=v[r-1][1]||0;m+=x-y}l+=f,u+=m*f}a[r-1][1]+=a[r-1][0]=n,l&&(n-=u/l)}a[r-1][1]+=a[r-1][0]=n,Zc(e,t)}}var fy={},yO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(yO);var Vk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Vk);var py={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(py);var my={},vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(vO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vO,n=py;function r(a){if(Array.isArray(a))return a.map(n.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,l="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,l+=a[s]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(l),l=""):l+=f:f==="["?(d=!0,l&&(i.push(l),l="")):f==="."?l&&(i.push(l),l=""):l+=f,s++}return l&&i.push(l),i}e.toPath=r})(my);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yO,n=Vk,r=py,a=my;function i(s,l,u){if(s==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?n.isDeepKey(l)?i(s,a.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=s[l];return d===void 0?u:d}default:{if(Array.isArray(l))return o(s,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=s[l];return d===void 0?u:d}}}function o(s,l,u){if(l.length===0)return u;let d=s;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=i})(fy);var V7=fy.get;const Qc=To(V7);var W7=4;function Dl(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:W7,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Cr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((a,i,o)=>{var s=n[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Dl(s)+i:a+i},"")}var Ra=e=>e===0?0:e>0?1:-1,no=e=>typeof e=="number"&&e!=+e,$s=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Rt=e=>(typeof e=="number"||e instanceof Number)&&!no(e),ro=e=>Rt(e)||typeof e=="string",H7=0,kp=e=>{var t=++H7;return"".concat(e||"").concat(t)},Zi=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Rt(e)&&typeof e!="string")return n;var a;if($s(e)){if(t==null)return n;var i=e.indexOf("%");a=t*parseFloat(e.slice(0,i))/100}else a=+e;return no(a)&&(a=n),r&&t!=null&&a>t&&(a=t),a},bO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Fa(e,t,n){return Rt(e)&&Rt(t)?Dl(e+n*(t-e)):t}function xO(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Qc(r,t))===n)}var ea=e=>e===null||typeof e>"u",Gp=e=>ea(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function q7(e){return e!=null}function Yp(){}var K7=["type","size","sizeType"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function kC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function SC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(n),!0).forEach(function(r){G7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function G7(e,t,n){return(t=Y7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y7(e){var t=X7(e,"string");return typeof t=="symbol"?t:t+""}function X7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J7(e,t){if(e==null)return{};var n,r,a=Z7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Z7(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var wO={symbolCircle:Uk,symbolCross:h7,symbolDiamond:y7,symbolSquare:v7,symbolStar:k7,symbolTriangle:S7,symbolWye:j7},Q7=Math.PI/180,e9=e=>{var t="symbol".concat(Gp(e));return wO[t]||Uk},t9=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*Q7;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},n9=(e,t)=>{wO["symbol".concat(Gp(e))]=t},Wk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,a=J7(e,K7),i=SC(SC({},a),{},{type:t,size:n,sizeType:r}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var p=e9(o),m=C7().type(p).size(t9(n,r,o)),h=m();if(h!==null)return h},{className:l,cx:u,cy:d}=i,f=za(i);return Rt(u)&&Rt(d)&&Rt(n)?g.createElement("path",lw({},f,{className:Pn("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};Wk.registerSymbol=n9;var kO=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Hk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(a=>{Rk(a)&&(r[a]=i=>n[a](n,i))}),r},r9=(e,t,n)=>r=>(e(t,n,r),null),qk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(a=>{var i=e[a];Rk(a)&&typeof i=="function"&&(r||(r={}),r[a]=r9(i,t,n))}),r};function NC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function a9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(n),!0).forEach(function(r){i9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i9(e,t,n){return(t=o9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o9(e){var t=s9(e,"string");return typeof t=="symbol"?t:t+""}function s9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){var n=a9({},e),r=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&r[s]!==void 0&&(o[s]=r[s]),o),n);return i}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bg.apply(null,arguments)}function jC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function l9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jC(Object(n),!0).forEach(function(r){c9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c9(e,t,n){return(t=u9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u9(e){var t=d9(e,"string");return typeof t=="symbol"?t:t+""}function d9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wi=32,f9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function p9(e){var{data:t,iconType:n,inactiveColor:r}=e,a=Wi/2,i=Wi/6,o=Wi/3,s=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:s,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:a,x2:Wi,y2:a,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:s,d:"M0,".concat(a,"h").concat(o,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(2*o,",").concat(a,`
            H`).concat(Wi,"M").concat(2*o,",").concat(a,`
            A`).concat(i,",").concat(i,",0,1,1,").concat(o,",").concat(a),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:s,d:"M0,".concat(Wi/8,"h").concat(Wi,"v").concat(Wi*3/4,"h").concat(-Wi,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=l9({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(Wk,{fill:s,cx:a,cy:a,size:Wi,sizeType:"diameter",type:l})}function m9(e){var{payload:t,iconSize:n,layout:r,formatter:a,inactiveColor:i,iconType:o}=e,s={x:0,y:0,width:Wi,height:Wi},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var p=d.formatter||a,m=Pn({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var h=d.inactive?i:d.color,v=p?p(d.value,d,f):d.value;return g.createElement("li",Bg({className:m,style:l,key:"legend-item-".concat(f)},qk(e,d,f)),g.createElement($k,{width:n,height:n,viewBox:s,style:u,"aria-label":"".concat(v," legend icon")},g.createElement(p9,{data:d,iconType:o,inactiveColor:i})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:h}},v))})}var h9=e=>{var t=qr(e,f9),{payload:n,layout:r,align:a}=t;if(!n||!n.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?a:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:i},g.createElement(m9,Bg({},t,{payload:n})))},SO={},NO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const a=new Map;for(let i=0;i<n.length;i++){const o=n[i],s=r(o,i,n);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(NO);var jO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...a){return n.apply(this,a.slice(0,r))}}e.ary=t})(jO);var Kk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Kk);var CO={},hy={},MO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(MO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MO;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(hy);var AO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(AO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hy,n=AO;function r(a){return n.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=r})(CO);var EO={},DO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fy;function n(r){return function(a){return t.get(a,r)}}e.property=n})(DO);var PO={},Gk={},TO={},Yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(Yk);var Xk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(Xk);var Jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(Jk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk,n=Xk,r=Jk;function a(d,f,p){return typeof p!="function"?a(d,f,()=>{}):i(d,f,function m(h,v,x,y,b,w){const S=p(h,v,x,y,b,w);return S!==void 0?!!S:i(h,v,m,w)},new Map)}function i(d,f,p,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,p,m);case"function":return Object.keys(f).length>0?i(d,{...f},p,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function o(d,f,p,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,p,m);if(f instanceof Map)return s(d,f,p,m);if(f instanceof Set)return u(d,f,p,m);const h=Object.keys(f);if(d==null||n.isPrimitive(d))return h.length===0;if(h.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<h.length;v++){const x=h[v];if(!n.isPrimitive(d)&&!(x in d)||f[x]===void 0&&d[x]!==void 0||f[x]===null&&d[x]!==null||!p(d[x],f[x],x,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,p,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[h,v]of f.entries()){const x=d.get(h);if(p(x,v,h,d,f,m)===!1)return!1}return!0}function l(d,f,p,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const h=new Set;for(let v=0;v<f.length;v++){const x=f[v];let y=!1;for(let b=0;b<d.length;b++){if(h.has(b))continue;const w=d[b];let S=!1;if(p(w,x,v,d,f,m)&&(S=!0),S){h.add(b),y=!0;break}}if(!y)return!1}return!0}function u(d,f,p,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],p,m):!1}e.isMatchWith=a,e.isSetMatch=u})(TO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TO;function n(r,a){return t.isMatchWith(r,a,()=>{})}e.isMatch=n})(Gk);var OO={},Zk={},IO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(IO);var gy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(gy);var Qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",p="[object ArrayBuffer]",m="[object Object]",h="[object Error]",v="[object DataView]",x="[object Uint8Array]",y="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",S="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",A="[object Int32Array]",P="[object BigInt64Array]",U="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=p,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=S,e.booleanTag=a,e.dataViewTag=v,e.dateTag=s,e.errorTag=h,e.float32ArrayTag=U,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=A,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=o,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=x,e.uint8ClampedArrayTag=y})(Qk);var _O={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(_O);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IO,n=gy,r=Qk,a=Xk,i=_O;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,p,m=new Map,h=void 0){const v=h==null?void 0:h(d,f,p,m);if(v!==void 0)return v;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const x=new Array(d.length);m.set(d,x);for(let y=0;y<d.length;y++)x[y]=s(d[y],y,p,m,h);return Object.hasOwn(d,"index")&&(x.index=d.index),Object.hasOwn(d,"input")&&(x.input=d.input),x}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const x=new RegExp(d.source,d.flags);return x.lastIndex=d.lastIndex,x}if(d instanceof Map){const x=new Map;m.set(d,x);for(const[y,b]of d)x.set(y,s(b,y,p,m,h));return x}if(d instanceof Set){const x=new Set;m.set(d,x);for(const y of d)x.add(s(y,void 0,p,m,h));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const x=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,x);for(let y=0;y<d.length;y++)x[y]=s(d[y],y,p,m,h);return x}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const x=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,x),l(x,d,p,m,h),x}if(typeof File<"u"&&d instanceof File){const x=new File([d],d.name,{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(typeof Blob<"u"&&d instanceof Blob){const x=new Blob([d],{type:d.type});return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Error){const x=new d.constructor;return m.set(d,x),x.message=d.message,x.name=d.name,x.stack=d.stack,x.cause=d.cause,l(x,d,p,m,h),x}if(d instanceof Boolean){const x=new Boolean(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof Number){const x=new Number(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(d instanceof String){const x=new String(d.valueOf());return m.set(d,x),l(x,d,p,m,h),x}if(typeof d=="object"&&u(d)){const x=Object.create(Object.getPrototypeOf(d));return m.set(d,x),l(x,d,p,m,h),x}return d}function l(d,f,p=d,m,h){const v=[...Object.keys(f),...t.getSymbols(f)];for(let x=0;x<v.length;x++){const y=v[x],b=Object.getOwnPropertyDescriptor(d,y);(b==null||b.writable)&&(d[y]=s(f[y],y,p,m,h))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=l})(Zk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zk;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(OO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk,n=OO;function r(a){return a=n.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=r})(PO);var LO={},FO={},RO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zk,n=gy,r=Qk;function a(i,o){return t.cloneDeepWith(i,(s,l,u,d)=>{const f=o==null?void 0:o(s,l,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(n.getTag(i)===r.objectTag&&typeof i.constructor!="function"){const p={};return d.set(i,p),t.copyProperties(p,i,u,d),p}switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const p=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(p,i),p}case r.argumentsTag:{const p={};return t.copyProperties(p,i),p.length=i.length,p[Symbol.iterator]=i[Symbol.iterator],p}default:return}}})}e.cloneDeepWith=a})(RO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RO;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(FO);var $O={},eS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,a=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<a;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(eS);var BO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gy;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(BO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vk,n=eS,r=BO,a=my;function i(o,s){let l;if(Array.isArray(s)?l=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?l=a.toPath(s):l=[s],l.length===0)return!1;let u=o;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})($O);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gk,n=py,r=FO,a=fy,i=$O;function o(s,l){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=n.toKey(s);break}}return l=r.cloneDeep(l),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=o})(LO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kk,n=DO,r=PO,a=LO;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):r.matches(o);case"string":case"symbol":case"number":return n.property(o)}}e.iteratee=i})(EO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NO,n=jO,r=Kk,a=CO,i=EO;function o(s,l=r.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),n.ary(i.iteratee(l),1)):[]}e.uniqBy=o})(SO);var g9=SO.uniqBy;const CC=To(g9);function zO(e,t,n){return t===!0?CC(e,n):typeof t=="function"?CC(e,t):e}var UO={exports:{}},VO={},WO={exports:{}},HO={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var kd=g;function y9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var v9=typeof Object.is=="function"?Object.is:y9,b9=kd.useState,x9=kd.useEffect,w9=kd.useLayoutEffect,k9=kd.useDebugValue;function S9(e,t){var n=t(),r=b9({inst:{value:n,getSnapshot:t}}),a=r[0].inst,i=r[1];return w9(function(){a.value=n,a.getSnapshot=t,lb(a)&&i({inst:a})},[e,n,t]),x9(function(){return lb(a)&&i({inst:a}),e(function(){lb(a)&&i({inst:a})})},[e]),k9(n),n}function lb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!v9(e,n)}catch{return!0}}function N9(e,t){return t()}var j9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?N9:S9;HO.useSyncExternalStore=kd.useSyncExternalStore!==void 0?kd.useSyncExternalStore:j9;WO.exports=HO;var C9=WO.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var yy=g,M9=C9;function A9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E9=typeof Object.is=="function"?Object.is:A9,D9=M9.useSyncExternalStore,P9=yy.useRef,T9=yy.useEffect,O9=yy.useMemo,I9=yy.useDebugValue;VO.useSyncExternalStoreWithSelector=function(e,t,n,r,a){var i=P9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=O9(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),a!==void 0&&o.hasValue){var h=o.value;if(a(h,m))return f=h}return f=m}if(h=f,E9(d,m))return h;var v=r(m);return a!==void 0&&a(h,v)?(d=m,h):(d=m,f=v)}var u=!1,d,f,p=n===void 0?null:n;return[function(){return l(t())},p===null?void 0:function(){return l(p())}]},[t,n,r,a]);var s=D9(e,i[0],i[1]);return T9(function(){o.hasValue=!0,o.value=s},[s]),I9(s),s};UO.exports=VO;var _9=UO.exports,tS=g.createContext(null),L9=e=>e,Jn=()=>{var e=g.useContext(tS);return e?e.store.dispatch:L9},Jh=()=>{},F9=()=>Jh,R9=(e,t)=>e===t;function Dt(e){var t=g.useContext(tS);return _9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:F9,t?t.store.getState:Jh,t?t.store.getState:Jh,t?e:Jh,R9)}function $9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function B9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function z9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var MC=e=>Array.isArray(e)?e:[e];function U9(e){const t=Array.isArray(e[0])?e[0]:e;return z9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function V9(e,t){const n=[],{length:r}=e;for(let a=0;a<r;a++)n.push(e[a].apply(null,t));return n}var W9=class{constructor(e){this.value=e}deref(){return this.value}},H9=typeof WeakRef<"u"?WeakRef:W9,q9=0,AC=1;function fh(){return{s:q9,v:void 0,o:null,p:null}}function qO(e,t={}){let n=fh();const{resultEqualityCheck:r}=t;let a,i=0;function o(){var s;let l=n;const{length:u}=arguments;for(let p=0,m=u;p<m;p++){const h=arguments[p];if(typeof h=="function"||typeof h=="object"&&h!==null){let v=l.o;v===null&&(l.o=v=new WeakMap);const x=v.get(h);x===void 0?(l=fh(),v.set(h,l)):l=x}else{let v=l.p;v===null&&(l.p=v=new Map);const x=v.get(h);x===void 0?(l=fh(),v.set(h,l)):l=x}}const d=l;let f;if(l.s===AC)f=l.v;else if(f=e.apply(null,arguments),i++,r){const p=((s=a==null?void 0:a.deref)==null?void 0:s.call(a))??a;p!=null&&r(p,f)&&(f=p,i!==0&&i--),a=typeof f=="object"&&f!==null||typeof f=="function"?new H9(f):f}return d.s=AC,d.v=f,f}return o.clearCache=()=>{n=fh(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function K9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...a)=>{let i=0,o=0,s,l={},u=a.pop();typeof u=="object"&&(l=u,u=a.pop()),$9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:p=[],argsMemoize:m=qO,argsMemoizeOptions:h=[]}=d,v=MC(p),x=MC(h),y=U9(a),b=f(function(){return i++,u.apply(null,arguments)},...v),w=m(function(){o++;const S=V9(y,arguments);return s=b.apply(null,S),s},...x);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var xe=K9(qO),G9=Object.assign((e,t=xe)=>{B9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((i,o,s)=>(i[n[s]]=o,i),{}))},{withTypes:()=>G9}),KO={},GO={},YO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,a,i)=>{if(r!==a){const o=t(r),s=t(a);if(o===s&&o===0){if(r<a)return i==="desc"?1:-1;if(r>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=n})(YO);var XO={},nS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(nS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(r.test(i)||!n.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(XO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YO,n=XO,r=my;function a(i,o,s,l){if(i==null)return[];s=l?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(p=>String(p));const u=(p,m)=>{let h=p;for(let v=0;v<m.length&&h!=null;++v)h=h[m[v]];return h},d=(p,m)=>m==null||p==null?m:typeof p=="object"&&"key"in p?Object.hasOwn(m,p.key)?m[p.key]:u(m,p.path):typeof p=="function"?p(m):Array.isArray(p)?u(m,p):typeof m=="object"?m[p]:m,f=o.map(p=>(Array.isArray(p)&&p.length===1&&(p=p[0]),p==null||typeof p=="function"||Array.isArray(p)||n.isKey(p)?p:{key:p,path:r.toPath(p)}));return i.map(p=>({original:p,criteria:f.map(m=>d(m,p))})).slice().sort((p,m)=>{for(let h=0;h<f.length;h++){const v=t.compareValues(p.criteria[h],m.criteria[h],s[h]);if(v!==0)return v}return 0}).map(p=>p.original)}e.orderBy=a})(GO);var JO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const a=[],i=Math.floor(r),o=(s,l)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&l<i?o(d,l+1):a.push(d)}};return o(n,0),a}e.flatten=t})(JO);var rS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS,n=hy,r=Yk,a=Jk;function i(o,s,l){return r.isObject(l)&&(typeof s=="number"&&n.isArrayLike(l)&&t.isIndex(s)&&s<l.length||typeof s=="string"&&s in l)?a.isEqualsSameValueZero(l[s],o):!1}e.isIterateeCall=i})(rS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GO,n=JO,r=rS;function a(i,...o){const s=o.length;return s>1&&r.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&r.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,n.flatten(o),["asc"])}e.sortBy=a})(KO);var Y9=KO.sortBy;const vy=To(Y9);var ZO=e=>e.legend.settings,X9=e=>e.legend.size,J9=e=>e.legend.payload,Z9=xe([J9,ZO],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?vy(r,n):r});function Q9(){return Dt(Z9)}var ph=1;function QO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ph||Math.abs(o.left-t.left)>ph||Math.abs(o.top-t.top)>ph||Math.abs(o.width-t.width)>ph)&&n({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Sa(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eW=typeof Symbol=="function"&&Symbol.observable||"@@observable",EC=eW,cb=()=>Math.random().toString(36).substring(7).split("").join("."),tW={INIT:`@@redux/INIT${cb()}`,REPLACE:`@@redux/REPLACE${cb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cb()}`},zg=tW;function aS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function e4(e,t,n){if(typeof e!="function")throw new Error(Sa(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Sa(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Sa(1));return n(e4)(e,t)}let r=e,a=t,i=new Map,o=i,s=0,l=!1;function u(){o===i&&(o=new Map,i.forEach((v,x)=>{o.set(x,v)}))}function d(){if(l)throw new Error(Sa(3));return a}function f(v){if(typeof v!="function")throw new Error(Sa(4));if(l)throw new Error(Sa(5));let x=!0;u();const y=s++;return o.set(y,v),function(){if(x){if(l)throw new Error(Sa(6));x=!1,u(),o.delete(y),i=null}}}function p(v){if(!aS(v))throw new Error(Sa(7));if(typeof v.type>"u")throw new Error(Sa(8));if(typeof v.type!="string")throw new Error(Sa(17));if(l)throw new Error(Sa(9));try{l=!0,a=r(a,v)}finally{l=!1}return(i=o).forEach(x=>{x()}),v}function m(v){if(typeof v!="function")throw new Error(Sa(10));r=v,p({type:zg.REPLACE})}function h(){const v=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Sa(11));function y(){const b=x;b.next&&b.next(d())}return y(),{unsubscribe:v(y)}},[EC](){return this}}}return p({type:zg.INIT}),{dispatch:p,subscribe:f,getState:d,replaceReducer:m,[EC]:h}}function nW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:zg.INIT})>"u")throw new Error(Sa(12));if(typeof n(void 0,{type:zg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Sa(13))})}function t4(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(n[o]=e[o])}const r=Object.keys(n);let a;try{nW(n)}catch(i){a=i}return function(i={},o){if(a)throw a;let s=!1;const l={};for(let u=0;u<r.length;u++){const d=r[u],f=n[d],p=i[d],m=f(p,o);if(typeof m>"u")throw o&&o.type,new Error(Sa(14));l[d]=m,s=s||m!==p}return s=s||r.length!==Object.keys(i).length,s?l:i}}function Ug(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function rW(...e){return t=>(n,r)=>{const a=t(n,r);let i=()=>{throw new Error(Sa(15))};const o={getState:a.getState,dispatch:(l,...u)=>i(l,...u)},s=e.map(l=>l(o));return i=Ug(...s)(a.dispatch),{...a,dispatch:i}}}function n4(e){return aS(e)&&"type"in e&&typeof e.type=="string"}var r4=Symbol.for("immer-nothing"),DC=Symbol.for("immer-draftable"),Ja=Symbol.for("immer-state");function vo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ai=Object,Sd=Ai.getPrototypeOf,Vg="constructor",by="prototype",cw="configurable",Wg="enumerable",Zh="writable",Sp="value",Bs=e=>!!e&&!!e[Ja];function Mo(e){var t;return e?a4(e)||wy(e)||!!e[DC]||!!((t=e[Vg])!=null&&t[DC])||ky(e)||Sy(e):!1}var aW=Ai[by][Vg].toString(),PC=new WeakMap;function a4(e){if(!e||!iS(e))return!1;const t=Sd(e);if(t===null||t===Ai[by])return!0;const n=Ai.hasOwnProperty.call(t,Vg)&&t[Vg];if(n===Object)return!0;if(!Lu(n))return!1;let r=PC.get(n);return r===void 0&&(r=Function.toString.call(n),PC.set(n,r)),r===aW}function xy(e,t,n=!0){Xp(e)===0?(n?Reflect.ownKeys(e):Ai.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Xp(e){const t=e[Ja];return t?t.type_:wy(e)?1:ky(e)?2:Sy(e)?3:0}var TC=(e,t,n=Xp(e))=>n===2?e.has(t):Ai[by].hasOwnProperty.call(e,t),uw=(e,t,n=Xp(e))=>n===2?e.get(t):e[t],Hg=(e,t,n,r=Xp(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function iW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var wy=Array.isArray,ky=e=>e instanceof Map,Sy=e=>e instanceof Set,iS=e=>typeof e=="object",Lu=e=>typeof e=="function",ub=e=>typeof e=="boolean";function oW(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var ws=e=>e.copy_||e.base_,oS=e=>e.modified_?e.copy_:e.base_;function dw(e,t){if(ky(e))return new Map(e);if(Sy(e))return new Set(e);if(wy(e))return Array[by].slice.call(e);const n=a4(e);if(t===!0||t==="class_only"&&!n){const r=Ai.getOwnPropertyDescriptors(e);delete r[Ja];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s[Zh]===!1&&(s[Zh]=!0,s[cw]=!0),(s.get||s.set)&&(r[o]={[cw]:!0,[Zh]:!0,[Wg]:s[Wg],[Sp]:e[o]})}return Ai.create(Sd(e),r)}else{const r=Sd(e);if(r!==null&&n)return{...e};const a=Ai.create(r);return Ai.assign(a,e)}}function sS(e,t=!1){return Ny(e)||Bs(e)||!Mo(e)||(Xp(e)>1&&Ai.defineProperties(e,{set:mh,add:mh,clear:mh,delete:mh}),Ai.freeze(e),t&&xy(e,(n,r)=>{sS(r,!0)},!1)),e}function sW(){vo(2)}var mh={[Sp]:sW};function Ny(e){return e===null||!iS(e)?!0:Ai.isFrozen(e)}var qg="MapSet",fw="Patches",OC="ArrayMethods",i4={};function eu(e){const t=i4[e];return t||vo(0,e),t}var IC=e=>!!i4[e],Np,o4=()=>Np,lW=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:IC(qg)?eu(qg):void 0,arrayMethodsPlugin_:IC(OC)?eu(OC):void 0});function _C(e,t){t&&(e.patchPlugin_=eu(fw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function pw(e){mw(e),e.drafts_.forEach(cW),e.drafts_=null}function mw(e){e===Np&&(Np=e.parent_)}var LC=e=>Np=lW(Np,e);function cW(e){const t=e[Ja];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function FC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[Ja].modified_&&(pw(t),vo(4)),Mo(e)&&(e=RC(t,e));const{patchPlugin_:r}=t;r&&r.generateReplacementPatches_(n[Ja].base_,e,t)}else e=RC(t,n);return uW(t,e,!0),pw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r4?e:void 0}function RC(e,t){if(Ny(t))return t;const n=t[Ja];if(!n)return Kg(t,e.handledSet_,e);if(!jy(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);c4(n,e)}return n.copy_}function uW(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&sS(t,n)}function s4(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var jy=(e,t)=>e.scope_===t,dW=[];function l4(e,t,n,r){const a=ws(e),i=e.type_;if(r!==void 0&&uw(a,r,i)===t){Hg(a,r,n,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;xy(a,(l,u)=>{if(Bs(u)){const d=s.get(u)||[];d.push(l),s.set(u,d)}})}const o=e.draftLocations_.get(t)??dW;for(const s of o)Hg(a,s,n,i)}function fW(e,t,n){e.callbacks_.push(function(r){var a;const i=t;if(!i||!jy(i,r))return;(a=r.mapSetPlugin_)==null||a.fixSetContents(i);const o=oS(i);l4(e,i.draft_??i,o,n),c4(i,r)})}function c4(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:r}=t;if(r){const a=r.getPath(e);a&&r.generatePatches_(e,a,t)}s4(e)}}function pW(e,t,n){const{scope_:r}=e;if(Bs(n)){const a=n[Ja];jy(a,r)&&a.callbacks_.push(function(){Qh(e);const i=oS(a);l4(e,n,i,t)})}else Mo(n)&&e.callbacks_.push(function(){const a=ws(e);e.type_===3?a.has(n)&&Kg(n,r.handledSet_,r):uw(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Kg(uw(e.copy_,t,e.type_),r.handledSet_,r)})}function Kg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Bs(e)||t.has(e)||!Mo(e)||Ny(e)||(t.add(e),xy(e,(r,a)=>{if(Bs(a)){const i=a[Ja];if(jy(i,n)){const o=oS(i);Hg(e,r,o,e.type_),s4(i)}}else Mo(a)&&Kg(a,t,n)})),e}function mW(e,t){const n=wy(e),r={type_:n?1:0,scope_:t?t.scope_:o4(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=r,i=Gg;n&&(a=[r],i=jp);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,[s,r]}var Gg={get(e,t){if(t===Ja)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const a=ws(e);if(!TC(a,t,e.type_))return hW(e,a,t);const i=a[t];if(e.finalized_||!Mo(i)||r&&e.operationMethod&&n!=null&&n.isMutatingArrayMethod(e.operationMethod)&&oW(t))return i;if(i===db(e.base_,t)){Qh(e);const o=e.type_===1?+t:t,s=gw(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in ws(e)},ownKeys(e){return Reflect.ownKeys(ws(e))},set(e,t,n){const r=u4(ws(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=db(ws(e),t),i=a==null?void 0:a[Ja];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(iW(n,a)&&(n!==void 0||TC(e.base_,t,e.type_)))return!0;Qh(e),hw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),pW(e,t,n)),!0},deleteProperty(e,t){return Qh(e),db(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),hw(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=ws(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[Zh]:!0,[cw]:e.type_!==1||t!=="length",[Wg]:r[Wg],[Sp]:n[t]}},defineProperty(){vo(11)},getPrototypeOf(e){return Sd(e.base_)},setPrototypeOf(){vo(12)}},jp={};for(let e in Gg){let t=Gg[e];jp[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}jp.deleteProperty=function(e,t){return jp.set.call(this,e,t,void 0)};jp.set=function(e,t,n){return Gg.set.call(this,e[0],t,n,e[0])};function db(e,t){const n=e[Ja];return(n?ws(n):e)[t]}function hW(e,t,n){var r;const a=u4(t,n);return a?Sp in a?a[Sp]:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function u4(e,t){if(!(t in e))return;let n=Sd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Sd(n)}}function hw(e){e.modified_||(e.modified_=!0,e.parent_&&hw(e.parent_))}function Qh(e){e.copy_||(e.assigned_=new Map,e.copy_=dw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(t,n,r)=>{if(Lu(t)&&!Lu(n)){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}Lu(n)||vo(6),r!==void 0&&!Lu(r)&&vo(7);let a;if(Mo(t)){const i=LC(this),o=gw(i,t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?pw(i):mw(i)}return _C(i,r),FC(a,i)}else if(!t||!iS(t)){if(a=n(t),a===void 0&&(a=t),a===r4&&(a=void 0),this.autoFreeze_&&sS(a,!0),r){const i=[],o=[];eu(fw).generateReplacementPatches_(t,a,{patches_:i,inversePatches_:o}),r(i,o)}return a}else vo(1,t)},this.produceWithPatches=(t,n)=>{if(Lu(t))return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},ub(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ub(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ub(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Mo(e)||vo(8),Bs(e)&&(e=So(e));const t=LC(this),n=gw(t,e,void 0);return n[Ja].isManual_=!0,mw(t),n}finishDraft(e,t){const n=e&&e[Ja];(!n||!n.isManual_)&&vo(9);const{scope_:r}=n;return _C(r,t),FC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=eu(fw).applyPatches_;return Bs(e)?r(e,t):this.produce(e,a=>r(a,t))}};function gw(e,t,n,r){const[a,i]=ky(t)?eu(qg).proxyMap_(t,n):Sy(t)?eu(qg).proxySet_(t,n):mW(t,n);return((n==null?void 0:n.scope_)??o4()).drafts_.push(a),i.callbacks_=(n==null?void 0:n.callbacks_)??[],i.key_=r,n&&r!==void 0?fW(n,i,r):i.callbacks_.push(function(o){var s;(s=o.mapSetPlugin_)==null||s.fixSetContents(i);const{patchPlugin_:l}=o;i.modified_&&l&&l.generatePatches_(i,[],o)}),a}function So(e){return Bs(e)||vo(10,e),d4(e)}function d4(e){if(!Mo(e)||Ny(e))return e;const t=e[Ja];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=dw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=dw(e,!0);return xy(n,(a,i)=>{Hg(n,a,d4(i))},r),t&&(t.finalized_=!1),n}var yW=new gW,f4=yW.produce;function p4(e){return({dispatch:t,getState:n})=>r=>a=>typeof a=="function"?a(t,n,e):r(a)}var vW=p4(),bW=p4,xW=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ug:Ug.apply(null,arguments)};function ao(e,t){function n(...r){if(t){let a=t(...r);if(!a)throw new Error(Di(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>n4(r)&&r.type===e,n}var m4=class Tf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Tf.prototype)}static get[Symbol.species](){return Tf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Tf(...t[0].concat(this)):new Tf(...t.concat(this))}};function $C(e){return Mo(e)?f4(e,()=>{}):e}function hh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function wW(e){return typeof e=="boolean"}var kW=()=>function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:a=!0}=e??{};let i=new m4;return t&&(wW(t)?i.push(vW):i.push(bW(t.extraArgument))),i},h4="RTK_autoBatch",fr=()=>e=>({payload:e,meta:{[h4]:!0}}),BC=e=>t=>{setTimeout(t,e)},g4=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let a=!0,i=!1,o=!1;const s=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:BC(10):e.type==="callback"?e.queueNotification:BC(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>a&&d(),p=r.subscribe(f);return s.add(d),()=>{p(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[h4]),i=!a,i&&(o||(o=!0,l(u))),r.dispatch(d)}finally{a=!0}}})},SW=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new m4(e);return n&&r.push(g4(typeof n=="object"?n:void 0)),r};function NW(e){const t=kW(),{reducer:n=void 0,middleware:r,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof n=="function")s=n;else if(aS(n))s=t4(n);else throw new Error(Di(1));let l;typeof r=="function"?l=r(t):l=t();let u=Ug;a&&(u=xW({trace:!1,...typeof a=="object"&&a}));const d=rW(...l),f=SW(d);let p=typeof o=="function"?o(f):f();const m=u(...p);return e4(s,i,m)}function y4(e){const t={},n=[];let r;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Di(28));if(s in t)throw new Error(Di(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return n.push({matcher:i,reducer:o}),a},addDefaultCase(i){return r=i,a}};return e(a),[t,n,r]}function jW(e){return typeof e=="function"}function CW(e,t){let[n,r,a]=y4(t),i;if(jW(e))i=()=>$C(e());else{const s=$C(e);i=()=>s}function o(s=i(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(Bs(d)){const p=f(d,l);return p===void 0?d:p}else{if(Mo(d))return f4(d,p=>f(p,l));{const p=f(d,l);if(p===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return p}}return d},s)}return o.getInitialState=i,o}var MW="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",AW=(e=21)=>{let t="",n=e;for(;n--;)t+=MW[Math.random()*64|0];return t},EW=Symbol.for("rtk-slice-createasyncthunk");function DW(e,t){return`${e}/${t}`}function PW({creators:e}={}){var t;const n=(t=e==null?void 0:e.asyncThunk)==null?void 0:t[EW];return function(r){const{name:a,reducerPath:i=a}=r;if(!a)throw new Error(Di(11));const o=(typeof r.reducers=="function"?r.reducers(OW()):r.reducers)||{},s=Object.keys(o),l={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(w,S){const j=typeof w=="string"?w:w.type;if(!j)throw new Error(Di(12));if(j in l.sliceCaseReducersByType)throw new Error(Di(13));return l.sliceCaseReducersByType[j]=S,u},addMatcher(w,S){return l.sliceMatchers.push({matcher:w,reducer:S}),u},exposeAction(w,S){return l.actionCreators[w]=S,u},exposeCaseReducer(w,S){return l.sliceCaseReducersByName[w]=S,u}};s.forEach(w=>{const S=o[w],j={reducerName:w,type:DW(a,w),createNotation:typeof r.reducers=="function"};_W(S)?FW(j,S,u,n):IW(j,S,u)});function d(){const[w={},S=[],j=void 0]=typeof r.extraReducers=="function"?y4(r.extraReducers):[r.extraReducers],N={...w,...l.sliceCaseReducersByType};return CW(r.initialState,A=>{for(let P in N)A.addCase(P,N[P]);for(let P of l.sliceMatchers)A.addMatcher(P.matcher,P.reducer);for(let P of S)A.addMatcher(P.matcher,P.reducer);j&&A.addDefaultCase(j)})}const f=w=>w,p=new Map,m=new WeakMap;let h;function v(w,S){return h||(h=d()),h(w,S)}function x(){return h||(h=d()),h.getInitialState()}function y(w,S=!1){function j(A){let P=A[w];return typeof P>"u"&&S&&(P=hh(m,j,x)),P}function N(A=f){const P=hh(p,S,()=>new WeakMap);return hh(P,A,()=>{const U={};for(const[D,I]of Object.entries(r.selectors??{}))U[D]=TW(I,A,()=>hh(m,A,x),S);return U})}return{reducerPath:w,getSelectors:N,get selectors(){return N(j)},selectSlice:j}}const b={name:a,reducer:v,actions:l.actionCreators,caseReducers:l.sliceCaseReducersByName,getInitialState:x,...y(i),injectInto(w,{reducerPath:S,...j}={}){const N=S??i;return w.inject({reducerPath:N,reducer:v},j),{...b,...y(N,!0)}}};return b}}function TW(e,t,n,r){function a(i,...o){let s=t(i);return typeof s>"u"&&r&&(s=n()),e(s,...o)}return a.unwrapped=e,a}var hi=PW();function OW(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function IW({type:e,reducerName:t,createNotation:n},r,a){let i,o;if("reducer"in r){if(n&&!LW(r))throw new Error(Di(17));i=r.reducer,o=r.prepare}else i=r;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?ao(e,o):ao(e))}function _W(e){return e._reducerDefinitionType==="asyncThunk"}function LW(e){return e._reducerDefinitionType==="reducerWithPrepare"}function FW({type:e,reducerName:t},n,r,a){if(!a)throw new Error(Di(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:l,settled:u,options:d}=n,f=a(e,i,d);r.exposeAction(t,f),o&&r.addCase(f.fulfilled,o),s&&r.addCase(f.pending,s),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:o||gh,pending:s||gh,rejected:l||gh,settled:u||gh})}function gh(){}var RW="task",v4="listener",b4="completed",lS="cancelled",$W=`task-${lS}`,BW=`task-${b4}`,yw=`${v4}-${lS}`,zW=`${v4}-${b4}`,Cy=class{constructor(e){Uj(this,"name","TaskAbortError"),Uj(this,"message"),this.code=e,this.message=`${RW} ${lS} (reason: ${e})`}},cS=(e,t)=>{if(typeof e!="function")throw new TypeError(Di(32))},Yg=()=>{},x4=(e,t=Yg)=>(e.catch(t),e),w4=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Uc=e=>{if(e.aborted)throw new Cy(e.reason)};function k4(e,t){let n=Yg;return new Promise((r,a)=>{const i=()=>a(new Cy(e.reason));if(e.aborted){i();return}n=w4(e,i),t.finally(()=>n()).then(r,a)}).finally(()=>{n=Yg})}var UW=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Cy?"cancelled":"rejected",error:n}}finally{t==null||t()}},Xg=e=>t=>x4(k4(e,t).then(n=>(Uc(e),n))),S4=e=>{const t=Xg(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:cd}=Object,zC={},My="listenerMiddleware",VW=(e,t)=>{const n=r=>w4(e,()=>r.abort(e.reason));return(r,a)=>{cS(r);const i=new AbortController;n(i);const o=UW(async()=>{Uc(e),Uc(i.signal);const s=await r({pause:Xg(i.signal),delay:S4(i.signal),signal:i.signal});return Uc(i.signal),s},()=>i.abort(BW));return a!=null&&a.autoJoin&&t.push(o.catch(Yg)),{result:Xg(e)(o),cancel(){i.abort($W)}}}},WW=(e,t)=>{const n=async(r,a)=>{Uc(t);let i=()=>{};const o=[new Promise((s,l)=>{let u=e({predicate:r,effect:(d,f)=>{f.unsubscribe(),s([d,f.getState(),f.getOriginalState()])}});i=()=>{u(),l()}})];a!=null&&o.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await k4(t,Promise.race(o));return Uc(t),s}finally{i()}};return(r,a)=>x4(n(r,a))},N4=e=>{let{type:t,actionCreator:n,matcher:r,predicate:a,effect:i}=e;if(t)a=ao(t).match;else if(n)t=n.type,a=n.match;else if(r)a=r;else if(!a)throw new Error(Di(21));return cS(i),{predicate:a,type:t,effect:i}},j4=cd(e=>{const{type:t,predicate:n,effect:r}=N4(e);return{id:AW(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Di(22))}}},{withTypes:()=>j4}),UC=(e,t)=>{const{type:n,effect:r,predicate:a}=N4(t);return Array.from(e.values()).find(i=>(typeof n=="string"?i.type===n:i.predicate===a)&&i.effect===r)},vw=e=>{e.pending.forEach(t=>{t.abort(yw)})},HW=(e,t)=>()=>{for(const n of t.keys())vw(n);e.clear()},VC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},C4=cd(ao(`${My}/add`),{withTypes:()=>C4}),qW=ao(`${My}/removeAll`),M4=cd(ao(`${My}/remove`),{withTypes:()=>M4}),KW=(...e)=>{console.error(`${My}/error`,...e)},Jp=(e={})=>{const t=new Map,n=new Map,r=p=>{const m=n.get(p)??0;n.set(p,m+1)},a=p=>{const m=n.get(p)??1;m===1?n.delete(p):n.set(p,m-1)},{extra:i,onError:o=KW}=e;cS(o);const s=p=>(p.unsubscribe=()=>t.delete(p.id),t.set(p.id,p),m=>{p.unsubscribe(),m!=null&&m.cancelActive&&vw(p)}),l=p=>{const m=UC(t,p)??j4(p);return s(m)};cd(l,{withTypes:()=>l});const u=p=>{const m=UC(t,p);return m&&(m.unsubscribe(),p.cancelActive&&vw(m)),!!m};cd(u,{withTypes:()=>u});const d=async(p,m,h,v)=>{const x=new AbortController,y=WW(l,x.signal),b=[];try{p.pending.add(x),r(p),await Promise.resolve(p.effect(m,cd({},h,{getOriginalState:v,condition:(w,S)=>y(w,S).then(Boolean),take:y,delay:S4(x.signal),pause:Xg(x.signal),extra:i,signal:x.signal,fork:VW(x.signal,b),unsubscribe:p.unsubscribe,subscribe:()=>{t.set(p.id,p)},cancelActiveListeners:()=>{p.pending.forEach((w,S,j)=>{w!==x&&(w.abort(yw),j.delete(w))})},cancel:()=>{x.abort(yw),p.pending.delete(x)},throwIfCancelled:()=>{Uc(x.signal)}})))}catch(w){w instanceof Cy||VC(o,w,{raisedBy:"effect"})}finally{await Promise.all(b),x.abort(zW),a(p),p.pending.delete(x)}},f=HW(t,n);return{middleware:p=>m=>h=>{if(!n4(h))return m(h);if(C4.match(h))return l(h.payload);if(qW.match(h)){f();return}if(M4.match(h))return u(h.payload);let v=p.getState();const x=()=>{if(v===zC)throw new Error(Di(23));return v};let y;try{if(y=m(h),t.size>0){const b=p.getState(),w=Array.from(t.values());for(const S of w){let j=!1;try{j=S.predicate(h,b,v)}catch(N){j=!1,VC(o,N,{raisedBy:"predicate"})}j&&d(S,h,p,x)}}}finally{v=zC}return y},startListening:l,stopListening:u,clearListeners:f}};function Di(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var GW={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},A4=hi({name:"chartLayout",initialState:GW,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,a,i;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:YW,setLayout:XW,setChartSize:JW,setScale:ZW}=A4.actions,QW=A4.reducer;function E4(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function mr(e){return Number.isFinite(e)}function ts(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function WC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(n),!0).forEach(function(r){eH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eH(e,t,n){return(t=tH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cr(e,t,n){return ea(e)||ea(t)?n:ro(t)?Qc(e,t,n):typeof t=="function"?t(e):n}var rH=(e,t,n)=>{if(t&&n){var{width:r,height:a}=n,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&Rt(e[i]))return Xu(Xu({},e),{},{[i]:e[i]+(r||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&Rt(e[o]))return Xu(Xu({},e),{},{[o]:e[o]+(a||0)})}return e},Zl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",D4=(e,t,n,r)=>{if(r)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===n&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(n),o},P4=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:a,range:i,scale:o,realScaleType:s,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:p,axisType:m}=e;if(!o)return null;var h=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,v=a==="category"&&o.bandwidth?o.bandwidth()/h:0;if(v=m==="angleAxis"&&i&&i.length>=2?Ra(i[0]-i[1])*2*v:v,f||p){var x=(f||p||[]).map((y,b)=>{var w=r?r.indexOf(y):y;return{coordinate:o(w)+v,value:y,offset:v,index:b}});return x.filter(y=>!no(y.coordinate))}return l&&u?u.map((y,b)=>({coordinate:o(y)+v,value:y,index:b,offset:v})):o.ticks&&d!=null?o.ticks(d).map((y,b)=>({coordinate:o(y)+v,value:y,offset:v,index:b})):o.domain().map((y,b)=>({coordinate:o(y)+v,value:r?r[y]:y,index:b,offset:v}))},HC=1e-4,aH=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),a=Math.min(r[0],r[1])-HC,i=Math.max(r[0],r[1])+HC,o=e(t[0]),s=e(t[n-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[n-1]])}},iH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0,s=0;s<n;++s){var l=e[s],u=l==null?void 0:l[a];if(u!=null){var d=u[1],f=u[0],p=no(d)?f:d;p>=0?(u[0]=i,u[1]=i+p,i=d):(u[0]=o,u[1]=o+p,o=d)}}}},oH=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var a=0;a<r;++a)for(var i=0,o=0;o<n;++o){var s=e[o],l=s==null?void 0:s[a];if(l!=null){var u=no(l[1])?l[0]:l[1];u>=0?(l[0]=i,l[1]=i+u,i=l[1]):(l[0]=0,l[1]=0)}}}},sH={sign:iH,expand:B7,none:Zc,silhouette:z7,wiggle:U7,positive:oH},lH=(e,t,n)=>{var r,a=(r=sH[n])!==null&&r!==void 0?r:Zc,i=$7().keys(t).value((s,l)=>Number(cr(s,l,0))).order(sw).offset(a),o=i(e);return o.forEach((s,l)=>{s.forEach((u,d)=>{var f=cr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Rt(f[0])&&Rt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function qC(e){var{axis:t,ticks:n,bandSize:r,entry:a,index:i,dataKey:o}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ea(a[t.dataKey])){var s=xO(n,"value",a[t.dataKey]);if(s)return s.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var l=cr(a,ea(o)?t.dataKey:o);return ea(l)?null:t.scale(l)}var cH=e=>{var t=e.flat(2).filter(Rt);return[Math.min(...t),Math.max(...t)]},uH=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],dH=(e,t,n)=>{if(e!=null)return uH(Object.keys(e).reduce((r,a)=>{var i=e[a];if(!i)return r;var{stackedData:o}=i,s=o.reduce((l,u)=>{var d=E4(u,t,n),f=cH(d);return!mr(f[0])||!mr(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],r[0]),Math.max(s[1],r[1])]},[1/0,-1/0]))},KC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bw=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var a=vy(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var l=a[o],u=a[o-1];i=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return n?void 0:0};function YC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:a,name:i}=e;return Xu(Xu({},t),{},{dataKey:n,payload:r,value:a,name:i})}function Ay(e,t){if(e)return String(e);if(typeof t=="string")return t}var fH=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},pH=(e,t)=>t==="centric"?e.angle:e.radius,Xs=e=>e.layout.width,Js=e=>e.layout.height,mH=e=>e.layout.scale,T4=e=>e.layout.margin,Ey=xe(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Dy=xe(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),O4="data-recharts-item-index",I4="data-recharts-item-id",Zp=60;function XC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function yh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(n),!0).forEach(function(r){hH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hH(e,t,n){return(t=gH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=yH(e,"string");return typeof t=="symbol"?t:t+""}function yH(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vH=e=>e.brush.height;function bH(e){var t=Dy(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Zp;return n+a}return n},0)}function xH(e){var t=Dy(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var a=typeof r.width=="number"?r.width:Zp;return n+a}return n},0)}function wH(e){var t=Ey(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function kH(e){var t=Ey(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var ha=xe([Xs,Js,T4,vH,bH,xH,wH,kH,ZO,X9],(e,t,n,r,a,i,o,s,l,u)=>{var d={left:(n.left||0)+a,right:(n.right||0)+i},f={top:(n.top||0)+o,bottom:(n.bottom||0)+s},p=yh(yh({},f),d),m=p.bottom;p.bottom+=r,p=rH(p,l,u);var h=e-p.left-p.right,v=t-p.top-p.bottom;return yh(yh({brushBottom:m},p),{},{width:Math.max(h,0),height:Math.max(v,0)})}),SH=xe(ha,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),_4=xe(Xs,Js,(e,t)=>({x:0,y:0,width:e,height:t})),NH=g.createContext(null),ei=()=>g.useContext(NH)!=null,Py=e=>e.brush,Ty=xe([Py,ha,T4],(e,t,n)=>({height:e.height,x:Rt(e.x)?e.x:t.left,y:Rt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Rt(e.width)?e.width:t.width})),L4={},F4={},R4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:a,edges:i}={}){let o,s=null;const l=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(n.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),v()};let p=null;const m=()=>{p!=null&&clearTimeout(p),p=setTimeout(()=>{p=null,f()},r)},h=()=>{p!==null&&(clearTimeout(p),p=null)},v=()=>{h(),o=void 0,s=null},x=()=>{d()},y=function(...b){if(a!=null&&a.aborted)return;o=this,s=b;const w=p==null;m(),l&&w&&d()};return y.schedule=m,y.cancel=v,y.flush=x,a==null||a.addEventListener("abort",v,{once:!0}),y}e.debounce=t})(R4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=R4;function n(r,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:l}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const p=t.debounce(function(...v){d=r.apply(this,v),f=null},a,{edges:u}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),p.cancel(),p.schedule(),d):(p.apply(this,v),d)},h=()=>(p.flush(),d);return m.cancel=p.cancel,m.flush=h,m}e.debounce=n})(F4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F4;function n(r,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(r,a,{leading:o,maxWait:a,trailing:s})}e.throttle=n})(L4);var jH=L4.throttle;const CH=To(jH);var Jg=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(t===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(t===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var i=0;console.warn(t.replace(/%s/g,()=>r[i++]))}},$4=(e,t,n)=>{var{width:r="100%",height:a="100%",aspect:i,maxHeight:o}=n,s=$s(r)?e:Number(r),l=$s(a)?t:Number(a);return i&&i>0&&(s?l=s/i:l&&(s=l*i),o&&l!=null&&l>o&&(l=o)),{calculatedWidth:s,calculatedHeight:l}},MH={width:0,height:0,overflow:"visible"},AH={width:0,overflowX:"visible"},EH={height:0,overflowY:"visible"},DH={},PH=e=>{var{width:t,height:n}=e,r=$s(t),a=$s(n);return r&&a?MH:r?AH:a?EH:DH};function TH(e){var{width:t,height:n,aspect:r}=e,a=t,i=n;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=r&&r>0?void 0:"100%":i===void 0&&(i=r&&r>0?void 0:"100%"),{width:a,height:i}}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(null,arguments)}function JC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function ZC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(n),!0).forEach(function(r){OH(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):JC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function OH(e,t,n){return(t=IH(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B4=g.createContext({width:-1,height:-1});function LH(e){return ts(e.width)&&ts(e.height)}function z4(e){var{children:t,width:n,height:r}=e,a=g.useMemo(()=>({width:n,height:r}),[n,r]);return LH(a)?g.createElement(B4.Provider,{value:a},t):null}var uS=()=>g.useContext(B4),FH=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:l,children:u,debounce:d=0,id:f,className:p,onResize:m,style:h={}}=e,v=g.useRef(null),x=g.useRef();x.current=m,g.useImperativeHandle(t,()=>v.current);var[y,b]=g.useState({containerWidth:r.width,containerHeight:r.height}),w=g.useCallback((P,U)=>{b(D=>{var I=Math.round(P),O=Math.round(U);return D.containerWidth===I&&D.containerHeight===O?D:{containerWidth:I,containerHeight:O}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Yp;var P=O=>{var H,{width:J,height:oe}=O[0].contentRect;w(J,oe),(H=x.current)===null||H===void 0||H.call(x,J,oe)};d>0&&(P=CH(P,d,{trailing:!0,leading:!1}));var U=new ResizeObserver(P),{width:D,height:I}=v.current.getBoundingClientRect();return w(D,I),U.observe(v.current),()=>{U.disconnect()}},[w,d]);var{containerWidth:S,containerHeight:j}=y;Jg(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:N,calculatedHeight:A}=$4(S,j,{width:a,height:i,aspect:n,maxHeight:l});return Jg(N!=null&&N>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,N,A,a,i,o,s,n),g.createElement("div",{id:f?"".concat(f):void 0,className:Pn("recharts-responsive-container",p),style:ZC(ZC({},h),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:l}),ref:v},g.createElement("div",{style:PH({width:a,height:i})},g.createElement(z4,{width:N,height:A},u)))}),Ao=g.forwardRef((e,t)=>{var n=uS();if(ts(n.width)&&ts(n.height))return e.children;var{width:r,height:a}=TH({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=$4(void 0,void 0,{width:r,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Rt(i)&&Rt(o)?g.createElement(z4,{width:i,height:o},e.children):g.createElement(FH,xw({},e,{width:r,height:a,ref:t}))});function U4(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Qp=()=>{var e,t=ei(),n=Dt(SH),r=Dt(Ty),a=(e=Dt(Py))===null||e===void 0?void 0:e.padding;return!t||!r||!a?n:{width:r.width-a.left-a.right,height:r.height-a.top-a.bottom,x:a.left,y:a.top}},RH={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},V4=()=>{var e;return(e=Dt(ha))!==null&&e!==void 0?e:RH},dS=()=>Dt(Xs),fS=()=>Dt(Js),$H=()=>Dt(e=>e.layout.margin),Kn=e=>e.layout.layoutType,em=()=>Dt(Kn),BH=()=>{var e=em();return e!==void 0},Oy=e=>{var t=Jn(),n=ei(),{width:r,height:a}=e,i=uS(),o=r,s=a;return i&&(o=i.width>0?i.width:r,s=i.height>0?i.height:a),g.useEffect(()=>{!n&&ts(o)&&ts(s)&&t(JW({width:o,height:s}))},[t,n,o,s]),null},W4=Symbol.for("immer-nothing"),QC=Symbol.for("immer-draftable"),Oi=Symbol.for("immer-state");function bo(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cp=Object.getPrototypeOf;function Nd(e){return!!e&&!!e[Oi]}function tu(e){var t;return e?H4(e)||Array.isArray(e)||!!e[QC]||!!((t=e.constructor)!=null&&t[QC])||tm(e)||_y(e):!1}var zH=Object.prototype.constructor.toString(),eM=new WeakMap;function H4(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=eM.get(n);return r===void 0&&(r=Function.toString.call(n),eM.set(n,r)),r===zH}function Zg(e,t,n=!0){Iy(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(r=>{t(r,e[r],e)}):e.forEach((r,a)=>t(a,r,e))}function Iy(e){const t=e[Oi];return t?t.type_:Array.isArray(e)?1:tm(e)?2:_y(e)?3:0}function ww(e,t){return Iy(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function q4(e,t,n){const r=Iy(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function UH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function tm(e){return e instanceof Map}function _y(e){return e instanceof Set}function Nc(e){return e.copy_||e.base_}function kw(e,t){if(tm(e))return new Map(e);if(_y(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=H4(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Oi];let a=Reflect.ownKeys(r);for(let i=0;i<a.length;i++){const o=a[i],s=r[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(r[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Cp(e),r)}else{const r=Cp(e);if(r!==null&&n)return{...e};const a=Object.create(r);return Object.assign(a,e)}}function pS(e,t=!1){return Ly(e)||Nd(e)||!tu(e)||(Iy(e)>1&&Object.defineProperties(e,{set:vh,add:vh,clear:vh,delete:vh}),Object.freeze(e),t&&Object.values(e).forEach(n=>pS(n,!0))),e}function VH(){bo(2)}var vh={value:VH};function Ly(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var WH={};function nu(e){const t=WH[e];return t||bo(0,e),t}var Mp;function K4(){return Mp}function HH(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tM(e,t){t&&(nu("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Sw(e){Nw(e),e.drafts_.forEach(qH),e.drafts_=null}function Nw(e){e===Mp&&(Mp=e.parent_)}function nM(e){return Mp=HH(Mp,e)}function qH(e){const t=e[Oi];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function rM(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Oi].modified_&&(Sw(t),bo(4)),tu(e)&&(e=Qg(t,e),t.parent_||e0(t,e)),t.patches_&&nu("Patches").generateReplacementPatches_(n[Oi].base_,e,t.patches_,t.inversePatches_)):e=Qg(t,n,[]),Sw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==W4?e:void 0}function Qg(e,t,n){if(Ly(t))return t;const r=e.immer_.shouldUseStrictIteration(),a=t[Oi];if(!a)return Zg(t,(i,o)=>aM(e,a,t,i,o,n),r),t;if(a.scope_!==e)return t;if(!a.modified_)return e0(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Zg(o,(l,u)=>aM(e,a,i,l,u,n,s),r),e0(e,i,!1),n&&e.patches_&&nu("Patches").generatePatches_(a,n,e.patches_,e.inversePatches_)}return a.copy_}function aM(e,t,n,r,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=Ly(a);if(!(s&&!o)){if(Nd(a)){const l=i&&t&&t.type_!==3&&!ww(t.assigned_,r)?i.concat(r):void 0,u=Qg(e,a,l);if(q4(n,r,u),Nd(u))e.canAutoFreeze_=!1;else return}else o&&n.add(a);if(tu(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===a&&s)return;Qg(e,a),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(tm(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&e0(e,a)}}}function e0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&pS(t,n)}function KH(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:K4(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=r,i=mS;n&&(a=[r],i=Ap);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return r.draft_=s,r.revoke_=o,s}var mS={get(e,t){if(t===Oi)return e;const n=Nc(e);if(!ww(n,t))return GH(e,n,t);const r=n[t];return e.finalized_||!tu(r)?r:r===fb(e.base_,t)?(pb(e),e.copy_[t]=Cw(r,e)):r},has(e,t){return t in Nc(e)},ownKeys(e){return Reflect.ownKeys(Nc(e))},set(e,t,n){const r=G4(Nc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const a=fb(Nc(e),t),i=a==null?void 0:a[Oi];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(UH(n,a)&&(n!==void 0||ww(e.base_,t)))return!0;pb(e),jw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return fb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,pb(e),jw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Nc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){bo(11)},getPrototypeOf(e){return Cp(e.base_)},setPrototypeOf(){bo(12)}},Ap={};Zg(mS,(e,t)=>{Ap[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ap.deleteProperty=function(e,t){return Ap.set.call(this,e,t,void 0)};Ap.set=function(e,t,n){return mS.set.call(this,e[0],t,n,e[0])};function fb(e,t){const n=e[Oi];return(n?Nc(n):e)[t]}function GH(e,t,n){var r;const a=G4(t,n);return a?"value"in a?a.value:(r=a.get)==null?void 0:r.call(e.draft_):void 0}function G4(e,t){if(!(t in e))return;let n=Cp(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Cp(n)}}function jw(e){e.modified_||(e.modified_=!0,e.parent_&&jw(e.parent_))}function pb(e){e.copy_||(e.copy_=kw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var YH=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const o=this;return function(s=i,...l){return o.produce(s,u=>n.call(this,u,...l))}}typeof n!="function"&&bo(6),r!==void 0&&typeof r!="function"&&bo(7);let a;if(tu(t)){const i=nM(this),o=Cw(t,void 0);let s=!0;try{a=n(o),s=!1}finally{s?Sw(i):Nw(i)}return tM(i,r),rM(a,i)}else if(!t||typeof t!="object"){if(a=n(t),a===void 0&&(a=t),a===W4&&(a=void 0),this.autoFreeze_&&pS(a,!0),r){const i=[],o=[];nu("Patches").generateReplacementPatches_(t,a,i,o),r(i,o)}return a}else bo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(i,...o)=>this.produceWithPatches(i,s=>t(s,...o));let r,a;return[this.produce(t,n,(i,o)=>{r=i,a=o}),r,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){tu(e)||bo(8),Nd(e)&&(e=XH(e));const t=nM(this),n=Cw(e,void 0);return n[Oi].isManual_=!0,Nw(t),n}finishDraft(e,t){const n=e&&e[Oi];(!n||!n.isManual_)&&bo(9);const{scope_:r}=n;return tM(r,t),rM(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const a=t[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(t=t.slice(n+1));const r=nu("Patches").applyPatches_;return Nd(e)?r(e,t):this.produce(e,a=>r(a,t))}};function Cw(e,t){const n=tm(e)?nu("MapSet").proxyMap_(e,t):_y(e)?nu("MapSet").proxySet_(e,t):KH(e,t);return(t?t.scope_:K4()).drafts_.push(n),n}function XH(e){return Nd(e)||bo(10,e),Y4(e)}function Y4(e){if(!tu(e)||Ly(e))return e;const t=e[Oi];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=kw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=kw(e,!0);return Zg(n,(a,i)=>{q4(n,a,Y4(i))},r),t&&(t.finalized_=!1),n}var JH=new YH;JH.produce;var ZH={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},X4=hi({name:"legend",initialState:ZH,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:fr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,a=So(e).payload.indexOf(n);a>-1&&(e.payload[a]=r)},prepare:fr()},removeLegendPayload:{reducer(e,t){var n=So(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:fr()}}}),{setLegendSize:iM,setLegendSettings:QH,addLegendPayload:J4,replaceLegendPayload:Z4,removeLegendPayload:Q4}=X4.actions,eq=X4.reducer,tq=["contextPayload"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}function oM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oM(Object(n),!0).forEach(function(r){nq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nq(e,t,n){return(t=rq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rq(e){var t=aq(e,"string");return typeof t=="symbol"?t:t+""}function aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iq(e,t){if(e==null)return{};var n,r,a=oq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function oq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function sq(e){return e.value}function lq(e){var{contextPayload:t}=e,n=iq(e,tq),r=zO(t,e.payloadUniqBy,sq),a=jd(jd({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,a):typeof e.content=="function"?g.createElement(e.content,a):g.createElement(h9,a)}function cq(e,t,n,r,a,i){var{layout:o,align:s,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(s==="center"&&o==="vertical"?u={left:((r||0)-i.width)/2}:u=s==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((a||0)-i.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),jd(jd({},u),d)}function uq(e){var t=Jn();return g.useEffect(()=>{t(QH(e))},[t,e]),null}function dq(e){var t=Jn();return g.useEffect(()=>(t(iM(e)),()=>{t(iM({width:0,height:0}))}),[t,e]),null}function fq(e,t,n,r){return e==="vertical"&&Rt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var pq={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function eI(e){var t=qr(e,pq),n=Q9(),r=c7(),a=$H(),{width:i,height:o,wrapperStyle:s,portal:l}=t,[u,d]=QO([n]),f=dS(),p=fS();if(f==null||p==null)return null;var m=f-((a==null?void 0:a.left)||0)-((a==null?void 0:a.right)||0),h=fq(t.layout,o,i,m),v=l?s:jd(jd({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||o||"auto"},cq(s,t,a,f,p,u)),s),x=l??r;if(x==null||n==null)return null;var y=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(uq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(dq,{width:u.width,height:u.height}),g.createElement(lq,Mw({},t,h,{margin:a,chartWidth:f,chartHeight:p,contextPayload:n})));return Rd.createPortal(y,x)}eI.displayName="Legend";function Aw(){return Aw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Aw.apply(null,arguments)}function sM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sM(Object(n),!0).forEach(function(r){mq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mq(e,t,n){return(t=hq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hq(e){var t=gq(e,"string");return typeof t=="symbol"?t:t+""}function gq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yq(e){return Array.isArray(e)&&ro(e[0])&&ro(e[1])?e.join(" ~ "):e}var vq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:p=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},N=(s?vy(i,s):i).map((A,P)=>{if(A.type==="none")return null;var U=A.formatter||o||yq,{value:D,name:I}=A,O=D,H=I;if(U){var J=U(D,I,A,P,i);if(Array.isArray(J))[O,H]=J;else if(J!=null)O=J;else return null}var oe=mb({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:oe},ro(H)?g.createElement("span",{className:"recharts-tooltip-item-name"},H):null,ro(H)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},O),g.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},h=mb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=mb({margin:0},a),x=!ea(d),y=x?d:"",b=Pn("recharts-default-tooltip",l),w=Pn("recharts-tooltip-label",u);x&&f&&i!==void 0&&i!==null&&(y=f(d,i));var S=p?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Aw({className:b,style:h},S),g.createElement("p",{className:w,style:v},g.isValidElement(y)?y:"".concat(y)),m())},hf="recharts-tooltip-wrapper",bq={visibility:"hidden"};function xq(e){var{coordinate:t,translateX:n,translateY:r}=e;return Pn(hf,{["".concat(hf,"-right")]:Rt(n)&&t&&Rt(t.x)&&n>=t.x,["".concat(hf,"-left")]:Rt(n)&&t&&Rt(t.x)&&n<t.x,["".concat(hf,"-bottom")]:Rt(r)&&t&&Rt(t.y)&&r>=t.y,["".concat(hf,"-top")]:Rt(r)&&t&&Rt(t.y)&&r<t.y})}function lM(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:l,viewBoxDimension:u}=e;if(i&&Rt(i[r]))return i[r];var d=n[r]-s-(a>0?a:0),f=n[r]+a;if(t[r])return o[r]?d:f;var p=l[r];if(p==null)return 0;if(o[r]){var m=d,h=p;return m<h?Math.max(f,p):Math.max(d,p)}if(u==null)return 0;var v=f+s,x=p+u;return v>x?Math.max(d,p):Math.max(f,p)}function wq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function kq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:l}=e,u,d,f;return o.height>0&&o.width>0&&n?(d=lM({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=lM({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=wq({translateX:d,translateY:f,useTranslate3d:s})):u=bq,{cssProperties:u,cssClasses:xq({translateX:d,translateY:f,coordinate:n})}}function cM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function bh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cM(Object(n),!0).forEach(function(r){Ew(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ew(e,t,n){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:t+""}function Nq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class jq extends g.PureComponent{constructor(){super(...arguments),Ew(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ew(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:p,viewBox:m,wrapperStyle:h,lastBoundingBox:v,innerRef:x,hasPortalFromProps:y}=this.props,{cssClasses:b,cssProperties:w}=kq({allowEscapeViewBox:n,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:p,viewBox:m}),S=y?{}:bh(bh({transition:l&&t?"transform ".concat(r,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=bh(bh({},S),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},h);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:x},i)}}var tI=()=>{var e;return(e=Dt(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function uM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function dM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uM(Object(n),!0).forEach(function(r){Cq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cq(e,t,n){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mq(e){var t=Aq(e,"string");return typeof t=="symbol"?t:t+""}function Aq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fM={curveBasisClosed:A7,curveBasisOpen:E7,curveBasis:M7,curveBumpX:p7,curveBumpY:m7,curveLinearClosed:D7,curveLinear:uy,curveMonotoneX:P7,curveMonotoneY:T7,curveNatural:O7,curveStep:I7,curveStepAfter:L7,curveStepBefore:_7},t0=e=>mr(e.x)&&mr(e.y),pM=e=>e.base!=null&&t0(e.base)&&t0(e),gf=e=>e.x,yf=e=>e.y,Eq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Gp(e));return(n==="curveMonotone"||n==="curveBump")&&t?fM["".concat(n).concat(t==="vertical"?"Y":"X")]:fM[n]||uy},Dq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:a,connectNulls:i=!1}=e,o=Eq(t,a),s=i?n.filter(t0):n,l;if(Array.isArray(r)){var u=n.map((m,h)=>dM(dM({},m),{},{base:r[h]}));a==="vertical"?l=dh().y(yf).x1(gf).x0(m=>m.base.x):l=dh().x(gf).y1(yf).y0(m=>m.base.y);var d=l.defined(pM).curve(o),f=i?u.filter(pM):u;return d(f)}a==="vertical"&&Rt(r)?l=dh().y(yf).x1(gf).x0(r):Rt(r)?l=dh().x(gf).y1(yf).y0(r):l=oO().x(gf).y(yf);var p=l.defined(t0).curve(o);return p(s)},hS=e=>{var{className:t,points:n,path:r,pathRef:a}=e,i=em();if((!n||!n.length)&&!r)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=n&&n.length?Dq(o):r;return g.createElement("path",Dw({},to(e),Hk(e),{className:Pn("recharts-curve",t),d:s===null?void 0:s,ref:a}))},Pq=["x","y","top","left","width","height","className"];function Pw(){return Pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pw.apply(null,arguments)}function mM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mM(Object(n),!0).forEach(function(r){Oq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oq(e,t,n){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iq(e){var t=_q(e,"string");return typeof t=="symbol"?t:t+""}function _q(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lq(e,t){if(e==null)return{};var n,r,a=Fq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rq=(e,t,n,r,a,i)=>"M".concat(e,",").concat(a,"v").concat(r,"M").concat(i,",").concat(t,"h").concat(n),$q=e=>{var{x:t=0,y:n=0,top:r=0,left:a=0,width:i=0,height:o=0,className:s}=e,l=Lq(e,Pq),u=Tq({x:t,y:n,top:r,left:a,width:i,height:o},l);return!Rt(t)||!Rt(n)||!Rt(i)||!Rt(o)||!Rt(r)||!Rt(a)?null:g.createElement("path",Pw({},za(u),{className:Pn("recharts-cross",s),d:Rq(t,n,i,o,r,a)}))};function Bq(e,t,n,r){var a=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-a,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function hM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function gM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hM(Object(n),!0).forEach(function(r){zq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zq(e,t,n){return(t=Uq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uq(e){var t=Vq(e,"string");return typeof t=="symbol"?t:t+""}function Vq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Wq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),nI=(e,t,n)=>e.map(r=>"".concat(Wq(r)," ").concat(t,"ms ").concat(n)).join(","),Hq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(a=>r.includes(a))),Ep=(e,t)=>Object.keys(t).reduce((n,r)=>gM(gM({},n),{},{[r]:e(r,t[r])}),{});function yM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Zr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yM(Object(n),!0).forEach(function(r){qq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qq(e,t,n){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kq(e){var t=Gq(e,"string");return typeof t=="symbol"?t:t+""}function Gq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var n0=(e,t,n)=>e+(t-e)*n,Tw=e=>{var{from:t,to:n}=e;return t!==n},rI=(e,t,n)=>{var r=Ep((a,i)=>{if(Tw(i)){var[o,s]=e(i.from,i.to,i.velocity);return Zr(Zr({},i),{},{from:o,velocity:s})}return i},t);return n<1?Ep((a,i)=>Tw(i)&&r[a]!=null?Zr(Zr({},i),{},{velocity:n0(i.velocity,r[a].velocity,n),from:n0(i.from,r[a].from,n)}):i,t):rI(e,r,n-1)};function Yq(e,t,n,r,a,i){var o,s=r.reduce((p,m)=>Zr(Zr({},p),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Ep((p,m)=>m.from,s),u=()=>!Object.values(s).filter(Tw).length,d=null,f=p=>{o||(o=p);var m=p-o,h=m/n.dt;s=rI(n,s,h),a(Zr(Zr(Zr({},e),t),l())),o=p,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var p;(p=d)===null||p===void 0||p()})}function Xq(e,t,n,r,a,i,o){var s=null,l=a.reduce((f,p)=>{var m=e[p],h=t[p];return m==null||h==null?f:Zr(Zr({},f),{},{[p]:[m,h]})},{}),u,d=f=>{u||(u=f);var p=(f-u)/r,m=Ep((v,x)=>n0(...x,n(p)),l);if(i(Zr(Zr(Zr({},e),t),m)),p<1)s=o.setTimeout(d);else{var h=Ep((v,x)=>n0(...x,n(1)),l);i(Zr(Zr(Zr({},e),t),h))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const Jq=(e,t,n,r,a,i)=>{var o=Hq(e,t);return n==null?()=>(a(Zr(Zr({},e),t)),()=>{}):n.isStepper===!0?Yq(e,t,n,o,a,i):Xq(e,t,n,r,o,a,i)};var r0=1e-4,aI=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],iI=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),vM=(e,t)=>n=>{var r=aI(e,t);return iI(r,n)},Zq=(e,t)=>n=>{var r=aI(e,t),a=[...r.map((i,o)=>i*o).slice(1),0];return iI(a,n)},Qq=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var a=r.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},eK=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length===1)switch(t[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var r=Qq(t[0]);if(r)return r}}return t.length===4?t:[0,0,1,1]},tK=(e,t,n,r)=>{var a=vM(e,n),i=vM(t,r),o=Zq(e,n),s=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,p=0;p<8;++p){var m=a(f)-d,h=o(f);if(Math.abs(m-d)<r0||h<r0)return i(f);f=s(f-m/h)}return i(f)};return l.isStepper=!1,l},bM=function(){return tK(...eK(...arguments))},nK=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:t=100,damping:n=8,dt:r=17}=e,a=(i,o,s)=>{var l=-(i-o)*t,u=s*n,d=s+(l-u)*r/1e3,f=s*r/1e3+i;return Math.abs(f-o)<r0&&Math.abs(d)<r0?[o,0]:[f,d]};return a.isStepper=!0,a.dt=r,a},rK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return bM(e);case"spring":return nK();default:if(e.split("(")[0]==="cubic-bezier")return bM(e)}return typeof e=="function"?e:null};function aK(e){var t,n=()=>null,r=!1,a=null,i=o=>{if(!r){if(Array.isArray(o)){if(!o.length)return;var s=o,[l,...u]=s;if(typeof l=="number"){a=e.setTimeout(i.bind(null,u),l);return}i(l),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,n(t)),typeof o=="object"&&(t=o,n(t)),typeof o=="function"&&o()}};return{stop:()=>{r=!0},start:o=>{r=!1,a&&(a(),a=null),i(o)},subscribe:o=>(n=o,()=>{n=()=>null}),getTimeoutController:()=>e}}class iK{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),a=null,i=o=>{o-r>=n?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function oK(){return aK(new iK)}var sK=g.createContext(oK);function lK(e,t){var n=g.useContext(sK);return g.useMemo(()=>t??n(e),[e,t,n])}var cK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Fy={isSsr:cK()},uK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},xM={t:0},hb={t:1};function Ry(e){var t=qr(e,uK),{isActive:n,canBegin:r,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:l,children:u}=t,d=n==="auto"?!Fy.isSsr:n,f=lK(t.animationId,t.animationManager),[p,m]=g.useState(d?xM:hb),h=g.useRef(null);return g.useEffect(()=>{d||m(hb)},[d]),g.useEffect(()=>{if(!d||!r)return Yp;var v=Jq(xM,hb,rK(i),a,m,f.getTimeoutController()),x=()=>{h.current=v()};return f.start([l,o,x,a,s]),()=>{f.stop(),h.current&&h.current(),s()}},[d,r,a,i,o,l,s,f]),u(p.t)}function $y(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(kp(t)),r=g.useRef(e);return r.current!==e&&(n.current=kp(t),r.current=e),n.current}var dK=["radius"],fK=["radius"],wM,kM,SM,NM,jM,CM,MM,AM,EM,DM;function PM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function TM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?PM(Object(n),!0).forEach(function(r){pK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pK(e,t,n){return(t=mK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mK(e){var t=hK(e,"string");return typeof t=="symbol"?t:t+""}function hK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a0(){return a0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a0.apply(null,arguments)}function OM(e,t){if(e==null)return{};var n,r,a=gK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function gK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vo(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var IM=(e,t,n,r,a)=>{var i=Dl(n),o=Dl(r),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),l=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var p=[0,0,0,0],m=0,h=4;m<h;m++)p[m]=a[m]>s?s:a[m];f=Cr(wM||(wM=Vo(["M",",",""])),e,t+l*p[0]),p[0]>0&&(f+=Cr(kM||(kM=Vo(["A ",",",",0,0,",",",",",""])),p[0],p[0],d,e+u*p[0],t)),f+=Cr(SM||(SM=Vo(["L ",",",""])),e+n-u*p[1],t),p[1]>0&&(f+=Cr(NM||(NM=Vo(["A ",",",",0,0,",`,
        `,",",""])),p[1],p[1],d,e+n,t+l*p[1])),f+=Cr(jM||(jM=Vo(["L ",",",""])),e+n,t+r-l*p[2]),p[2]>0&&(f+=Cr(CM||(CM=Vo(["A ",",",",0,0,",`,
        `,",",""])),p[2],p[2],d,e+n-u*p[2],t+r)),f+=Cr(MM||(MM=Vo(["L ",",",""])),e+u*p[3],t+r),p[3]>0&&(f+=Cr(AM||(AM=Vo(["A ",",",",0,0,",`,
        `,",",""])),p[3],p[3],d,e,t+r-l*p[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var v=Math.min(s,a);f=Cr(EM||(EM=Vo(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+u*v,t,e+n-u*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-u*v,t+r,e+u*v,t+r,v,v,d,e,t+r-l*v)}else f=Cr(DM||(DM=Vo(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},_M={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},oI=e=>{var t=qr(e,_M),n=g.useRef(null),[r,a]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var te=n.current.getTotalLength();te&&a(te)}catch{}},[]);var{x:i,y:o,width:s,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:p,animationBegin:m,isAnimationActive:h,isUpdateAnimationActive:v}=t,x=g.useRef(s),y=g.useRef(l),b=g.useRef(i),w=g.useRef(o),S=g.useMemo(()=>({x:i,y:o,width:s,height:l,radius:u}),[i,o,s,l,u]),j=$y(S,"rectangle-");if(i!==+i||o!==+o||s!==+s||l!==+l||s===0||l===0)return null;var N=Pn("recharts-rectangle",d);if(!v){var A=za(t),{radius:P}=A,U=OM(A,dK);return g.createElement("path",a0({},U,{x:Dl(i),y:Dl(o),width:Dl(s),height:Dl(l),radius:typeof u=="number"?u:void 0,className:N,d:IM(i,o,s,l,u)}))}var D=x.current,I=y.current,O=b.current,H=w.current,J="0px ".concat(r===-1?1:r,"px"),oe="".concat(r,"px 0px"),je=nI(["strokeDasharray"],p,typeof f=="string"?f:_M.animationEasing);return g.createElement(Ry,{animationId:j,key:j,canBegin:r>0,duration:p,easing:f,isActive:v,begin:m},te=>{var W=Fa(D,s,te),le=Fa(I,l,te),k=Fa(O,i,te),F=Fa(H,o,te);n.current&&(x.current=W,y.current=le,b.current=k,w.current=F);var T;h?te>0?T={transition:je,strokeDasharray:oe}:T={strokeDasharray:J}:T={strokeDasharray:oe};var C=za(t),{radius:B}=C,R=OM(C,fK);return g.createElement("path",a0({},R,{radius:typeof u=="number"?u:void 0,className:N,d:IM(k,F,W,le,u),ref:n,style:TM(TM({},T),t.style)}))})};function LM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FM(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LM(Object(n),!0).forEach(function(r){yK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LM(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function yK(e,t,n){return(t=vK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i0=Math.PI/180,xK=e=>e*180/Math.PI,Wr=(e,t,n,r)=>({x:e+Math.cos(-i0*r)*n,y:t+Math.sin(-i0*r)*n}),sI=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},wK=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return Math.sqrt((n-a)**2+(r-i)**2)},kK=(e,t)=>{var{x:n,y:r}=e,{cx:a,cy:i}=t,o=wK({x:n,y:r},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(n-a)/o,l=Math.acos(s);return r>i&&(l=2*Math.PI-l),{radius:o,angle:xK(l),angleInRadian:l}},SK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),a=Math.floor(n/360),i=Math.min(r,a);return{startAngle:t-i*360,endAngle:n-i*360}},NK=(e,t)=>{var{startAngle:n,endAngle:r}=t,a=Math.floor(n/360),i=Math.floor(r/360),o=Math.min(a,i);return e+o*360},jK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:a,angle:i}=kK({x:n,y:r},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:l,endAngle:u}=SK(t),d=i,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?FM(FM({},t),{},{radius:a,angle:NK(d,t)}):null};function lI(e){var{cx:t,cy:n,radius:r,startAngle:a,endAngle:i}=e,o=Wr(t,n,r,a),s=Wr(t,n,r,i);return{points:[o,s],cx:t,cy:n,radius:r,startAngle:a,endAngle:i}}var RM,$M,BM,zM,UM,VM,WM;function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ow.apply(null,arguments)}function Oc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var CK=(e,t)=>{var n=Ra(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},xh=e=>{var{cx:t,cy:n,radius:r,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:l}=e,u=s*(o?1:-1)+r,d=Math.asin(s/u)/i0,f=l?a:a+i*d,p=Wr(t,n,u,f),m=Wr(t,n,r,f),h=l?a-i*d:a,v=Wr(t,n,u*Math.cos(d*i0),h);return{center:p,circleTangency:m,lineTangency:v,theta:d}},cI=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:i,endAngle:o}=e,s=CK(i,o),l=i+s,u=Wr(t,n,a,i),d=Wr(t,n,a,l),f=Cr(RM||(RM=Oc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>l),d.x,d.y);if(r>0){var p=Wr(t,n,r,i),m=Wr(t,n,r,l);f+=Cr($M||($M=Oc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(s)>180),+(i<=l),p.x,p.y)}else f+=Cr(BM||(BM=Oc(["L ",","," Z"])),t,n);return f},MK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:l,endAngle:u}=e,d=Ra(u-l),{circleTangency:f,lineTangency:p,theta:m}=xh({cx:t,cy:n,radius:a,angle:l,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:h,lineTangency:v,theta:x}=xh({cx:t,cy:n,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(l-u):Math.abs(l-u)-m-x;if(y<0)return o?Cr(zM||(zM=Oc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),p.x,p.y,i,i,i*2,i,i,-i*2):cI({cx:t,cy:n,innerRadius:r,outerRadius:a,startAngle:l,endAngle:u});var b=Cr(UM||(UM=Oc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),p.x,p.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),h.x,h.y,i,i,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:S,theta:j}=xh({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:N,lineTangency:A,theta:P}=xh({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),U=s?Math.abs(l-u):Math.abs(l-u)-j-P;if(U<0&&i===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Cr(VM||(VM=Oc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,i,i,+(d<0),N.x,N.y,r,r,+(U>180),+(d>0),w.x,w.y,i,i,+(d<0),S.x,S.y)}else b+=Cr(WM||(WM=Oc(["L",",","Z"])),t,n);return b},AK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},uI=e=>{var t=qr(e,AK),{cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var p=Pn("recharts-sector",f),m=i-a,h=Zi(o,m,0,!0),v;return h>0&&Math.abs(u-d)<360?v=MK({cx:n,cy:r,innerRadius:a,outerRadius:i,cornerRadius:Math.min(h,m/2),forceCornerRadius:s,cornerIsExternal:l,startAngle:u,endAngle:d}):v=cI({cx:n,cy:r,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),g.createElement("path",Ow({},za(t),{className:p,d:v}))};function EK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(kO(t)){if(e==="centric"){var{cx:r,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,l=Wr(r,a,i,s),u=Wr(r,a,o,s);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return lI(t)}}var dI={},fI={},pI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nS;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(pI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pI;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(fI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rS,n=fI;function r(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=n.toFinite(a),i===void 0?(i=a,a=0):i=n.toFinite(i),o=o===void 0?a<i?1:-1:n.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),l=new Array(s);for(let u=0;u<s;u++)l[u]=a,a+=o;return l}e.range=r})(dI);var DK=dI.range;const mI=To(DK);function Bl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function PK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gS(e){let t,n,r;e.length!==2?(t=Bl,n=(s,l)=>Bl(e(s),l),r=(s,l)=>e(s)-l):(t=e===Bl||e===PK?e:TK,n=e,r=e);function a(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<0?u=f+1:d=f}while(u<d)}return u}function i(s,l,u=0,d=s.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(s[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,l,u=0,d=s.length){const f=a(s,l,u,d-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:a,center:o,right:i}}function TK(){return 0}function hI(e){return e===null?NaN:+e}function*OK(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const IK=gS(Bl),nm=IK.right;gS(hI).center;class HM extends Map{constructor(t,n=FK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,a]of t)this.set(r,a)}get(t){return super.get(qM(this,t))}has(t){return super.has(qM(this,t))}set(t,n){return super.set(_K(this,t),n)}delete(t){return super.delete(LK(this,t))}}function qM({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function _K({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function LK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function FK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function RK(e=Bl){if(e===Bl)return gI;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function gI(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const $K=Math.sqrt(50),BK=Math.sqrt(10),zK=Math.sqrt(2);function o0(e,t,n){const r=(t-e)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),o=i>=$K?10:i>=BK?5:i>=zK?2:1;let s,l,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?o0(e,t,n*2):[s,l,u]}function Iw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[a,i,o]=r?o0(t,e,n):o0(e,t,n);if(!(i>=a))return[];const s=i-a+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(i-u)/-o;else for(let u=0;u<s;++u)l[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(a+u)/-o;else for(let u=0;u<s;++u)l[u]=(a+u)*o;return l}function _w(e,t,n){return t=+t,e=+e,n=+n,o0(e,t,n)[2]}function Lw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,a=r?_w(t,e,n):_w(e,t,n);return(r?-1:1)*(a<0?1/-a:a)}function KM(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GM(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function yI(e,t,n=0,r=1/0,a){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(a=a===void 0?gI:RK(a);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),p=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+p)),h=Math.min(r,Math.floor(t+(l-u)*f/l+p));yI(e,t,m,h,a)}const i=e[t];let o=n,s=r;for(vf(e,n,t),a(e[r],i)>0&&vf(e,n,r);o<s;){for(vf(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[n],i)===0?vf(e,n,s):(++s,vf(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function vf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function UK(e,t,n){if(e=Float64Array.from(OK(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return GM(e);if(t>=1)return KM(e);var r,a=(r-1)*t,i=Math.floor(a),o=KM(yI(e,i).subarray(0,i+1)),s=GM(e.subarray(i+1));return o+(s-o)*(a-i)}}function VK(e,t,n=hI){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,a=(r-1)*t,i=Math.floor(a),o=+n(e[i],i,e),s=+n(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function WK(e,t,n){e=+e,t=+t,n=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+n;for(var r=-1,a=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(a);++r<a;)i[r]=e+r*n;return i}function so(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Zs(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Fw=Symbol("implicit");function yS(){var e=new HM,t=[],n=[],r=Fw;function a(i){let o=e.get(i);if(o===void 0){if(r!==Fw)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new HM;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(n=Array.from(i),a):n.slice()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return yS(t,n).unknown(r)},so.apply(a,arguments),a}function vS(){var e=yS().unknown(void 0),t=e.domain,n=e.range,r=0,a=1,i,o,s=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var p=t().length,m=a<r,h=m?a:r,v=m?r:a;i=(v-h)/Math.max(1,p-l+u*2),s&&(i=Math.floor(i)),h+=(v-h-i*(p-l))*d,o=i*(1-l),s&&(h=Math.round(h),o=Math.round(o));var x=WK(p).map(function(y){return h+i*y});return n(m?x.reverse():x)}return e.domain=function(p){return arguments.length?(t(p),f()):t()},e.range=function(p){return arguments.length?([r,a]=p,r=+r,a=+a,f()):[r,a]},e.rangeRound=function(p){return[r,a]=p,r=+r,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(p){return arguments.length?(s=!!p,f()):s},e.padding=function(p){return arguments.length?(l=Math.min(1,u=+p),f()):l},e.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},e.paddingOuter=function(p){return arguments.length?(u=+p,f()):u},e.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},e.copy=function(){return vS(t(),[r,a]).round(s).paddingInner(l).paddingOuter(u).align(d)},so.apply(f(),arguments)}function vI(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return vI(t())},e}function HK(){return vI(vS.apply(null,arguments).paddingInner(1))}function bS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function bI(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function rm(){}var Dp=.7,s0=1/Dp,ud="\\s*([+-]?\\d+)\\s*",Pp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qK=/^#([0-9a-f]{3,8})$/,KK=new RegExp(`^rgb\\(${ud},${ud},${ud}\\)$`),GK=new RegExp(`^rgb\\(${Qo},${Qo},${Qo}\\)$`),YK=new RegExp(`^rgba\\(${ud},${ud},${ud},${Pp}\\)$`),XK=new RegExp(`^rgba\\(${Qo},${Qo},${Qo},${Pp}\\)$`),JK=new RegExp(`^hsl\\(${Pp},${Qo},${Qo}\\)$`),ZK=new RegExp(`^hsla\\(${Pp},${Qo},${Qo},${Pp}\\)$`),YM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};bS(rm,Tp,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XM,formatHex:XM,formatHex8:QK,formatHsl:eG,formatRgb:JM,toString:JM});function XM(){return this.rgb().formatHex()}function QK(){return this.rgb().formatHex8()}function eG(){return xI(this).formatHsl()}function JM(){return this.rgb().formatRgb()}function Tp(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ZM(t):n===3?new ci(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?wh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?wh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=KK.exec(e))?new ci(t[1],t[2],t[3],1):(t=GK.exec(e))?new ci(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YK.exec(e))?wh(t[1],t[2],t[3],t[4]):(t=XK.exec(e))?wh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=JK.exec(e))?tA(t[1],t[2]/100,t[3]/100,1):(t=ZK.exec(e))?tA(t[1],t[2]/100,t[3]/100,t[4]):YM.hasOwnProperty(e)?ZM(YM[e]):e==="transparent"?new ci(NaN,NaN,NaN,0):null}function ZM(e){return new ci(e>>16&255,e>>8&255,e&255,1)}function wh(e,t,n,r){return r<=0&&(e=t=n=NaN),new ci(e,t,n,r)}function tG(e){return e instanceof rm||(e=Tp(e)),e?(e=e.rgb(),new ci(e.r,e.g,e.b,e.opacity)):new ci}function Rw(e,t,n,r){return arguments.length===1?tG(e):new ci(e,t,n,r??1)}function ci(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}bS(ci,Rw,bI(rm,{brighter(e){return e=e==null?s0:Math.pow(s0,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Dp:Math.pow(Dp,e),new ci(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ci(Vc(this.r),Vc(this.g),Vc(this.b),l0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:QM,formatHex:QM,formatHex8:nG,formatRgb:eA,toString:eA}));function QM(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}`}function nG(){return`#${Ic(this.r)}${Ic(this.g)}${Ic(this.b)}${Ic((isNaN(this.opacity)?1:this.opacity)*255)}`}function eA(){const e=l0(this.opacity);return`${e===1?"rgb(":"rgba("}${Vc(this.r)}, ${Vc(this.g)}, ${Vc(this.b)}${e===1?")":`, ${e})`}`}function l0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ic(e){return e=Vc(e),(e<16?"0":"")+e.toString(16)}function tA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new xo(e,t,n,r)}function xI(e){if(e instanceof xo)return new xo(e.h,e.s,e.l,e.opacity);if(e instanceof rm||(e=Tp(e)),!e)return new xo;if(e instanceof xo)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,a=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,s=i-a,l=(i+a)/2;return s?(t===i?o=(n-r)/s+(n<r)*6:n===i?o=(r-t)/s+2:o=(t-n)/s+4,s/=l<.5?i+a:2-i-a,o*=60):s=l>0&&l<1?0:o,new xo(o,s,l,e.opacity)}function rG(e,t,n,r){return arguments.length===1?xI(e):new xo(e,t,n,r??1)}function xo(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}bS(xo,rG,bI(rm,{brighter(e){return e=e==null?s0:Math.pow(s0,e),new xo(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Dp:Math.pow(Dp,e),new xo(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,a=2*n-r;return new ci(gb(e>=240?e-240:e+120,a,r),gb(e,a,r),gb(e<120?e+240:e-120,a,r),this.opacity)},clamp(){return new xo(nA(this.h),kh(this.s),kh(this.l),l0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=l0(this.opacity);return`${e===1?"hsl(":"hsla("}${nA(this.h)}, ${kh(this.s)*100}%, ${kh(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nA(e){return e=(e||0)%360,e<0?e+360:e}function kh(e){return Math.max(0,Math.min(1,e||0))}function gb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const xS=e=>()=>e;function aG(e,t){return function(n){return e+n*t}}function iG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function oG(e){return(e=+e)==1?wI:function(t,n){return n-t?iG(t,n,e):xS(isNaN(t)?n:t)}}function wI(e,t){var n=t-e;return n?aG(e,n):xS(isNaN(e)?t:e)}const rA=function e(t){var n=oG(t);function r(a,i){var o=n((a=Rw(a)).r,(i=Rw(i)).r),s=n(a.g,i.g),l=n(a.b,i.b),u=wI(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=l(d),a.opacity=u(d),a+""}}return r.gamma=e,r}(1);function sG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=e[a]*(1-i)+t[a]*i;return r}}function lG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function cG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,a=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)a[o]=$d(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(s){for(o=0;o<r;++o)i[o]=a[o](s);return i}}function uG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function c0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function dG(e,t){var n={},r={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?n[a]=$d(e[a],t[a]):r[a]=t[a];return function(i){for(a in n)r[a]=n[a](i);return r}}var $w=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yb=new RegExp($w.source,"g");function fG(e){return function(){return e}}function pG(e){return function(t){return e(t)+""}}function mG(e,t){var n=$w.lastIndex=yb.lastIndex=0,r,a,i,o=-1,s=[],l=[];for(e=e+"",t=t+"";(r=$w.exec(e))&&(a=yb.exec(t));)(i=a.index)>n&&(i=t.slice(n,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,l.push({i:o,x:c0(r,a)})),n=yb.lastIndex;return n<t.length&&(i=t.slice(n),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?pG(l[0].x):fG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)s[(f=l[d]).i]=f.x(u);return s.join("")})}function $d(e,t){var n=typeof t,r;return t==null||n==="boolean"?xS(t):(n==="number"?c0:n==="string"?(r=Tp(t))?(t=r,rA):mG:t instanceof Tp?rA:t instanceof Date?uG:lG(t)?sG:Array.isArray(t)?cG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?dG:c0)(e,t)}function wS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function hG(e,t){t===void 0&&(t=e,e=$d);for(var n=0,r=t.length-1,a=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(a,a=t[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return i[s](o-s)}}function gG(e){return function(){return e}}function u0(e){return+e}var aA=[0,1];function Ga(e){return e}function Bw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:gG(isNaN(t)?NaN:.5)}function yG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function vG(e,t,n){var r=e[0],a=e[1],i=t[0],o=t[1];return a<r?(r=Bw(a,r),i=n(o,i)):(r=Bw(r,a),i=n(i,o)),function(s){return i(r(s))}}function bG(e,t,n){var r=Math.min(e.length,t.length)-1,a=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)a[o]=Bw(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(s){var l=nm(e,s,1,r)-1;return i[l](a[l](s))}}function am(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function By(){var e=aA,t=aA,n=$d,r,a,i,o=Ga,s,l,u;function d(){var p=Math.min(e.length,t.length);return o!==Ga&&(o=yG(e[0],e[p-1])),s=p>2?bG:vG,l=u=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=s(e.map(r),t,n)))(r(o(p)))}return f.invert=function(p){return o(a((u||(u=s(t,e.map(r),c0)))(p)))},f.domain=function(p){return arguments.length?(e=Array.from(p,u0),d()):e.slice()},f.range=function(p){return arguments.length?(t=Array.from(p),d()):t.slice()},f.rangeRound=function(p){return t=Array.from(p),n=wS,d()},f.clamp=function(p){return arguments.length?(o=p?!0:Ga,d()):o!==Ga},f.interpolate=function(p){return arguments.length?(n=p,d()):n},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,m){return r=p,a=m,d()}}function kS(){return By()(Ga,Ga)}function xG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function d0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Cd(e){return e=d0(Math.abs(e)),e?e[1]:NaN}function wG(e,t){return function(n,r){for(var a=n.length,i=[],o=0,s=e[0],l=0;a>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),i.push(n.substring(a-=s,a+s)),!((l+=s+1)>r));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function kG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var SG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Op(e){if(!(t=SG.exec(e)))throw new Error("invalid format: "+e);var t;return new SS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Op.prototype=SS.prototype;function SS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}SS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NG(e){e:for(var t=e.length,n=1,r=-1,a;n<t;++n)switch(e[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(a+1):e}var f0;function jG(e,t){var n=d0(e,t);if(!n)return f0=void 0,e.toPrecision(t);var r=n[0],a=n[1],i=a-(f0=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+d0(e,Math.max(0,t+i-1))[0]}function iA(e,t){var n=d0(e,t);if(!n)return e+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const oA={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>iA(e*100,t),r:iA,s:jG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function sA(e){return e}var lA=Array.prototype.map,cA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CG(e){var t=e.grouping===void 0||e.thousands===void 0?sA:wG(lA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?sA:kG(lA.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,p){f=Op(f);var m=f.fill,h=f.align,v=f.sign,x=f.symbol,y=f.zero,b=f.width,w=f.comma,S=f.precision,j=f.trim,N=f.type;N==="n"?(w=!0,N="g"):oA[N]||(S===void 0&&(S=12),j=!0,N="g"),(y||m==="0"&&h==="=")&&(y=!0,m="0",h="=");var A=(p&&p.prefix!==void 0?p.prefix:"")+(x==="$"?n:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():""),P=(x==="$"?r:/[%p]/.test(N)?o:"")+(p&&p.suffix!==void 0?p.suffix:""),U=oA[N],D=/[defgprs%]/.test(N);S=S===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(O){var H=A,J=P,oe,je,te;if(N==="c")J=U(O)+J,O="";else{O=+O;var W=O<0||1/O<0;if(O=isNaN(O)?l:U(Math.abs(O),S),j&&(O=NG(O)),W&&+O==0&&v!=="+"&&(W=!1),H=(W?v==="("?v:s:v==="-"||v==="("?"":v)+H,J=(N==="s"&&!isNaN(O)&&f0!==void 0?cA[8+f0/3]:"")+J+(W&&v==="("?")":""),D){for(oe=-1,je=O.length;++oe<je;)if(te=O.charCodeAt(oe),48>te||te>57){J=(te===46?a+O.slice(oe+1):O.slice(oe))+J,O=O.slice(0,oe);break}}}w&&!y&&(O=t(O,1/0));var le=H.length+O.length+J.length,k=le<b?new Array(b-le+1).join(m):"";switch(w&&y&&(O=t(k+O,k.length?b-J.length:1/0),k=""),h){case"<":O=H+O+J+k;break;case"=":O=H+k+O+J;break;case"^":O=k.slice(0,le=k.length>>1)+H+O+J+k.slice(le);break;default:O=k+H+O+J;break}return i(O)}return I.toString=function(){return f+""},I}function d(f,p){var m=Math.max(-8,Math.min(8,Math.floor(Cd(p)/3)))*3,h=Math.pow(10,-m),v=u((f=Op(f),f.type="f",f),{suffix:cA[8+m/3]});return function(x){return v(h*x)}}return{format:u,formatPrefix:d}}var Sh,NS,kI;MG({thousands:",",grouping:[3],currency:["$",""]});function MG(e){return Sh=CG(e),NS=Sh.format,kI=Sh.formatPrefix,Sh}function AG(e){return Math.max(0,-Cd(Math.abs(e)))}function EG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Cd(t)/3)))*3-Cd(Math.abs(e)))}function DG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Cd(t)-Cd(e))+1}function SI(e,t,n,r){var a=Lw(e,t,n),i;switch(r=Op(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=EG(a,o))&&(r.precision=i),kI(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=DG(a,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=AG(a))&&(r.precision=i-(r.type==="%")*2);break}}return NS(r)}function Ql(e){var t=e.domain;return e.ticks=function(n){var r=t();return Iw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var a=t();return SI(a[0],a[a.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),a=0,i=r.length-1,o=r[a],s=r[i],l,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=_w(o,s,n),u===l)return r[a]=o,r[i]=s,t(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function NI(){var e=kS();return e.copy=function(){return am(e,NI())},so.apply(e,arguments),Ql(e)}function jI(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,u0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return jI(e).unknown(t)},e=arguments.length?Array.from(e,u0):[0,1],Ql(n)}function CI(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],i=e[r],o;return i<a&&(o=n,n=r,r=o,o=a,a=i,i=o),e[n]=t.floor(a),e[r]=t.ceil(i),e}function uA(e){return Math.log(e)}function dA(e){return Math.exp(e)}function PG(e){return-Math.log(-e)}function TG(e){return-Math.exp(-e)}function OG(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IG(e){return e===10?OG:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _G(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fA(e){return(t,n)=>-e(-t,n)}function jS(e){const t=e(uA,dA),n=t.domain;let r=10,a,i;function o(){return a=_G(r),i=IG(r),n()[0]<0?(a=fA(a),i=fA(i),e(PG,TG)):e(uA,dA),t}return t.base=function(s){return arguments.length?(r=+s,o()):r},t.domain=function(s){return arguments.length?(n(s),o()):n()},t.ticks=s=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let p=a(u),m=a(d),h,v;const x=s==null?10:+s;let y=[];if(!(r%1)&&m-p<x){if(p=Math.floor(p),m=Math.ceil(m),u>0){for(;p<=m;++p)for(h=1;h<r;++h)if(v=p<0?h/i(-p):h*i(p),!(v<u)){if(v>d)break;y.push(v)}}else for(;p<=m;++p)for(h=r-1;h>=1;--h)if(v=p>0?h/i(-p):h*i(p),!(v<u)){if(v>d)break;y.push(v)}y.length*2<x&&(y=Iw(u,d,x))}else y=Iw(p,m,Math.min(m-p,x)).map(i);return f?y.reverse():y},t.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Op(l)).precision==null&&(l.trim=!0),l=NS(l)),s===1/0)return l;const u=Math.max(1,r*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(CI(n(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function MI(){const e=jS(By()).domain([1,10]);return e.copy=()=>am(e,MI()).base(e.base()),so.apply(e,arguments),e}function pA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function CS(e){var t=1,n=e(pA(t),mA(t));return n.constant=function(r){return arguments.length?e(pA(t=+r),mA(t)):t},Ql(n)}function AI(){var e=CS(By());return e.copy=function(){return am(e,AI()).constant(e.constant())},so.apply(e,arguments)}function hA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FG(e){return e<0?-e*e:e*e}function MS(e){var t=e(Ga,Ga),n=1;function r(){return n===1?e(Ga,Ga):n===.5?e(LG,FG):e(hA(n),hA(1/n))}return t.exponent=function(a){return arguments.length?(n=+a,r()):n},Ql(t)}function AS(){var e=MS(By());return e.copy=function(){return am(e,AS()).exponent(e.exponent())},so.apply(e,arguments),e}function RG(){return AS.apply(null,arguments).exponent(.5)}function gA(e){return Math.sign(e)*e*e}function $G(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function EI(){var e=kS(),t=[0,1],n=!1,r;function a(i){var o=$G(e(i));return isNaN(o)?r:n?Math.round(o):o}return a.invert=function(i){return e.invert(gA(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,u0)).map(gA)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(n=!!i,a):n},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return EI(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},so.apply(a,arguments),Ql(a)}function DI(){var e=[],t=[],n=[],r;function a(){var o=0,s=Math.max(1,t.length);for(n=new Array(s-1);++o<s;)n[o-1]=VK(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?r:t[nm(n,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:e[0],s<n.length?n[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Bl),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return DI().domain(e).range(t).unknown(r)},so.apply(i,arguments)}function PI(){var e=0,t=1,n=1,r=[.5],a=[0,1],i;function o(l){return l!=null&&l<=l?a[nm(r,l,0,n)]:i}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return o}return o.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,s()):[e,t]},o.range=function(l){return arguments.length?(n=(a=Array.from(l)).length-1,s()):a.slice()},o.invertExtent=function(l){var u=a.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(i=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return PI().domain([e,t]).range(a).unknown(i)},so.apply(Ql(o),arguments)}function TI(){var e=[.5],t=[0,1],n,r=1;function a(i){return i!=null&&i<=i?t[nm(e,i,0,r)]:n}return a.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return TI().domain(e).range(t).unknown(n)},so.apply(a,arguments)}const vb=new Date,bb=new Date;function na(e,t,n,r){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const l=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return l;let u;do l.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return l},a.filter=i=>na(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),n&&(a.count=(i,o)=>(vb.setTime(+i),bb.setTime(+o),e(vb),e(bb),Math.floor(n(vb,bb))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?o=>r(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const p0=na(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);p0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?na(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):p0);p0.range;const Cs=1e3,Xi=Cs*60,Ms=Xi*60,zs=Ms*24,ES=zs*7,yA=zs*30,xb=zs*365,_c=na(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Cs)},(e,t)=>(t-e)/Cs,e=>e.getUTCSeconds());_c.range;const DS=na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cs)},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getMinutes());DS.range;const PS=na(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xi)},(e,t)=>(t-e)/Xi,e=>e.getUTCMinutes());PS.range;const TS=na(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cs-e.getMinutes()*Xi)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getHours());TS.range;const OS=na(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ms)},(e,t)=>(t-e)/Ms,e=>e.getUTCHours());OS.range;const im=na(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xi)/zs,e=>e.getDate()-1);im.range;const zy=na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zs,e=>e.getUTCDate()-1);zy.range;const OI=na(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zs,e=>Math.floor(e/zs));OI.range;function uu(e){return na(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Xi)/ES)}const Uy=uu(0),m0=uu(1),BG=uu(2),zG=uu(3),Md=uu(4),UG=uu(5),VG=uu(6);Uy.range;m0.range;BG.range;zG.range;Md.range;UG.range;VG.range;function du(e){return na(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ES)}const Vy=du(0),h0=du(1),WG=du(2),HG=du(3),Ad=du(4),qG=du(5),KG=du(6);Vy.range;h0.range;WG.range;HG.range;Ad.range;qG.range;KG.range;const IS=na(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());IS.range;const _S=na(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());_S.range;const Us=na(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Us.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:na(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Us.range;const Vs=na(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:na(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Vs.range;function II(e,t,n,r,a,i){const o=[[_c,1,Cs],[_c,5,5*Cs],[_c,15,15*Cs],[_c,30,30*Cs],[i,1,Xi],[i,5,5*Xi],[i,15,15*Xi],[i,30,30*Xi],[a,1,Ms],[a,3,3*Ms],[a,6,6*Ms],[a,12,12*Ms],[r,1,zs],[r,2,2*zs],[n,1,ES],[t,1,yA],[t,3,3*yA],[e,1,xb]];function s(u,d,f){const p=d<u;p&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),h=m?m.range(u,+d+1):[];return p?h.reverse():h}function l(u,d,f){const p=Math.abs(d-u)/f,m=gS(([,,x])=>x).right(o,p);if(m===o.length)return e.every(Lw(u/xb,d/xb,f));if(m===0)return p0.every(Math.max(Lw(u,d,f),1));const[h,v]=o[p/o[m-1][2]<o[m][2]/p?m-1:m];return h.every(v)}return[s,l]}const[GG,YG]=II(Vs,_S,Vy,OI,OS,PS),[XG,JG]=II(Us,IS,Uy,im,TS,DS);function wb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function ZG(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,u=xf(a),d=wf(a),f=xf(i),p=wf(i),m=xf(o),h=wf(o),v=xf(s),x=wf(s),y=xf(l),b=wf(l),w={a:te,A:W,b:le,B:k,c:null,d:SA,e:SA,f:wY,g:PY,G:OY,H:vY,I:bY,j:xY,L:_I,m:kY,M:SY,p:F,q:T,Q:CA,s:MA,S:NY,u:jY,U:CY,V:MY,w:AY,W:EY,x:null,X:null,y:DY,Y:TY,Z:IY,"%":jA},S={a:C,A:B,b:R,B:G,c:null,d:NA,e:NA,f:RY,g:GY,G:XY,H:_Y,I:LY,j:FY,L:FI,m:$Y,M:BY,p:se,q:K,Q:CA,s:MA,S:zY,u:UY,U:VY,V:WY,w:HY,W:qY,x:null,X:null,y:KY,Y:YY,Z:JY,"%":jA},j={a:D,A:I,b:O,B:H,c:J,d:wA,e:wA,f:mY,g:xA,G:bA,H:kA,I:kA,j:uY,L:pY,m:cY,M:dY,p:U,q:lY,Q:gY,s:yY,S:fY,u:rY,U:aY,V:iY,w:nY,W:oY,x:oe,X:je,y:xA,Y:bA,Z:sY,"%":hY};w.x=N(n,w),w.X=N(r,w),w.c=N(t,w),S.x=N(n,S),S.X=N(r,S),S.c=N(t,S);function N(L,z){return function(ne){var $=[],ie=-1,ge=0,Y=L.length,he,Pe,mt;for(ne instanceof Date||(ne=new Date(+ne));++ie<Y;)L.charCodeAt(ie)===37&&($.push(L.slice(ge,ie)),(Pe=vA[he=L.charAt(++ie)])!=null?he=L.charAt(++ie):Pe=he==="e"?" ":"0",(mt=z[he])&&(he=mt(ne,Pe)),$.push(he),ge=ie+1);return $.push(L.slice(ge,ie)),$.join("")}}function A(L,z){return function(ne){var $=bf(1900,void 0,1),ie=P($,L,ne+="",0),ge,Y;if(ie!=ne.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(z&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(ge=kb(bf($.y,0,1)),Y=ge.getUTCDay(),ge=Y>4||Y===0?h0.ceil(ge):h0(ge),ge=zy.offset(ge,($.V-1)*7),$.y=ge.getUTCFullYear(),$.m=ge.getUTCMonth(),$.d=ge.getUTCDate()+($.w+6)%7):(ge=wb(bf($.y,0,1)),Y=ge.getDay(),ge=Y>4||Y===0?m0.ceil(ge):m0(ge),ge=im.offset(ge,($.V-1)*7),$.y=ge.getFullYear(),$.m=ge.getMonth(),$.d=ge.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Y="Z"in $?kb(bf($.y,0,1)).getUTCDay():wb(bf($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Y+5)%7:$.w+$.U*7-(Y+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,kb($)):wb($)}}function P(L,z,ne,$){for(var ie=0,ge=z.length,Y=ne.length,he,Pe;ie<ge;){if($>=Y)return-1;if(he=z.charCodeAt(ie++),he===37){if(he=z.charAt(ie++),Pe=j[he in vA?z.charAt(ie++):he],!Pe||($=Pe(L,ne,$))<0)return-1}else if(he!=ne.charCodeAt($++))return-1}return $}function U(L,z,ne){var $=u.exec(z.slice(ne));return $?(L.p=d.get($[0].toLowerCase()),ne+$[0].length):-1}function D(L,z,ne){var $=m.exec(z.slice(ne));return $?(L.w=h.get($[0].toLowerCase()),ne+$[0].length):-1}function I(L,z,ne){var $=f.exec(z.slice(ne));return $?(L.w=p.get($[0].toLowerCase()),ne+$[0].length):-1}function O(L,z,ne){var $=y.exec(z.slice(ne));return $?(L.m=b.get($[0].toLowerCase()),ne+$[0].length):-1}function H(L,z,ne){var $=v.exec(z.slice(ne));return $?(L.m=x.get($[0].toLowerCase()),ne+$[0].length):-1}function J(L,z,ne){return P(L,t,z,ne)}function oe(L,z,ne){return P(L,n,z,ne)}function je(L,z,ne){return P(L,r,z,ne)}function te(L){return o[L.getDay()]}function W(L){return i[L.getDay()]}function le(L){return l[L.getMonth()]}function k(L){return s[L.getMonth()]}function F(L){return a[+(L.getHours()>=12)]}function T(L){return 1+~~(L.getMonth()/3)}function C(L){return o[L.getUTCDay()]}function B(L){return i[L.getUTCDay()]}function R(L){return l[L.getUTCMonth()]}function G(L){return s[L.getUTCMonth()]}function se(L){return a[+(L.getUTCHours()>=12)]}function K(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var z=N(L+="",w);return z.toString=function(){return L},z},parse:function(L){var z=A(L+="",!1);return z.toString=function(){return L},z},utcFormat:function(L){var z=N(L+="",S);return z.toString=function(){return L},z},utcParse:function(L){var z=A(L+="",!0);return z.toString=function(){return L},z}}}var vA={"-":"",_:" ",0:"0"},ga=/^\s*\d+/,QG=/^%/,eY=/[\\^$*+?|[\]().{}]/g;function Tn(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(t)+a:a)}function tY(e){return e.replace(eY,"\\$&")}function xf(e){return new RegExp("^(?:"+e.map(tY).join("|")+")","i")}function wf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function nY(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function rY(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function aY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function iY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function bA(e,t,n){var r=ga.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function xA(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function lY(e,t,n){var r=ga.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function cY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function wA(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function uY(e,t,n){var r=ga.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function kA(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function dY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function fY(e,t,n){var r=ga.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function pY(e,t,n){var r=ga.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function mY(e,t,n){var r=ga.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hY(e,t,n){var r=QG.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function gY(e,t,n){var r=ga.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function yY(e,t,n){var r=ga.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function SA(e,t){return Tn(e.getDate(),t,2)}function vY(e,t){return Tn(e.getHours(),t,2)}function bY(e,t){return Tn(e.getHours()%12||12,t,2)}function xY(e,t){return Tn(1+im.count(Us(e),e),t,3)}function _I(e,t){return Tn(e.getMilliseconds(),t,3)}function wY(e,t){return _I(e,t)+"000"}function kY(e,t){return Tn(e.getMonth()+1,t,2)}function SY(e,t){return Tn(e.getMinutes(),t,2)}function NY(e,t){return Tn(e.getSeconds(),t,2)}function jY(e){var t=e.getDay();return t===0?7:t}function CY(e,t){return Tn(Uy.count(Us(e)-1,e),t,2)}function LI(e){var t=e.getDay();return t>=4||t===0?Md(e):Md.ceil(e)}function MY(e,t){return e=LI(e),Tn(Md.count(Us(e),e)+(Us(e).getDay()===4),t,2)}function AY(e){return e.getDay()}function EY(e,t){return Tn(m0.count(Us(e)-1,e),t,2)}function DY(e,t){return Tn(e.getFullYear()%100,t,2)}function PY(e,t){return e=LI(e),Tn(e.getFullYear()%100,t,2)}function TY(e,t){return Tn(e.getFullYear()%1e4,t,4)}function OY(e,t){var n=e.getDay();return e=n>=4||n===0?Md(e):Md.ceil(e),Tn(e.getFullYear()%1e4,t,4)}function IY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Tn(t/60|0,"0",2)+Tn(t%60,"0",2)}function NA(e,t){return Tn(e.getUTCDate(),t,2)}function _Y(e,t){return Tn(e.getUTCHours(),t,2)}function LY(e,t){return Tn(e.getUTCHours()%12||12,t,2)}function FY(e,t){return Tn(1+zy.count(Vs(e),e),t,3)}function FI(e,t){return Tn(e.getUTCMilliseconds(),t,3)}function RY(e,t){return FI(e,t)+"000"}function $Y(e,t){return Tn(e.getUTCMonth()+1,t,2)}function BY(e,t){return Tn(e.getUTCMinutes(),t,2)}function zY(e,t){return Tn(e.getUTCSeconds(),t,2)}function UY(e){var t=e.getUTCDay();return t===0?7:t}function VY(e,t){return Tn(Vy.count(Vs(e)-1,e),t,2)}function RI(e){var t=e.getUTCDay();return t>=4||t===0?Ad(e):Ad.ceil(e)}function WY(e,t){return e=RI(e),Tn(Ad.count(Vs(e),e)+(Vs(e).getUTCDay()===4),t,2)}function HY(e){return e.getUTCDay()}function qY(e,t){return Tn(h0.count(Vs(e)-1,e),t,2)}function KY(e,t){return Tn(e.getUTCFullYear()%100,t,2)}function GY(e,t){return e=RI(e),Tn(e.getUTCFullYear()%100,t,2)}function YY(e,t){return Tn(e.getUTCFullYear()%1e4,t,4)}function XY(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Ad(e):Ad.ceil(e),Tn(e.getUTCFullYear()%1e4,t,4)}function JY(){return"+0000"}function jA(){return"%"}function CA(e){return+e}function MA(e){return Math.floor(+e/1e3)}var Du,$I,BI;ZY({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ZY(e){return Du=ZG(e),$I=Du.format,Du.parse,BI=Du.utcFormat,Du.utcParse,Du}function QY(e){return new Date(e)}function eX(e){return e instanceof Date?+e:+new Date(+e)}function LS(e,t,n,r,a,i,o,s,l,u){var d=kS(),f=d.invert,p=d.domain,m=u(".%L"),h=u(":%S"),v=u("%I:%M"),x=u("%I %p"),y=u("%a %d"),b=u("%b %d"),w=u("%B"),S=u("%Y");function j(N){return(l(N)<N?m:s(N)<N?h:o(N)<N?v:i(N)<N?x:r(N)<N?a(N)<N?y:b:n(N)<N?w:S)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?p(Array.from(N,eX)):p().map(QY)},d.ticks=function(N){var A=p();return e(A[0],A[A.length-1],N??10)},d.tickFormat=function(N,A){return A==null?j:u(A)},d.nice=function(N){var A=p();return(!N||typeof N.range!="function")&&(N=t(A[0],A[A.length-1],N??10)),N?p(CI(A,N)):d},d.copy=function(){return am(d,LS(e,t,n,r,a,i,o,s,l,u))},d}function tX(){return so.apply(LS(XG,JG,Us,IS,Uy,im,TS,DS,_c,$I).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nX(){return so.apply(LS(GG,YG,Vs,_S,Vy,zy,OS,PS,_c,BI).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Wy(){var e=0,t=1,n,r,a,i,o=Ga,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(a===0?.5:(f=(i(f)-n)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=i(e=+e),r=i(t=+t),a=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(p){var m,h;return arguments.length?([m,h]=p,o=f(m,h),u):[o(0),o(1)]}}return u.range=d($d),u.rangeRound=d(wS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return i=f,n=f(e),r=f(t),a=n===r?0:1/(r-n),u}}function ec(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function zI(){var e=Ql(Wy()(Ga));return e.copy=function(){return ec(e,zI())},Zs.apply(e,arguments)}function UI(){var e=jS(Wy()).domain([1,10]);return e.copy=function(){return ec(e,UI()).base(e.base())},Zs.apply(e,arguments)}function VI(){var e=CS(Wy());return e.copy=function(){return ec(e,VI()).constant(e.constant())},Zs.apply(e,arguments)}function FS(){var e=MS(Wy());return e.copy=function(){return ec(e,FS()).exponent(e.exponent())},Zs.apply(e,arguments)}function rX(){return FS.apply(null,arguments).exponent(.5)}function WI(){var e=[],t=Ga;function n(r){if(r!=null&&!isNaN(r=+r))return t((nm(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let a of r)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Bl),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,a)=>t(a/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(a,i)=>UK(e,i/r))},n.copy=function(){return WI(t).domain(e)},Zs.apply(n,arguments)}function Hy(){var e=0,t=.5,n=1,r=1,a,i,o,s,l,u=Ga,d,f=!1,p;function m(v){return isNaN(v=+v)?p:(v=.5+((v=+d(v))-i)*(r*v<r*i?s:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,a=d(e=+e),i=d(t=+t),o=d(n=+n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function h(v){return function(x){var y,b,w;return arguments.length?([y,b,w]=x,u=hG(v,[y,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=h($d),m.rangeRound=h(wS),m.unknown=function(v){return arguments.length?(p=v,m):p},function(v){return d=v,a=v(e),i=v(t),o=v(n),s=a===i?0:.5/(i-a),l=i===o?0:.5/(o-i),r=i<a?-1:1,m}}function HI(){var e=Ql(Hy()(Ga));return e.copy=function(){return ec(e,HI())},Zs.apply(e,arguments)}function qI(){var e=jS(Hy()).domain([.1,1,10]);return e.copy=function(){return ec(e,qI()).base(e.base())},Zs.apply(e,arguments)}function KI(){var e=CS(Hy());return e.copy=function(){return ec(e,KI()).constant(e.constant())},Zs.apply(e,arguments)}function RS(){var e=MS(Hy());return e.copy=function(){return ec(e,RS()).exponent(e.exponent())},Zs.apply(e,arguments)}function aX(){return RS.apply(null,arguments).exponent(.5)}const Of=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:vS,scaleDiverging:HI,scaleDivergingLog:qI,scaleDivergingPow:RS,scaleDivergingSqrt:aX,scaleDivergingSymlog:KI,scaleIdentity:jI,scaleImplicit:Fw,scaleLinear:NI,scaleLog:MI,scaleOrdinal:yS,scalePoint:HK,scalePow:AS,scaleQuantile:DI,scaleQuantize:PI,scaleRadial:EI,scaleSequential:zI,scaleSequentialLog:UI,scaleSequentialPow:FS,scaleSequentialQuantile:WI,scaleSequentialSqrt:rX,scaleSequentialSymlog:VI,scaleSqrt:RG,scaleSymlog:AI,scaleThreshold:TI,scaleTime:tX,scaleUtc:nX,tickFormat:SI},Symbol.toStringTag,{value:"Module"}));var tc=e=>e.chartData,$S=xe([tc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),BS=(e,t,n,r)=>r?$S(e):tc(e);function Wl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(mr(t)&&mr(n))return!0}return!1}function AA(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function GI(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,a,i;if(mr(n))a=n;else if(typeof n=="function")return;if(mr(r))i=r;else if(typeof r=="function")return;var o=[a,i];if(Wl(o))return o}}function iX(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Wl(r))return AA(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Rt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&KC.test(a)){var l=KC.exec(a);if(l==null||l[1]==null||t==null)o=void 0;else{var u=+l[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(Rt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&GC.test(i)){var d=GC.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var p=[o,s];if(Wl(p))return t==null?p:AA(p,t,n)}}}var Bd=1e9,oX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},US,hr=!0,io="[DecimalError] ",Wc=io+"Invalid argument: ",zS=io+"Exponent out of range: ",zd=Math.floor,jc=Math.pow,sX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ci,ua=1e7,sr=7,YI=9007199254740991,g0=zd(YI/sr),At={};At.absoluteValue=At.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};At.comparedTo=At.cmp=function(e){var t,n,r,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,a=e.d.length,t=0,n=r<a?r:a;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===a?0:r>a^i.s<0?1:-1};At.decimalPlaces=At.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*sr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};At.dividedBy=At.div=function(e){return Ps(this,new this.constructor(e))};At.dividedToIntegerBy=At.idiv=function(e){var t=this,n=t.constructor;return Yn(Ps(t,new n(e),0,1),n.precision)};At.equals=At.eq=function(e){return!this.cmp(e)};At.exponent=function(){return Hr(this)};At.greaterThan=At.gt=function(e){return this.cmp(e)>0};At.greaterThanOrEqualTo=At.gte=function(e){return this.cmp(e)>=0};At.isInteger=At.isint=function(){return this.e>this.d.length-2};At.isNegative=At.isneg=function(){return this.s<0};At.isPositive=At.ispos=function(){return this.s>0};At.isZero=function(){return this.s===0};At.lessThan=At.lt=function(e){return this.cmp(e)<0};At.lessThanOrEqualTo=At.lte=function(e){return this.cmp(e)<1};At.logarithm=At.log=function(e){var t,n=this,r=n.constructor,a=r.precision,i=a+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Ci))throw Error(io+"NaN");if(n.s<1)throw Error(io+(n.s?"NaN":"-Infinity"));return n.eq(Ci)?new r(0):(hr=!1,t=Ps(Ip(n,i),Ip(e,i),i),hr=!0,Yn(t,a))};At.minus=At.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZI(t,e):XI(t,(e.s=-e.s,e))};At.modulo=At.mod=function(e){var t,n=this,r=n.constructor,a=r.precision;if(e=new r(e),!e.s)throw Error(io+"NaN");return n.s?(hr=!1,t=Ps(n,e,0,1).times(e),hr=!0,n.minus(t)):Yn(new r(n),a)};At.naturalExponential=At.exp=function(){return JI(this)};At.naturalLogarithm=At.ln=function(){return Ip(this)};At.negated=At.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};At.plus=At.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?XI(t,e):ZI(t,(e.s=-e.s,e))};At.precision=At.sd=function(e){var t,n,r,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Wc+e);if(t=Hr(a)+1,r=a.d.length-1,n=r*sr+1,r=a.d[r],r){for(;r%10==0;r/=10)n--;for(r=a.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};At.squareRoot=At.sqrt=function(){var e,t,n,r,a,i,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(io+"NaN")}for(e=Hr(s),hr=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Xo(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=zd((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(a.toString()),n=l.precision,a=o=n+3;;)if(i=r,r=i.plus(Ps(s,i,o+2)).times(.5),Xo(i.d).slice(0,o)===(t=Xo(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Yn(i,n+1,0),i.times(i).eq(s)){r=i;break}}else if(t!="9999")break;o+=4}return hr=!0,Yn(r,n)};At.times=At.mul=function(e){var t,n,r,a,i,o,s,l,u,d=this,f=d.constructor,p=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=p.length,u=m.length,l<u&&(i=p,p=m,m=i,o=l,l=u,u=o),i=[],o=l+u,r=o;r--;)i.push(0);for(r=u;--r>=0;){for(t=0,a=l+r;a>r;)s=i[a]+m[r]*p[a-r-1]+t,i[a--]=s%ua|0,t=s/ua|0;i[a]=(i[a]+t)%ua|0}for(;!i[--o];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,hr?Yn(e,f.precision):e};At.toDecimalPlaces=At.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ns(e,0,Bd),t===void 0?t=r.rounding:ns(t,0,8),Yn(n,e+Hr(n)+1,t))};At.toExponential=function(e,t){var n,r=this,a=r.constructor;return e===void 0?n=ru(r,!0):(ns(e,0,Bd),t===void 0?t=a.rounding:ns(t,0,8),r=Yn(new a(r),e+1,t),n=ru(r,!0,e+1)),n};At.toFixed=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?ru(a):(ns(e,0,Bd),t===void 0?t=i.rounding:ns(t,0,8),r=Yn(new i(a),e+Hr(a)+1,t),n=ru(r.abs(),!1,e+Hr(r)+1),a.isneg()&&!a.isZero()?"-"+n:n)};At.toInteger=At.toint=function(){var e=this,t=e.constructor;return Yn(new t(e),Hr(e)+1,t.rounding)};At.toNumber=function(){return+this};At.toPower=At.pow=function(e){var t,n,r,a,i,o,s=this,l=s.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Ci);if(s=new l(s),!s.s){if(e.s<1)throw Error(io+"Infinity");return s}if(s.eq(Ci))return s;if(r=l.precision,e.eq(Ci))return Yn(s,r);if(t=e.e,n=e.d.length-1,o=t>=n,i=s.s,o){if((n=d<0?-d:d)<=YI){for(a=new l(Ci),t=Math.ceil(r/sr+4),hr=!1;n%2&&(a=a.times(s),DA(a.d,t)),n=zd(n/2),n!==0;)s=s.times(s),DA(s.d,t);return hr=!0,e.s<0?new l(Ci).div(a):Yn(a,r)}}else if(i<0)throw Error(io+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,s.s=1,hr=!1,a=e.times(Ip(s,r+u)),hr=!0,a=JI(a),a.s=i,a};At.toPrecision=function(e,t){var n,r,a=this,i=a.constructor;return e===void 0?(n=Hr(a),r=ru(a,n<=i.toExpNeg||n>=i.toExpPos)):(ns(e,1,Bd),t===void 0?t=i.rounding:ns(t,0,8),a=Yn(new i(a),e,t),n=Hr(a),r=ru(a,e<=n||n<=i.toExpNeg,e)),r};At.toSignificantDigits=At.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ns(e,1,Bd),t===void 0?t=r.rounding:ns(t,0,8)),Yn(new r(n),e,t)};At.toString=At.valueOf=At.val=At.toJSON=At[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Hr(e),n=e.constructor;return ru(e,t<=n.toExpNeg||t>=n.toExpPos)};function XI(e,t){var n,r,a,i,o,s,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),hr?Yn(t,f):t;if(l=e.d,u=t.d,o=e.e,a=t.e,l=l.slice(),i=o-a,i){for(i<0?(r=l,i=-i,s=u.length):(r=u,a=o,s=l.length),o=Math.ceil(f/sr),s=o>s?o+1:s+1,i>s&&(i=s,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(s=l.length,i=u.length,s-i<0&&(i=s,r=u,u=l,l=r),n=0;i;)n=(l[--i]=l[i]+u[i]+n)/ua|0,l[i]%=ua;for(n&&(l.unshift(n),++a),s=l.length;l[--s]==0;)l.pop();return t.d=l,t.e=a,hr?Yn(t,f):t}function ns(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Wc+e)}function Xo(e){var t,n,r,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)r=e[t]+"",n=sr-r.length,n&&(i+=wl(n)),i+=r;o=e[t],r=o+"",n=sr-r.length,n&&(i+=wl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Ps=function(){function e(r,a){var i,o=0,s=r.length;for(r=r.slice();s--;)i=r[s]*a+o,r[s]=i%ua|0,o=i/ua|0;return o&&r.unshift(o),r}function t(r,a,i,o){var s,l;if(i!=o)l=i>o?1:-1;else for(s=l=0;s<i;s++)if(r[s]!=a[s]){l=r[s]>a[s]?1:-1;break}return l}function n(r,a,i){for(var o=0;i--;)r[i]-=o,o=r[i]<a[i]?1:0,r[i]=o*ua+r[i]-a[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,a,i,o){var s,l,u,d,f,p,m,h,v,x,y,b,w,S,j,N,A,P,U=r.constructor,D=r.s==a.s?1:-1,I=r.d,O=a.d;if(!r.s)return new U(r);if(!a.s)throw Error(io+"Division by zero");for(l=r.e-a.e,A=O.length,j=I.length,m=new U(D),h=m.d=[],u=0;O[u]==(I[u]||0);)++u;if(O[u]>(I[u]||0)&&--l,i==null?b=i=U.precision:o?b=i+(Hr(r)-Hr(a))+1:b=i,b<0)return new U(0);if(b=b/sr+2|0,u=0,A==1)for(d=0,O=O[0],b++;(u<j||d)&&b--;u++)w=d*ua+(I[u]||0),h[u]=w/O|0,d=w%O|0;else{for(d=ua/(O[0]+1)|0,d>1&&(O=e(O,d),I=e(I,d),A=O.length,j=I.length),S=A,v=I.slice(0,A),x=v.length;x<A;)v[x++]=0;P=O.slice(),P.unshift(0),N=O[0],O[1]>=ua/2&&++N;do d=0,s=t(O,v,A,x),s<0?(y=v[0],A!=x&&(y=y*ua+(v[1]||0)),d=y/N|0,d>1?(d>=ua&&(d=ua-1),f=e(O,d),p=f.length,x=v.length,s=t(f,v,p,x),s==1&&(d--,n(f,A<p?P:O,p))):(d==0&&(s=d=1),f=O.slice()),p=f.length,p<x&&f.unshift(0),n(v,f,x),s==-1&&(x=v.length,s=t(O,v,A,x),s<1&&(d++,n(v,A<x?P:O,x))),x=v.length):s===0&&(d++,v=[0]),h[u++]=d,s&&v[0]?v[x++]=I[S]||0:(v=[I[S]],x=1);while((S++<j||v[0]!==void 0)&&b--)}return h[0]||h.shift(),m.e=l,Yn(m,o?i+Hr(m)+1:i)}}();function JI(e,t){var n,r,a,i,o,s,l=0,u=0,d=e.constructor,f=d.precision;if(Hr(e)>16)throw Error(zS+Hr(e));if(!e.s)return new d(Ci);for(hr=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(r=Math.log(jc(2,u))/Math.LN10*2+5|0,s+=r,n=a=i=new d(Ci),d.precision=s;;){if(a=Yn(a.times(e),s),n=n.times(++l),o=i.plus(Ps(a,n,s)),Xo(o.d).slice(0,s)===Xo(i.d).slice(0,s)){for(;u--;)i=Yn(i.times(i),s);return d.precision=f,t==null?(hr=!0,Yn(i,f)):i}i=o}}function Hr(e){for(var t=e.e*sr,n=e.d[0];n>=10;n/=10)t++;return t}function Sb(e,t,n){if(t>e.LN10.sd())throw hr=!0,n&&(e.precision=n),Error(io+"LN10 precision limit exceeded");return Yn(new e(e.LN10),t)}function wl(e){for(var t="";e--;)t+="0";return t}function Ip(e,t){var n,r,a,i,o,s,l,u,d,f=1,p=10,m=e,h=m.d,v=m.constructor,x=v.precision;if(m.s<1)throw Error(io+(m.s?"NaN":"-Infinity"));if(m.eq(Ci))return new v(0);if(t==null?(hr=!1,u=x):u=t,m.eq(10))return t==null&&(hr=!0),Sb(v,u);if(u+=p,v.precision=u,n=Xo(h),r=n.charAt(0),i=Hr(m),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Xo(m.d),r=n.charAt(0),f++;i=Hr(m),r>1?(m=new v("0."+n),i++):m=new v(r+"."+n.slice(1))}else return l=Sb(v,u+2,x).times(i+""),m=Ip(new v(r+"."+n.slice(1)),u-p).plus(l),v.precision=x,t==null?(hr=!0,Yn(m,x)):m;for(s=o=m=Ps(m.minus(Ci),m.plus(Ci),u),d=Yn(m.times(m),u),a=3;;){if(o=Yn(o.times(d),u),l=s.plus(Ps(o,new v(a),u)),Xo(l.d).slice(0,u)===Xo(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(Sb(v,u+2,x).times(i+""))),s=Ps(s,new v(f),u),v.precision=x,t==null?(hr=!0,Yn(s,x)):s;s=l,a+=2}}function EA(e,t){var n,r,a;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(r,a),t){if(a-=r,n=n-r-1,e.e=zd(n/sr),e.d=[],r=(n+1)%sr,n<0&&(r+=sr),r<a){for(r&&e.d.push(+t.slice(0,r)),a-=sr;r<a;)e.d.push(+t.slice(r,r+=sr));t=t.slice(r),r=sr-t.length}else r-=a;for(;r--;)t+="0";if(e.d.push(+t),hr&&(e.e>g0||e.e<-g0))throw Error(zS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Yn(e,t,n){var r,a,i,o,s,l,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(r=t-o,r<0)r+=sr,a=t,u=f[d=0];else{if(d=Math.ceil((r+1)/sr),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;r%=sr,a=r-sr+o}if(n!==void 0&&(i=jc(10,o-a-1),s=u/i%10|0,l=t<0||f[d+1]!==void 0||u%i,l=n<4?(s||l)&&(n==0||n==(e.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?a>0?u/jc(10,o-a):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(i=Hr(e),f.length=1,t=t-i-1,f[0]=jc(10,(sr-t%sr)%sr),e.e=zd(-t/sr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,i=1,d--):(f.length=d+1,i=jc(10,sr-r),f[d]=a>0?(u/jc(10,o-a)%jc(10,a)|0)*i:0),l)for(;;)if(d==0){(f[0]+=i)==ua&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ua)break;f[d--]=0,i=1}for(r=f.length;f[--r]===0;)f.pop();if(hr&&(e.e>g0||e.e<-g0))throw Error(zS+Hr(e));return e}function ZI(e,t){var n,r,a,i,o,s,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new p(e),hr?Yn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),o=u-r,o){for(d=o<0,d?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),a=Math.max(Math.ceil(m/sr),s)+2,o>a&&(o=a,n.length=1),n.reverse(),a=o;a--;)n.push(0);n.reverse()}else{for(a=l.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(l[a]!=f[a]){d=l[a]<f[a];break}o=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),s=l.length,a=f.length-s;a>0;--a)l[s++]=0;for(a=f.length;a>o;){if(l[--a]<f[a]){for(i=a;i&&l[--i]===0;)l[i]=ua-1;--l[i],l[a]+=ua}l[a]-=f[a]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,hr?Yn(t,m):t):new p(0)}function ru(e,t,n){var r,a=Hr(e),i=Xo(e.d),o=i.length;return t?(n&&(r=n-o)>0?i=i.charAt(0)+"."+i.slice(1)+wl(r):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+wl(-a-1)+i,n&&(r=n-o)>0&&(i+=wl(r))):a>=o?(i+=wl(a+1-o),n&&(r=n-a-1)>0&&(i=i+"."+wl(r))):((r=a+1)<o&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-o)>0&&(a+1===o&&(i+="."),i+=wl(r))),e.s<0?"-"+i:i}function DA(e,t){if(e.length>t)return e.length=t,!0}function QI(e){var t,n,r;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Wc+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return EA(o,i.toString())}else if(typeof i!="string")throw Error(Wc+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,sX.test(i))EA(o,i);else throw Error(Wc+i)}if(a.prototype=At,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=QI,a.config=a.set=lX,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return a.config(e),a}function lX(e){if(!e||typeof e!="object")throw Error(io+"Object expected");var t,n,r,a=["precision",1,Bd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((r=e[n=a[t]])!==void 0)if(zd(r)===r&&r>=a[t+1]&&r<=a[t+2])this[n]=r;else throw Error(Wc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wc+n+": "+r);return this}var US=QI(oX);Ci=new US(1);const $n=US;var cX=e=>e,e_={},t_=e=>e===e_,PA=e=>function t(){return arguments.length===0||arguments.length===1&&t_(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},n_=(e,t)=>e===1?t:PA(function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(o=>o!==e_).length;return i>=e?t(...r):n_(e-i,PA(function(){for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];var u=r.map(d=>t_(d)?s.shift():d);return t(...u,...s)}))}),uX=e=>n_(e.length,e),zw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},dX=uX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),fX=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return cX;var r=t.reverse(),a=r[0],i=r.slice(1);return function(){return i.reduce((o,s)=>s(o),a(...arguments))}};function r_(e){var t;return e===0?t=1:t=Math.floor(new $n(e).abs().log(10).toNumber())+1,t}function a_(e,t,n){for(var r=new $n(e),a=0,i=[];r.lt(t)&&a<1e5;)i.push(r.toNumber()),r=r.add(n),a++;return i}var i_=e=>{var[t,n]=e,[r,a]=[t,n];return t>n&&([r,a]=[n,t]),[r,a]},o_=(e,t,n)=>{if(e.lte(0))return new $n(0);var r=r_(e.toNumber()),a=new $n(10).pow(r),i=e.div(a),o=r!==1?.05:.1,s=new $n(Math.ceil(i.div(o).toNumber())).add(n).mul(o),l=s.mul(a);return t?new $n(l.toNumber()):new $n(Math.ceil(l.toNumber()))},pX=(e,t,n)=>{var r=new $n(1),a=new $n(e);if(!a.isint()&&n){var i=Math.abs(e);i<1?(r=new $n(10).pow(r_(e)-1),a=new $n(Math.floor(a.div(r).toNumber())).mul(r)):i>1&&(a=new $n(Math.floor(e)))}else e===0?a=new $n(Math.floor((t-1)/2)):n||(a=new $n(Math.floor(e)));var o=Math.floor((t-1)/2),s=fX(dX(l=>a.add(new $n(l-o).mul(r)).toNumber()),zw);return s(0,t)},s_=function(e,t,n,r){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new $n(0),tickMin:new $n(0),tickMax:new $n(0)};var i=o_(new $n(t).sub(e).div(n-1),r,a),o;e<=0&&t>=0?o=new $n(0):(o=new $n(e).add(t).div(2),o=o.sub(new $n(o).mod(i)));var s=Math.ceil(o.sub(e).div(i).toNumber()),l=Math.ceil(new $n(t).sub(o).div(i).toNumber()),u=s+l+1;return u>n?s_(e,t,n,r,a+1):(u<n&&(l=t>0?l+(n-u):l,s=t>0?s:s+(n-u)),{step:i,tickMin:o.sub(new $n(s).mul(i)),tickMax:o.add(new $n(l).mul(i))})},mX=function(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(r,2),[o,s]=i_([t,n]);if(o===-1/0||s===1/0){var l=s===1/0?[o,...zw(0,r-1).map(()=>1/0)]:[...zw(0,r-1).map(()=>-1/0),s];return t>n?l.reverse():l}if(o===s)return pX(o,r,a);var{step:u,tickMin:d,tickMax:f}=s_(o,s,i,a,0),p=a_(d,f.add(new $n(.1).mul(u)),u);return t>n?p.reverse():p},hX=function(e,t){var[n,r]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,o]=i_([n,r]);if(i===-1/0||o===1/0)return[n,r];if(i===o)return[i];var s=Math.max(t,2),l=o_(new $n(o).sub(i).div(s-1),a,0),u=[...a_(new $n(i),new $n(o),l),o];return a===!1&&(u=u.map(d=>Math.round(d))),n>r?u.reverse():u},gX=e=>e.rootProps.barCategoryGap,om=e=>e.rootProps.stackOffset,l_=e=>e.rootProps.reverseStackOrder,VS=e=>e.options.chartName,WS=e=>e.rootProps.syncId,c_=e=>e.rootProps.syncMethod,HS=e=>e.options.eventEmitter,fa={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ks={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},ji={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},qy=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},yX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:ks.reversed,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:ks.type,unit:void 0},vX={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:ji.type,unit:void 0},bX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ks.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ks.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ks.scale,tick:ks.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},xX={allowDataOverflow:ji.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:ji.tickCount,ticks:void 0,type:"category",unit:void 0},qS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?bX:yX,KS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?xX:vX,Ky=e=>e.polarOptions,GS=xe([Xs,Js,ha],sI),u_=xe([Ky,GS],(e,t)=>{if(e!=null)return Zi(e.innerRadius,t,0)}),d_=xe([Ky,GS],(e,t)=>{if(e!=null)return Zi(e.outerRadius,t,t*.8)}),wX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},f_=xe([Ky],wX);xe([qS,f_],qy);var p_=xe([GS,u_,d_],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});xe([KS,p_],qy);var m_=xe([Kn,Ky,u_,d_,Xs,Js],(e,t,n,r,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:o,cy:s,startAngle:l,endAngle:u}=t;return{cx:Zi(o,a,a/2),cy:Zi(s,i,i/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),gr=(e,t)=>t,sm=(e,t,n)=>n;function h_(e){return e==null?void 0:e.id}function g_(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=n,o=new Map;return e.forEach(s=>{var l,u=(l=s.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=h_(s);u.forEach((f,p)=>{var m=i==null||a?p:String(cr(f,i,null)),h=cr(f,s.dataKey,0),v;o.has(m)?v=o.get(m):v={},Object.assign(v,{[d]:h}),o.set(m,v)})}}),Array.from(o.values())}function YS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Gy=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Yy(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function kX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ra=e=>{var t=Kn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ud=e=>e.tooltip.settings.axisId;function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function y0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){SX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SX(e,t,n){return(t=NX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NX(e){var t=jX(e,"string");return typeof t=="symbol"?t:t+""}function jX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uw=[0,"auto"],sa={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},y_=(e,t)=>e.cartesianAxis.xAxis[t],rs=(e,t)=>{var n=y_(e,t);return n??sa},la={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Uw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Zp},v_=(e,t)=>e.cartesianAxis.yAxis[t],as=(e,t)=>{var n=v_(e,t);return n??la},CX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},XS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??CX},Nr=(e,t,n)=>{switch(t){case"xAxis":return rs(e,n);case"yAxis":return as(e,n);case"zAxis":return XS(e,n);case"angleAxis":return qS(e,n);case"radiusAxis":return KS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},MX=(e,t,n)=>{switch(t){case"xAxis":return rs(e,n);case"yAxis":return as(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},lm=(e,t,n)=>{switch(t){case"xAxis":return rs(e,n);case"yAxis":return as(e,n);case"angleAxis":return qS(e,n);case"radiusAxis":return KS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},b_=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function JS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var x_=e=>e.graphicalItems.cartesianItems,AX=xe([gr,sm],JS),ZS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),cm=xe([x_,Nr,AX],ZS,{memoizeOptions:{resultEqualityCheck:Yy}}),w_=xe([cm],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(YS)),k_=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),EX=xe([cm],k_),QS=e=>e.map(t=>t.data).filter(Boolean).flat(1),DX=xe([cm],QS,{memoizeOptions:{resultEqualityCheck:Yy}}),eN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:a}=t;return e.length>0?e:n.slice(r,a+1)},tN=xe([DX,BS],eN),nN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:cr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(a=>({value:cr(a,r)}))):e.map(r=>({value:r})),Xy=xe([tN,Nr,cm],nN);function S_(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function eg(e){if(ro(e)||e instanceof Date){var t=Number(e);if(mr(t))return t}}function OA(e){if(Array.isArray(e)){var t=[eg(e[0]),eg(e[1])];return Wl(t)?t:void 0}var n=eg(e);if(n!=null)return[n,n]}function Ws(e){return e.map(eg).filter(q7)}function PX(e,t,n){return!n||typeof t!="number"||no(t)?[]:n.length?Ws(n.flatMap(r=>{var a=cr(e,r.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!mr(i)||!mr(o)))return[t-i,t+o]})):[]}var aa=e=>{var t=ra(e),n=Ud(e);return lm(e,t,n)},um=xe([aa],e=>e==null?void 0:e.dataKey),TX=xe([w_,BS,aa],g_),N_=(e,t,n,r)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var l=o[s.stackId];return l==null&&(l=[]),l.push(s),o[s.stackId]=l,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,l]=o,u=r?[...l].reverse():l,d=u.map(h_);return[s,{stackedData:lH(e,d,n),graphicalItems:u}]}))},OX=xe([TX,w_,om,l_],N_),j_=(e,t,n,r)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(r==null&&n!=="zAxis"){var o=dH(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},IX=xe([Nr],e=>e.allowDataOverflow),rN=e=>{var t;if(e==null||!("domain"in e))return Uw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Ws(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Uw},aN=xe([Nr],rN),iN=xe([aN,IX],GI),_X=xe([OX,tc,gr,iN],j_,{memoizeOptions:{resultEqualityCheck:Gy}}),Jy=e=>e.errorBars,LX=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>S_(n,r)),v0=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.filter(Boolean);if(r.length!==0){var a=r.flat(),i=Math.min(...a),o=Math.max(...a);return[i,o]}},oN=(e,t,n,r,a)=>{var i,o;if(n.length>0&&e.forEach(s=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(y=>S_(a,y)),p=cr(s,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=PX(s,p,f);if(m.length>=2){var h=Math.min(...m),v=Math.max(...m);(i==null||h<i)&&(i=h),(o==null||v>o)&&(o=v)}var x=OA(p);x!=null&&(i=i==null?x[0]:Math.min(i,x[0]),o=o==null?x[1]:Math.max(o,x[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var l=OA(cr(s,t.dataKey));l!=null&&(i=i==null?l[0]:Math.min(i,l[0]),o=o==null?l[1]:Math.max(o,l[1]))}),mr(i)&&mr(o))return[i,o]},FX=xe([tN,Nr,EX,Jy,gr],oN,{memoizeOptions:{resultEqualityCheck:Gy}});function RX(e){var{value:t}=e;if(ro(t)||t instanceof Date)return t}var $X=(e,t,n)=>{var r=e.map(RX).filter(a=>a!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&bO(r))?mI(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},C_=e=>e.referenceElements.dots,Vd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),BX=xe([C_,gr,sm],Vd),M_=e=>e.referenceElements.areas,zX=xe([M_,gr,sm],Vd),A_=e=>e.referenceElements.lines,UX=xe([A_,gr,sm],Vd),E_=(e,t)=>{if(e!=null){var n=Ws(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},VX=xe(BX,gr,E_),D_=(e,t)=>{if(e!=null){var n=Ws(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},WX=xe([zX,gr],D_);function HX(e){var t;if(e.x!=null)return Ws([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Ws(n)}function qX(e){var t;if(e.y!=null)return Ws([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Ws(n)}var P_=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?HX(r):qX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KX=xe([UX,gr],P_),GX=xe(VX,KX,WX,(e,t,n)=>v0(e,n,t)),sN=(e,t,n,r,a,i,o,s)=>{if(n!=null)return n;var l=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=l?v0(r,i,a):v0(i,a);return iX(t,u,e.allowDataOverflow)},YX=xe([Nr,aN,iN,_X,FX,GX,Kn,gr],sN,{memoizeOptions:{resultEqualityCheck:Gy}}),XX=[0,1],lN=(e,t,n,r,a,i,o)=>{if(!((e==null||n==null||n.length===0)&&o===void 0)){var{dataKey:s,type:l}=e,u=Zl(t,i);if(u&&s==null){var d;return mI(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?$X(r,e,u):a==="expand"?XX:o}},cN=xe([Nr,Kn,tN,Xy,om,gr,YX],lN),T_=(e,t,n,r,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(Gp(i));return s in Of?s:"point"}}},Wd=xe([Nr,Kn,b_,VS,gr],T_);function JX(e){if(e!=null){if(e in Of)return Of[e]();var t="scale".concat(Gp(e));if(t in Of)return Of[t]()}}function uN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var a=JX(t);if(a!=null){var i=a.domain(n).range(r);return aH(i),i}}}var dN=(e,t,n)=>{var r=rN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Wl(e))return mX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Wl(e))return hX(e,t.tickCount,t.allowDecimals)}},fN=xe([cN,lm,Wd],dN),pN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Wl(t)&&Array.isArray(n)&&n.length>0){var a=t[0],i=n[0],o=t[1],s=n[n.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},ZX=xe([Nr,cN,fN,gr],pN),QX=xe(Xy,Nr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Ws(e.map(f=>f.value))).sort((f,p)=>f-p),a=r[0],i=r[r.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<r.length-1;s++){var l=r[s],u=r[s+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/o}}),O_=xe(QX,Kn,gX,ha,(e,t,n,r,a)=>a,(e,t,n,r,a)=>{if(!mr(e))return 0;var i=t==="vertical"?r.height:r.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Zi(n,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),eJ=(e,t,n)=>{var r=rs(e,t);return r==null||typeof r.padding!="string"?0:O_(e,"xAxis",t,n,r.padding)},tJ=(e,t,n)=>{var r=as(e,t);return r==null||typeof r.padding!="string"?0:O_(e,"yAxis",t,n,r.padding)},nJ=xe(rs,eJ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((n=a.left)!==null&&n!==void 0?n:0)+t,right:((r=a.right)!==null&&r!==void 0?r:0)+t}}),rJ=xe(as,tJ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((n=a.top)!==null&&n!==void 0?n:0)+t,bottom:((r=a.bottom)!==null&&r!==void 0?r:0)+t}}),aJ=xe([ha,nJ,Ty,Py,(e,t,n)=>n],(e,t,n,r,a)=>{var{padding:i}=r;return a?[i.left,n.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),iJ=xe([ha,Kn,rJ,Ty,Py,(e,t,n)=>n],(e,t,n,r,a,i)=>{var{padding:o}=a;return i?[r.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),dm=(e,t,n,r)=>{var a;switch(t){case"xAxis":return aJ(e,n,r);case"yAxis":return iJ(e,n,r);case"zAxis":return(a=XS(e,n))===null||a===void 0?void 0:a.range;case"angleAxis":return f_(e);case"radiusAxis":return p_(e,n);default:return}},I_=xe([Nr,dm],qy),Ed=xe([Nr,Wd,ZX,I_],uN);xe([cm,Jy,gr],LX);function __(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Zy=(e,t)=>t,Qy=(e,t,n)=>n,oJ=xe(Ey,Zy,Qy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(__)),sJ=xe(Dy,Zy,Qy,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(__)),L_=(e,t)=>({width:e.width,height:t.height}),lJ=(e,t)=>{var n=typeof t.width=="number"?t.width:Zp;return{width:n,height:e.height}},cJ=xe(ha,rs,L_),uJ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},dJ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},fJ=xe(Js,ha,oJ,Zy,Qy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=L_(t,s);o==null&&(o=uJ(t,r,e));var u=r==="top"&&!a||r==="bottom"&&a;i[s.id]=o-Number(u)*l.height,o+=(u?-1:1)*l.height}),i}),pJ=xe(Xs,ha,sJ,Zy,Qy,(e,t,n,r,a)=>{var i={},o;return n.forEach(s=>{var l=lJ(t,s);o==null&&(o=dJ(t,r,e));var u=r==="left"&&!a||r==="right"&&a;i[s.id]=o-Number(u)*l.width,o+=(u?-1:1)*l.width}),i}),mJ=(e,t)=>{var n=rs(e,t);if(n!=null)return fJ(e,n.orientation,n.mirror)},hJ=xe([ha,rs,mJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),gJ=(e,t)=>{var n=as(e,t);if(n!=null)return pJ(e,n.orientation,n.mirror)},yJ=xe([ha,as,gJ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var a=n==null?void 0:n[r];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),vJ=xe(ha,as,(e,t)=>{var n=typeof t.width=="number"?t.width:Zp;return{width:n,height:e.height}}),F_=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=n,s=Zl(e,r),l=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&bO(l))return l}},mN=xe([Kn,Xy,Nr,gr],F_),R_=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:a,scale:i}=n,o=Zl(e,r);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},hN=xe([Kn,Xy,lm,gr],R_),IA=xe([Kn,MX,Wd,Ed,mN,hN,dm,fN,gr],(e,t,n,r,a,i,o,s,l)=>{if(t!=null){var u=Zl(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:n,scale:r}}}),bJ=(e,t,n,r,a,i,o,s,l)=>{if(!(t==null||r==null)){var u=Zl(e,l),{type:d,ticks:f,tickCount:p}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,h=d==="category"&&r.bandwidth?r.bandwidth()/m:0;h=l==="angleAxis"&&i!=null&&i.length>=2?Ra(i[0]-i[1])*2*h:h;var v=f||a;if(v){var x=v.map((y,b)=>{var w=o?o.indexOf(y):y;return{index:b,coordinate:r(w)+h,value:y,offset:h}});return x.filter(y=>mr(y.coordinate))}return u&&s?s.map((y,b)=>({coordinate:r(y)+h,value:y,index:b,offset:h})).filter(y=>mr(y.coordinate)):r.ticks?r.ticks(p).map(y=>({coordinate:r(y)+h,value:y,offset:h})):r.domain().map((y,b)=>({coordinate:r(y)+h,value:o?o[y]:y,index:b,offset:h}))}},$_=xe([Kn,lm,Wd,Ed,fN,dm,mN,hN,gr],bJ),xJ=(e,t,n,r,a,i,o)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var s=Zl(e,o),{tickCount:l}=t,u=0;return u=o==="angleAxis"&&(r==null?void 0:r.length)>=2?Ra(r[0]-r[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:a?a[d]:d,index:f,offset:u}))}},B_=xe([Kn,lm,Ed,dm,mN,hN,gr],xJ),z_=xe(Nr,Ed,(e,t)=>{if(!(e==null||t==null))return y0(y0({},e),{},{scale:t})}),wJ=xe([Nr,Wd,cN,I_],uN);xe((e,t,n)=>XS(e,n),wJ,(e,t)=>{if(!(e==null||t==null))return y0(y0({},e),{},{scale:t})});var kJ=xe([Kn,Ey,Dy],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),U_=e=>e.options.defaultTooltipEventType,V_=e=>e.options.validateTooltipEventTypes;function W_(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function gN(e,t){var n=U_(e),r=V_(e);return W_(t,n,r)}function SJ(e){return Dt(t=>gN(t,e))}var H_=(e,t)=>{var n,r=Number(t);if(!(no(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},NJ=e=>e.tooltip.settings,Cl={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},jJ={itemInteraction:{click:Cl,hover:Cl},axisInteraction:{click:Cl,hover:Cl},keyboardInteraction:Cl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},q_=hi({name:"tooltip",initialState:jJ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:fr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,a=So(e).tooltipItemPayloads.indexOf(n);a>-1&&(e.tooltipItemPayloads[a]=r)},prepare:fr()},removeTooltipEntrySettings:{reducer(e,t){var n=So(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:fr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:CJ,replaceTooltipEntrySettings:MJ,removeTooltipEntrySettings:AJ,setTooltipSettingsState:EJ,setActiveMouseOverItemIndex:K_,mouseLeaveItem:DJ,mouseLeaveChart:G_,setActiveClickItemIndex:PJ,setMouseOverAxisIndex:Y_,setMouseClickAxisIndex:TJ,setSyncInteraction:Vw,setKeyboardInteraction:Ww}=q_.actions,OJ=q_.reducer;function _A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_A(Object(n),!0).forEach(function(r){IJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_A(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IJ(e,t,n){return(t=_J(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _J(e){var t=LJ(e,"string");return typeof t=="symbol"?t:t+""}function LJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FJ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function RJ(e){return e.index!=null}var X_=(e,t,n,r)=>{if(t==null)return Cl;var a=FJ(e,t,n);if(a==null)return Cl;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(RJ(a)){if(i)return Nh(Nh({},a),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Nh(Nh({},Cl),{},{coordinate:a.coordinate})};function $J(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function BJ(e,t){var n=$J(e),r=t[0],a=t[1];if(n===void 0)return!1;var i=Math.min(r,a),o=Math.max(r,a);return n>=i&&n<=o}function zJ(e,t,n){if(n==null||t==null)return!0;var r=cr(e,t);return r==null||!Wl(n)?!0:BJ(r,n)}var yN=(e,t,n,r)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!mr(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var l=Math.max(o,Math.min(i,s)),u=t[l];return u==null||zJ(u,n,r)?String(l):null},J_=(e,t,n,r,a,i,o,s)=>{if(!(i==null||s==null)){var l=o[0],u=l==null?void 0:s(l.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},Z_=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(n==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&r!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},fm=e=>e.options.tooltipPayloadSearcher,Hd=e=>e.tooltip;function LA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function FA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LA(Object(n),!0).forEach(function(r){UJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UJ(e,t,n){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HJ(e,t){return e??t}var Q_=(e,t,n,r,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((p,m)=>{var h,{dataDefinedOnItem:v,settings:x}=m,y=HJ(v,s),b=Array.isArray(y)?E4(y,u,d):y,w=(h=x==null?void 0:x.dataKey)!==null&&h!==void 0?h:r,S=x==null?void 0:x.nameKey,j;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&o==="axis"?j=xO(b,r,a):j=i(b,t,l,S),Array.isArray(j))j.forEach(A=>{var P=FA(FA({},x),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});p.push(YC({tooltipEntrySettings:P,dataKey:A.dataKey,payload:A.payload,value:cr(A.payload,A.dataKey),name:A.name}))});else{var N;p.push(YC({tooltipEntrySettings:x,dataKey:w,payload:j,value:cr(j,w),name:(N=cr(j,S))!==null&&N!==void 0?N:x==null?void 0:x.name}))}return p},f)}},vN=xe([aa,Kn,b_,VS,ra],T_),qJ=xe([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),KJ=xe([ra,Ud],JS),qd=xe([qJ,aa,KJ],ZS,{memoizeOptions:{resultEqualityCheck:Yy}}),GJ=xe([qd],e=>e.filter(YS)),YJ=xe([qd],QS,{memoizeOptions:{resultEqualityCheck:Yy}}),Kd=xe([YJ,tc],eN),XJ=xe([GJ,tc,aa],g_),bN=xe([Kd,aa,qd],nN),eL=xe([aa],rN),JJ=xe([aa],e=>e.allowDataOverflow),tL=xe([eL,JJ],GI),ZJ=xe([qd],e=>e.filter(YS)),QJ=xe([XJ,ZJ,om,l_],N_),eZ=xe([QJ,tc,ra,tL],j_),tZ=xe([qd],k_),nZ=xe([Kd,aa,tZ,Jy,ra],oN,{memoizeOptions:{resultEqualityCheck:Gy}}),rZ=xe([C_,ra,Ud],Vd),aZ=xe([rZ,ra],E_),iZ=xe([M_,ra,Ud],Vd),oZ=xe([iZ,ra],D_),sZ=xe([A_,ra,Ud],Vd),lZ=xe([sZ,ra],P_),cZ=xe([aZ,lZ,oZ],v0),uZ=xe([aa,eL,tL,eZ,nZ,cZ,Kn,ra],sN),pm=xe([aa,Kn,Kd,bN,om,ra,uZ],lN),dZ=xe([pm,aa,vN],dN),fZ=xe([aa,pm,dZ,ra],pN),nL=e=>{var t=ra(e),n=Ud(e),r=!1;return dm(e,t,n,r)},rL=xe([aa,nL],qy),aL=xe([aa,vN,fZ,rL],uN),pZ=xe([Kn,bN,aa,ra],F_),mZ=xe([Kn,bN,aa,ra],R_),hZ=(e,t,n,r,a,i,o,s)=>{if(t){var{type:l}=t,u=Zl(e,s);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Ra(a[0]-a[1])*2*f:f,u&&o?o.map((p,m)=>({coordinate:r(p)+f,value:p,index:m,offset:f})):r.domain().map((p,m)=>({coordinate:r(p)+f,value:i?i[p]:p,index:m,offset:f}))}}},Qs=xe([Kn,aa,vN,aL,nL,pZ,mZ,ra],hZ),xN=xe([U_,V_,NJ],(e,t,n)=>W_(n.shared,e,t)),iL=e=>e.tooltip.settings.trigger,wN=e=>e.tooltip.settings.defaultIndex,mm=xe([Hd,xN,iL,wN],X_),Dd=xe([mm,Kd,um,pm],yN),oL=xe([Qs,Dd],H_),sL=xe([mm],e=>{if(e)return e.dataKey}),gZ=xe([mm],e=>{if(e)return e.graphicalItemId}),lL=xe([Hd,xN,iL,wN],Z_),yZ=xe([Xs,Js,Kn,ha,Qs,wN,lL,fm],J_),vZ=xe([mm,yZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),bZ=xe([mm],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),xZ=xe([lL,Dd,tc,um,oL,fm,xN],Q_),wZ=xe([xZ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function $A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){kZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kZ(e,t,n){return(t=SZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jZ=()=>Dt(aa),CZ=()=>{var e=jZ(),t=Dt(Qs),n=Dt(aL);return bw(!e||!n?void 0:$A($A({},e),{},{scale:n}),t)};function BA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Pu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BA(Object(n),!0).forEach(function(r){MZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MZ(e,t,n){return(t=AZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DZ=(e,t,n,r)=>{var a=t.find(i=>i&&i.index===n);if(a){if(e==="horizontal")return{x:a.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:a.coordinate}}return{x:0,y:0}},PZ=(e,t,n,r)=>{var a=t.find(u=>u&&u.index===n);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=r;return Pu(Pu(Pu({},r),Wr(r.cx,r.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:l}=r;return Pu(Pu(Pu({},r),Wr(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function TZ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var cL=(e,t,n,r,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(r==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var l,u,d,f,p,m=s>0?(l=n[s-1])===null||l===void 0?void 0:l.coordinate:(u=n[o-1])===null||u===void 0?void 0:u.coordinate,h=(d=n[s])===null||d===void 0?void 0:d.coordinate,v=s>=o-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(p=n[s+1])===null||p===void 0?void 0:p.coordinate,x=void 0;if(!(m==null||h==null||v==null))if(Ra(h-m)!==Ra(v-h)){var y=[];if(Ra(v-h)===Ra(a[1]-a[0])){x=v;var b=h+a[1]-a[0];y[0]=Math.min(b,(b+m)/2),y[1]=Math.max(b,(b+m)/2)}else{x=m;var w=v+a[1]-a[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(x+h)/2),Math.max(h,(x+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){var j;return(j=n[s])===null||j===void 0?void 0:j.index}}else{var N=Math.min(m,v),A=Math.max(m,v);if(e>(N+h)/2&&e<=(A+h)/2){var P;return(P=n[s])===null||P===void 0?void 0:P.index}}}else if(t)for(var U=0;U<o;U++){var D=t[U];if(D!=null){var I=t[U+1],O=t[U-1];if(U===0&&I!=null&&e<=(D.coordinate+I.coordinate)/2||U===o-1&&O!=null&&e>(D.coordinate+O.coordinate)/2||U>0&&U<o-1&&O!=null&&I!=null&&e>(D.coordinate+O.coordinate)/2&&e<=(D.coordinate+I.coordinate)/2)return D.index}}return-1},OZ=()=>Dt(VS),kN=(e,t)=>t,uL=(e,t,n)=>n,SN=(e,t,n,r)=>r,IZ=xe(Qs,e=>vy(e,t=>t.coordinate)),NN=xe([Hd,kN,uL,SN],X_),jN=xe([NN,Kd,um,pm],yN),_Z=(e,t,n)=>{if(t!=null){var r=Hd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},dL=xe([Hd,kN,uL,SN],Z_),b0=xe([Xs,Js,Kn,ha,Qs,SN,dL,fm],J_),LZ=xe([NN,b0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),fL=xe([Qs,jN],H_),FZ=xe([dL,jN,tc,um,fL,fm,kN],Q_),RZ=xe([NN,jN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),$Z=(e,t,n,r,a,i,o)=>{if(!(!e||!n||!r||!a)&&TZ(e,o)){var s=fH(e,t),l=cL(s,i,a,n,r),u=DZ(t,a,l,e);return{activeIndex:String(l),activeCoordinate:u}}},BZ=(e,t,n,r,a,i,o)=>{if(!(!e||!r||!a||!i||!n)){var s=jK(e,n);if(s){var l=pH(s,t),u=cL(l,o,i,r,a),d=PZ(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},zZ=(e,t,n,r,a,i,o,s)=>{if(!(!e||!t||!r||!a||!i))return t==="horizontal"||t==="vertical"?$Z(e,t,r,a,i,o,s):BZ(e,t,n,r,a,i,o)},UZ=xe(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),VZ=xe(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(fa)),n=Array.from(new Set(t));return n.sort((r,a)=>r-a)},{memoizeOptions:{resultEqualityCheck:kX}});function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function UA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){WZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WZ(e,t,n){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ={},GZ={zIndexMap:Object.values(fa).reduce((e,t)=>UA(UA({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),KZ)},YZ=new Set(Object.values(fa));function XZ(e){return YZ.has(e)}var pL=hi({name:"zIndex",initialState:GZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:fr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!XZ(n)&&delete e.zIndexMap[n])},prepare:fr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:a}=t.payload;e.zIndexMap[n]?a?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:a?void 0:r,panoramaElement:a?r:void 0}},prepare:fr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:fr()}}}),{registerZIndexPortal:JZ,unregisterZIndexPortal:ZZ,registerZIndexPortalElement:QZ,unregisterZIndexPortalElement:eQ}=pL.actions,tQ=pL.reducer;function lo(e){var{zIndex:t,children:n}=e,r=BH(),a=r&&t!==void 0&&t!==0,i=ei(),o=Jn();g.useLayoutEffect(()=>a?(o(JZ({zIndex:t})),()=>{o(ZZ({zIndex:t}))}):Yp,[o,t,a]);var s=Dt(l=>UZ(l,t,i));return a?s?Rd.createPortal(n,s):null:n}function Hw(){return Hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hw.apply(null,arguments)}function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function jh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){nQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nQ(e,t,n){return(t=rQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rQ(e){var t=aQ(e,"string");return typeof t=="symbol"?t:t+""}function aQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iQ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function oQ(e){var t,{coordinate:n,payload:r,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,p=r,m=a;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var h,v,x;if(d==="ScatterChart")h=f,v=$q,x=fa.cursorLine;else if(d==="BarChart")h=Bq(s,f,i,o),v=oI,x=fa.cursorRectangle;else if(s==="radial"&&kO(f)){var{cx:y,cy:b,radius:w,startAngle:S,endAngle:j}=lI(f);h={cx:y,cy:b,startAngle:S,endAngle:j,innerRadius:w,outerRadius:w},v=uI,x=fa.cursorLine}else h={points:EK(s,f,i)},v=hS,x=fa.cursorLine;var N=typeof l=="object"&&"className"in l?l.className:void 0,A=jh(jh(jh(jh({stroke:"#ccc",pointerEvents:"none"},i),h),wd(l)),{},{payload:p,payloadIndex:m,className:Pn("recharts-tooltip-cursor",N)});return g.createElement(lo,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:x},g.createElement(iQ,{cursor:l,cursorComp:v,cursorProps:A}))}function sQ(e){var t=CZ(),n=V4(),r=em(),a=OZ();return t==null||n==null||r==null||a==null?null:g.createElement(oQ,Hw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:a}))}var mL=g.createContext(null),lQ=()=>g.useContext(mL),hL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function a(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function i(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||l,p),h=n?n+u:u;return l._events[h]?l._events[h].fn?l._events[h]=[l._events[h],m]:l._events[h].push(m):(l._events[h]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var l=[],u,d;if(this._eventsCount===0)return l;for(d in u=this._events)t.call(u,d)&&l.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(u)):l},s.prototype.listeners=function(l){var u=n?n+l:l,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,p=d.length,m=new Array(p);f<p;f++)m[f]=d[f].fn;return m},s.prototype.listenerCount=function(l){var u=n?n+l:l,d=this._events[u];return d?d.fn?1:d.length:0},s.prototype.emit=function(l,u,d,f,p,m){var h=n?n+l:l;if(!this._events[h])return!1;var v=this._events[h],x=arguments.length,y,b;if(v.fn){switch(v.once&&this.removeListener(l,v.fn,void 0,!0),x){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,p),!0;case 6:return v.fn.call(v.context,u,d,f,p,m),!0}for(b=1,y=new Array(x-1);b<x;b++)y[b-1]=arguments[b];v.fn.apply(v.context,y)}else{var w=v.length,S;for(b=0;b<w;b++)switch(v[b].once&&this.removeListener(l,v[b].fn,void 0,!0),x){case 1:v[b].fn.call(v[b].context);break;case 2:v[b].fn.call(v[b].context,u);break;case 3:v[b].fn.call(v[b].context,u,d);break;case 4:v[b].fn.call(v[b].context,u,d,f);break;default:if(!y)for(S=1,y=new Array(x-1);S<x;S++)y[S-1]=arguments[S];v[b].fn.apply(v[b].context,y)}}return!0},s.prototype.on=function(l,u,d){return i(this,l,u,d,!1)},s.prototype.once=function(l,u,d){return i(this,l,u,d,!0)},s.prototype.removeListener=function(l,u,d,f){var p=n?n+l:l;if(!this._events[p])return this;if(!u)return o(this,p),this;var m=this._events[p];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&o(this,p);else{for(var h=0,v=[],x=m.length;h<x;h++)(m[h].fn!==u||f&&!m[h].once||d&&m[h].context!==d)&&v.push(m[h]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},s.prototype.removeAllListeners=function(l){var u;return l?(u=n?n+l:l,this._events[u]&&o(this,u)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s})(hL);var cQ=hL.exports;const uQ=To(cQ);var _p=new uQ,qw="recharts.syncEvent.tooltip",WA="recharts.syncEvent.brush";function gL(e,t){if(t){var n=Number.parseInt(t,10);if(!no(n))return e==null?void 0:e[n]}}var dQ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yL=hi({name:"options",initialState:dQ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),fQ=yL.reducer,{createEventEmitter:pQ}=yL.actions;function mQ(e){return e.tooltip.syncInteraction}var hQ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vL=hi({name:"chartData",initialState:hQ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:HA,setDataStartEndIndexes:gQ,setComputedData:bye}=vL.actions,yQ=vL.reducer,vQ=["x","y"];function qA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Tu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qA(Object(n),!0).forEach(function(r){bQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bQ(e,t,n){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xQ(e){var t=wQ(e,"string");return typeof t=="symbol"?t:t+""}function wQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kQ(e,t){if(e==null)return{};var n,r,a=SQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function SQ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function NQ(){var e=Dt(WS),t=Dt(HS),n=Jn(),r=Dt(c_),a=Dt(Qs),i=em(),o=Qp(),s=Dt(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return Yp;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var p;if(o&&d!==null&&d!==void 0&&(p=d.payload)!==null&&p!==void 0&&p.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:h,y:v}=m,x=kQ(m,vQ),{x:y,y:b,width:w,height:S}=d.payload.sourceViewBox,j=Tu(Tu({},x),{},{x:o.x+(w?(h-y)/w:0)*o.width,y:o.y+(S?(v-b)/S:0)*o.height});n(Tu(Tu({},d),{},{payload:Tu(Tu({},d.payload),{},{coordinate:j})}))}else n(d);return}if(a!=null){var N;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},P=r(a,A);N=a[P]}else r==="value"&&(N=a.find(je=>String(je.value)===d.payload.label));var{coordinate:U}=d.payload;if(N==null||d.payload.active===!1||U==null||o==null){n(Vw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:I}=U,O=Math.min(D,o.x+o.width),H=Math.min(I,o.y+o.height),J={x:i==="horizontal"?N.coordinate:O,y:i==="horizontal"?H:N.coordinate},oe=Vw({active:d.payload.active,coordinate:J,dataKey:d.payload.dataKey,index:String(N.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(oe)}}};return _p.on(qw,l),()=>{_p.off(qw,l)}},[s,n,t,e,r,a,i,o])}function jQ(){var e=Dt(WS),t=Dt(HS),n=Jn();g.useEffect(()=>{if(e==null)return Yp;var r=(a,i,o)=>{t!==o&&e===a&&n(gQ(i))};return _p.on(WA,r),()=>{_p.off(WA,r)}},[n,t,e])}function CQ(){var e=Jn();g.useEffect(()=>{e(pQ())},[e]),NQ(),jQ()}function MQ(e,t,n,r,a,i){var o=Dt(m=>_Z(m,e,t)),s=Dt(HS),l=Dt(WS),u=Dt(c_),d=Dt(mQ),f=d==null?void 0:d.active,p=Qp();g.useEffect(()=>{if(!f&&l!=null&&s!=null){var m=Vw({active:i,coordinate:n,dataKey:o,index:a,label:typeof r=="number"?String(r):r,sourceViewBox:p,graphicalItemId:void 0});_p.emit(qw,l,m,s)}},[f,n,o,a,r,s,l,u,i,p])}function KA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function GA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?KA(Object(n),!0).forEach(function(r){AQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AQ(e,t,n){return(t=EQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EQ(e){var t=DQ(e,"string");return typeof t=="symbol"?t:t+""}function DQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PQ(e){return e.dataKey}function TQ(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(vq,t)}var YA=[],OQ={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Eo(e){var t,n,r=qr(e,OQ),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:p,position:m,reverseDirection:h,useTranslate3d:v,wrapperStyle:x,cursor:y,shared:b,trigger:w,defaultIndex:S,portal:j,axisId:N}=r,A=Jn(),P=typeof S=="number"?String(S):S;g.useEffect(()=>{A(EJ({shared:b,trigger:w,axisId:N,active:a,defaultIndex:P}))},[A,b,w,N,a,P]);var U=Qp(),D=tI(),I=SJ(b),{activeIndex:O,isActive:H}=(t=Dt(se=>RZ(se,I,w,P)))!==null&&t!==void 0?t:{},J=Dt(se=>FZ(se,I,w,P)),oe=Dt(se=>fL(se,I,w,P)),je=Dt(se=>LZ(se,I,w,P)),te=J,W=lQ(),le=(n=a??H)!==null&&n!==void 0?n:!1,[k,F]=QO([te,le]),T=I==="axis"?oe:void 0;MQ(I,w,je,T,O,le);var C=j??W;if(C==null||U==null||I==null)return null;var B=te??YA;le||(B=YA),u&&B.length&&(B=zO(B.filter(se=>se.value!=null&&(se.hide!==!0||r.includeHidden)),p,PQ));var R=B.length>0,G=g.createElement(jq,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:le,coordinate:je,hasPayload:R,offset:f,position:m,reverseDirection:h,useTranslate3d:v,viewBox:U,wrapperStyle:x,lastBoundingBox:k,innerRef:F,hasPortalFromProps:!!j},TQ(l,GA(GA({},r),{},{payload:B,label:T,active:le,activeIndex:O,coordinate:je,accessibilityLayer:D})));return g.createElement(g.Fragment,null,Rd.createPortal(G,C),le&&g.createElement(sQ,{cursor:y,tooltipEventType:I,coordinate:je,payload:B,index:O}))}var Pd=e=>null;Pd.displayName="Cell";function IQ(e,t,n){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _Q(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class FQ{constructor(t){IQ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function XA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function RQ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(n),!0).forEach(function(r){$Q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $Q(e,t,n){return(t=BQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BQ(e){var t=zQ(e,"string");return typeof t=="symbol"?t:t+""}function zQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UQ={cacheSize:2e3,enableCache:!0},bL=RQ({},UQ),JA=new FQ(bL.cacheSize),VQ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},ZA="recharts_measurement_span";function WQ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var QA=(e,t)=>{try{var n=document.getElementById(ZA);n||(n=document.createElement("span"),n.setAttribute("id",ZA),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,VQ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},qf=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fy.isSsr)return{width:0,height:0};if(!bL.enableCache)return QA(e,t);var n=WQ(e,t),r=JA.get(n);if(r)return r;var a=QA(e,t);return JA.set(n,a),a},xL;function HQ(e,t,n){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var e5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t5=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GQ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YQ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,XQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},JQ=["cm","mm","pt","pc","in","Q","px"];function ZQ(e){return JQ.includes(e)}var Ju="NaN";function QQ(e,t){return e*XQ[t]}class ja{static parse(t){var n,[,r,a]=(n=YQ.exec(t))!==null&&n!==void 0?n:[];return r==null?ja.NaN:new ja(parseFloat(r),a??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,no(t)&&(this.unit=""),n!==""&&!GQ.test(n)&&(this.num=NaN,this.unit=""),ZQ(n)&&(this.num=QQ(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ja(NaN,""):new ja(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ja(NaN,""):new ja(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ja(NaN,""):new ja(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ja(NaN,""):new ja(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return no(this.num)}}xL=ja;HQ(ja,"NaN",new xL(NaN,""));function wL(e){if(e==null||e.includes(Ju))return Ju;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,a,i]=(n=e5.exec(t))!==null&&n!==void 0?n:[],o=ja.parse(r??""),s=ja.parse(i??""),l=a==="*"?o.multiply(s):o.divide(s);if(l.isNaN())return Ju;t=t.replace(e5,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,p]=(u=t5.exec(t))!==null&&u!==void 0?u:[],m=ja.parse(d??""),h=ja.parse(p??""),v=f==="+"?m.add(h):m.subtract(h);if(v.isNaN())return Ju;t=t.replace(t5,v.toString())}return t}var n5=/\(([^()]*)\)/;function eee(e){for(var t=e,n;(n=n5.exec(t))!=null;){var[,r]=n;t=t.replace(n5,wL(r))}return t}function tee(e){var t=e.replace(/\s+/g,"");return t=eee(t),t=wL(t),t}function nee(e){try{return tee(e)}catch{return Ju}}function Nb(e){var t=nee(e.slice(5,-1));return t===Ju?"":t}var ree=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],aee=["dx","dy","angle","className","breakAll"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(null,arguments)}function r5(e,t){if(e==null)return{};var n,r,a=iee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function iee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var kL=/[ \f\n\r\t\v\u2028\u2029]+/,SL=e=>{var{children:t,breakAll:n,style:r}=e;try{var a=[];ea(t)||(n?a=t.toString().split(""):a=t.toString().split(kL));var i=a.map(s=>({word:s,width:qf(s,r).width})),o=n?0:qf("",r).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function oee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var NL=(e,t,n,r)=>e.reduce((a,i)=>{var{word:o,width:s}=i,l=a[a.length-1];if(l&&s!=null&&(t==null||r||l.width+s+n<Number(t)))l.words.push(o),l.width+=s+n;else{var u={words:[o],width:s};a.push(u)}return a},[]),jL=e=>e.reduce((t,n)=>t.width>n.width?t:n),see="",a5=(e,t,n,r,a,i,o,s)=>{var l=e.slice(0,t),u=SL({breakAll:n,style:r,children:l+see});if(!u)return[!1,[]];var d=NL(u.wordsWithComputedWidth,i,o,s),f=d.length>a||jL(d).width>Number(i);return[f,d]},lee=(e,t,n,r,a)=>{var{maxLines:i,children:o,style:s,breakAll:l}=e,u=Rt(i),d=String(o),f=NL(t,r,n,a);if(!u||a)return f;var p=f.length>i||jL(f).width>Number(r);if(!p)return f;for(var m=0,h=d.length-1,v=0,x;m<=h&&v<=d.length-1;){var y=Math.floor((m+h)/2),b=y-1,[w,S]=a5(d,b,l,s,i,r,n,a),[j]=a5(d,y,l,s,i,r,n,a);if(!w&&!j&&(m=y+1),w&&j&&(h=y-1),!w&&j){x=S;break}v++}return x||f},i5=e=>{var t=ea(e)?[]:e.toString().split(kL);return[{words:t,width:void 0}]},cee=e=>{var{width:t,scaleToFit:n,children:r,style:a,breakAll:i,maxLines:o}=e;if((t||n)&&!Fy.isSsr){var s,l,u=SL({breakAll:i,children:r,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,l=f}else return i5(r);return lee({breakAll:i,children:r,maxLines:o,style:a},s,l,t,!!n)}return i5(r)},CL="#808080",uee={angle:0,breakAll:!1,capHeight:"0.71em",fill:CL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ev=g.forwardRef((e,t)=>{var n=qr(e,uee),{x:r,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=r5(n,ree),p=g.useMemo(()=>cee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:h,angle:v,className:x,breakAll:y}=f,b=r5(f,aee);if(!ro(r)||!ro(a)||p.length===0)return null;var w=Number(r)+(Rt(m)?m:0),S=Number(a)+(Rt(h)?h:0);if(!mr(w)||!mr(S))return null;var j;switch(d){case"start":j=Nb("calc(".concat(o,")"));break;case"middle":j=Nb("calc(".concat((p.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=Nb("calc(".concat(p.length-1," * -").concat(i,")"));break}var N=[];if(l){var A=p[0].width,{width:P}=f;N.push("scale(".concat(Rt(P)&&Rt(A)?P/A:1,")"))}return v&&N.push("rotate(".concat(v,", ").concat(w,", ").concat(S,")")),N.length&&(b.transform=N.join(" ")),g.createElement("text",Kw({},za(b),{ref:t,x:w,y:S,className:Pn("recharts-text",x),textAnchor:u,fill:s.includes("url")?CL:s}),p.map((U,D)=>{var I=U.words.join(y?"":" ");return g.createElement("tspan",{x:w,dy:D===0?j:i,key:"".concat(I,"-").concat(D)},I)}))});ev.displayName="Text";var dee=["labelRef"],fee=["content"];function o5(e,t){if(e==null)return{};var n,r,a=pee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function pee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function s5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s5(Object(n),!0).forEach(function(r){mee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mee(e,t,n){return(t=hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hee(e){var t=gee(e,"string");return typeof t=="symbol"?t:t+""}function gee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss.apply(null,arguments)}var ML=g.createContext(null),AL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o,children:s}=e,l=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:a,width:i,height:o}),[t,n,r,a,i,o]);return g.createElement(ML.Provider,{value:l},s)},EL=()=>{var e=g.useContext(ML),t=Qp();return e||U4(t)},yee=g.createContext(null),vee=()=>{var e=g.useContext(yee),t=Dt(m_);return e||t},bee=e=>{var{value:t,formatter:n}=e,r=ea(e.children)?t:e.children;return typeof n=="function"?n(r):r},CN=e=>e!=null&&typeof e=="function",xee=(e,t)=>{var n=Ra(t-e),r=Math.min(Math.abs(t-e),360);return n*r},wee=(e,t,n,r,a)=>{var{offset:i,className:o}=e,{cx:s,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:p,clockWise:m}=a,h=(u+d)/2,v=xee(f,p),x=v>=0?1:-1,y,b;switch(t){case"insideStart":y=f+x*i,b=m;break;case"insideEnd":y=p-x*i,b=!m;break;case"end":y=p+x*i,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var w=Wr(s,l,h,y),S=Wr(s,l,h,y+(b?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(h,",").concat(h,",0,1,").concat(b?0:1,`,
    `).concat(S.x,",").concat(S.y),N=ea(e.id)?kp("recharts-radial-line-"):e.id;return g.createElement("text",Ss({},r,{dominantBaseline:"central",className:Pn("recharts-radial-bar-label",o)}),g.createElement("defs",null,g.createElement("path",{id:N,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(N)},n))},kee=(e,t,n)=>{var{cx:r,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:l}=e,u=(s+l)/2;if(n==="outside"){var{x:d,y:f}=Wr(r,a,o+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:a,textAnchor:"middle",verticalAnchor:"end"};var p=(i+o)/2,{x:m,y:h}=Wr(r,a,p,u);return{x:m,y:h,textAnchor:"middle",verticalAnchor:"middle"}},Gw=e=>"cx"in e&&Rt(e.cx),See=(e,t)=>{var{parentViewBox:n,offset:r,position:a}=e,i;n!=null&&!Gw(n)&&(i=n);var{x:o,y:s,upperWidth:l,lowerWidth:u,height:d}=t,f=o,p=o+(l-u)/2,m=(f+p)/2,h=(l+u)/2,v=f+l/2,x=d>=0?1:-1,y=x*r,b=x>0?"end":"start",w=x>0?"start":"end",S=l>=0?1:-1,j=S*r,N=S>0?"end":"start",A=S>0?"start":"end";if(a==="top"){var P={x:f+l/2,y:s-y,textAnchor:"middle",verticalAnchor:b};return Ir(Ir({},P),i?{height:Math.max(s-i.y,0),width:l}:{})}if(a==="bottom"){var U={x:p+u/2,y:s+d+y,textAnchor:"middle",verticalAnchor:w};return Ir(Ir({},U),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var D={x:m-j,y:s+d/2,textAnchor:N,verticalAnchor:"middle"};return Ir(Ir({},D),i?{width:Math.max(D.x-i.x,0),height:d}:{})}if(a==="right"){var I={x:m+h+j,y:s+d/2,textAnchor:A,verticalAnchor:"middle"};return Ir(Ir({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:d}:{})}var O=i?{width:h,height:d}:{};return a==="insideLeft"?Ir({x:m+j,y:s+d/2,textAnchor:A,verticalAnchor:"middle"},O):a==="insideRight"?Ir({x:m+h-j,y:s+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideTop"?Ir({x:f+l/2,y:s+y,textAnchor:"middle",verticalAnchor:w},O):a==="insideBottom"?Ir({x:p+u/2,y:s+d-y,textAnchor:"middle",verticalAnchor:b},O):a==="insideTopLeft"?Ir({x:f+j,y:s+y,textAnchor:A,verticalAnchor:w},O):a==="insideTopRight"?Ir({x:f+l-j,y:s+y,textAnchor:N,verticalAnchor:w},O):a==="insideBottomLeft"?Ir({x:p+j,y:s+d-y,textAnchor:A,verticalAnchor:b},O):a==="insideBottomRight"?Ir({x:p+u-j,y:s+d-y,textAnchor:N,verticalAnchor:b},O):a&&typeof a=="object"&&(Rt(a.x)||$s(a.x))&&(Rt(a.y)||$s(a.y))?Ir({x:o+Zi(a.x,h),y:s+Zi(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):Ir({x:v,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},Nee={angle:0,offset:5,zIndex:fa.label,position:"middle",textBreakAll:!1};function kl(e){var t=qr(e,Nee),{viewBox:n,position:r,value:a,children:i,content:o,className:s="",textBreakAll:l,labelRef:u}=t,d=vee(),f=EL(),p=r==="center"?f:d??f,m,h,v;if(n==null?m=p:Gw(n)?m=n:m=U4(n),!m||ea(a)&&ea(i)&&!g.isValidElement(o)&&typeof o!="function")return null;var x=Ir(Ir({},t),{},{viewBox:m});if(g.isValidElement(o)){var{labelRef:y}=x,b=o5(x,dee);return g.cloneElement(o,b)}if(typeof o=="function"){var{content:w}=x,S=o5(x,fee);if(h=g.createElement(o,S),g.isValidElement(h))return h}else h=bee(t);var j=za(t);if(Gw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return wee(t,r,h,j,m);v=kee(m,t.offset,t.position)}else v=See(t,m);return g.createElement(lo,{zIndex:t.zIndex},g.createElement(ev,Ss({ref:u,className:Pn("recharts-label",s)},j,v,{textAnchor:oee(j.textAnchor)?j.textAnchor:v.textAnchor,breakAll:l}),h))}kl.displayName="Label";var jee=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(kl,Ss({key:"label-implicit"},r)):ro(e)?g.createElement(kl,Ss({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===kl?g.cloneElement(e,Ir({key:"label-implicit"},r)):g.createElement(kl,Ss({key:"label-implicit",content:e},r)):CN(e)?g.createElement(kl,Ss({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(kl,Ss({},e,{key:"label-implicit"},r)):null};function DL(e){var{label:t,labelRef:n}=e,r=EL();return jee(t,r,n)||null}var PL={},TL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(TL);var OL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(OL);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TL,n=OL,r=hy;function a(i){if(r.isArrayLike(i))return t.last(n.toArray(i))}e.last=a})(PL);var Cee=PL.last;const Mee=To(Cee);var Aee=["valueAccessor"],Eee=["dataKey","clockWise","id","textBreakAll","zIndex"];function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x0.apply(null,arguments)}function l5(e,t){if(e==null)return{};var n,r,a=Dee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Dee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Pee=e=>Array.isArray(e.value)?Mee(e.value):e.value,IL=g.createContext(void 0),Tee=IL.Provider,_L=g.createContext(void 0),Oee=_L.Provider;function Iee(){return g.useContext(IL)}function _ee(){return g.useContext(_L)}function tg(e){var{valueAccessor:t=Pee}=e,n=l5(e,Aee),{dataKey:r,clockWise:a,id:i,textBreakAll:o,zIndex:s}=n,l=l5(n,Eee),u=Iee(),d=_ee(),f=u||d;return!f||!f.length?null:g.createElement(lo,{zIndex:s??fa.label},g.createElement(Xa,{className:"recharts-label-list"},f.map((p,m)=>{var h,v=ea(r)?t(p,m):cr(p&&p.payload,r),x=ea(i)?{}:{id:"".concat(i,"-").concat(m)};return g.createElement(kl,x0({key:"label-".concat(m)},za(p),l,x,{fill:(h=n.fill)!==null&&h!==void 0?h:p.fill,parentViewBox:p.parentViewBox,value:v,textBreakAll:o,viewBox:p.viewBox,index:m,zIndex:0}))})))}tg.displayName="LabelList";function LL(e){var{label:t}=e;return t?t===!0?g.createElement(tg,{key:"labelList-implicit"}):g.isValidElement(t)||CN(t)?g.createElement(tg,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(tg,x0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(null,arguments)}var FL=e=>{var{cx:t,cy:n,r,className:a}=e,i=Pn("recharts-dot",a);return Rt(t)&&Rt(n)&&Rt(r)?g.createElement("circle",Yw({},to(e),Hk(e),{className:i,cx:t,cy:n,r})):null},RL=e=>e.graphicalItems.polarItems,Lee=xe([gr,sm],JS),tv=xe([RL,Nr,Lee],ZS),Fee=xe([tv],QS),nv=xe([Fee,$S],eN),Ree=xe([nv,Nr,tv],nN);xe([nv,Nr,tv],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(a=>{var i,o=cr(r,(i=t.dataKey)!==null&&i!==void 0?i:a.dataKey);return{value:o,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:cr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var c5=()=>{},$ee=xe([nv,Nr,tv,Jy,gr],oN),Bee=xe([Nr,aN,iN,c5,$ee,c5,Kn,gr],sN),$L=xe([Nr,Kn,nv,Ree,om,gr,Bee],lN),zee=xe([$L,Nr,Wd],dN);xe([Nr,$L,zee,gr],pN);var Uee={radiusAxis:{},angleAxis:{}},BL=hi({name:"polarAxis",initialState:Uee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:xye,removeRadiusAxis:wye,addAngleAxis:kye,removeAngleAxis:Sye}=BL.actions,Vee=BL.reducer;function u5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function d5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u5(Object(n),!0).forEach(function(r){Wee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wee(e,t,n){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kee=(e,t)=>t,MN=xe([RL,Kee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Gee=[],AN=(e,t,n)=>(n==null?void 0:n.length)===0?Gee:n,zL=xe([$S,MN,AN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var a;if((t==null?void 0:t.data)!=null&&t.data.length>0?a=t.data:a=r,(!a||!a.length)&&n!=null&&(a=n.map(i=>d5(d5({},t.presentationProps),i.props))),a!=null)return a}}),Yee=xe([zL,MN,AN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,a)=>{var i,o=cr(r,t.nameKey,t.name),s;return n!=null&&(i=n[a])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?s=n[a].props.fill:typeof r=="object"&&r!=null&&"fill"in r?s=r.fill:s=t.fill,{value:Ay(o,t.dataKey),color:s,payload:r,type:t.legendType}})}),Xee=xe([zL,MN,AN,ha],(e,t,n,r)=>{if(!(t==null||e==null))return cne({offset:r,pieSettings:t,displayedData:e,cells:n})}),UL={exports:{}},Zn={};/** @license React v17.0.2
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var rv=60103,av=60106,hm=60107,gm=60108,ym=60114,vm=60109,bm=60110,xm=60112,wm=60113,EN=60120,km=60115,Sm=60116,VL=60121,WL=60122,HL=60117,qL=60129,KL=60131;if(typeof Symbol=="function"&&Symbol.for){var ka=Symbol.for;rv=ka("react.element"),av=ka("react.portal"),hm=ka("react.fragment"),gm=ka("react.strict_mode"),ym=ka("react.profiler"),vm=ka("react.provider"),bm=ka("react.context"),xm=ka("react.forward_ref"),wm=ka("react.suspense"),EN=ka("react.suspense_list"),km=ka("react.memo"),Sm=ka("react.lazy"),VL=ka("react.block"),WL=ka("react.server.block"),HL=ka("react.fundamental"),qL=ka("react.debug_trace_mode"),KL=ka("react.legacy_hidden")}function Io(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case rv:switch(e=e.type,e){case hm:case ym:case gm:case wm:case EN:return e;default:switch(e=e&&e.$$typeof,e){case bm:case xm:case Sm:case km:case vm:return e;default:return t}}case av:return t}}}var Jee=vm,Zee=rv,Qee=xm,ete=hm,tte=Sm,nte=km,rte=av,ate=ym,ite=gm,ote=wm;Zn.ContextConsumer=bm;Zn.ContextProvider=Jee;Zn.Element=Zee;Zn.ForwardRef=Qee;Zn.Fragment=ete;Zn.Lazy=tte;Zn.Memo=nte;Zn.Portal=rte;Zn.Profiler=ate;Zn.StrictMode=ite;Zn.Suspense=ote;Zn.isAsyncMode=function(){return!1};Zn.isConcurrentMode=function(){return!1};Zn.isContextConsumer=function(e){return Io(e)===bm};Zn.isContextProvider=function(e){return Io(e)===vm};Zn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===rv};Zn.isForwardRef=function(e){return Io(e)===xm};Zn.isFragment=function(e){return Io(e)===hm};Zn.isLazy=function(e){return Io(e)===Sm};Zn.isMemo=function(e){return Io(e)===km};Zn.isPortal=function(e){return Io(e)===av};Zn.isProfiler=function(e){return Io(e)===ym};Zn.isStrictMode=function(e){return Io(e)===gm};Zn.isSuspense=function(e){return Io(e)===wm};Zn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===hm||e===ym||e===qL||e===gm||e===wm||e===EN||e===KL||typeof e=="object"&&e!==null&&(e.$$typeof===Sm||e.$$typeof===km||e.$$typeof===vm||e.$$typeof===bm||e.$$typeof===xm||e.$$typeof===HL||e.$$typeof===VL||e[0]===WL)};Zn.typeOf=Io;UL.exports=Zn;var ste=UL.exports,f5=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",p5=null,jb=null,GL=e=>{if(e===p5&&Array.isArray(jb))return jb;var t=[];return g.Children.forEach(e,n=>{ea(n)||(ste.isFragment(n)?t=t.concat(GL(n.props.children)):t.push(n))}),jb=t,p5=e,t};function YL(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(a=>f5(a)):r=[f5(t)],GL(e).forEach(a=>{var i=Qc(a,"type.displayName")||Qc(a,"type.name");i&&r.indexOf(i)!==-1&&n.push(a)}),n}var XL=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,JL={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!((r=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&r.writable)?!1:n.toString()===`[object ${i}]`}let a=n;for(;Object.getPrototypeOf(a)!==null;)a=Object.getPrototypeOf(a);return Object.getPrototypeOf(n)===a}e.isPlainObject=t})(JL);var lte=JL.isPlainObject;const cte=To(lte);var m5,h5,g5,y5,v5;function b5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function x5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b5(Object(n),!0).forEach(function(r){ute(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ute(e,t,n){return(t=dte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dte(e){var t=fte(e,"string");return typeof t=="symbol"?t:t+""}function fte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w0.apply(null,arguments)}function kf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var w5=(e,t,n,r,a)=>{var i=n-r,o;return o=Cr(m5||(m5=kf(["M ",",",""])),e,t),o+=Cr(h5||(h5=kf(["L ",",",""])),e+n,t),o+=Cr(g5||(g5=kf(["L ",",",""])),e+n-i/2,t+a),o+=Cr(y5||(y5=kf(["L ",",",""])),e+n-i/2-r,t+a),o+=Cr(v5||(v5=kf(["L ",","," Z"])),e,t),o},pte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},mte=e=>{var t=qr(e,pte),{x:n,y:r,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,p=g.useRef(null),[m,h]=g.useState(-1),v=g.useRef(a),x=g.useRef(i),y=g.useRef(o),b=g.useRef(n),w=g.useRef(r),S=$y(e,"trapezoid-");if(g.useEffect(()=>{if(p.current&&p.current.getTotalLength)try{var J=p.current.getTotalLength();J&&h(J)}catch{}},[]),n!==+n||r!==+r||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=Pn("recharts-trapezoid",s);if(!f)return g.createElement("g",null,g.createElement("path",w0({},za(t),{className:j,d:w5(n,r,a,i,o)})));var N=v.current,A=x.current,P=y.current,U=b.current,D=w.current,I="0px ".concat(m===-1?1:m,"px"),O="".concat(m,"px 0px"),H=nI(["strokeDasharray"],u,l);return g.createElement(Ry,{animationId:S,key:S,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},J=>{var oe=Fa(N,a,J),je=Fa(A,i,J),te=Fa(P,o,J),W=Fa(U,n,J),le=Fa(D,r,J);p.current&&(v.current=oe,x.current=je,y.current=te,b.current=W,w.current=le);var k=J>0?{transition:H,strokeDasharray:O}:{strokeDasharray:I};return g.createElement("path",w0({},za(t),{className:j,d:w5(W,le,oe,je,te),ref:p,style:x5(x5({},k),t.style)}))})},hte=["option","shapeType","activeClassName"];function gte(e,t){if(e==null)return{};var n,r,a=yte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function yte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function k5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function k0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k5(Object(n),!0).forEach(function(r){vte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vte(e,t,n){return(t=bte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bte(e){var t=xte(e,"string");return typeof t=="symbol"?t:t+""}function xte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wte(e,t){return k0(k0({},t),e)}function kte(e,t){return e==="symbols"}function S5(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(oI,n);case"trapezoid":return g.createElement(mte,n);case"sector":return g.createElement(uI,n);case"symbols":if(kte(t))return g.createElement(Wk,n);break;case"curve":return g.createElement(hS,n);default:return null}}function Ste(e){return g.isValidElement(e)?e.props:e}function ZL(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,a=gte(e,hte),i;if(g.isValidElement(t))i=g.cloneElement(t,k0(k0({},a),Ste(t)));else if(typeof t=="function")i=t(a,a.index);else if(cte(t)&&typeof t!="boolean"){var o=wte(t,a);i=g.createElement(S5,{shapeType:n,elementProps:o})}else{var s=a;i=g.createElement(S5,{shapeType:n,elementProps:s})}return a.isActive?g.createElement(Xa,{className:r},i):i}var Nte=(e,t,n)=>{var r=Jn();return(a,i)=>o=>{e==null||e(a,i,o),r(K_({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}},jte=e=>{var t=Jn();return(n,r)=>a=>{e==null||e(n,r,a),t(DJ())}},Cte=(e,t,n)=>{var r=Jn();return(a,i)=>o=>{e==null||e(a,i,o),r(PJ({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:n}))}};function QL(e){var{tooltipEntrySettings:t}=e,n=Jn(),r=ei(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(CJ(t)):a.current!==t&&n(MJ({prev:a.current,next:t})),a.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{a.current&&(n(AJ(a.current)),a.current=null)},[n]),null}function Mte(e){var{legendPayload:t}=e,n=Jn(),r=ei(),a=g.useRef(null);return g.useLayoutEffect(()=>{r||(a.current===null?n(J4(t)):a.current!==t&&n(Z4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(Q4(a.current)),a.current=null)},[n]),null}function Ate(e){var{legendPayload:t}=e,n=Jn(),r=Dt(Kn),a=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(a.current===null?n(J4(t)):a.current!==t&&n(Z4({prev:a.current,next:t})),a.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{a.current&&(n(Q4(a.current)),a.current=null)},[n]),null}var Cb,Ete=()=>{var[e]=g.useState(()=>kp("uid-"));return e},Dte=(Cb=zB.useId)!==null&&Cb!==void 0?Cb:Ete;function Pte(e,t){var n=Dte();return t||(e?"".concat(e,"-").concat(n):n)}var Tte=g.createContext(void 0),eF=e=>{var{id:t,type:n,children:r}=e,a=Pte("recharts-".concat(n),t);return g.createElement(Tte.Provider,{value:a},r(a))},Ote={cartesianItems:[],polarItems:[]},tF=hi({name:"graphicalItems",initialState:Ote,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:fr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,a=So(e).cartesianItems.indexOf(n);a>-1&&(e.cartesianItems[a]=r)},prepare:fr()},removeCartesianGraphicalItem:{reducer(e,t){var n=So(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:fr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:fr()},removePolarGraphicalItem:{reducer(e,t){var n=So(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:fr()}}}),{addCartesianGraphicalItem:Ite,replaceCartesianGraphicalItem:_te,removeCartesianGraphicalItem:Lte,addPolarGraphicalItem:Fte,removePolarGraphicalItem:Rte}=tF.actions,$te=tF.reducer,Bte=e=>{var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Ite(e)):n.current!==e&&t(_te({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Lte(n.current)),n.current=null)},[t]),null},zte=g.memo(Bte);function Ute(e){var t=Jn();return g.useLayoutEffect(()=>(t(Fte(e)),()=>{t(Rte(e))}),[t,e]),null}var Vte=["key"],Wte=["onMouseEnter","onClick","onMouseLeave"],Hte=["id"],qte=["id"];function N5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N5(Object(n),!0).forEach(function(r){Kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kte(e,t,n){return(t=Gte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gte(e){var t=Yte(e,"string");return typeof t=="symbol"?t:t+""}function Yte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hl(){return Hl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hl.apply(null,arguments)}function iv(e,t){if(e==null)return{};var n,r,a=Xte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Xte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Jte(e){var t=g.useMemo(()=>YL(e.children,Pd),[e.children]),n=Dt(r=>Yee(r,e.id,t));return n==null?null:g.createElement(Ate,{legendPayload:n})}var Zte=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:a,strokeWidth:i,fill:o,name:s,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(p=>p.tooltipPayload),positions:r.map(p=>p.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,dataKey:t,nameKey:n,name:Ay(s,t),hide:l,type:u,color:o,unit:"",graphicalItemId:d}};return g.createElement(QL,{tooltipEntrySettings:f})}),Qte=(e,t)=>e>t?"start":e<t?"end":"middle",ene=(e,t,n)=>Zi(typeof t=="function"?t(e):t,n,n*.8),tne=(e,t,n)=>{var{top:r,left:a,width:i,height:o}=t,s=sI(i,o),l=a+Zi(e.cx,i,i/2),u=r+Zi(e.cy,o,o/2),d=Zi(e.innerRadius,s,0),f=ene(n,e.outerRadius,s),p=e.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:p}},nne=(e,t)=>{var n=Ra(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function rne(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ane=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=Pn("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,a=iv(t,Vte);return g.createElement(hS,Hl({},a,{type:"linear",className:n}))},ine=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var a=Pn("recharts-pie-label-text",rne(e));return g.createElement(ev,Hl({},t,{alignmentBaseline:"middle",className:a}),r)};function one(e){var{sectors:t,props:n,showLabels:r}=e,{label:a,labelLine:i,dataKey:o}=n;if(!r||!a||!t)return null;var s=to(n),l=wd(a),u=wd(i),d=typeof a=="object"&&"offsetRadius"in a&&typeof a.offsetRadius=="number"&&a.offsetRadius||20,f=t.map((p,m)=>{var h=(p.startAngle+p.endAngle)/2,v=Wr(p.cx,p.cy,p.outerRadius+d,h),x=Ar(Ar(Ar(Ar({},s),p),{},{stroke:"none"},l),{},{index:m,textAnchor:Qte(v.x,p.cx)},v),y=Ar(Ar(Ar(Ar({},s),p),{},{fill:"none",stroke:p.fill},u),{},{index:m,points:[Wr(p.cx,p.cy,p.outerRadius,h),v],key:"line"});return g.createElement(lo,{zIndex:fa.label,key:"label-".concat(p.startAngle,"-").concat(p.endAngle,"-").concat(p.midAngle,"-").concat(m)},g.createElement(Xa,null,i&&ane(i,y),ine(a,x,cr(p,o))))});return g.createElement(Xa,{className:"recharts-pie-labels"},f)}function sne(e){var{sectors:t,props:n,showLabels:r}=e,{label:a}=n;return typeof a=="object"&&a!=null&&"position"in a?g.createElement(LL,{label:a}):g.createElement(one,{sectors:t,props:n,showLabels:r})}function lne(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:a,shape:i,id:o}=e,s=Dt(Dd),l=Dt(sL),u=Dt(gZ),{onMouseEnter:d,onClick:f,onMouseLeave:p}=a,m=iv(a,Wte),h=Nte(d,a.dataKey,o),v=jte(p),x=Cte(f,a.dataKey,o);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((y,b)=>{if((y==null?void 0:y.startAngle)===0&&(y==null?void 0:y.endAngle)===0&&t.length!==1)return null;var w=u==null||u===o,S=String(b)===s&&(l==null||a.dataKey===l)&&w,j=s?r:null,N=n&&S?n:j,A=Ar(Ar({},y),{},{stroke:y.stroke,tabIndex:-1,[O4]:b,[I4]:o});return g.createElement(Xa,Hl({key:"sector-".concat(y==null?void 0:y.startAngle,"-").concat(y==null?void 0:y.endAngle,"-").concat(y.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},qk(m,y,b),{onMouseEnter:h(y,b),onMouseLeave:v(y,b),onClick:x(y,b)}),g.createElement(ZL,Hl({option:i??N,index:b,shapeType:"sector",isActive:S},A)))}))}function cne(e){var t,{pieSettings:n,displayedData:r,cells:a,offset:i}=e,{cornerRadius:o,startAngle:s,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,p=Math.abs(n.minAngle),m=nne(s,l),h=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,x=r.filter(N=>cr(N,u,0)!==0).length,y=(h>=360?x:x-1)*v,b=h-x*p-y,w=r.reduce((N,A)=>{var P=cr(A,u,0);return N+(Rt(P)?P:0)},0),S;if(w>0){var j;S=r.map((N,A)=>{var P=cr(N,u,0),U=cr(N,d,A),D=tne(n,i,N),I=(Rt(P)?P:0)/w,O,H=Ar(Ar({},N),a&&a[A]&&a[A].props);A?O=j.endAngle+Ra(m)*v*(P!==0?1:0):O=s;var J=O+Ra(m)*((P!==0?p:0)+I*b),oe=(O+J)/2,je=(D.innerRadius+D.outerRadius)/2,te=[{name:U,value:P,payload:H,dataKey:u,type:f,graphicalItemId:n.id}],W=Wr(D.cx,D.cy,je,oe);return j=Ar(Ar(Ar(Ar({},n.presentationProps),{},{percent:I,cornerRadius:typeof o=="string"?parseFloat(o):o,name:U,tooltipPayload:te,midAngle:oe,middleRadius:je,tooltipPosition:W},H),D),{},{value:P,dataKey:u,startAngle:O,endAngle:J,payload:H,paddingAngle:Ra(m)*v}),j})}return S}function une(e){var{showLabels:t,sectors:n,children:r}=e,a=g.useMemo(()=>!t||!n?[]:n.map(i=>({value:i.value,payload:i.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:i.cx,cy:i.cy,innerRadius:i.innerRadius,outerRadius:i.outerRadius,startAngle:i.startAngle,endAngle:i.endAngle,clockWise:!1},fill:i.fill})),[n,t]);return g.createElement(Oee,{value:t?a:void 0},r)}function dne(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:p}=t,m=$y(t,"recharts-pie-"),h=n.current,[v,x]=g.useState(!1),y=g.useCallback(()=>{typeof p=="function"&&p(),x(!1)},[p]),b=g.useCallback(()=>{typeof f=="function"&&f(),x(!0)},[f]);return g.createElement(une,{showLabels:!v,sectors:a},g.createElement(Ry,{animationId:m,begin:o,duration:s,isActive:i,easing:l,onAnimationStart:b,onAnimationEnd:y,key:m},w=>{var S=[],j=a&&a[0],N=j==null?void 0:j.startAngle;return a==null||a.forEach((A,P)=>{var U=h&&h[P],D=P>0?Qc(A,"paddingAngle",0):0;if(U){var I=Fa(U.endAngle-U.startAngle,A.endAngle-A.startAngle,w),O=Ar(Ar({},A),{},{startAngle:N+D,endAngle:N+I+D});S.push(O),N=O.endAngle}else{var{endAngle:H,startAngle:J}=A,oe=Fa(0,H-J,w),je=Ar(Ar({},A),{},{startAngle:N+D,endAngle:N+oe+D});S.push(je),N=je.endAngle}}),n.current=S,g.createElement(Xa,null,g.createElement(lne,{sectors:S,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(sne,{showLabels:!v,sectors:a,props:t}),t.children)}var fne={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:fa.area};function pne(e){var{id:t}=e,n=iv(e,Hte),{hide:r,className:a,rootTabIndex:i}=e,o=g.useMemo(()=>YL(e.children,Pd),[e.children]),s=Dt(d=>Xee(d,t,o)),l=g.useRef(null),u=Pn("recharts-pie",a);return r||s==null?(l.current=null,g.createElement(Xa,{tabIndex:i,className:u})):g.createElement(lo,{zIndex:e.zIndex},g.createElement(Zte,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:s,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(Xa,{tabIndex:i,className:u},g.createElement(dne,{props:Ar(Ar({},n),{},{sectors:s}),previousSectorsRef:l,id:t})))}function S0(e){var t=qr(e,fne),{id:n}=t,r=iv(t,qte),a=to(r);return g.createElement(eF,{id:n,type:"pie"},i=>g.createElement(g.Fragment,null,g.createElement(Ute,{type:"pie",id:i,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:a,maxRadius:t.maxRadius}),g.createElement(Jte,Hl({},r,{id:i})),g.createElement(pne,Hl({},r,{id:i}))))}S0.displayName="Pie";var mne=["points"];function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Mb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(r){hne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hne(e,t,n){return(t=gne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gne(e){var t=yne(e,"string");return typeof t=="symbol"?t:t+""}function yne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(null,arguments)}function vne(e,t){if(e==null)return{};var n,r,a=bne(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xne(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var a=Pn(r,typeof t!="boolean"?t.className:""),i=n??{},{points:o}=i,s=vne(i,mne);return g.createElement(FL,N0({},s,{className:a}))}function wne(e,t){return e==null?!1:t?!0:e.length===1}function kne(e){var{points:t,dot:n,className:r,dotClassName:a,dataKey:i,baseProps:o,needClip:s,clipPathId:l,zIndex:u=fa.scatter}=e;if(!wne(t,n))return null;var d=XL(n),f=n7(n),p=t.map((h,v)=>{var x,y,b=Mb(Mb(Mb({r:3},o),f),{},{index:v,cx:(x=h.x)!==null&&x!==void 0?x:void 0,cy:(y=h.y)!==null&&y!==void 0?y:void 0,dataKey:i,value:h.value,payload:h.payload,points:t});return g.createElement(xne,{key:"dot-".concat(v),option:n,dotProps:b,className:a})}),m={};return s&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(lo,{zIndex:u},g.createElement(Xa,N0({className:r},m),p))}function C5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function M5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C5(Object(n),!0).forEach(function(r){Sne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sne(e,t,n){return(t=Nne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nne(e){var t=jne(e,"string");return typeof t=="symbol"?t:t+""}function jne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cne={xAxis:{},yAxis:{},zAxis:{}},nF=hi({name:"cartesianAxis",initialState:Cne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:fr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:fr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:fr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:fr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:fr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:fr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:fr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:fr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:fr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,a=e.yAxis[n];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&r===i[1]&&r!==a.width&&Math.abs(r-i[0])<=1)return;var o=[...i,r].slice(-3);e.yAxis[n]=M5(M5({},e.yAxis[n]),{},{width:r,widthHistory:o})}}}}),{addXAxis:Mne,replaceXAxis:Ane,removeXAxis:Ene,addYAxis:Dne,replaceYAxis:Pne,removeYAxis:Tne,addZAxis:Nye,replaceZAxis:jye,removeZAxis:Cye,updateYAxisWidth:One}=nF.actions,Ine=nF.reducer,_ne=xe([ha],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Lne=xe([_ne,Xs,Js],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),DN=()=>Dt(Lne),Fne=()=>Dt(wZ);function A5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ab(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?A5(Object(n),!0).forEach(function(r){Rne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rne(e,t,n){return(t=$ne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ne(e){var t=Bne(e,"string");return typeof t=="symbol"?t:t+""}function Bne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zne=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:a,dataKey:i,clipPath:o}=e;if(a===!1||t.x==null||t.y==null)return null;var s={index:n,dataKey:i,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Ab(Ab(Ab({},s),wd(a)),Hk(a)),u;return g.isValidElement(a)?u=g.cloneElement(a,l):typeof a=="function"?u=a(l):u=g.createElement(FL,l),g.createElement(Xa,{className:"recharts-active-dot",clipPath:o},u)};function Une(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:a,clipPath:i,zIndex:o=fa.activeDot}=e,s=Dt(Dd),l=Fne();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return ea(u)?null:g.createElement(lo,{zIndex:o},g.createElement(zne,{point:u,childIndex:Number(s),mainColor:n,dataKey:a,activeDot:r,clipPath:i}))}var rF=e=>{var{chartData:t}=e,n=Jn(),r=ei();return g.useEffect(()=>r?()=>{}:(n(HA(t)),()=>{n(HA(void 0))}),[t,n,r]),null},E5={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},aF=hi({name:"brush",initialState:E5,reducers:{setBrushSettings(e,t){return t.payload==null?E5:t.payload}}}),{setBrushSettings:Mye}=aF.actions,Vne=aF.reducer;function D5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ch(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(n),!0).forEach(function(r){iF(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function iF(e,t,n){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wne(e){var t=Hne(e,"string");return typeof t=="symbol"?t:t+""}function Hne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qne=(e,t)=>{var{x:n,y:r}=e,{x:a,y:i}=t;return{x:Math.min(n,a),y:Math.min(r,i),width:Math.abs(a-n),height:Math.abs(i-r)}},Kne=e=>{var{x1:t,y1:n,x2:r,y2:a}=e;return qne({x:t,y:n},{x:r,y:a})};class ov{static create(t){return new ov(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],a=n[n.length-1];return r<=a?t>=r&&t<=a:t>=a&&t<=r}}iF(ov,"EPS",1e-4);var Gne=e=>{var t=Object.keys(e).reduce((n,r)=>Ch(Ch({},n),{},{[r]:ov.create(e[r])}),{});return Ch(Ch({},t),{},{apply(n){var{bandAware:r,position:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(i=>{var[o,s]=i;return[o,t[o].apply(s,{bandAware:r,position:a})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function Yne(e){return(e%180+180)%180}var Xne=function(e){var{width:t,height:n}=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Yne(r),i=a*Math.PI/180,o=Math.atan(n/t),s=i>o&&i<Math.PI-o?n/Math.sin(i):t/Math.cos(i);return Math.abs(s)},Jne={dots:[],areas:[],lines:[]},oF=hi({name:"referenceElements",initialState:Jne,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=So(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=So(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=So(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Aye,removeDot:Eye,addArea:Dye,removeArea:Pye,addLine:Zne,removeLine:Qne}=oF.actions,ere=oF.reducer,sF=g.createContext(void 0),tre=e=>{var{children:t}=e,[n]=g.useState("".concat(kp("recharts"),"-clip")),r=DN();if(r==null)return null;var{x:a,y:i,width:o,height:s}=r;return g.createElement(sF.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:a,y:i,height:s,width:o}))),t)},nre=()=>g.useContext(sF);function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function T5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(n),!0).forEach(function(r){rre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rre(e,t,n){return(t=are(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function are(e){var t=ire(e,"string");return typeof t=="symbol"?t:t+""}function ire(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}var ore=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!mr(t.x1)||!mr(t.y1)||!mr(t.x2)||!mr(t.y2))return null;n=g.createElement("line",j0({},t,{className:"recharts-reference-line-line"}))}return n},sre=(e,t,n,r,a,i)=>{var{x:o,width:s}=i,l=a.y.apply(e,{position:n});if(no(l)||t==="discard"&&!a.y.isInRange(l))return null;var u=[{x:o+s,y:l},{x:o,y:l}];return r==="left"?u.reverse():u},lre=(e,t,n,r,a,i)=>{var{y:o,height:s}=i,l=a.x.apply(e,{position:n});if(no(l)||t==="discard"&&!a.x.isInRange(l))return null;var u=[{x:l,y:o+s},{x:l,y:o}];return r==="top"?u.reverse():u},cre=(e,t,n,r)=>{var a=e.map(i=>r.apply(i,{position:n}));return t==="discard"&&a.some(i=>!r.isInRange(i))?null:a},ure=(e,t,n,r,a,i)=>{var{x:o,y:s,segment:l,ifOverflow:u}=i,d=ro(o),f=ro(s);return f?sre(s,u,n,a,e,t):d?lre(o,u,n,r,e,t):l!=null&&l.length===2?cre(l,u,n,e):null};function dre(e){var t=Jn();return g.useEffect(()=>(t(Zne(e)),()=>{t(Qne(e))})),null}function fre(e){var{xAxisId:t,yAxisId:n,shape:r,className:a,ifOverflow:i}=e,o=ei(),s=nre(),l=Dt(N=>rs(N,t)),u=Dt(N=>as(N,n)),d=Dt(N=>Ed(N,"xAxis",t,o)),f=Dt(N=>Ed(N,"yAxis",n,o)),p=Qp();if(!s||!p||l==null||u==null||d==null||f==null)return null;var m=Gne({x:d,y:f}),h=ure(m,p,e.position,l.orientation,u.orientation,e);if(!h)return null;var[{x:v,y:x},{x:y,y:b}]=h,w=i==="hidden"?"url(#".concat(s,")"):void 0,S=T5(T5({clipPath:w},za(e)),{},{x1:v,y1:x,x2:y,y2:b}),j=Kne({x1:v,y1:x,x2:y,y2:b});return g.createElement(lo,{zIndex:e.zIndex},g.createElement(Xa,{className:Pn("recharts-reference-line",a)},ore(r,S),g.createElement(AL,j0({},j,{lowerWidth:j.width,upperWidth:j.width}),g.createElement(DL,{label:e.label}),e.children)))}var pre={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:fa.line};function Xw(e){var t=qr(e,pre);return g.createElement(g.Fragment,null,g.createElement(dre,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(fre,t))}Xw.displayName="ReferenceLine";function lF(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var a=e[r];a!==void 0&&n.push(a)}return n}function mre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Xne(r,n)}function hre(e,t,n){var r=n==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:r?a:i,end:r?a+o:i+s}:{start:r?a+o:i+s,end:r?a:i}}function Lp(e,t,n,r,a){if(e*t<e*r||e*t>e*a)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-a)<=0}function gre(e,t){return lF(e,t+1)}function yre(e,t,n,r,a){for(var i=(r||[]).slice(),{start:o,end:s}=t,l=0,u=1,d=o,f=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:lF(r,u)};var h=l,v,x=()=>(v===void 0&&(v=n(m,h)),v),y=m.coordinate,b=l===0||Lp(e,y,x,d,s);b||(l=0,d=o,u+=1),b&&(d=y+e*(x()/2+a),l+=u)},p;u<=i.length;)if(p=f(),p)return p.v;return[]}function vre(e,t,n,r,a){var i=(r||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:l}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,p=!0,m=function(){var y=r[h],b=h,w,S=()=>(w===void 0&&(w=n(y,b)),w),j=y.coordinate,N=h===d||Lp(e,j,S,f,l);if(!N)return p=!1,1;N&&(f=j+e*(S()/2+a))},h=d;h<o&&!m();h+=u);if(p){for(var v=[],x=d;x<o;x+=u)v.push(r[x]);return v}}return[]}function O5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O5(Object(n),!0).forEach(function(r){bre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bre(e,t,n){return(t=xre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xre(e){var t=wre(e,"string");return typeof t=="symbol"?t:t+""}function wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kre(e,t,n,r,a){for(var i=(r||[]).slice(),o=i.length,{start:s}=t,{end:l}=t,u=function(f){var p=i[f],m,h=()=>(m===void 0&&(m=n(p,f)),m);if(f===o-1){var v=e*(p.coordinate+e*h()/2-l);i[f]=p=Ia(Ia({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[f]=p=Ia(Ia({},p),{},{tickCoord:p.coordinate});if(p.tickCoord!=null){var x=Lp(e,p.tickCoord,h,s,l);x&&(l=p.tickCoord-e*(h()/2+a),i[f]=Ia(Ia({},p),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function Sre(e,t,n,r,a,i){var o=(r||[]).slice(),s=o.length,{start:l,end:u}=t;if(i){var d=r[s-1],f=n(d,s-1),p=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=Ia(Ia({},d),{},{tickCoord:p>0?d.coordinate-p*e:d.coordinate}),d.tickCoord!=null){var m=Lp(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=Ia(Ia({},d),{},{isShow:!0}))}}for(var h=i?s-1:s,v=function(y){var b=o[y],w,S=()=>(w===void 0&&(w=n(b,y)),w);if(y===0){var j=e*(b.coordinate-e*S()/2-l);o[y]=b=Ia(Ia({},b),{},{tickCoord:j<0?b.coordinate-j*e:b.coordinate})}else o[y]=b=Ia(Ia({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var N=Lp(e,b.tickCoord,S,l,u);N&&(l=b.tickCoord+e*(S()/2+a),o[y]=Ia(Ia({},b),{},{isShow:!0}))}},x=0;x<h;x++)v(x);return o}function PN(e,t,n){var{tick:r,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!r)return[];if(Rt(l)||Fy.isSsr){var p;return(p=gre(a,Rt(l)?l:0))!==null&&p!==void 0?p:[]}var m=[],h=s==="top"||s==="bottom"?"width":"height",v=d&&h==="width"?qf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},x=(w,S)=>{var j=typeof u=="function"?u(w.value,S):w.value;return h==="width"?mre(qf(j,{fontSize:t,letterSpacing:n}),v,f):qf(j,{fontSize:t,letterSpacing:n})[h]},y=a.length>=2?Ra(a[1].coordinate-a[0].coordinate):1,b=hre(i,y,h);return l==="equidistantPreserveStart"?yre(y,b,x,a,o):l==="equidistantPreserveEnd"?vre(y,b,x,a,o):(l==="preserveStart"||l==="preserveStartEnd"?m=Sre(y,b,x,a,o,l==="preserveStartEnd"):m=kre(y,b,x,a,o),m.filter(w=>w.isShow))}var Nre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=n?n.getBoundingClientRect().width:0,l=a+i,u=o+l+s+(n?r:0);return Math.round(u)}return 0},jre=["axisLine","width","height","className","hide","ticks","axisType"];function Cre(e,t){if(e==null)return{};var n,r,a=Mre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Mre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function au(){return au=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},au.apply(null,arguments)}function I5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Ur(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I5(Object(n),!0).forEach(function(r){Are(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Are(e,t,n){return(t=Ere(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ere(e){var t=Dre(e,"string");return typeof t=="symbol"?t:t+""}function Dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ts={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:fa.axis};function Pre(e){var{x:t,y:n,width:r,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:l}=e;if(!s)return null;var u=Ur(Ur(Ur({},l),to(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ur(Ur({},u),{},{x1:t,y1:n+d*a,x2:t+r,y2:n+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ur(Ur({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+a})}return g.createElement("line",au({},u,{className:Pn("recharts-cartesian-axis-line",Qc(s,"className"))}))}function Tre(e,t,n,r,a,i,o,s,l){var u,d,f,p,m,h,v=s?-1:1,x=e.tickSize||o,y=Rt(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,p=n+ +!s*a,f=p-v*x,h=f-v*l,m=y;break;case"left":f=p=e.coordinate,d=t+ +!s*r,u=d-v*x,m=u-v*l,h=y;break;case"right":f=p=e.coordinate,d=t+ +s*r,u=d+v*x,m=u+v*l,h=y;break;default:u=d=e.coordinate,p=n+ +s*a,f=p+v*x,h=f+v*l,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:p},tick:{x:m,y:h}}}function Ore(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Ire(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function _re(e){var{option:t,tickProps:n,value:r}=e,a,i=Pn(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))a=g.cloneElement(t,Ur(Ur({},n),{},{className:i}));else if(typeof t=="function")a=t(Ur(Ur({},n),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Pn(o,t==null?void 0:t.className)),a=g.createElement(ev,au({},n,{className:o}),r)}return a}var Lre=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:l,tickTextProps:u,orientation:d,mirror:f,x:p,y:m,width:h,height:v,tickSize:x,tickMargin:y,fontSize:b,letterSpacing:w,getTicksConfig:S,events:j,axisType:N}=e,A=PN(Ur(Ur({},S),{},{ticks:n}),b,w),P=Ore(d,f),U=Ire(d,f),D=to(S),I=wd(r),O={};typeof a=="object"&&(O=a);var H=Ur(Ur({},D),{},{fill:"none"},O),J=A.map(te=>Ur({entry:te},Tre(te,p,m,h,v,d,x,f,y))),oe=J.map(te=>{var{entry:W,line:le}=te;return g.createElement(Xa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(W.value,"-").concat(W.coordinate,"-").concat(W.tickCoord)},a&&g.createElement("line",au({},H,le,{className:Pn("recharts-cartesian-axis-tick-line",Qc(a,"className"))})))}),je=J.map((te,W)=>{var{entry:le,tick:k}=te,F=Ur(Ur(Ur(Ur({textAnchor:P,verticalAnchor:U},D),{},{stroke:"none",fill:i},I),k),{},{index:W,payload:le,visibleTicksCount:A.length,tickFormatter:o,padding:l},u);return g.createElement(Xa,au({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(le.value,"-").concat(le.coordinate,"-").concat(le.tickCoord)},qk(j,le,W)),r&&g.createElement(_re,{option:r,tickProps:F,value:"".concat(typeof o=="function"?o(le.value,W):le.value).concat(s||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(N,"-ticks")},je.length>0&&g.createElement(lo,{zIndex:fa.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(N,"-tick-labels"),ref:t},je)),oe.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(N,"-tick-lines")},oe))}),Fre=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:a,className:i,hide:o,ticks:s,axisType:l}=e,u=Cre(e,jre),[d,f]=g.useState(""),[p,m]=g.useState(""),h=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var x;return Nre({ticks:h.current,label:(x=e.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=g.useCallback(x=>{if(x){var y=x.getElementsByClassName("recharts-cartesian-axis-tick-value");h.current=y;var b=y[0];if(b){var w=window.getComputedStyle(b),S=w.fontSize,j=w.letterSpacing;(S!==d||j!==p)&&(f(S),m(j))}}},[d,p]);return o||r!=null&&r<=0||a!=null&&a<=0?null:g.createElement(lo,{zIndex:e.zIndex},g.createElement(Xa,{className:Pn("recharts-cartesian-axis",i)},g.createElement(Pre,{x:e.x,y:e.y,width:r,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:to(e)}),g.createElement(Lre,{ref:v,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:p,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(AL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(DL,{label:e.label,labelRef:e.labelRef}),e.children)))}),TN=g.forwardRef((e,t)=>{var n=qr(e,Ts);return g.createElement(Fre,au({},n,{ref:t}))});TN.displayName="CartesianAxis";var Rre=["x1","y1","x2","y2","key"],$re=["offset"],Bre=["xAxisId","yAxisId"],zre=["xAxisId","yAxisId"];function _5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function La(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_5(Object(n),!0).forEach(function(r){Ure(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ure(e,t,n){return(t=Vre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vre(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lc(){return Lc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lc.apply(null,arguments)}function C0(e,t){if(e==null)return{};var n,r,a=Hre(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Hre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:a,width:i,height:o,ry:s}=e;return g.createElement("rect",{x:r,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function cF(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var a,{x1:i,y1:o,x2:s,y2:l,key:u}=n,d=C0(n,Rre),f=(a=to(d))!==null&&a!==void 0?a:{},{offset:p}=f,m=C0(f,$re);r=g.createElement("line",Lc({},m,{x1:i,y1:o,x2:s,y2:l,fill:"none",key:u}))}return r}function Kre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=C0(e,Bre),l=a.map((u,d)=>{var f=La(La({},s),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(cF,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Gre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:a}=e;if(!r||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=C0(e,zre),l=a.map((u,d)=>{var f=La(La({},s),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(cF,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Yre(e){var{horizontalFill:t,fillOpacity:n,x:r,y:a,width:i,height:o,horizontalPoints:s,horizontal:l=!0}=e;if(!l||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var v=p%t.length;return g.createElement("rect",{key:"react-".concat(p),y:f,x:r,height:h,width:i,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Xre(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:a,y:i,width:o,height:s,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,p)=>f-p);a!==u[0]&&u.unshift(0);var d=u.map((f,p)=>{var m=!u[p+1],h=m?a+o-f:u[p+1]-f;if(h<=0)return null;var v=p%n.length;return g.createElement("rect",{key:"react-".concat(p),x:f,y:i,width:h,height:s,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Jre=(e,t)=>{var{xAxis:n,width:r,height:a,offset:i}=e;return D4(PN(La(La(La({},Ts),n),{},{ticks:P4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.left,i.left+i.width,t)},Zre=(e,t)=>{var{yAxis:n,width:r,height:a,offset:i}=e;return D4(PN(La(La(La({},Ts),n),{},{ticks:P4(n),viewBox:{x:0,y:0,width:r,height:a}})),i.top,i.top+i.height,t)},Qre={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:fa.grid};function Hs(e){var t=dS(),n=fS(),r=V4(),a=La(La({},qr(e,Qre)),{},{x:Rt(e.x)?e.x:r.left,y:Rt(e.y)?e.y:r.top,width:Rt(e.width)?e.width:r.width,height:Rt(e.height)?e.height:r.height}),{xAxisId:i,yAxisId:o,x:s,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:p,verticalValues:m}=a,h=ei(),v=Dt(U=>IA(U,"xAxis",i,h)),x=Dt(U=>IA(U,"yAxis",o,h));if(!ts(u)||!ts(d)||!Rt(s)||!Rt(l))return null;var y=a.verticalCoordinatesGenerator||Jre,b=a.horizontalCoordinatesGenerator||Zre,{horizontalPoints:w,verticalPoints:S}=a;if((!w||!w.length)&&typeof b=="function"){var j=p&&p.length,N=b({yAxis:x?La(La({},x),{},{ticks:j?p:x.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:f);Jg(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!S||!S.length)&&typeof y=="function"){var A=m&&m.length,P=y({xAxis:v?La(La({},v),{},{ticks:A?m:v.ticks}):void 0,width:t??u,height:n??d,offset:r},A?!0:f);Jg(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(S=P)}return g.createElement(lo,{zIndex:a.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(qre,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),g.createElement(Yre,Lc({},a,{horizontalPoints:w})),g.createElement(Xre,Lc({},a,{verticalPoints:S})),g.createElement(Kre,Lc({},a,{offset:r,horizontalPoints:w,xAxis:v,yAxis:x})),g.createElement(Gre,Lc({},a,{offset:r,verticalPoints:S,xAxis:v,yAxis:x}))))}Hs.displayName="CartesianGrid";var eae={},uF=hi({name:"errorBars",initialState:eae,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:a}=t.payload;e[n]&&(e[n]=e[n].map(i=>i.dataKey===r.dataKey&&i.direction===r.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(a=>a.dataKey!==r.dataKey||a.direction!==r.direction))}}}),{addErrorBar:Tye,replaceErrorBar:Oye,removeErrorBar:Iye}=uF.actions,tae=uF.reducer,nae=["children"];function rae(e,t){if(e==null)return{};var n,r,a=aae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function aae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var iae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},oae=g.createContext(iae);function sae(e){var{children:t}=e,n=rae(e,nae);return g.createElement(oae.Provider,{value:n},t)}function dF(e,t){var n,r,a=Dt(u=>rs(u,e)),i=Dt(u=>as(u,t)),o=(n=a==null?void 0:a.allowDataOverflow)!==null&&n!==void 0?n:sa.allowDataOverflow,s=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:la.allowDataOverflow,l=o||s;return{needClip:l,needClipX:o,needClipY:s}}function lae(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,a=DN(),{needClipX:i,needClipY:o,needClip:s}=dF(t,n);if(!s||!a)return null;var{x:l,y:u,width:d,height:f}=a;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:i?l:l-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var fF=(e,t,n,r)=>z_(e,"xAxis",t,r),pF=(e,t,n,r)=>B_(e,"xAxis",t,r),mF=(e,t,n,r)=>z_(e,"yAxis",n,r),hF=(e,t,n,r)=>B_(e,"yAxis",n,r),cae=xe([Kn,fF,mF,pF,hF],(e,t,n,r,a)=>Zl(e,"xAxis")?bw(t,r,!1):bw(n,a,!1)),uae=(e,t,n,r,a)=>a;function dae(e){return e.type==="line"}var fae=xe([x_,uae],(e,t)=>e.filter(dae).find(n=>n.id===t)),pae=xe([Kn,fF,mF,pF,hF,fae,cae,BS],(e,t,n,r,a,i,o,s)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=s;if(!(i==null||t==null||n==null||r==null||a==null||r.length===0||a.length===0||o==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:p}=i,m;if(p!=null&&p.length>0?m=p:m=l==null?void 0:l.slice(u,d+1),m!=null)return Xae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:a,dataKey:f,bandSize:o,displayedData:m})}});function mae(e){var t=wd(e),n=3,r=2;if(t!=null){var{r:a,strokeWidth:i}=t,o=Number(a),s=Number(i);return(Number.isNaN(o)||o<0)&&(o=n),(Number.isNaN(s)||s<0)&&(s=r),{r:o,strokeWidth:s}}return{r:n,strokeWidth:r}}/**
* @license React
* use-sync-external-store-with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Nm=g;Nm.useSyncExternalStore;Nm.useRef;Nm.useEffect;Nm.useMemo;Nm.useDebugValue;function hae(e){e()}function gae(){let e=null,t=null;return{clear(){e=null,t=null},notify(){hae(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const a=t={callback:n,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!r||e===null||(r=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var L5={notify(){},get:()=>[]};function yae(e,t){let n,r=L5,a=0,i=!1;function o(v){d();const x=r.subscribe(v);let y=!1;return()=>{y||(y=!0,x(),f())}}function s(){r.notify()}function l(){h.onStateChange&&h.onStateChange()}function u(){return i}function d(){a++,n||(n=e.subscribe(l),r=gae())}function f(){a--,n&&a===0&&(n(),n=void 0,r.clear(),r=L5)}function p(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const h={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:p,tryUnsubscribe:m,getListeners:()=>r};return h}var vae=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bae=vae(),xae=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wae=xae(),kae=()=>bae||wae?g.useLayoutEffect:g.useEffect,Sae=kae();function F5(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Nae(e,t){if(F5(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(!Object.prototype.hasOwnProperty.call(t,n[a])||!F5(e[n[a]],t[n[a]]))return!1;return!0}var R5=Symbol.for("react-redux-context"),$5=typeof globalThis<"u"?globalThis:{};function jae(){if(!g.createContext)return{};const e=$5[R5]??($5[R5]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Cae=jae();function Mae(e){const{children:t,context:n,serverState:r,store:a}=e,i=g.useMemo(()=>{const l=yae(a);return{store:a,subscription:l,getServerState:r?()=>r:void 0}},[a,r]),o=g.useMemo(()=>a.getState(),[a]);Sae(()=>{const{subscription:l}=i;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==a.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[i,o]);const s=n||Cae;return g.createElement(s.Provider,{value:i},t)}var Aae=Mae,Eae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Dae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function ON(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(Eae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Nae(e[r],t[r]))return!1}else if(!Dae(e[r],t[r]))return!1;return!0}var Pae=["id"],Tae=["type","layout","connectNulls","needClip","shape"],Oae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Fp(){return Fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fp.apply(null,arguments)}function B5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Go(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?B5(Object(n),!0).forEach(function(r){Iae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iae(e,t,n){return(t=_ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ae(e){var t=Lae(e,"string");return typeof t=="symbol"?t:t+""}function Lae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IN(e,t){if(e==null)return{};var n,r,a=Fae(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Fae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Rae=e=>{var{dataKey:t,name:n,stroke:r,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:r,value:Ay(n,t),payload:e}]},$ae=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:a,fill:i,name:o,hide:s,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:a,fill:i,dataKey:t,nameKey:void 0,name:Ay(o,t),hide:s,type:u,color:r,unit:l,graphicalItemId:d}};return g.createElement(QL,{tooltipEntrySettings:f})}),gF=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Bae(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],a=0;a<t;++a)r=[...r,...n];return r}var zae=(e,t,n)=>{var r=n.reduce((f,p)=>f+p);if(!r)return gF(t,e);for(var a=Math.floor(e/r),i=e%r,o=t-e,s=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>i){s=[...n.slice(0,l),i-u];break}var d=s.length%2===0?[0,o]:[o];return[...Bae(n,a),...s,...d].map(f=>"".concat(f,"px")).join(", ")};function Uae(e){var{clipPathId:t,points:n,props:r}=e,{dot:a,dataKey:i,needClip:o}=r,{id:s}=r,l=IN(r,Pae),u=to(l);return g.createElement(kne,{points:n,dot:a,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:i,baseProps:u,needClip:o,clipPathId:t})}function Vae(e){var{showLabels:t,children:n,points:r}=e,a=g.useMemo(()=>r==null?void 0:r.map(i=>{var o,s,l={x:(o=i.x)!==null&&o!==void 0?o:0,y:(s=i.y)!==null&&s!==void 0?s:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Go(Go({},l),{},{value:i.value,payload:i.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(Tee,{value:t?a:void 0},n)}function z5(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:a,props:i}=e,{type:o,layout:s,connectNulls:l,needClip:u,shape:d}=i,f=IN(i,Tae),p=Go(Go({},za(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:o,layout:s,connectNulls:l,strokeDasharray:a??i.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(ZL,Fp({shapeType:"curve",option:d},p,{pathRef:n})),g.createElement(Uae,{points:r,clipPathId:t,props:i}))}function Wae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Hae(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:a,longestAnimatedLengthRef:i}=e,{points:o,strokeDasharray:s,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:p,width:m,height:h,onAnimationEnd:v,onAnimationStart:x}=n,y=a.current,b=$y(o,"recharts-line-"),w=g.useRef(b),[S,j]=g.useState(!1),N=!S,A=g.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),P=g.useCallback(()=>{typeof x=="function"&&x(),j(!0)},[x]),U=Wae(r.current),D=g.useRef(0);w.current!==b&&(D.current=i.current,w.current=b);var I=D.current;return g.createElement(Vae,{points:o,showLabels:N},n.children,g.createElement(Ry,{animationId:b,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:P,key:b},O=>{var H=Fa(I,U+I,O),J=Math.min(H,U),oe;if(l)if(s){var je="".concat(s).split(/[,\s]+/gim).map(le=>parseFloat(le));oe=zae(J,U,je)}else oe=gF(U,J);else oe=s==null?void 0:String(s);if(O>0&&U>0&&(a.current=o,i.current=Math.max(i.current,J)),y){var te=y.length/o.length,W=O===1?o:o.map((le,k)=>{var F=Math.floor(k*te);if(y[F]){var T=y[F];return Go(Go({},le),{},{x:Fa(T.x,le.x,O),y:Fa(T.y,le.y,O)})}return p?Go(Go({},le),{},{x:Fa(m*2,le.x,O),y:Fa(h/2,le.y,O)}):Go(Go({},le),{},{x:le.x,y:le.y})});return a.current=W,g.createElement(z5,{props:n,points:W,clipPathId:t,pathRef:r,strokeDasharray:oe})}return g.createElement(z5,{props:n,points:o,clipPathId:t,pathRef:r,strokeDasharray:oe})}),g.createElement(LL,{label:n.label}))}function qae(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),a=g.useRef(0),i=g.useRef(null);return g.createElement(Hae,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:a,pathRef:i})}var Kae=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:cr(e.payload,t)}};class Gae extends g.Component{render(){var{hide:t,dot:n,points:r,className:a,xAxisId:i,yAxisId:o,top:s,left:l,width:u,height:d,id:f,needClip:p,zIndex:m}=this.props;if(t)return null;var h=Pn("recharts-line",a),v=f,{r:x,strokeWidth:y}=mae(n),b=XL(n),w=x*2+y,S=p?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return g.createElement(lo,{zIndex:m},g.createElement(Xa,{className:h},p&&g.createElement("defs",null,g.createElement(lae,{clipPathId:v,xAxisId:i,yAxisId:o}),!b&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-w/2,y:s-w/2,width:u+w,height:d+w}))),g.createElement(sae,{xAxisId:i,yAxisId:o,data:r,dataPointFormatter:Kae,errorBarOffset:0},g.createElement(qae,{props:this.props,clipPathId:v}))),g.createElement(Une,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:S}))}}var yF={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:fa.line,type:"linear"};function Yae(e){var t=qr(e,yF),{activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,connectNulls:s,dot:l,hide:u,isAnimationActive:d,label:f,legendType:p,xAxisId:m,yAxisId:h,id:v}=t,x=IN(t,Oae),{needClip:y}=dF(m,h),b=DN(),w=em(),S=ei(),j=Dt(D=>pae(D,m,h,S,v));if(w!=="horizontal"&&w!=="vertical"||j==null||b==null)return null;var{height:N,width:A,x:P,y:U}=b;return g.createElement(Gae,Fp({},x,{id:v,connectNulls:s,dot:l,activeDot:n,animateNewValues:r,animationBegin:a,animationDuration:i,animationEasing:o,isAnimationActive:d,hide:u,label:f,legendType:p,xAxisId:m,yAxisId:h,points:j,layout:w,height:N,width:A,left:P,top:U,needClip:y}))}function Xae(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:a,yAxisTicks:i,dataKey:o,bandSize:s,displayedData:l}=e;return l.map((u,d)=>{var f=cr(u,o);if(t==="horizontal"){var p=qC({axis:n,ticks:a,bandSize:s,entry:u,index:d}),m=ea(f)?null:r.scale(f);return{x:p,y:m,value:f,payload:u}}var h=ea(f)?null:n.scale(f),v=qC({axis:r,ticks:i,bandSize:s,entry:u,index:d});return h==null||v==null?null:{x:h,y:v,value:f,payload:u}}).filter(Boolean)}function Jae(e){var t=qr(e,yF),n=ei();return g.createElement(eF,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(Mte,{legendPayload:Rae(t)}),g.createElement($ae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(zte,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(Yae,Fp({},t,{id:r}))))}var si=g.memo(Jae,ON);si.displayName="Line";var Zae=["domain","range"],Qae=["domain","range"];function U5(e,t){if(e==null)return{};var n,r,a=eie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function V5(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function vF(e,t){if(e===t)return!0;var{domain:n,range:r}=e,a=U5(e,Zae),{domain:i,range:o}=t,s=U5(t,Qae);return!V5(n,i)||!V5(r,o)?!1:ON(a,s)}var tie=["dangerouslySetInnerHTML","ticks","scale"],nie=["id","scale"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jw.apply(null,arguments)}function W5(e,t){if(e==null)return{};var n,r,a=rie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function rie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function aie(e){var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Mne(e)):n.current!==e&&t(Ane({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Ene(n.current)),n.current=null)},[t]),null}var iie=e=>{var{xAxisId:t,className:n}=e,r=Dt(_4),a=ei(),i="xAxis",o=Dt(y=>$_(y,i,t,a)),s=Dt(y=>cJ(y,t)),l=Dt(y=>hJ(y,t)),u=Dt(y=>y_(y,t));if(s==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:p}=e,m=W5(e,tie),{id:h,scale:v}=u,x=W5(u,nie);return g.createElement(TN,Jw({},m,x,{x:l.x,y:l.y,width:s.width,height:s.height,className:Pn("recharts-".concat(i," ").concat(i),n),viewBox:r,ticks:o,axisType:i}))},oie={allowDataOverflow:sa.allowDataOverflow,allowDecimals:sa.allowDecimals,allowDuplicatedCategory:sa.allowDuplicatedCategory,angle:sa.angle,axisLine:Ts.axisLine,height:sa.height,hide:!1,includeHidden:sa.includeHidden,interval:sa.interval,minTickGap:sa.minTickGap,mirror:sa.mirror,orientation:sa.orientation,padding:sa.padding,reversed:sa.reversed,scale:sa.scale,tick:sa.tick,tickCount:sa.tickCount,tickLine:Ts.tickLine,tickSize:Ts.tickSize,type:sa.type,xAxisId:0},sie=e=>{var t=qr(e,oie);return g.createElement(g.Fragment,null,g.createElement(aie,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(iie,t))},qs=g.memo(sie,vF);qs.displayName="XAxis";var lie=["dangerouslySetInnerHTML","ticks","scale"],cie=["id","scale"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(null,arguments)}function H5(e,t){if(e==null)return{};var n,r,a=uie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function uie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function die(e){var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Dne(e)):n.current!==e&&t(Pne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Tne(n.current)),n.current=null)},[t]),null}var fie=e=>{var{yAxisId:t,className:n,width:r,label:a}=e,i=g.useRef(null),o=g.useRef(null),s=Dt(_4),l=ei(),u=Jn(),d="yAxis",f=Dt(N=>vJ(N,t)),p=Dt(N=>yJ(N,t)),m=Dt(N=>$_(N,d,t,l)),h=Dt(N=>v_(N,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||CN(a)||g.isValidElement(a)||h==null)){var N=i.current;if(N){var A=N.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u(One({id:t,width:A}))}}},[m,f,u,a,t,r,h]),f==null||p==null||h==null)return null;var{dangerouslySetInnerHTML:v,ticks:x,scale:y}=e,b=H5(e,lie),{id:w,scale:S}=h,j=H5(h,cie);return g.createElement(TN,Zw({},b,j,{ref:i,labelRef:o,x:p.x,y:p.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:Pn("recharts-".concat(d," ").concat(d),n),viewBox:s,ticks:m,axisType:d}))},pie={allowDataOverflow:la.allowDataOverflow,allowDecimals:la.allowDecimals,allowDuplicatedCategory:la.allowDuplicatedCategory,angle:la.angle,axisLine:Ts.axisLine,hide:!1,includeHidden:la.includeHidden,interval:la.interval,minTickGap:la.minTickGap,mirror:la.mirror,orientation:la.orientation,padding:la.padding,reversed:la.reversed,scale:la.scale,tick:la.tick,tickCount:la.tickCount,tickLine:Ts.tickLine,tickSize:Ts.tickSize,type:la.type,width:la.width,yAxisId:0},mie=e=>{var t=qr(e,pie);return g.createElement(g.Fragment,null,g.createElement(die,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(fie,t))},Ks=g.memo(mie,vF);Ks.displayName="YAxis";var hie=(e,t)=>t,_N=xe([hie,Kn,m_,ra,rL,Qs,IZ,ha],zZ),LN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},bF=ao("mouseClick"),xF=Jp();xF.startListening({actionCreator:bF,effect:(e,t)=>{var n=e.payload,r=_N(t.getState(),LN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(TJ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Qw=ao("mouseMove"),wF=Jp(),Mh=null;wF.startListening({actionCreator:Qw,effect:(e,t)=>{var n=e.payload;Mh!==null&&cancelAnimationFrame(Mh);var r=LN(n);Mh=requestAnimationFrame(()=>{var a=t.getState(),i=gN(a,a.tooltip.settings.shared);if(i==="axis"){var o=_N(a,r);(o==null?void 0:o.activeIndex)!=null?t.dispatch(Y_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(G_())}Mh=null})}});function gie(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var q5={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},kF=hi({name:"rootProps",initialState:q5,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:q5.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),yie=kF.reducer,{updateOptions:vie}=kF.actions,SF=hi({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:bie}=SF.actions,xie=SF.reducer,NF=ao("keyDown"),jF=ao("focus"),FN=Jp();FN.startListening({actionCreator:NF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=yN(a,Kd(n),um(n),pm(n)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var l=Qs(n);if(i==="Enter"){var u=b0(n,"axis","hover",String(a.index));t.dispatch(Ww({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=kJ(n),f=d==="left-to-right"?1:-1,p=i==="ArrowRight"?1:-1,m=s+p*f;if(!(l==null||m>=l.length||m<0)){var h=b0(n,"axis","hover",String(m));t.dispatch(Ww({active:!0,activeIndex:m.toString(),activeCoordinate:h}))}}}}}});FN.startListening({actionCreator:jF,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:a}=n.tooltip;if(!a.active&&a.index==null){var i="0",o=b0(n,"axis","hover",String(i));t.dispatch(Ww({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Vi=ao("externalEvent"),CF=Jp(),Eb=new Map;CF.startListening({actionCreator:Vi,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var a=r.type,i=Eb.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),l={activeCoordinate:vZ(s),activeDataKey:sL(s),activeIndex:Dd(s),activeLabel:oL(s),activeTooltipIndex:Dd(s),isTooltipActive:bZ(s)};n(l,r)}finally{Eb.delete(a)}});Eb.set(a,o)}}});var wie=xe([Hd],e=>e.tooltipItemPayloads),kie=xe([wie,fm,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var a=e.find(s=>s.settings.graphicalItemId===r);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,n);return o}}}),MF=ao("touchMove"),AF=Jp();AF.startListening({actionCreator:MF,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),a=gN(r,r.tooltip.settings.shared);if(a==="axis"){var i=n.touches[0];if(i==null)return;var o=_N(r,LN({clientX:i.clientX,clientY:i.clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(Y_({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(O4),f=(s=u.getAttribute(I4))!==null&&s!==void 0?s:void 0,p=qd(r).find(v=>v.id===f);if(d==null||p==null||f==null)return;var{dataKey:m}=p,h=kie(r,d,f);t.dispatch(K_({activeDataKey:m,activeIndex:d,activeCoordinate:h,activeGraphicalItemId:f}))}}}});var Sie=t4({brush:Vne,cartesianAxis:Ine,chartData:yQ,errorBars:tae,graphicalItems:$te,layout:QW,legend:eq,options:fQ,polarAxis:Vee,polarOptions:xie,referenceElements:ere,rootProps:yie,tooltip:OJ,zIndex:tQ}),Nie=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return NW({reducer:Sie,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([xF.middleware,wF.middleware,FN.middleware,CF.middleware,AF.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(g4({type:"raf"}))},devTools:{serialize:{replacer:gie},name:"recharts-".concat(t)}})};function EF(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,a=ei(),i=g.useRef(null);if(a)return n;i.current==null&&(i.current=Nie(t,r));var o=tS;return g.createElement(Aae,{context:o,store:i.current},n)}function jie(e){var{layout:t,margin:n}=e,r=Jn(),a=ei();return g.useEffect(()=>{a||(r(XW(t)),r(YW(n)))},[r,a,t,n]),null}var DF=g.memo(jie,ON);function PF(e){var t=Jn();return g.useEffect(()=>{t(vie(e))},[t,e]),null}function K5(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),a=Jn();return g.useLayoutEffect(()=>(r.current&&a(QZ({zIndex:t,element:r.current,isPanorama:n})),()=>{a(eQ({zIndex:t,isPanorama:n}))}),[a,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function G5(e){var{children:t,isPanorama:n}=e,r=Dt(VZ);if(!r||r.length===0)return t;var a=r.filter(o=>o<0),i=r.filter(o=>o>0);return g.createElement(g.Fragment,null,a.map(o=>g.createElement(K5,{key:o,zIndex:o,isPanorama:n})),t,i.map(o=>g.createElement(K5,{key:o,zIndex:o,isPanorama:n})))}var Cie=["children"];function Mie(e,t){if(e==null)return{};var n,r,a=Aie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Aie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}var Eie={width:"100%",height:"100%",display:"block"},Die=g.forwardRef((e,t)=>{var n=dS(),r=fS(),a=tI();if(!ts(n)||!ts(r))return null;var{children:i,otherAttributes:o,title:s,desc:l}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),g.createElement($k,M0({},o,{title:s,desc:l,role:d,tabIndex:u,width:n,height:r,style:Eie,ref:t}),i)}),Pie=e=>{var{children:t}=e,n=Dt(Ty);if(!n)return null;var{width:r,height:a,y:i,x:o}=n;return g.createElement($k,{width:r,height:a,x:o,y:i},t)},Y5=g.forwardRef((e,t)=>{var{children:n}=e,r=Mie(e,Cie),a=ei();return a?g.createElement(Pie,null,g.createElement(G5,{isPanorama:!0},n)):g.createElement(Die,M0({ref:t},r),g.createElement(G5,{isPanorama:!1},n))});function Tie(){var e=Jn(),[t,n]=g.useState(null),r=Dt(mH);return g.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;mr(i)&&i!==r&&e(ZW(i))}},[t,e,r]),n}function X5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Oie(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X5(Object(n),!0).forEach(function(r){Iie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iie(e,t,n){return(t=_ie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _ie(e){var t=Lie(e,"string");return typeof t=="symbol"?t:t+""}function Lie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iu(){return iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iu.apply(null,arguments)}var Fie=()=>(CQ(),null);function A0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Rie=g.forwardRef((e,t)=>{var n,r,a=g.useRef(null),[i,o]=g.useState({containerWidth:A0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:A0((r=e.style)===null||r===void 0?void 0:r.height)}),s=g.useCallback((u,d)=>{o(f=>{var p=Math.round(u),m=Math.round(d);return f.containerWidth===p&&f.containerHeight===m?f:{containerWidth:p,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var p=h=>{var{width:v,height:x}=h[0].contentRect;s(v,x)},m=new ResizeObserver(p);m.observe(u),a.current=m}},[t,s]);return g.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),g.createElement(g.Fragment,null,g.createElement(Oy,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",iu({ref:l},e)))}),$ie=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[a,i]=g.useState({containerWidth:A0(n),containerHeight:A0(r)}),o=g.useCallback((l,u)=>{i(d=>{var f=Math.round(l),p=Math.round(u);return d.containerWidth===f&&d.containerHeight===p?d:{containerWidth:f,containerHeight:p}})},[]),s=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();o(u,d)}},[t,o]);return g.createElement(g.Fragment,null,g.createElement(Oy,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",iu({ref:s},e)))}),Bie=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(Oy,{width:n,height:r}),g.createElement("div",iu({ref:t},e)))}),zie=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return $s(n)||$s(r)?g.createElement($ie,iu({},e,{ref:t})):g.createElement(Bie,iu({},e,{ref:t}))});function Uie(e){return e===!0?Rie:zie}var Vie=g.forwardRef((e,t)=>{var{children:n,className:r,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:p,onTouchEnd:m,onTouchMove:h,onTouchStart:v,style:x,width:y,responsive:b,dispatchTouchEvents:w=!0}=e,S=g.useRef(null),j=Jn(),[N,A]=g.useState(null),[P,U]=g.useState(null),D=Tie(),I=uS(),O=(I==null?void 0:I.width)>0?I.width:y,H=(I==null?void 0:I.height)>0?I.height:a,J=g.useCallback(L=>{D(L),typeof t=="function"&&t(L),A(L),U(L),L!=null&&(S.current=L)},[D,t,A,U]),oe=g.useCallback(L=>{j(bF(L)),j(Vi({handler:i,reactEvent:L}))},[j,i]),je=g.useCallback(L=>{j(Qw(L)),j(Vi({handler:u,reactEvent:L}))},[j,u]),te=g.useCallback(L=>{j(G_()),j(Vi({handler:d,reactEvent:L}))},[j,d]),W=g.useCallback(L=>{j(Qw(L)),j(Vi({handler:f,reactEvent:L}))},[j,f]),le=g.useCallback(()=>{j(jF())},[j]),k=g.useCallback(L=>{j(NF(L.key))},[j]),F=g.useCallback(L=>{j(Vi({handler:o,reactEvent:L}))},[j,o]),T=g.useCallback(L=>{j(Vi({handler:s,reactEvent:L}))},[j,s]),C=g.useCallback(L=>{j(Vi({handler:l,reactEvent:L}))},[j,l]),B=g.useCallback(L=>{j(Vi({handler:p,reactEvent:L}))},[j,p]),R=g.useCallback(L=>{j(Vi({handler:v,reactEvent:L}))},[j,v]),G=g.useCallback(L=>{w&&j(MF(L)),j(Vi({handler:h,reactEvent:L}))},[j,w,h]),se=g.useCallback(L=>{j(Vi({handler:m,reactEvent:L}))},[j,m]),K=Uie(b);return g.createElement(mL.Provider,{value:N},g.createElement(eO.Provider,{value:P},g.createElement(K,{width:O??(x==null?void 0:x.width),height:H??(x==null?void 0:x.height),className:Pn("recharts-wrapper",r),style:Oie({position:"relative",cursor:"default",width:O,height:H},x),onClick:oe,onContextMenu:F,onDoubleClick:T,onFocus:le,onKeyDown:k,onMouseDown:C,onMouseEnter:je,onMouseLeave:te,onMouseMove:W,onMouseUp:B,onTouchEnd:se,onTouchMove:G,onTouchStart:R,ref:J},g.createElement(Fie,null),n)))}),Wie=["width","height","responsive","children","className","style","compact","title","desc"];function Hie(e,t){if(e==null)return{};var n,r,a=qie(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TF=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:a,children:i,className:o,style:s,compact:l,title:u,desc:d}=e,f=Hie(e,Wie),p=to(f);return l?g.createElement(g.Fragment,null,g.createElement(Oy,{width:n,height:r}),g.createElement(Y5,{otherAttributes:p,title:u,desc:d},i)):g.createElement(Vie,{className:o,style:s,width:n,height:r,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(Y5,{otherAttributes:p,title:u,desc:d,ref:t},g.createElement(tre,null,i)))});function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e1.apply(null,arguments)}var Kie={top:5,right:5,bottom:5,left:5},Gie={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Kie,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Yie=g.forwardRef(function(e,t){var n,r=qr(e.categoricalChartProps,Gie),{chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,categoricalChartProps:l}=e,u={chartName:a,defaultTooltipEventType:i,validateTooltipEventTypes:o,tooltipPayloadSearcher:s,eventEmitter:void 0};return g.createElement(EF,{preloadedState:{options:u},reduxStoreName:(n=l.id)!==null&&n!==void 0?n:a},g.createElement(rF,{chartData:l.data}),g.createElement(DF,{layout:r.layout,margin:r.margin}),g.createElement(PF,{baseValue:r.baseValue,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(TF,e1({},r,{ref:t})))}),Xie=["axis"],ql=g.forwardRef((e,t)=>g.createElement(Yie,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Xie,tooltipPayloadSearcher:gL,categoricalChartProps:e,ref:t}));function Jie(e){var t=Jn();return g.useEffect(()=>{t(bie(e))},[t,e]),null}var Zie=["layout"];function t1(){return t1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},t1.apply(null,arguments)}function Qie(e,t){if(e==null)return{};var n,r,a=eoe(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function eoe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var toe={top:5,right:5,bottom:5,left:5},OF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:toe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},noe=g.forwardRef(function(e,t){var n,r=qr(e.categoricalChartProps,OF),{layout:a}=r,i=Qie(r,Zie),{chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u}=e,d={chartName:o,defaultTooltipEventType:s,validateTooltipEventTypes:l,tooltipPayloadSearcher:u,eventEmitter:void 0};return g.createElement(EF,{preloadedState:{options:d},reduxStoreName:(n=r.id)!==null&&n!==void 0?n:o},g.createElement(rF,{chartData:r.data}),g.createElement(DF,{layout:a,margin:r.margin}),g.createElement(PF,{baseValue:void 0,accessibilityLayer:r.accessibilityLayer,barCategoryGap:r.barCategoryGap,maxBarSize:r.maxBarSize,stackOffset:r.stackOffset,barGap:r.barGap,barSize:r.barSize,syncId:r.syncId,syncMethod:r.syncMethod,className:r.className,reverseStackOrder:r.reverseStackOrder}),g.createElement(Jie,{cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius}),g.createElement(TF,t1({},i,{ref:t})))});function J5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Z5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J5(Object(n),!0).forEach(function(r){roe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function roe(e,t,n){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aoe(e){var t=ioe(e,"string");return typeof t=="symbol"?t:t+""}function ioe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ooe=["item"],soe=Z5(Z5({},OF),{},{layout:"centric",startAngle:0,endAngle:360}),n1=g.forwardRef((e,t)=>{var n=qr(e,soe);return g.createElement(noe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ooe,tooltipPayloadSearcher:gL,categoricalChartProps:n,ref:t})});const Nn=({value:e,options:t,onChange:n,className:r="",activeClassName:a,inactiveClassName:i})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===o.value?`pill-toggle-option--active ${a}`:i}`,children:o.label},o.value))}),Q5="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Kf=new Map,dd=new Map,loe=async e=>{var t;if(!((t=window==null?void 0:window.electronAPI)!=null&&t.fetchImageAsDataUrl))return;const n=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(n.map(async r=>{if(Kf.has(r)||dd.has(r))return;const a=(async()=>{const i=await window.electronAPI.fetchImageAsDataUrl(r),o=i!=null&&i.success&&i.dataUrl?i.dataUrl:null;return o&&Kf.set(r,o),o})();dd.set(r,a);try{await a}finally{dd.delete(r)}}))},coe=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Kf.get(e)||Q5:null});return g.useEffect(()=>{var r;if(!e){n(null);return}if(!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const a=Kf.get(e);if(a){n(a);return}let i=!0;const o=dd.get(e)||(async()=>{const s=await window.electronAPI.fetchImageAsDataUrl(e),l=s!=null&&s.success&&s.dataUrl?s.dataUrl:null;return l&&Kf.set(e,l),l})();return dd.set(e,o),o.then(s=>{if(i){if(s){n(s);return}n(Q5)}}).finally(()=>{dd.delete(e)}),()=>{i=!1}},[e]),t},uoe=(e,t,n,r)=>{const[a,i]=g.useState("bottom"),[o,s]=g.useState(0);return g.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=(A=>{let P=(A==null?void 0:A.parentElement)||null;for(;P;){const U=window.getComputedStyle(P),D=`${U.overflow}${U.overflowY}${U.overflowX}`;if(/(auto|scroll|hidden)/.test(D))return P;P=P.parentElement}return null})(u),h=m?m.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},v=h.bottom-f.bottom,x=f.top-h.top,y=v<p.height+8&&x>v?"top":"bottom";i(y);const b=6,w=f.left+f.width/2,S=h.left+b+p.width/2,j=h.right-b-p.width/2,N=Math.min(Math.max(w,S),j);s(N-w)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:a,shiftX:o}},doe=(e,t=5)=>{const n=Object.entries(e).filter(([,a])=>a>0).sort((a,i)=>i[1]-a[1]||a[0].localeCompare(i[0])).map(([a,i])=>({profession:a,count:i})),r=[];for(let a=0;a<n.length;a+=t)r.push(n.slice(a,a+t));return r},IF=(e,t,n,r,a=8)=>{const[i,o]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const s=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),p=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,h=f.top,v=m<p.height+a&&h>m?Math.max(a,f.top-p.height-a):Math.min(window.innerHeight-p.height-a,f.bottom+a),x=f.left+f.width/2,y=a+p.width/2,b=window.innerWidth-a-p.width/2,w=Math.min(Math.max(x,y),b);o({position:"fixed",top:v,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(s);return window.addEventListener("scroll",s,!0),window.addEventListener("resize",s),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",s,!0),window.removeEventListener("resize",s)}},[e,a,...t]),i},foe=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),a=e==="Multi"&&r.length>0?r[0]:e,i=Tc(a||"Unknown"),o=r.length>1,[s,l]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:p,shiftX:m}=uoe(s,[r.length,f],u,d),h=Array.from(new Set(r.map(b=>Ds(b||"Unknown")))).slice(0,4),v=h.length>1?`conic-gradient(${h.map((b,w)=>`${b} ${w*360/h.length}deg ${(w+1)*360/h.length}deg`).join(", ")})`:h[0]||"#9ca3af";if(!i)return null;const x=p==="top"?"bottom-full mb-2":"top-full mt-2",y={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${o?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:i,alt:a||"Unknown",className:`${f} shrink-0`}),o&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:y,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${x} ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=Tc(b||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[w?c.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},poe=(e,t,n="w-4 h-4 object-contain")=>c.jsx(foe,{profession:e,professionList:t,className:n}),Ou=({count:e,classCounts:t,label:n,className:r})=>{const a=doe(t||{}),i=e>0,[o,s]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=IF(o,[a.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""}`,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[c.jsx("span",{className:r,children:e}),i&&typeof document<"u"&&Rd.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),a.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:a.map((f,p)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:h})=>{const v=Tc(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[v?c.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:h})]},m)})},`${n}-col-${p}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},xr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:a="",truncateText:i=!0})=>{const o=coe(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[o?c.jsx("img",{src:o,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${i?"truncate":""} ${a}`,children:e})]})},eE=({value:e,label:t,items:n,className:r})=>{const a=n.length>0,[i,o]=g.useState(!1),s=g.useRef(null),l=g.useRef(null),u=g.useRef(null),d=IF(i,[n.length],s,l),f=()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},p=()=>{f(),u.current=window.setTimeout(()=>{o(!1),u.current=null},140)},m=h=>{const v=h.currentTarget;if(v.scrollHeight<=v.clientHeight)return;const x=h.deltaY;x!==0&&(h.preventDefault(),h.stopPropagation(),v.scrollTop+=x)};return g.useEffect(()=>()=>f(),[]),c.jsxs("span",{ref:s,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>{f(),o(!0)},onMouseLeave:()=>{p()},children:[c.jsx("span",{children:e}),a&&typeof document<"u"&&Rd.createPortal(c.jsxs("div",{ref:l,style:d,onMouseEnter:f,onMouseLeave:p,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-100 shadow-lg pointer-events-auto ${i?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 pr-2",style:{scrollbarGutter:"stable",overscrollBehavior:"contain"},onWheel:m,children:n.map(h=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-white",children:c.jsx(xr,{name:h.name,iconUrl:h.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-100 font-mono",children:h.value})]},h.name))})]}),document.body)]})},moe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,selectedPlayers:s,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:p,setExpandedSkillUsageClass:m,togglePlayerSelection:h,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:x,skillUsageView:y,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:S,setSkillUsageSkillFilter:j,selectedSkillId:N,setSelectedSkillId:A,skillBarData:P,selectedSkillName:U,selectedSkillIcon:D,skillUsageReady:I,skillUsageAvailable:O,isSkillUsagePerSecond:H,skillChartData:J,skillChartMaxY:oe,playerTotalsForSkill:je,hoveredSkillPlayer:te,setHoveredSkillPlayer:W,getLineStrokeColor:le,getLineDashForPlayer:k,formatSkillUsageValue:F,renderProfessionIcon:T})=>c.jsxs("div",{id:"skill-usage","data-section-visible":a("skill-usage"),"data-section-first":i("skill-usage"),className:o("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Mk,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Nn,{value:y,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]})]}),s.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),s.map(C=>{const B=d.get(C);return B?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:B.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[B.logs," ",B.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u(B.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(I3,{className:"w-3 h-3"})})]},B.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:v,onChange:C=>x(C.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(C=>{const B=p===C.profession,R=C.players.map(se=>se.key),G=R.length>0&&R.every(se=>s.includes(se));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if(B){m(null);return}m(C.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${B?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[T(C.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:C.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[C.players.length,"p"]}),B?c.jsx(Zx,{className:"w-3.5 h-3.5"}):c.jsx(u8,{className:"w-3.5 h-3.5"})]})]})}),B&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[C.players.length," ",C.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(se=>{if(G)return se.filter(L=>!R.includes(L));const K=new Set(se);return R.forEach(L=>K.add(L)),Array.from(K)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:G?"Clear All":"Select All"})]}),C.players.map(se=>{const K=s.includes(se.key);return c.jsx("button",{type:"button",onClick:()=>h(se.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${K?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:se.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[se.account,"  ",se.profession,"  ",se.logs," ",se.logs===1?"log":"logs"]})]}),K&&c.jsx(P3,{className:"w-4 h-4 text-cyan-300"})]})},se.key)})]})]},C.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:s.length>0?`${s.length} player${s.length===1?"":"s"}  ${H?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:S,onChange:C=>j(C.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:s.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):P.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const C=P.reduce((B,R)=>Math.max(B,R.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:P.map((B,R)=>{const G=Math.min(100,B.total/C*100),se=N===B.skillId;return c.jsxs("button",{type:"button",onClick:()=>A(B.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${se?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${R+1}`}),c.jsx(xr,{name:B.name,iconUrl:B.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:F(B.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${G}%`,backgroundColor:B.color}})})]},B.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:I?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:U?c.jsx(xr,{name:U,iconUrl:D,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",H?"casts per second":"casts per log",")"]})]}),c.jsx(Ao,{width:"100%",height:250,children:c.jsxs(ql,{data:J,children:[c.jsx(Hs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(qs,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:C=>{const B=J[C],R=String((B==null?void 0:B.shortLabel)??C);return R.length>20?`${R.slice(0,20)}`:R}}),c.jsx(Ks,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,oe)],allowDecimals:!1}),c.jsx(Eo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:C,payload:B,label:R})=>{var G;if(!C||!B||B.length===0)return null;const se=[...B].sort((z,ne)=>(ne.value||0)-(z.value||0)),K=se[0],L=((G=K==null?void 0:K.payload)==null?void 0:G.fullLabel)||R;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:L}),c.jsx("div",{className:"space-y-1",children:se.map(z=>{const ne=String(z.name||""),$=d.get(ne),ie=($==null?void 0:$.displayName)||ne||"Player",ge=F(Number(z.value||0)),Y=z.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:Y},children:ie}),c.jsx("span",{className:"text-gray-200 font-mono",children:ge})]},`${ie}-${ge}`)})})]})}}),s.map(C=>{const B=te.includes(C),R=te.length>0,G=le(C,B,R),se=k(C),K=te.length>0&&!B;return c.jsx(si,{dataKey:C,stroke:G,strokeWidth:B?4:3,strokeDasharray:se,opacity:K?.6:1,dot:!1,isAnimationActive:s.length<=16,animationDuration:420,animationEasing:"ease-out"},C)})]})})]}),s.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[s.length," ",s.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...s].sort((C,B)=>(je.get(B)||0)-(je.get(C)||0)).map(C=>{const B=d.get(C),R=je.get(C)??0,G=te.includes(C),se=te.length>0,K=le(C,G,se);return c.jsxs("button",{type:"button",onClick:()=>{W(L=>L.includes(C)?L.filter(z=>z!==C):[...L,C])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${G?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":G,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:K,strokeWidth:"2",strokeDasharray:k(C),strokeLinecap:"round"})}),T(B==null?void 0:B.profession,B==null?void 0:B.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:(B==null?void 0:B.displayName)||C}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[(B==null?void 0:B.logs)??0," ",((B==null?void 0:B.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:F(R)})]},C)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:O?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),hoe=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,a]=g.useState(0),[i,o]=g.useState(0),s=g.useRef(!1),l=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const p=e.current;if(!p)return;let m=0;const h=()=>{const{scrollWidth:w,clientWidth:S,scrollLeft:j}=p,N=w>S,A=n.current,P=(A==null?void 0:A.clientWidth)||0;if(!P){m=window.requestAnimationFrame(h);return}if(!N){a(P),o(0);return}const U=S/w,D=Math.max(20,Math.floor(P*U)),I=w-S,O=Math.max(0,P-D),H=I>0?Math.floor(j/I*O):0;a(D),o(H)};h();const v=()=>h(),x=new ResizeObserver(h);x.observe(p);const y=p.firstElementChild;y instanceof HTMLElement&&x.observe(y),n.current&&x.observe(n.current);const b=new MutationObserver(()=>h());return b.observe(p,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",h),p.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),x.disconnect(),b.disconnect(),window.removeEventListener("resize",h),p.removeEventListener("scroll",v)}},[e]),g.useEffect(()=>{const p=h=>{if(!s.current)return;const v=n.current,x=e.current;if(!v||!x)return;const y=v.getBoundingClientRect(),b=h.clientX-l.current,w=Math.max(0,y.width-r),S=Math.min(w,Math.max(0,u.current+b)),j=x.scrollWidth-x.clientWidth,N=w>0?S/w*j:0;x.scrollLeft=N},m=()=>{s.current=!1};return window.addEventListener("pointermove",p),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",p),window.removeEventListener("pointerup",m)}},[e,r]);const d=p=>{const m=n.current,h=e.current;if(!m||!h||r<=0)return;const v=m.getBoundingClientRect(),x=p.clientX-v.left,y=Math.max(0,v.width-r),b=Math.min(y,Math.max(0,x-r/2)),w=h.scrollWidth-h.clientWidth;h.scrollLeft=y>0?b/y*w:0},f=p=>{r<=0||(s.current=!0,l.current=p.clientX,u.current=i,p.currentTarget.setPointerCapture(p.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${i}px)`},onPointerDown:f})})})},oo=({title:e,subtitle:t,controls:n,columns:r,rows:a,sortColumnId:i,sortDirection:o="desc",onSortColumn:s,className:l=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const p=!!s,m=i===f.id?o==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:p?c.jsxs("button",{type:"button",onClick:()=>s==null?void 0:s(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),m&&c.jsx("span",{className:"text-[10px] text-slate-200",children:m})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),a.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(p=>c.jsx("div",{className:`dense-table__cell ${p.align==="right"?"dense-table__cell--right":""}`,children:f.values[p.id]??"-"},`${f.id}-${p.id}`))]},f.id))]})}),c.jsx(hoe,{containerRef:u})]})},Do=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:a=""})=>{const[i,o]=g.useState(""),[s,l]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),p=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const y=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",y),()=>document.removeEventListener("mousedown",y)},[]);const h=g.useMemo(()=>{const y=i.trim().toLowerCase();return y?e.filter(b=>b.label.toLowerCase().includes(y)).slice(0,50):e.slice(0,50)},[e,i]),v=g.useMemo(()=>{const y=new Map;return h.forEach((b,w)=>{y.set(`${b.type}-${b.id}`,w)}),y},[h]),x=g.useMemo(()=>{const y=h.filter(w=>w.type==="column"),b=h.filter(w=>w.type==="player");return{columns:y,players:b}},[h]);return g.useEffect(()=>{if(s){if(h.length===0){d(0);return}d(y=>Math.min(Math.max(y,0),h.length-1))}},[h,s]),g.useEffect(()=>{if(!s)return;const y=h[u];if(!y)return;const b=`${y.type}-${y.id}`,w=m.current.get(b);w&&p.current&&w.scrollIntoView({block:"nearest"})},[u,h,s]),c.jsxs("div",{ref:f,className:`relative ${a}`,children:[c.jsx("input",{value:i,onChange:y=>{o(y.target.value),l(!0)},onKeyDown:y=>{if(!s&&(y.key==="ArrowDown"||y.key==="ArrowUp")){l(!0);return}if(s)if(y.key==="ArrowDown"){if(y.preventDefault(),h.length===0)return;d(b=>(b+1)%h.length)}else if(y.key==="ArrowUp"){if(y.preventDefault(),h.length===0)return;d(b=>(b-1+h.length)%h.length)}else if(y.key==="Enter"){y.preventDefault();const b=h[u];if(!b)return;r(b),o(""),l(!1)}else y.key==="Escape"&&(y.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),s&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:h.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:p,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[x.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),x.columns.map(y=>{const b=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]}),x.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),x.players.map(y=>{const b=(t==null?void 0:t.has(`${y.type}:${y.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${y.type}-${y.id}`,w)},onClick:()=>{r(y),o(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${y.type}-${y.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${y.type}-${y.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[y.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:y.icon}):null,c.jsx("span",{className:"truncate",children:y.label})]})},`${y.type}-${y.id}`)})]})]})})]})},wr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:a="",buttonLabel:i="Columns",buttonIcon:o})=>{const[s,l]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=p=>{u.current&&(u.current.contains(p.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${a}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[o?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:o}):null,c.jsx("span",{children:i}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),s&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},goe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:p,expandedApmSpec:m,setExpandedApmSpec:h,activeApmSkillId:v,setActiveApmSkillId:x,ALL_SKILLS_KEY:y,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:S,activeApmSkill:j,isAllApmSkills:N,apmView:A,setApmView:P,formatApmValue:U,formatCastRateValue:D,formatCastCountValue:I,renderProfessionIcon:O})=>{var H;const[J,oe]=g.useState({key:"apm",dir:"desc"}),je=e==="apm-stats",[te,W]=g.useState({columnId:"",dir:"desc"}),[le,k]=g.useState([]),[F,T]=g.useState([]),[C,B]=g.useState({}),R=je?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,G=K=>{oe(L=>({key:K,dir:L.key===K&&L.dir==="desc"?"asc":"desc"}))},se=g.useMemo(()=>{const K=[...(S==null?void 0:S.playerRows)||[]];return K.sort((L,z)=>{const ne=J.key==="apm"?Number(A==="perSecond"?L.aps:L.apm):Number(A==="perSecond"?L.apsNoAuto:L.apmNoAuto),$=J.key==="apm"?Number(A==="perSecond"?z.aps:z.apm):Number(A==="perSecond"?z.apsNoAuto:z.apmNoAuto);return(J.dir==="desc"?$-ne:ne-$)||String(L.displayName||"").localeCompare(String(z.displayName||""))}),K},[S,J,A]);return c.jsxs("div",{id:"apm-stats","data-section-visible":a("apm-stats"),"data-section-first":i("apm-stats"),className:o("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Pk,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:b,onChange:K=>w(K.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:R,children:d.map(K=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const L=f!==K.profession;p(K.profession),h(L?K.profession:m===K.profession?null:K.profession),L&&(x(y),k([]),T([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===K.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(K.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:K.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[K.players.length,"p"]})})]})}),!je&&m===K.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:C[K.profession]||"",onChange:L=>{const z=L.target.value;B(ne=>({...ne,[K.profession]:z}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{p(K.profession),x(y)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===K.profession&&N?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(K.skills||[]).filter(L=>{const z=(C[K.profession]||"").trim().toLowerCase();return z?String(L.name||"").toLowerCase().includes(z):!0}).map(L=>c.jsx("button",{type:"button",onClick:()=>{p(K.profession),x(L.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===K.profession&&v===L.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:L.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[L.icon?c.jsx("img",{src:L.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:L.name})]})},L.id)),(K.skills||[]).filter(L=>{const z=(C[K.profession]||"").trim().toLowerCase();return z?String(L.name||"").toLowerCase().includes(z):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},K.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:S?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[je&&(()=>{const K=S.skills||[],L=(S.playerRows||[]).map(ie=>({id:ie.key,label:ie.displayName||ie.account||ie.key,icon:O(ie.profession,ie.professionList,"w-3 h-3")})),z=K.map(ie=>({id:ie.id,label:ie.name,icon:ie.icon?c.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ne=[...K.map(ie=>({id:ie.id,label:ie.name,type:"column",icon:ie.icon?c.jsx("img",{src:ie.icon,alt:"",className:"h-4 w-4"}):void 0})),...(S.playerRows||[]).map(ie=>({id:ie.key,label:ie.displayName||ie.account||ie.key,type:"player",icon:O(ie.profession,ie.professionList,"w-3 h-3")}))],$=new Set([...le.map(ie=>`column:${ie}`),...F.map(ie=>`player:${ie}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:ne,selectedIds:$,onSelect:ie=>{ie.type==="column"?k(ge=>ge.includes(ie.id)?ge.filter(Y=>Y!==ie.id):[...ge,ie.id]):T(ge=>ge.includes(ie.id)?ge.filter(Y=>Y!==ie.id):[...ge,ie.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:z,selectedIds:le,onToggle:ie=>{k(ge=>ge.includes(ie)?ge.filter(Y=>Y!==ie):[...ge,ie])},onClear:()=>k([]),buttonLabel:"Columns",buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:L,selectedIds:F,onToggle:ie=>{T(ge=>ge.includes(ie)?ge.filter(Y=>Y!==ie):[...ge,ie])},onClear:()=>T([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:A,onChange:P,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(le.length>0||F.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{k([]),T([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),le.map(ie=>{var ge;const Y=((ge=K.find(he=>he.id===ie))==null?void 0:ge.name)||ie;return c.jsxs("button",{type:"button",onClick:()=>k(he=>he.filter(Pe=>Pe!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Y}),c.jsx("span",{className:"text-gray-400",children:""})]},ie)}),F.map(ie=>{var ge;const Y=((ge=L.find(he=>he.id===ie))==null?void 0:ge.label)||ie;return c.jsxs("button",{type:"button",onClick:()=>T(he=>he.filter(Pe=>Pe!==ie)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Y}),c.jsx("span",{className:"text-gray-400",children:""})]},ie)})]})]})})(),je?(()=>{var K,L;const z=S.skills||[],ne=le.length>0?z.filter(Y=>le.includes(Y.id)):z,$=F.length>0?(S.playerRows||[]).filter(Y=>F.includes(Y.key)):S.playerRows||[];if(z.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const ie=((K=ne.find(Y=>Y.id===te.columnId))==null?void 0:K.id)||((L=ne[0])==null?void 0:L.id)||"",ge=[...$].map(Y=>{const he={},Pe={};return ne.forEach(mt=>{var Yt;const ye=Number(((Yt=mt.playerCounts)==null?void 0:Yt.get(Y.key))||0),fe=A==="perSecond"?ye/Math.max(1,Y.totalActiveSeconds||0):ye;Pe[mt.id]=fe,he[mt.id]=A==="perSecond"?D(fe):I(fe)}),{row:Y,values:he,numericValues:Pe}}).sort((Y,he)=>{const Pe=Y.numericValues[ie]??0,mt=he.numericValues[ie]??0;return(te.dir==="desc"?mt-Pe:Pe-mt)||String(Y.row.displayName||"").localeCompare(String(he.row.displayName||""))});return c.jsx(oo,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:ie,sortDirection:te.dir,onSortColumn:Y=>{W(he=>({columnId:Y,dir:he.columnId===Y&&he.dir==="desc"?"asc":"desc"}))},columns:ne.map(Y=>({id:Y.id,label:c.jsx(xr,{name:Y.name,iconUrl:Y.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ge.map((Y,he)=>({id:`${S.profession}-${Y.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:he+1}),O(Y.row.profession,Y.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Y.row.displayName})]}),values:Y.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[O(S.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),N||!j?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(xr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:N||!j?`${((H=S.playerRows)==null?void 0:H.length)||0} players`:`${(j==null?void 0:j.totalCasts)??0} casts`})]}),N||!j?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>G("apm"),className:`text-right transition-colors ${J.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",J.key==="apm"?J.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>G("apmNoAuto"),className:`text-right transition-colors ${J.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",J.key==="apmNoAuto"?J.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),N||!j?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:se.map((K,L)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),O(K.profession,K.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:K.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:U(A==="perSecond"?K.aps:K.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:U(A==="perSecond"?K.apsNoAuto:K.apmNoAuto)})]},`${S.profession}-all-${K.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((j==null?void 0:j.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((j==null?void 0:j.playerRows)||[]).map((K,L)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${L+1}`}),O(K.profession,K.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:K.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:I(Number(K.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:U(Number(A==="perSecond"?K.aps||0:K.apm||0))})]},`${S.profession}-${j.id}-${K.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},yoe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,sidebarListClass:s,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:p,setActivePlayerKey:m,expandedPlayerKey:h,setExpandedPlayerKey:v,activePlayerSkillId:x,setActivePlayerSkillId:y,activeClassKey:b,setActiveClassKey:w,expandedClassKey:S,setExpandedClassKey:j,activeClassSkillId:N,setActiveClassSkillId:A,skillSearch:P,setSkillSearch:U,activePlayerBreakdown:D,activePlayerSkill:I,activeClassBreakdown:O,activeClassSkill:H,renderProfessionIcon:J})=>{const oe=d.length,je=((D==null?void 0:D.skills)||[]).reduce((Y,he)=>Y+(he.damage||0),0),te=(O==null?void 0:O.players)||[],[W,le]=g.useState({key:"down",dir:"desc"}),k=e==="player-breakdown",[F,T]=g.useState([]),[C,B]=g.useState([]),[R,G]=g.useState({columnId:"",dir:"desc"}),[se,K]=g.useState({}),[L,z]=g.useState({}),ne=(Y,he)=>{var Pe;return he&&(((Pe=Y.skillMap)==null?void 0:Pe[he])||Y.skills.find(Yt=>Yt.id===he))||null},$=k?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${s} max-h-72 overflow-y-auto`,ie=g.useMemo(()=>{if(!O||!H)return te;const Y=[...te];return Y.sort((he,Pe)=>{const mt=ne(he,H.id),Yt=ne(Pe,H.id),ye=Number((mt==null?void 0:mt.downContribution)||0),fe=Number((Yt==null?void 0:Yt.downContribution)||0),ke=Number((mt==null?void 0:mt.damage)||0),Xe=Number((Yt==null?void 0:Yt.damage)||0),Nt=he.totalFightMs>0?ke/(he.totalFightMs/1e3):0,pn=Pe.totalFightMs>0?Xe/(Pe.totalFightMs/1e3):0;let q=0;return W.key==="down"&&(q=ye-fe),W.key==="damage"&&(q=ke-Xe),W.key==="dps"&&(q=Nt-pn),W.dir==="asc"?q:-q}),Y},[O,te,H,W]),ge=Y=>{le(he=>he.key!==Y?{key:Y,dir:"desc"}:{key:Y,dir:he.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":a("player-breakdown"),"data-section-first":i("player-breakdown"),className:o("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ak,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[oe," ",oe===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:k?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!k&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(Y=>{const he=l===Y.id;return c.jsx("button",{type:"button",onClick:()=>u(Y.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${he?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:Y.label},Y.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:P,onChange:Y=>U(Y.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:$,children:(k?"class":l)==="player"?d.map(Y=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const he=p!==Y.key;he&&(y(null),T([]),B([])),m(Y.key),v(he?Y.key:h===Y.key?null:Y.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p===Y.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:Y.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(Y.profession,Y.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:Y.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[Y.skills.length," skills"]})})]})}),!k&&h===Y.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:se[Y.key]||"",onChange:he=>{const Pe=he.target.value;K(mt=>({...mt,[Y.key]:Pe}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),Y.skills.filter(he=>{const Pe=(se[Y.key]||"").trim().toLowerCase();return Pe?String(he.name||"").toLowerCase().includes(Pe):!0}).map(he=>c.jsx("button",{type:"button",onClick:()=>{m(Y.key),y(he.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${p===Y.key&&x===he.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:he.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[he.icon?c.jsx("img",{src:he.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:he.name})]})},he.id)),Y.skills.filter(he=>{const Pe=(se[Y.key]||"").trim().toLowerCase();return Pe?String(he.name||"").toLowerCase().includes(Pe):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Y.key)):f.map(Y=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const he=b!==Y.profession;he&&(A(null),T([]),B([])),w(Y.profession),j(he?Y.profession:S===Y.profession?null:Y.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===Y.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(Y.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Y.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[Y.players.length,"p"]})})]})}),!k&&S===Y.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:L[Y.profession]||"",onChange:he=>{const Pe=he.target.value;z(mt=>({...mt,[Y.profession]:Pe}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),Y.skills.filter(he=>{const Pe=(L[Y.profession]||"").trim().toLowerCase();return Pe?String(he.name||"").toLowerCase().includes(Pe):!0}).map(he=>c.jsx("button",{type:"button",onClick:()=>{w(Y.profession),A(he.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===Y.profession&&N===he.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:he.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[he.icon?c.jsx("img",{src:he.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:he.name})]})},he.id)),Y.skills.filter(he=>{const Pe=(L[Y.profession]||"").trim().toLowerCase();return Pe?String(he.name||"").toLowerCase().includes(Pe):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Y.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(k?"class":l)==="player"?!D||!k&&!I?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const Y=D.skills||[],he=d.map(ye=>({id:ye.key,label:ye.displayName||ye.key,icon:J(ye.profession,ye.professionList,"w-3 h-3")})),Pe=Y.map(ye=>({id:ye.id,label:ye.name,icon:ye.icon?c.jsx("img",{src:ye.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),mt=[...Y.map(ye=>({id:ye.id,label:ye.name,type:"column",icon:ye.icon?c.jsx("img",{src:ye.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(ye=>({id:ye.key,label:ye.displayName||ye.key,type:"player",icon:J(ye.profession,ye.professionList,"w-3 h-3")}))],Yt=new Set([...F.map(ye=>`column:${ye}`),...C.map(ye=>`player:${ye}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:mt,selectedIds:Yt,onSelect:ye=>{ye.type==="column"?T(fe=>fe.includes(ye.id)?fe.filter(ke=>ke!==ye.id):[...fe,ye.id]):B(fe=>fe.includes(ye.id)?fe.filter(ke=>ke!==ye.id):[...fe,ye.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:Pe,selectedIds:F,onToggle:ye=>{T(fe=>fe.includes(ye)?fe.filter(ke=>ke!==ye):[...fe,ye])},onClear:()=>T([]),buttonLabel:"Columns",buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:he,selectedIds:C,onToggle:ye=>{B(fe=>fe.includes(ye)?fe.filter(ke=>ke!==ye):[...fe,ye])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(F.length>0||C.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),F.map(ye=>{var fe;const ke=((fe=Y.find(Xe=>Xe.id===ye))==null?void 0:fe.name)||ye;return c.jsxs("button",{type:"button",onClick:()=>T(Xe=>Xe.filter(Nt=>Nt!==ye)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ke}),c.jsx("span",{className:"text-gray-400",children:""})]},ye)}),C.map(ye=>{var fe;const ke=((fe=he.find(Xe=>Xe.id===ye))==null?void 0:fe.label)||ye;return c.jsxs("button",{type:"button",onClick:()=>B(Xe=>Xe.filter(Nt=>Nt!==ye)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ke}),c.jsx("span",{className:"text-gray-400",children:""})]},ye)})]})]})})(),k?(()=>{var Y,he;const Pe=D.skills||[],mt=F.length>0?Pe.filter(ke=>F.includes(ke.id)):Pe,Yt=C.length>0?d.filter(ke=>C.includes(ke.key)):d,ye=((Y=mt.find(ke=>ke.id===R.columnId))==null?void 0:Y.id)||((he=mt[0])==null?void 0:he.id)||"",fe=Yt.map(ke=>{const Xe={},Nt={};return mt.forEach(pn=>{const q=ne(ke,pn.id),Qe=Number((q==null?void 0:q.damage)||0);Nt[pn.id]=Qe,Xe[pn.id]=yl(Qe)}),{player:ke,values:Xe,numericValues:Nt}}).sort((ke,Xe)=>{const Nt=ke.numericValues[ye]??0,pn=Xe.numericValues[ye]??0;return(R.dir==="desc"?pn-Nt:Nt-pn)||String(ke.player.displayName||"").localeCompare(String(Xe.player.displayName||""))});return c.jsx(oo,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:ye,sortDirection:R.dir,onSortColumn:ke=>{G(Xe=>({columnId:ke,dir:Xe.columnId===ke&&Xe.dir==="desc"?"asc":"desc"}))},columns:mt.map(ke=>({id:ke.id,label:c.jsx(xr,{name:ke.name,iconUrl:ke.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:fe.map((ke,Xe)=>({id:`${ke.player.key}-${Xe}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Xe+1}),J(ke.player.profession,ke.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ke.player.displayName})]}),values:ke.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[J(D.profession,D.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(xr,{name:(I==null?void 0:I.name)||"",iconUrl:I==null?void 0:I.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[D.skills.length," skills | ",yl(je)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:yl((I==null?void 0:I.downContribution)||0)},{label:"Total Damage",value:yl((I==null?void 0:I.damage)||0)},{label:"DPS",value:ca(D.totalFightMs>0?((I==null?void 0:I.damage)||0)/(D.totalFightMs/1e3):0,1)}].map(Y=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:Y.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Y.value})]},Y.label))})]})]}):!O||!k&&!H?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[k&&(()=>{const Y=O.skills||[],he=te.map(ye=>({id:ye.key,label:ye.displayName||ye.key,icon:J(ye.profession,ye.professionList,"w-3 h-3")})),Pe=Y.map(ye=>({id:ye.id,label:ye.name,icon:ye.icon?c.jsx("img",{src:ye.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),mt=[...Y.map(ye=>({id:ye.id,label:ye.name,type:"column",icon:ye.icon?c.jsx("img",{src:ye.icon,alt:"",className:"h-4 w-4"}):void 0})),...te.map(ye=>({id:ye.key,label:ye.displayName||ye.key,type:"player",icon:J(ye.profession,ye.professionList,"w-3 h-3")}))],Yt=new Set([...F.map(ye=>`column:${ye}`),...C.map(ye=>`player:${ye}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:mt,selectedIds:Yt,onSelect:ye=>{ye.type==="column"?T(fe=>fe.includes(ye.id)?fe.filter(ke=>ke!==ye.id):[...fe,ye.id]):B(fe=>fe.includes(ye.id)?fe.filter(ke=>ke!==ye.id):[...fe,ye.id])},className:"w-full sm:w-64"}),c.jsx(wr,{options:Pe,selectedIds:F,onToggle:ye=>{T(fe=>fe.includes(ye)?fe.filter(ke=>ke!==ye):[...fe,ye])},onClear:()=>T([]),buttonLabel:"Columns",buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:he,selectedIds:C,onToggle:ye=>{B(fe=>fe.includes(ye)?fe.filter(ke=>ke!==ye):[...fe,ye])},onClear:()=>B([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(F.length>0||C.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),B([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),F.map(ye=>{var fe;const ke=((fe=Y.find(Xe=>Xe.id===ye))==null?void 0:fe.name)||ye;return c.jsxs("button",{type:"button",onClick:()=>T(Xe=>Xe.filter(Nt=>Nt!==ye)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ke}),c.jsx("span",{className:"text-gray-400",children:""})]},ye)}),C.map(ye=>{var fe;const ke=((fe=he.find(Xe=>Xe.id===ye))==null?void 0:fe.label)||ye;return c.jsxs("button",{type:"button",onClick:()=>B(Xe=>Xe.filter(Nt=>Nt!==ye)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ke}),c.jsx("span",{className:"text-gray-400",children:""})]},ye)})]})]})})(),k?(()=>{var Y,he;const Pe=O.skills||[],mt=F.length>0?Pe.filter(ke=>F.includes(ke.id)):Pe,Yt=C.length>0?te.filter(ke=>C.includes(ke.key)):te,ye=((Y=mt.find(ke=>ke.id===R.columnId))==null?void 0:Y.id)||((he=mt[0])==null?void 0:he.id)||"",fe=Yt.map(ke=>{const Xe={},Nt={};return mt.forEach(pn=>{const q=ne(ke,pn.id),Qe=Number((q==null?void 0:q.damage)||0);Nt[pn.id]=Qe,Xe[pn.id]=yl(Qe)}),{player:ke,values:Xe,numericValues:Nt}}).sort((ke,Xe)=>{const Nt=ke.numericValues[ye]??0,pn=Xe.numericValues[ye]??0;return(R.dir==="desc"?pn-Nt:Nt-pn)||String(ke.player.displayName||"").localeCompare(String(Xe.player.displayName||""))});return c.jsx(oo,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:ye,sortDirection:R.dir,onSortColumn:ke=>{G(Xe=>({columnId:ke,dir:Xe.columnId===ke&&Xe.dir==="desc"?"asc":"desc"}))},columns:mt.map(ke=>({id:ke.id,label:c.jsx(xr,{name:ke.name,iconUrl:ke.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:fe.map((ke,Xe)=>({id:`${ke.player.key}-${Xe}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Xe+1}),J(ke.player.profession,ke.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ke.player.displayName})]}),values:ke.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[J(O.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:O.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(xr,{name:(H==null?void 0:H.name)||"",iconUrl:H==null?void 0:H.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[te.length," players | ",O.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>ge("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:W.key==="down"?W.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ge("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:W.key==="damage"?W.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>ge("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${W.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:W.key==="dps"?W.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ie.map(Y=>{const he=ne(Y,(H==null?void 0:H.id)||""),Pe=Number((he==null?void 0:he.downContribution)||0),mt=Number((he==null?void 0:he.damage)||0),Yt=Y.totalFightMs>0?mt/(Y.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[J(Y.profession,Y.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Y.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:yl(Pe)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:yl(mt)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ca(Yt,1)})]},`${O.profession}-${Y.key}`)})})]})]})})]})})]})},voe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,playerSkillBreakdowns:s,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,p]=g.useState("damage"),[m,h]=g.useState(""),[v,x]=g.useState(null),y=A=>Number(f==="damage"?A.damage||0:A.downContribution||0),b=A=>(A.skills||[]).reduce((P,U)=>P+y(U),0),w=g.useMemo(()=>{const A=m.trim().toLowerCase();return[...A?s.filter(P=>String(P.displayName||"").toLowerCase().includes(A)||String(P.account||"").toLowerCase().includes(A)||String(P.profession||"").toLowerCase().includes(A)):s].sort((P,U)=>{const D=b(U)-b(P);return D!==0?D:String(P.displayName||"").localeCompare(String(U.displayName||""))})},[s,m,f]),S=g.useMemo(()=>v&&w.find(A=>A.key===v)||null,[w,v]),j=g.useMemo(()=>S?[...S.skills||[]].filter(A=>y(A)>0).sort((A,P)=>y(P)-y(A)).map(A=>({...A,value:y(A)})):[],[S,f]),N=g.useMemo(()=>S?b(S):0,[S,f]);return g.useEffect(()=>{if(w.length===0){v!==null&&x(null);return}v&&!w.some(A=>A.key===v)&&x(null)},[w,v]),c.jsxs("div",{id:u,"data-section-visible":a(u),"data-section-first":i(u),className:o(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(jk,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(Nn,{value:f,onChange:A=>p(A),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]})]}),s.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:A=>h(A.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:w.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):w.map(A=>{const P=v===A.key;return c.jsx("button",{type:"button",onClick:()=>x(A.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${P?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:A.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(A.skills||[]).length," ",(A.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:ca(b(A),0)})]})},A.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:S?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(S.profession,S.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:S.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",j.length," ",j.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:j.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):j.map((A,P)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(xr,{name:A.name,iconUrl:A.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:ca(Number(A.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:N>0?`${ca(Number(A.value||0)/N*100,1)}%`:"0.0%"})]},`${A.id}-${P}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},boe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:p,setTimelineScope:m,playerFilter:h,setPlayerFilter:v,players:x,selectedPlayerKey:y,setSelectedPlayerKey:b,selectedPlayer:w,chartData:S,chartMaxY:j,selectedFightIndex:N,setSelectedFightIndex:A,drilldownTitle:P,drilldownData:U,formatWithCommas:D,renderProfessionIcon:I})=>{const O="boon-timeline",H=e===O,J=w!=null&&w.profession&&w.profession!=="All"?Ds(w.profession):"#22d3ee",oe=p==="selfBuffs"?"Self":p==="groupBuffs"?"Group":p==="squadBuffs"?"Squad":"All",je=F=>String(F||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),te=S.reduce((F,T)=>!F||T.total>F.total?T:F,null),W=N===null?null:S.find(F=>F.index===N)||null,le=W||te,k=F=>{if(!Number.isFinite(F)||F<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(F))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":a(O),"data-section-first":i(O),className:o(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${H?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:H?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Tk,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>H?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${H?"absolute top-2 right-2 md:static":""}`,"aria-label":H?"Close Boon Timeline":"Expand Boon Timeline",title:H?"Close":"Expand",children:H?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:F=>l(F.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(Nn,{value:p,onChange:F=>m(F),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(F=>{const T=d===F.id;return c.jsxs("button",{type:"button",onClick:()=>f(F.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${T?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[F.icon?c.jsx("img",{src:F.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(zc,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:F.name})]},F.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:h,onChange:F=>v(F.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:x.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:x.map(F=>{const T=y===F.key;return c.jsx("button",{type:"button",onClick:()=>b(F.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${T?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[F.key==="__all__"?c.jsx(zc,{className:"w-3.5 h-3.5 text-cyan-300"}):I(F.profession,F.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:F.displayName}),F.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:F.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[F.logs," ",F.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:D((F.total||0)/1e3,0)})]})},F.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",oe," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[S.length," ",S.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!w||S.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(ql,{data:S,onClick:F=>{const T=Number(F==null?void 0:F.activeTooltipIndex);Number.isFinite(T)&&A(N===T?null:T)},children:[c.jsx(Hs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Ks,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:F=>D(F/1e3,0)}),c.jsx(Eo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(F,T)=>[D(Number(F||0)/1e3,0),String(T||"")],labelFormatter:(F,T)=>{var C;const B=(C=T==null?void 0:T[0])==null?void 0:C.payload;return je(String((B==null?void 0:B.fullLabel)||""))}}),c.jsx(si,{type:"monotone",dataKey:"total",name:w.displayName,stroke:J,strokeWidth:3,dot:F=>{var T;const C=Number((T=F==null?void 0:F.payload)==null?void 0:T.index);if(!Number.isFinite(C))return null;const B=N===C;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:R=>{R.stopPropagation(),A(B?null:C)},children:[c.jsx("circle",{cx:F.cx,cy:F.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:F.cx,cy:F.cy,r:B?4:3,fill:J,stroke:B?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:B?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(si,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),w&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[w.key==="__all__"?c.jsx(zc,{className:"w-4 h-4 text-cyan-300"}):I(w.profession,w.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:w.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:W?"Selected Fight Generation":"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:D(Number((le==null?void 0:le.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:W?"Selected Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const F=je((le==null?void 0:le.fullLabel)||"N/A"),T=k(Number((le==null?void 0:le.timestamp)||0));return T?`${T} - ${F}`:F})()})]})]}),w&&N!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:P}),c.jsx("button",{type:"button",onClick:()=>A(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:U.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(ql,{data:U,children:[c.jsx(Hs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Ks,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:F=>D(F/1e3,0)}),c.jsx(Eo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:F=>[D(Number(F||0)/1e3,0),"Generation"],labelFormatter:F=>String(F||"")}),c.jsx(si,{type:"monotone",dataKey:"value",name:"Generation",stroke:J,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},xoe=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:a,isFirstVisibleSection:i,sectionClass:o,boonSearch:s,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,playerFilter:p,setPlayerFilter:m,players:h,selectedPlayerKey:v,setSelectedPlayerKey:x,selectedPlayer:y,chartData:b,chartMaxY:w,selectedFightIndex:S,setSelectedFightIndex:j,drilldownTitle:N,drilldownData:A,overallUptimePercent:P,showStackCapLine:U=!1,formatWithCommas:D,renderProfessionIcon:I})=>{const O="boon-uptime",H=e===O,J=y!=null&&y.profession&&y.profession!=="All"?Ds(y.profession):"#f59e0b",oe=R=>String(R||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),je=b.reduce((R,G)=>!R||G.peak>R.peak?G:R,null),te=S===null?null:b.find(R=>R.index===S)||null,W=te||je,le=U?Math.ceil(Math.max(1,w)+3):Math.max(1,w),k=Math.max(1,...A.map(R=>Math.max(0,Number((R==null?void 0:R.value)||0))),...U?[25]:[]),F=U?Math.ceil(Math.max(1,k)+3):Math.max(1,k),T=U?"average":"uptimePercent",C=U?"Per Fight Average Stacks":"Per Fight Uptime %",B=R=>{if(!Number.isFinite(R)||R<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(R))}catch{return""}};return c.jsxs("div",{id:O,"data-section-visible":a(O),"data-section-first":i(O),className:o(O,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${H?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:H?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Hf,{className:"w-5 h-5 text-amber-300"}),"Boon Uptime"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player to chart per-fight peak stacks and drill into 5-second fight buckets."})]}),c.jsx("button",{type:"button",onClick:()=>H?r():n(O),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${H?"absolute top-2 right-2 md:static":""}`,"aria-label":H?"Close Boon Uptime":"Expand Boon Uptime",title:H?"Close":"Expand",children:H?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:s,onChange:R=>l(R.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(R=>{const G=d===R.id;return c.jsxs("button",{type:"button",onClick:()=>f(R.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${G?"border-amber-300/60 bg-amber-500/15 text-amber-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[R.icon?c.jsx("img",{src:R.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(zc,{className:"h-3.5 w-3.5 text-amber-300"}),c.jsx("span",{children:R.name})]},R.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Players"}),c.jsx("input",{type:"search",value:p,onChange:R=>m(R.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:h.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player uptime."}):c.jsx("div",{className:"p-1.5 space-y-1",children:h.map(R=>{const G=v===R.key;return c.jsx("button",{type:"button",onClick:()=>x(R.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${G?"border-amber-300/60 bg-amber-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.key==="__all__"?c.jsx(Hf,{className:"w-3.5 h-3.5 text-amber-300"}):I(R.profession,R.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:R.displayName}),R.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:R.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[R.logs," ",R.logs===1?"fight":"fights"]})]}),c.jsxs("div",{className:"text-xs font-mono text-amber-200 shrink-0",children:[D(Number(R.uptimePercent||0),1),"%"]})]})},R.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:C}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[b.length," ",b.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!y||b.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon uptime by fight."}):c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(ql,{data:b,onClick:R=>{const G=Number(R==null?void 0:R.activeTooltipIndex);Number.isFinite(G)&&j(S===G?null:G)},children:[c.jsx(Hs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Ks,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,le],tickFormatter:R=>U?D(R,0):`${D(R,0)}%`}),c.jsx(Eo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(R,G)=>[U?D(Number(R||0),1):`${D(Number(R||0),1)}%`,String(G||"")],labelFormatter:(R,G)=>{var se;const K=(se=G==null?void 0:G[0])==null?void 0:se.payload;return oe(String((K==null?void 0:K.fullLabel)||""))}}),c.jsx(si,{type:"monotone",dataKey:T,name:y.displayName,stroke:J,strokeWidth:3,dot:R=>{var G;const se=Number((G=R==null?void 0:R.payload)==null?void 0:G.index);if(!Number.isFinite(se))return null;const K=S===se;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:L=>{L.stopPropagation(),j(K?null:se)},children:[c.jsx("circle",{cx:R.cx,cy:R.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:R.cx,cy:R.cy,r:K?4:3,fill:J,stroke:K?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:K?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),U&&c.jsx(Xw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]}),y&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[y.key==="__all__"?c.jsx(Hf,{className:"w-4 h-4 text-amber-300"}):I(y.profession,y.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:y.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:te?U?"Selected Fight Avg Stacks":"Selected Fight Uptime":"Overall Uptime"}),c.jsx("div",{className:"mt-1 text-lg font-black text-amber-200 font-mono",children:te?U?D(Number(te.average??0),1):`${D(Number(te.uptimePercent||0),1)}%`:P===null?"--":`${D(Number(P||0),1)}%`})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:te?"Selected Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const R=oe((W==null?void 0:W.fullLabel)||"N/A"),G=B(Number((W==null?void 0:W.timestamp)||0));return G?`${G} - ${R}`:R})()})]})]}),y&&S!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:N}),c.jsx("button",{type:"button",onClick:()=>j(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:A.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(ql,{data:A,children:[c.jsx(Hs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Ks,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,F]}),c.jsx(Eo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(R,G)=>[D(Number(R||0),0),String(G||"")],labelFormatter:R=>String(R||"")}),c.jsx(si,{type:"monotone",dataKey:"value",name:"Selected",stroke:J,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}}),U&&c.jsx(Xw,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]})},_F=({className:e})=>c.jsx(S8,{className:e,style:{transform:"rotate(45deg)"}}),el=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:a,content:i})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:a}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:i})]}),Po=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:a="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${a} overflow-y-auto`}`,children:n})]}),woe=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:a,activeOffenseStat:i,setActiveOffenseStat:o,offenseViewMode:s,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:y,sidebarListClass:b})=>{var w;const[S,j]=g.useState({key:"value",dir:"desc"}),[N,A]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),P=f==="offense-detailed",[U,D]=g.useState([]),[I,O]=g.useState([]),H=t.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),J=t.map(k=>({id:k.id,label:k.label})),oe=J.filter(k=>k.label.toLowerCase().includes(r.trim().toLowerCase())),je=U.length>0?t.filter(k=>U.includes(k.id)):t,te=Array.from(new Map(e.offensePlayers.map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:d(k.profession,k.professionList,"w-3 h-3")})),W=new Set([...U.map(k=>`column:${k}`),...I.map(k=>`player:${k}`)]),le=k=>{j(F=>({key:k,dir:F.key===k&&F.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":x("offense-detailed"),className:y("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(_F,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?h():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):P?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:[...J.map(k=>({...k,type:"column"})),...te.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?D(F=>F.includes(k.id)?F.filter(T=>T!==k.id):[...F,k.id]):O(F=>F.includes(k.id)?F.filter(T=>T!==k.id):[...F,k.id])},selectedIds:W,className:"w-full sm:w-64"}),c.jsx(wr,{options:oe,selectedIds:U,onToggle:k=>{D(F=>F.includes(k)?F.filter(T=>T!==k):[...F,k])},onClear:()=>D([]),buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:te,selectedIds:I,onToggle:k=>{O(F=>F.includes(k)?F.filter(T=>T!==k):[...F,k])},onClear:()=>O([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(U.length>0||I.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{D([]),O([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),U.map(k=>{var F;const T=((F=J.find(C=>C.id===k))==null?void 0:F.label)||k;return c.jsxs("button",{type:"button",onClick:()=>D(C=>C.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),I.map(k=>c.jsxs("button",{type:"button",onClick:()=>O(F=>F.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:H.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var k,F;const T=se=>Math.max(1,(se.totalFightMs||0)/1e3),C=(se,K,L)=>{var z,ne,$,ie,ge;if(K==="downContributionPercent"){const Y=((z=se.offenseTotals)==null?void 0:z.downContribution)||0,he=((ne=se.offenseTotals)==null?void 0:ne.damage)||0;return he>0?Y/he*100:0}if(L.isRate){const Y=(($=se.offenseRateWeights)==null?void 0:$[K])||0,he=((ie=se.offenseTotals)==null?void 0:ie[K])||0;return Y>0?he/Y*100:0}return((ge=se.offenseTotals)==null?void 0:ge[K])||0},B=(se,K)=>{const L=n&&!K.isPercent&&s==="total"?0:2,z=u(se,L);return K.isPercent?`${z}%`:z},R=((k=je.find(se=>se.id===N.columnId))==null?void 0:k.id)||((F=je[0])==null?void 0:F.id)||"",G=[...e.offensePlayers].filter(se=>I.length===0||I.includes(se.account)).map(se=>{const K={},L={};return je.forEach(z=>{const ne=C(se,z.id,z),$=s==="total"||z.isPercent||z.isRate?ne:s==="per1s"?ne/T(se):ne*60/T(se);L[z.id]=$,K[z.id]=B($,z)}),{row:se,values:K,numericValues:L}}).sort((se,K)=>{const L=se.numericValues[R]??0,z=K.numericValues[R]??0;return(N.dir==="desc"?z-L:L-z)||String(se.row.account||"").localeCompare(String(K.row.account||""))});return c.jsx(oo,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:R,sortDirection:N.dir,onSortColumn:se=>{A(K=>({columnId:se,dir:K.columnId===se&&K.dir==="desc"?"asc":"desc"}))},columns:je.map(se=>({id:se.id,label:se.label,align:"right",minWidth:90})),rows:G.map((se,K)=>({id:`${se.row.account}-${K}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:K+1}),d(se.row.profession,se.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:se.row.account})]}),values:se.values}))})})()})]}):c.jsx(el,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:k=>a(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:H.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):H.map(k=>c.jsx("button",{onClick:()=>o(k.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===k.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:k.label},k.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const k=t.find(R=>R.id===i)||t[0],F=R=>Math.max(1,(R.totalFightMs||0)/1e3),T=R=>{var G,se,K,L,z;if(k.id==="downContributionPercent"){const ne=((G=R.offenseTotals)==null?void 0:G.downContribution)||0,$=((se=R.offenseTotals)==null?void 0:se.damage)||0;return $>0?ne/$*100:0}if(k.isRate){const ne=((K=R.offenseRateWeights)==null?void 0:K[k.id])||0,$=((L=R.offenseTotals)==null?void 0:L[k.id])||0;return ne>0?$/ne*100:0}return((z=R.offenseTotals)==null?void 0:z[k.id])||0},C=R=>{const G=n&&!k.isPercent&&s==="total"?0:2,se=u(R,G);return k.isPercent?`${se}%`:se},B=[...e.offensePlayers].map(R=>({...R,total:T(R),per1s:k.isPercent||k.isRate?T(R):T(R)/F(R),per60s:k.isPercent||k.isRate?T(R):T(R)*60/F(R)})).sort((R,G)=>{const se=S.key==="fightTime"?Number(R.totalFightMs||0):Number(s==="total"?R.total:s==="per1s"?R.per1s:R.per60s),K=S.key==="fightTime"?Number(G.totalFightMs||0):Number(s==="total"?G.total:s==="per1s"?G.per1s:G.per60s);return(S.dir==="desc"?K-se:se-K)||R.account.localeCompare(G.account)});return c.jsx(Po,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:k.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:s,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>le("value"),className:`text-right transition-colors ${S.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>le("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:B.map((R,G)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:G+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(R.profession,R.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:R.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const se=s==="total"?R.total:s==="per1s"?R.per1s:R.per60s;return C(se)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:R.totalFightMs?`${(R.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${k.id}-${R.account}-${G}`))})})})()})})]})},koe=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:a,setActiveConditionName:i,conditionDirection:o,setConditionDirection:s,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:y,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var j;const N=m==="conditions-outgoing",[A,P]=g.useState([]),[U,D]=g.useState([]),[I,O]=g.useState({columnId:"all",dir:"desc"}),H=k=>{if(!k)return 0;if(o!=="outgoing"){const B=Number(k.applicationsFromUptime);return Number.isFinite(B)&&B>0?B:Number(k.applications||0)}const F=Number(k.applicationsFromUptime);if(Number.isFinite(F)&&F>0)return F;const T=Number(k.applicationsFromBuffsActive);if(Number.isFinite(T)&&T>0)return T;const C=Number(k.applicationsFromBuffs);return Number.isFinite(C)&&C>0?C:Number(k.applications||0)},J=[...e||[]].sort((k,F)=>(F.damage||0)-(k.damage||0)),oe=J.filter(k=>k.name.toLowerCase().includes(n.trim().toLowerCase())),je=oe.map(k=>({id:k.name,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),te=A.length>0?J.filter(k=>A.includes(k.name)):J,W=Array.from(new Map((t||[]).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:p(k.profession,k.professionList,"w-3 h-3")})),le=new Set([...A.map(k=>`column:${k}`),...U.map(k=>`player:${k}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":y("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(oy,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?x():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),e&&e.length>0?N?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:[...J.map(k=>({id:k.name,label:k.name,type:"column"})),...W.map(k=>({...k,type:"player"}))],onSelect:k=>{k.type==="column"?P(F=>F.includes(k.id)?F.filter(T=>T!==k.id):[...F,k.id]):D(F=>F.includes(k.id)?F.filter(T=>T!==k.id):[...F,k.id])},selectedIds:le,className:"w-full sm:w-64"}),c.jsx(wr,{options:je,selectedIds:A,onToggle:k=>{P(F=>F.includes(k)?F.filter(T=>T!==k):[...F,k])},onClear:()=>P([]),buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:W,selectedIds:U,onToggle:k=>{D(F=>F.includes(k)?F.filter(T=>T!==k):[...F,k])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(Nn,{value:u.key,onChange:k=>d({key:k,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:oe.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const k=u.key,F=[{id:"all",label:"All Conditions",icon:null},...te],T=(t||[]).filter(R=>U.length===0||U.includes(R.account)).map(R=>{const G=R.conditions||{},se={},K={};return F.forEach(L=>{if(L.id==="all"||L.name==="All Conditions"){const $=Object.values(G).reduce((ge,Y)=>{const he=H(Y);return ge.applications+=Number(he||0),ge.damage+=Number((Y==null?void 0:Y.damage)||0),ge},{applications:0,damage:0}),ie=k==="applications"?$.applications:$.damage;K.all=ie||0,se.all=Math.round(ie||0).toLocaleString();return}const z=G[L.name],ne=k==="applications"?H(z):Number((z==null?void 0:z.damage)||0);K[L.name]=Number(ne||0),se[L.name]=Math.round(ne||0).toLocaleString()}),{player:R,values:se,numericValues:K}}).filter(R=>Object.values(R.values).some(G=>G!=="0")),C=["all",...te.map(R=>R.name)].includes(I.columnId)?I.columnId:"all",B=[...T].sort((R,G)=>{const se=R.numericValues[C]??0,K=G.numericValues[C]??0;return(I.dir==="desc"?K-se:se-K)||String(R.player.account||"").localeCompare(String(G.player.account||""))});return c.jsx(oo,{title:"Conditions - Dense View",subtitle:k==="applications"?"Applications":"Damage",sortColumnId:C,sortDirection:I.dir,onSortColumn:R=>{O(G=>({columnId:R,dir:G.columnId===R&&G.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...te.map(R=>({id:R.name,label:c.jsx(xr,{name:R.name,iconUrl:R.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:B.map((R,G)=>({id:`${R.player.account}-${G}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:G+1}),p(R.player.profession,R.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:R.player.account})]}),values:R.values}))})})()}),(A.length>0||U.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{P([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),A.map(k=>c.jsxs("button",{type:"button",onClick:()=>P(F=>F.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k)),U.map(k=>c.jsxs("button",{type:"button",onClick:()=>D(F=>F.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}):c.jsx(el,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:k=>r(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:oe.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>i("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),oe.map(k=>c.jsx("button",{type:"button",onClick:()=>i(k.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:k.name,iconUrl:k.icon,iconClassName:"h-5 w-5"})},k.name))]})})]}),content:c.jsx(Po,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:a==="all"?"All Conditions":c.jsx(xr,{name:a,iconUrl:(j=e.find(k=>k.name===a))==null?void 0:j.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const k=(t||[]).map(F=>{const T=F.conditions||{};if(a==="all"){const B=Object.values(T).reduce((R,G)=>{const se=H(G);return R.applications+=Number(se||0),R.damage+=Number((G==null?void 0:G.damage)||0),R},{applications:0,damage:0});return{...F,applications:B.applications,damage:B.damage}}const C=T[a];return{...F,applications:H(C),damage:Number((C==null?void 0:C.damage)||0)}}).filter(F=>F.applications>0||F.damage>0).sort((F,T)=>{const C=u.key==="applications"?F.applications||0:F.damage||0,B=u.key==="applications"?T.applications||0:T.damage||0,R=u.dir==="desc"?B-C:C-B;if(R!==0)return R;const G=u.key==="applications"?(T.damage||0)-(F.damage||0):(T.applications||0)-(F.applications||0);return G!==0?G:String(F.account||"").localeCompare(String(T.account||""))});return k.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):k.map((F,T)=>{var C;const B=F.conditions||{};let R={};a==="all"?Object.values(B).forEach($=>{const ie=($==null?void 0:$.skills)||{};Object.values(ie).forEach(ge=>{const Y=(ge==null?void 0:ge.name)||"Unknown",he=Number((ge==null?void 0:ge.hits)||0),Pe=Number((ge==null?void 0:ge.damage)||0);if((!Number.isFinite(he)||he<=0)&&(!Number.isFinite(Pe)||Pe<=0))return;const mt=R[Y]||{name:Y,hits:0,damage:0,icon:ge==null?void 0:ge.icon};mt.hits+=Number.isFinite(he)?he:0,mt.damage+=Number.isFinite(Pe)?Pe:0,!mt.icon&&ge!=null&&ge.icon&&(mt.icon=ge.icon),R[Y]=mt})}):R=((C=B[a])==null?void 0:C.skills)||{};const G=Object.values(R).filter($=>Number.isFinite($.hits)&&$.hits>0).sort(($,ie)=>ie.hits-$.hits||$.name.localeCompare(ie.name)),se=Object.values(R).filter($=>Number.isFinite($.damage)&&$.damage>0).sort(($,ie)=>ie.damage-$.damage||$.name.localeCompare(ie.name)),K=a==="all"&&G.length>0,L=a==="all"&&se.length>0,z=Math.round(F.applications||0).toLocaleString(),ne=Math.round(F.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:T+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(F.profession,F.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:F.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:K?c.jsx(eE,{value:z,label:"Condition Sources",items:G.map($=>({name:$.name,iconUrl:$.icon,value:Math.round($.hits).toLocaleString()})),className:"justify-end"}):z}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:L?c.jsx(eE,{value:ne,label:"Condition Damage Sources",items:se.map($=>({name:$.name,iconUrl:$.icon,value:Math.round($.damage).toLocaleString()})),className:"justify-end"}):ne}):null]},`${F.account}-${T}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},Soe=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:a,activeBoonTab:i,setActiveBoonTab:o,activeBoonTable:s,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:p,renderProfessionIcon:m,roundCountStats:h,expandedSection:v,expandedSectionClosing:x,openExpandedSection:y,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:S,sectionClass:j,sidebarListClass:N})=>{const[A,P]=g.useState({key:"value",dir:"desc"}),[U,D]=g.useState({columnId:"",dir:"desc"}),I=v==="boon-output",[O,H]=g.useState([]),[J,oe]=g.useState([]),je=e.boonTables||[],te=O.length>0?je.filter(T=>O.includes(T.id)):je,W=l.map(T=>({id:T.id,label:T.name,icon:T.icon?c.jsx("img",{src:T.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),le=Array.from(new Map((e.boonTables||[]).flatMap(T=>T.rows||[]).filter(T=>T.account).map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,icon:m(T.profession,T.professionList,"w-3 h-3")})),k=new Set([...O.map(T=>`column:${T}`),...J.map(T=>`player:${T}`)]),F=T=>{P(C=>({key:T,dir:C.key===T&&C.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":S("boon-output"),className:j("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${x?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(zc,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>v==="boon-output"?b():y("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):I?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:[...je.map(T=>({id:T.id,label:T.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(T=>T.rows||[]).filter(T=>T.account).map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,type:"player",icon:m(T.profession,T.professionList,"w-3 h-3")}))],onSelect:T=>{T.type==="column"?H(C=>C.includes(T.id)?C.filter(B=>B!==T.id):[...C,T.id]):oe(C=>C.includes(T.id)?C.filter(B=>B!==T.id):[...C,T.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:W,selectedIds:O,onToggle:T=>{H(C=>C.includes(T)?C.filter(B=>B!==T):[...C,T])},onClear:()=>H([]),buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:le,selectedIds:J,onToggle:T=>{oe(C=>C.includes(T)?C.filter(B=>B!==T):[...C,T])},onClear:()=>oe([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(O.length>0||J.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{H([]),oe([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),O.map(T=>{var C;const B=((C=je.find(R=>R.id===T))==null?void 0:C.name)||T;return c.jsxs("button",{type:"button",onClick:()=>H(R=>R.filter(G=>G!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:B}),c.jsx("span",{className:"text-gray-400",children:""})]},T)}),J.map(T=>c.jsxs("button",{type:"button",onClick:()=>oe(C=>C.filter(B=>B!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},T))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:je.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var T,C;const B=te,R=((T=B.find(L=>L.id===U.columnId))==null?void 0:T.id)||(i&&B.some(L=>L.id===i)?i:void 0)||((C=B[0])==null?void 0:C.id)||"",G=new Map,se=new Map;B.forEach(L=>{const z=new Map;L.rows.forEach(ne=>{const $=ne.account||ne.name||ne.id;$&&(z.set($,ne),se.has($)||se.set($,ne))}),G.set(L.id,z)});const K=Array.from(se.entries()).filter(([L])=>J.length===0||J.includes(String(L))).map(([L,z])=>{const ne={};return B.forEach($=>{var ie;const ge=(ie=G.get($.id))==null?void 0:ie.get(L);ne[$.id]=ge?f(ge,t,$.stacking,r,{roundCountStats:h}):"-"}),{key:L,row:z,values:ne}}).sort((L,z)=>{var ne,$;if(!R)return String(L.key).localeCompare(String(z.key));const ie=B.find(mt=>mt.id===R),ge=ie?(ne=G.get(ie.id))==null?void 0:ne.get(L.key):null,Y=ie?($=G.get(ie.id))==null?void 0:$.get(z.key):null,he=ge?p(ge,t,ie==null?void 0:ie.stacking,r):0,Pe=Y?p(Y,t,ie==null?void 0:ie.stacking,r):0;return(U.dir==="desc"?Pe-he:he-Pe)||String(L.key).localeCompare(String(z.key))});return c.jsx(oo,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:R,sortDirection:U.dir,onSortColumn:L=>{D(z=>({columnId:L,dir:z.columnId===L&&z.dir==="desc"?"asc":"desc"}))},columns:B.map(L=>({id:L.id,label:c.jsx(xr,{name:L.name,iconUrl:L.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:K.map((L,z)=>({id:`${L.key}-${z}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),m(L.row.profession,L.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:L.row.account||L.row.name||L.key})]}),values:L.values}))})})()})]}):c.jsx(el,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:T=>d(T.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(T=>c.jsx("button",{onClick:()=>o(T.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===T.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:T.name,iconUrl:T.icon,iconClassName:"h-3.5 w-3.5"})},T.id))})]}),content:s?c.jsx(Po,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Nn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:r,onChange:a,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...s.rows].sort((T,C)=>(()=>{const B=A.key==="fightTime"?Number(T.activeTimeMs||0):p(T,t,s.stacking,r),R=A.key==="fightTime"?Number(C.activeTimeMs||0):p(C,t,s.stacking,r);return(A.dir==="desc"?R-B:B-R)||String(T.account||"").localeCompare(String(C.account||""))})()).map((T,C)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:C+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(T.profession,T.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:T.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(T,t,s.stacking,r,{roundCountStats:h})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:T.activeTimeMs?`${(T.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${s.id}-${T.account}-${C}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},Noe=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:a,setActiveDefenseStat:i,defenseViewMode:o,setDefenseViewMode:s,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:y,sidebarListClass:b})=>{var w;const[S,j]=g.useState({key:"value",dir:"desc"}),[N,A]=g.useState("combined"),[P,U]=g.useState({columnId:((w=t[0])==null?void 0:w.id)||"value",dir:"desc"}),D=f==="defense-detailed",[I,O]=g.useState([]),[H,J]=g.useState([]),oe=t.filter(B=>B.label.toLowerCase().includes(n.trim().toLowerCase())),je=t.map(B=>({id:B.id,label:B.label})),te=je.filter(B=>B.label.toLowerCase().includes(n.trim().toLowerCase())),W=I.length>0?t.filter(B=>I.includes(B.id)):t,le=Array.from(new Map(e.defensePlayers.map(B=>[B.account,B])).values()).map(B=>({id:B.account,label:B.account,icon:d(B.profession,B.professionList,"w-3 h-3")})),k=new Set([...I.map(B=>`column:${B}`),...H.map(B=>`player:${B}`)]),F=B=>{j(R=>({key:B,dir:R.key===B&&R.dir==="desc"?"asc":"desc"}))},T=B=>B==="minionDamageTaken",C=(B,R)=>R==="combined"?B.map(G=>({...G,minionList:Object.entries((G==null?void 0:G.minionDamageTakenByMinion)||{}).filter(([,se])=>Number(se||0)>0).sort((se,K)=>Number(K[1]||0)-Number(se[1]||0)).map(([se])=>String(se))})):B.flatMap(G=>{const se=Object.entries((G==null?void 0:G.minionDamageTakenByMinion)||{}).filter(([,K])=>Number(K||0)>0).sort((K,L)=>Number(L[1]||0)-Number(K[1]||0));return se.length===0?[]:se.map(([K,L])=>({...G,minionName:String(K),defenseTotals:{...G.defenseTotals||{},minionDamageTaken:Number(L||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":x("defense-detailed"),className:y("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(xd,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?h():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):D?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:[...je.map(B=>({...B,type:"column"})),...le.map(B=>({...B,type:"player"}))],onSelect:B=>{B.type==="column"?O(R=>R.includes(B.id)?R.filter(G=>G!==B.id):[...R,B.id]):J(R=>R.includes(B.id)?R.filter(G=>G!==B.id):[...R,B.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:te,selectedIds:I,onToggle:B=>{O(R=>R.includes(B)?R.filter(G=>G!==B):[...R,B])},onClear:()=>O([]),buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:le,selectedIds:H,onToggle:B=>{J(R=>R.includes(B)?R.filter(G=>G!==B):[...R,B])},onClear:()=>J([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),W.some(B=>T(B.id))&&c.jsx(Nn,{value:N,onChange:B=>A(B),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||H.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),J([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(B=>{var R;const G=((R=je.find(se=>se.id===B))==null?void 0:R.label)||B;return c.jsxs("button",{type:"button",onClick:()=>O(se=>se.filter(K=>K!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:G}),c.jsx("span",{className:"text-gray-400",children:""})]},B)}),H.map(B=>c.jsxs("button",{type:"button",onClick:()=>J(R=>R.filter(G=>G!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:B}),c.jsx("span",{className:"text-gray-400",children:""})]},B))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:oe.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var B,R;const G=ne=>Math.max(1,(ne.activeMs||0)/1e3),se=(ne,$)=>{const ie=$.isPercent,ge=u(ne,l&&!ie&&o==="total"?0:2);return ie?`${ge}%`:ge},K=((B=W.find(ne=>ne.id===P.columnId))==null?void 0:B.id)||((R=W[0])==null?void 0:R.id)||"",L=[...e.defensePlayers].filter(ne=>H.length===0||H.includes(ne.account)),z=[...W.some(ne=>T(ne.id))?C(L,N):L].map(ne=>{const $={},ie={};return W.forEach(ge=>{var Y;const he=((Y=ne.defenseTotals)==null?void 0:Y[ge.id])||0,Pe=ge.isPercent,mt=o==="total"||Pe?he:o==="per1s"?he/G(ne):he*60/G(ne);ie[ge.id]=mt,$[ge.id]=se(mt,ge)}),{row:ne,values:$,numericValues:ie}}).sort((ne,$)=>{const ie=ne.numericValues[K]??0,ge=$.numericValues[K]??0;return(P.dir==="desc"?ge-ie:ie-ge)||String(ne.row.account||"").localeCompare(String($.row.account||""))});return c.jsx(oo,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:K,sortDirection:P.dir,onSortColumn:ne=>{U($=>({columnId:ne,dir:$.columnId===ne&&$.dir==="desc"?"asc":"desc"}))},columns:W.map(ne=>({id:ne.id,label:ne.label,align:"right",minWidth:90})),rows:z.map((ne,$)=>({id:`${ne.row.account}-${$}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:$+1}),d(ne.row.profession,ne.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:ne.row.account}),N==="combined"&&Array.isArray(ne.row.minionList)&&ne.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:ne.row.minionList.join(", ")}),N==="separate"&&ne.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:ne.row.minionName})]})]}),values:ne.values}))})})()})]}):c.jsx(el,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:B=>r(B.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:oe.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):oe.map(B=>c.jsx("button",{onClick:()=>i(B.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===B.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:B.label},B.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const B=t.find(K=>K.id===a)||t[0],R=K=>Math.max(1,(K.activeMs||0)/1e3),G=[...e.defensePlayers],se=[...T(B.id)?C(G,N):G].map(K=>{var L,z,ne;return{...K,total:((L=K.defenseTotals)==null?void 0:L[B.id])||0,per1s:(((z=K.defenseTotals)==null?void 0:z[B.id])||0)/R(K),per60s:(((ne=K.defenseTotals)==null?void 0:ne[B.id])||0)*60/R(K)}}).sort((K,L)=>{const z=S.key==="fightTime"?Number(K.activeMs||0):Number(o==="total"?K.total:o==="per1s"?K.per1s:K.per60s),ne=S.key==="fightTime"?Number(L.activeMs||0):Number(o==="total"?L.total:o==="per1s"?L.per1s:L.per60s);return(S.dir==="desc"?ne-z:z-ne)||K.account.localeCompare(L.account)});return c.jsx(Po,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:B.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${T(B.id)?"justify-between":"justify-end"}`,children:[T(B.id)&&c.jsx(Nn,{value:N,onChange:K=>A(K),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${S.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",S.key==="value"?S.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${S.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",S.key==="fightTime"?S.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:se.map((K,L)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:L+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(K.profession,K.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:K.account}),T(B.id)&&N==="combined"&&Array.isArray(K.minionList)&&K.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:K.minionList.join(", ")}),T(B.id)&&N==="separate"&&K.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:K.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const z=o==="total"?K.total:o==="per1s"?K.per1s:K.per60s;return u(z,l&&o==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:K.activeMs?`${(K.activeMs/1e3).toFixed(1)}s`:"-"})]},`${B.id}-${K.account}-${L}`))})})})()})})]})},joe=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:a,setActiveDamageMitigationStat:i,damageMitigationViewMode:o,setDamageMitigationViewMode:s,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:y,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var j,N;const A=((j=t.find($=>$.id==="totalMitigation"))==null?void 0:j.id)||((N=t[0])==null?void 0:N.id)||"totalMitigation",[P,U]=g.useState({key:"value",dir:"desc"}),[D,I]=g.useState({columnId:A,dir:"desc"}),O=m==="defense-mitigation",[H,J]=g.useState([]),[oe,je]=g.useState([]),[te,W]=g.useState([]),le=e.damageMitigationPlayers||[],k=e.damageMitigationMinions||[],F=l==="minions"?k:le,T=le.length>0||k.length>0,C=t.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),B=t.map($=>({id:$.id,label:$.label})),R=B.filter($=>$.label.toLowerCase().includes(n.trim().toLowerCase())),G=H.length>0?t.filter($=>H.includes($.id)):t,se=Array.from(new Map(F.map($=>[$.account,$])).values()).map($=>({id:$.account,label:$.account,icon:p($.profession,$.professionList,"w-3 h-3")})),K=Array.from(new Map(k.map($=>[$.minion,$])).values()).filter($=>$==null?void 0:$.minion).map($=>({id:String($.minion),label:String($.minion)})),L=new Set([...H.map($=>`column:${$}`),...oe.map($=>`player:${$}`)]),z=$=>{U(ie=>({key:$,dir:ie.key===$&&ie.dir==="desc"?"asc":"desc"}))},ne=$=>f($,d&&o==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":y("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ok,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?x():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),T?O?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:[...B.map($=>({...$,type:"column"})),...se.map($=>({...$,type:"player"}))],onSelect:$=>{$.type==="column"?J(ie=>ie.includes($.id)?ie.filter(ge=>ge!==$.id):[...ie,$.id]):je(ie=>ie.includes($.id)?ie.filter(ge=>ge!==$.id):[...ie,$.id])},selectedIds:L,className:"w-full sm:w-64"}),c.jsx(wr,{options:R,selectedIds:H,onToggle:$=>{J(ie=>ie.includes($)?ie.filter(ge=>ge!==$):[...ie,$])},onClear:()=>J([]),buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:se,selectedIds:oe,onToggle:$=>{je(ie=>ie.includes($)?ie.filter(ge=>ge!==$):[...ie,$])},onClear:()=>je([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(wr,{options:K,selectedIds:te,onToggle:$=>{W(ie=>ie.includes($)?ie.filter(ge=>ge!==$):[...ie,$])},onClear:()=>W([]),buttonLabel:"Minions"}),c.jsx(Nn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(H.length>0||oe.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{J([]),je([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),H.map($=>{var ie;const ge=((ie=B.find(Y=>Y.id===$))==null?void 0:ie.label)||$;return c.jsxs("button",{type:"button",onClick:()=>J(Y=>Y.filter(he=>he!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:ge}),c.jsx("span",{className:"text-gray-400",children:""})]},$)}),oe.map($=>c.jsxs("button",{type:"button",onClick:()=>je(ie=>ie.filter(ge=>ge!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:$}),c.jsx("span",{className:"text-gray-400",children:""})]},$))]}),l==="minions"&&te.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>W([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),te.map($=>c.jsxs("button",{type:"button",onClick:()=>W(ie=>ie.filter(ge=>ge!==$)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:$}),c.jsx("span",{className:"text-gray-400",children:""})]},$))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:F.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):C.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var $,ie;const ge=Pe=>Math.max(1,(Pe.activeMs||0)/1e3),Y=(($=G.find(Pe=>Pe.id===D.columnId))==null?void 0:$.id)||((ie=G[0])==null?void 0:ie.id)||"",he=[...F].filter(Pe=>oe.length===0||oe.includes(Pe.account)).filter(Pe=>l!=="minions"||!te.length?!0:te.includes(String(Pe.minion||""))).map(Pe=>{const mt={},Yt={};return G.forEach(ye=>{var fe;const ke=((fe=Pe.mitigationTotals)==null?void 0:fe[ye.id])||0,Xe=o==="total"?ke:o==="per1s"?ke/ge(Pe):ke*60/ge(Pe);Yt[ye.id]=Xe,mt[ye.id]=ne(Xe)}),{row:Pe,values:mt,numericValues:Yt}}).sort((Pe,mt)=>{const Yt=Pe.numericValues[Y]??0,ye=mt.numericValues[Y]??0;return(D.dir==="desc"?ye-Yt:Yt-ye)||String(Pe.row.account||"").localeCompare(String(mt.row.account||""))});return c.jsx(oo,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:Y,sortDirection:D.dir,onSortColumn:Pe=>{I(mt=>({columnId:Pe,dir:mt.columnId===Pe&&mt.dir==="desc"?"asc":"desc"}))},columns:G.map(Pe=>({id:Pe.id,label:Pe.label,align:"right",minWidth:90})),rows:he.map((Pe,mt)=>({id:`${Pe.row.account}-${Pe.row.minion||"player"}-${mt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:mt+1}),p(Pe.row.profession,Pe.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Pe.row.account}),Pe.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Pe.row.minion})]})]}),values:Pe.values}))})})()})]}):c.jsx(el,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:$=>r($.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${S} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:C.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):C.map($=>c.jsx("button",{onClick:()=>i($.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===$.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:$.label},$.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const $=t.find(Y=>Y.id===a)||t[0],ie=Y=>Math.max(1,(Y.activeMs||0)/1e3),ge=[...F].map(Y=>{var he,Pe,mt;return{...Y,total:((he=Y.mitigationTotals)==null?void 0:he[$.id])||0,per1s:(((Pe=Y.mitigationTotals)==null?void 0:Pe[$.id])||0)/ie(Y),per60s:(((mt=Y.mitigationTotals)==null?void 0:mt[$.id])||0)*60/ie(Y)}}).filter(Y=>l!=="minions"||!te.length?!0:te.includes(String(Y.minion||""))).sort((Y,he)=>{const Pe=P.key==="fightTime"?Number(Y.activeMs||0):Number(o==="total"?Y.total:o==="per1s"?Y.per1s:Y.per60s),mt=P.key==="fightTime"?Number(he.activeMs||0):Number(o==="total"?he.total:o==="per1s"?he.per1s:he.per60s);return(P.dir==="desc"?mt-Pe:Pe-mt)||Y.account.localeCompare(he.account)});return c.jsx(Po,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:$.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>z("value"),className:`text-right transition-colors ${P.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",P.key==="value"?P.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>z("fightTime"),className:`text-right transition-colors ${P.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",P.key==="fightTime"?P.dir==="desc"?" ":" ":""]})]})]}),rows:ge.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:ge.map((Y,he)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:he+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(Y.profession,Y.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Y.account}),Y.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Y.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Pe=o==="total"?Y.total:o==="per1s"?Y.per1s:Y.per60s;return ne(Pe)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:Y.activeMs?`${(Y.activeMs/1e3).toFixed(1)}s`:"-"})]},`${$.id}-${Y.account}-${Y.minion||"player"}-${he}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},Coe=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:a,setActiveSupportStat:i,supportViewMode:o,setSupportViewMode:s,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:p,expandedSection:m,expandedSectionClosing:h,openExpandedSection:v,closeExpandedSection:x,isSectionVisible:y,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:S})=>{var j;const[N,A]=g.useState({key:"value",dir:"desc"}),[P,U]=g.useState({columnId:((j=t[0])==null?void 0:j.id)||"value",dir:"desc"}),D=m==="support-detailed",[I,O]=g.useState([]),[H,J]=g.useState([]),oe=t.filter(T=>T.label.toLowerCase().includes(n.trim().toLowerCase())),je=t.map(T=>({id:T.id,label:T.label})),te=je.filter(T=>T.label.toLowerCase().includes(n.trim().toLowerCase())),W=I.length>0?t.filter(T=>I.includes(T.id)):t,le=Array.from(new Map(e.supportPlayers.map(T=>[T.account,T])).values()).map(T=>({id:T.account,label:T.account,icon:p(T.profession,T.professionList,"w-3 h-3")})),k=new Set([...I.map(T=>`column:${T}`),...H.map(T=>`player:${T}`)]),F=T=>{A(C=>({key:T,dir:C.key===T&&C.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":y("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Dk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?x():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):D?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:[...je.map(T=>({...T,type:"column"})),...le.map(T=>({...T,type:"player"}))],onSelect:T=>{T.type==="column"?O(C=>C.includes(T.id)?C.filter(B=>B!==T.id):[...C,T.id]):J(C=>C.includes(T.id)?C.filter(B=>B!==T.id):[...C,T.id])},selectedIds:k,className:"w-full sm:w-64"}),c.jsx(wr,{options:te,selectedIds:I,onToggle:T=>{O(C=>C.includes(T)?C.filter(B=>B!==T):[...C,T])},onClear:()=>O([]),buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:le,selectedIds:H,onToggle:T=>{J(C=>C.includes(T)?C.filter(B=>B!==T):[...C,T])},onClear:()=>J([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),a==="condiCleanse"&&c.jsx(Nn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||H.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{O([]),J([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(T=>{var C;const B=((C=je.find(R=>R.id===T))==null?void 0:C.label)||T;return c.jsxs("button",{type:"button",onClick:()=>O(R=>R.filter(G=>G!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:B}),c.jsx("span",{className:"text-gray-400",children:""})]},T)}),H.map(T=>c.jsxs("button",{type:"button",onClick:()=>J(C=>C.filter(B=>B!==T)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},T))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:oe.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var T,C;const B=(L,z)=>{var ne,$,ie;if(z==="condiCleanse"){const ge=((ne=L.supportTotals)==null?void 0:ne.condiCleanse)||0,Y=(($=L.supportTotals)==null?void 0:$.condiCleanseSelf)||0;return l==="all"?ge+Y:ge}return((ie=L.supportTotals)==null?void 0:ie[z])||0},R=L=>Math.max(1,(L.activeMs||0)/1e3),G=(L,z)=>{const ne=L.isTime?1:d&&o==="total"?0:2;return f(z,ne)},se=((T=W.find(L=>L.id===P.columnId))==null?void 0:T.id)||((C=W[0])==null?void 0:C.id)||"",K=[...e.supportPlayers].filter(L=>H.length===0||H.includes(L.account)).map(L=>{const z={},ne={};return W.forEach($=>{const ie=B(L,$.id),ge=o==="total"?ie:o==="per1s"?ie/R(L):ie*60/R(L);ne[$.id]=ge,z[$.id]=G($,ge)}),{row:L,values:z,numericValues:ne}}).sort((L,z)=>{const ne=L.numericValues[se]??0,$=z.numericValues[se]??0;return(P.dir==="desc"?$-ne:ne-$)||String(L.row.account||"").localeCompare(String(z.row.account||""))});return c.jsx(oo,{title:"Support - Dense View",subtitle:"Support",sortColumnId:se,sortDirection:P.dir,onSortColumn:L=>{U(z=>({columnId:L,dir:z.columnId===L&&z.dir==="desc"?"asc":"desc"}))},columns:W.map(L=>({id:L.id,label:L.label,align:"right",minWidth:90})),rows:K.map((L,z)=>({id:`${L.row.account}-${z}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),p(L.row.profession,L.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:L.row.account})]}),values:L.values}))})})()})]}):c.jsx(el,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:T=>r(T.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${S} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:oe.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):oe.map(T=>c.jsx("button",{onClick:()=>i(T.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===T.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:T.label},T.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const T=t.find(G=>G.id===a)||t[0],C=G=>{var se,K,L;if(T.id==="condiCleanse"){const z=((se=G.supportTotals)==null?void 0:se.condiCleanse)||0,ne=((K=G.supportTotals)==null?void 0:K.condiCleanseSelf)||0;return l==="all"?z+ne:z}return((L=G.supportTotals)==null?void 0:L[T.id])||0},B=G=>Math.max(1,(G.activeMs||0)/1e3),R=[...e.supportPlayers].map(G=>({...G,total:C(G),per1s:C(G)/B(G),per60s:C(G)*60/B(G)})).sort((G,se)=>{const K=N.key==="fightTime"?Number(G.activeMs||0):Number(o==="total"?G.total:o==="per1s"?G.per1s:G.per60s),L=N.key==="fightTime"?Number(se.activeMs||0):Number(o==="total"?se.total:o==="per1s"?se.per1s:se.per60s);return(N.dir==="desc"?L-K:K-L)||G.account.localeCompare(se.account)});return c.jsx(Po,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[T.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Nn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>F("value"),className:`text-right transition-colors ${N.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",N.key==="value"?N.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>F("fightTime"),className:`text-right transition-colors ${N.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",N.key==="fightTime"?N.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:R.map((G,se)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:se+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[p(G.profession,G.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:G.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const K=o==="total"?G.total:o==="per1s"?G.per1s:G.per60s,L=T.isTime?1:d&&o==="total"?0:2;return f(K,L)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:G.activeMs?`${(G.activeMs/1e3).toFixed(1)}s`:"-"})]},`${T.id}-${G.account}-${se}`))})})})()})})]})},Moe=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:a,setHealingCategory:i,activeResUtilitySkill:o,setActiveResUtilitySkill:s,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:p,openExpandedSection:m,closeExpandedSection:h,isSectionVisible:v,isFirstVisibleSection:x,sectionClass:y})=>{var b;const[w,S]=g.useState({key:"value",dir:"desc"}),[j,N]=g.useState({columnId:((b=t[0])==null?void 0:b.id)||"value",dir:"desc"}),A=f==="healing-stats",[P,U]=g.useState([]),[D,I]=g.useState([]),O=Array.from(new Map(e.healingPlayers.map(te=>[te.account,te])).values()).map(te=>({id:te.account,label:te.account,icon:d(te.profession,te.professionList,"w-3 h-3")})),H=new Set([...D.map(te=>`column:${te}`),...P.map(te=>`player:${te}`)]),J=t.map(te=>({id:te.id,label:te.label})),oe=D.length>0?t.filter(te=>D.includes(te.id)):t,je=te=>{S(W=>({key:te,dir:W.key===te&&W.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":x("healing-stats"),className:y("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(E3,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?h():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:[...J.map(te=>({...te,type:"column"})),...O.map(te=>({...te,type:"player"}))],onSelect:te=>{te.type==="column"?I(W=>W.includes(te.id)?W.filter(le=>le!==te.id):[...W,te.id]):U(W=>W.includes(te.id)?W.filter(le=>le!==te.id):[...W,te.id])},selectedIds:H,className:"w-full sm:w-64"}),c.jsx(Nn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wr,{options:J,selectedIds:D,onToggle:te=>{I(W=>W.includes(te)?W.filter(le=>le!==te):[...W,te])},onClear:()=>I([]),buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:o,onChange:s,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(te=>({value:te.id,label:te.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(wr,{options:O,selectedIds:P,onToggle:te=>{U(W=>W.includes(te)?W.filter(le=>le!==te):[...W,te])},onClear:()=>U([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(D.length>0||P.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{I([]),U([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map(te=>{var W;const le=((W=J.find(k=>k.id===te))==null?void 0:W.label)||te;return c.jsxs("button",{type:"button",onClick:()=>I(k=>k.filter(F=>F!==te)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:le}),c.jsx("span",{className:"text-gray-400",children:""})]},te)}),P.map(te=>c.jsxs("button",{type:"button",onClick:()=>U(W=>W.filter(le=>le!==te)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:te}),c.jsx("span",{className:"text-gray-400",children:""})]},te))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var te,W;const le=C=>Math.max(1,(C.activeMs||0)/1e3),k=C=>{const B=C.baseField==="resUtility",R=B||a==="total"?"":a==="offSquad"?"offSquad":a;return B?o==="all"?"resUtility":`resUtility_${o}`:R?`${R}${C.baseField[0].toUpperCase()}${C.baseField.slice(1)}`:C.baseField},F=[...e.healingPlayers].filter(C=>P.length===0||P.includes(C.account)).filter(C=>Object.values(C.healingTotals||{}).some(B=>Number(B)>0)).map(C=>{const B={},R={};return oe.forEach(G=>{var se;const K=k(G),L=Number(((se=C.healingTotals)==null?void 0:se[K])??0),z=G.perSecond?L/le(C):L;R[G.id]=z,B[G.id]=u(z,G.decimals)}),{row:C,values:B,numericValues:R}}).sort((C,B)=>{var R,G;const se=((R=oe.find(z=>z.id===j.columnId))==null?void 0:R.id)||((G=oe[0])==null?void 0:G.id)||"",K=C.numericValues[se]??0,L=B.numericValues[se]??0;return(j.dir==="desc"?L-K:K-L)||String(C.row.account||"").localeCompare(String(B.row.account||""))}),T=((te=oe.find(C=>C.id===j.columnId))==null?void 0:te.id)||((W=oe[0])==null?void 0:W.id)||"";return c.jsx(oo,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:T,sortDirection:j.dir,onSortColumn:C=>{N(B=>({columnId:C,dir:B.columnId===C&&B.dir==="desc"?"asc":"desc"}))},columns:oe.map(C=>({id:C.id,label:C.label,align:"right",minWidth:90})),rows:F.map((C,B)=>({id:`${C.row.account}-${B}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:B+1}),d(C.row.profession,C.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.row.account})]}),values:C.values}))})})()})]}):c.jsx(el,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(te=>c.jsx("button",{onClick:()=>r(te.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===te.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:te.label},te.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const te=t.find(C=>C.id===n)||t[0],W=te.baseField==="resUtility",le=C=>Math.max(1,(C.activeMs||0)/1e3),k=W||a==="total"?"":a==="offSquad"?"offSquad":a,F=W?o==="all"?"resUtility":`resUtility_${o}`:k?`${k}${te.baseField[0].toUpperCase()}${te.baseField.slice(1)}`:te.baseField,T=[...e.healingPlayers].filter(C=>Object.values(C.healingTotals||{}).some(B=>Number(B)>0)).map(C=>{var B;const R=Number(((B=C.healingTotals)==null?void 0:B[F])??0),G=te.perSecond?R/le(C):R;return{...C,value:G}}).sort((C,B)=>{const R=w.key==="fightTime"?Number(C.activeMs||0):Number(C.value||0),G=w.key==="fightTime"?Number(B.activeMs||0):Number(B.value||0);return(w.dir==="desc"?G-R:R-G)||C.account.localeCompare(B.account)});return c.jsx(Po,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:te.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[W&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(Nn,{value:o,onChange:s,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(C=>({value:C.id,label:C.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!W&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(Nn,{value:a,onChange:i,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>je("value"),className:`text-right transition-colors ${w.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[te.label,w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>je("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:T.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):T.map((C,B)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:B+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(C.profession,C.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:C.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(C.value,te.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:C.activeMs?`${(C.activeMs/1e3).toFixed(1)}s`:"-"})]},`${te.id}-${C.account}-${B}`))})})})()})})]})},Aoe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",Eoe=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:a,setActiveSpecialTab:i,activeSpecialTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:x})=>{const[y,b]=g.useState("total"),[w,S]=g.useState("desc"),[j,N]=g.useState({columnId:"",dir:"desc"}),A=u==="special-buffs",[P,U]=g.useState([]),[D,I]=g.useState([]),O=e.specialTables||[],H=P.length>0?O.filter(k=>P.includes(k.id)):O,J=r.map(k=>({id:k.id,label:k.name,icon:k.icon?c.jsx("img",{src:k.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),oe=Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,icon:l(k.profession,k.professionList,"w-3 h-3")})),je=new Set([...P.map(k=>`column:${k}`),...D.map(k=>`player:${k}`)]),te=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const k=[...o.rows];return k.sort((F,T)=>{const C=Number((F==null?void 0:F[y])??0),B=Number((T==null?void 0:T[y])??0),R=w==="desc"?B-C:C-B;return R!==0?R:String((F==null?void 0:F.account)||"").localeCompare(String((T==null?void 0:T.account)||""))}),k},[o,y,w]),W=k=>{if(y===k){S(F=>F==="desc"?"asc":"desc");return}b(k),S("desc")},le=k=>y!==k?"":w==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":h("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(sy,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?p():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Do,{options:[...O.map(k=>({id:k.id,label:k.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(k=>k.rows||[]).filter(k=>k.account).map(k=>[k.account,k])).values()).map(k=>({id:k.account,label:k.account,type:"player",icon:l(k.profession,k.professionList,"w-3 h-3")}))],onSelect:k=>{k.type==="column"?U(F=>F.includes(k.id)?F.filter(T=>T!==k.id):[...F,k.id]):I(F=>F.includes(k.id)?F.filter(T=>T!==k.id):[...F,k.id])},selectedIds:je,className:"w-full sm:w-64"}),c.jsx(wr,{options:J,selectedIds:P,onToggle:k=>{U(F=>F.includes(k)?F.filter(T=>T!==k):[...F,k])},onClear:()=>U([]),buttonIcon:c.jsx(Co,{className:"h-3.5 w-3.5"})}),c.jsx(wr,{options:oe,selectedIds:D,onToggle:k=>{I(F=>F.includes(k)?F.filter(T=>T!==k):[...F,k])},onClear:()=>I([]),buttonLabel:"Players",buttonIcon:c.jsx(Er,{className:"h-3.5 w-3.5"})}),c.jsx(Nn,{value:y,onChange:k=>b(k),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(P.length>0||D.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{U([]),I([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(k=>{var F;const T=((F=O.find(C=>C.id===k))==null?void 0:F.name)||k;return c.jsxs("button",{type:"button",onClick:()=>U(C=>C.filter(B=>B!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:T}),c.jsx("span",{className:"text-gray-400",children:""})]},k)}),D.map(k=>c.jsxs("button",{type:"button",onClick:()=>I(F=>F.filter(T=>T!==k)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:k}),c.jsx("span",{className:"text-gray-400",children:""})]},k))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:O.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var k,F;const T=H,C=new Map,B=new Map;T.forEach(K=>{const L=new Map;K.rows.forEach(z=>{const ne=z.account||z.name||z.id;ne&&(L.set(ne,z),B.has(ne)||B.set(ne,z))}),C.set(K.id,L)});const R=Array.from(B.entries()).filter(([K])=>D.length===0||D.includes(String(K))).map(([K,L])=>{const z={},ne={};return T.forEach($=>{var ie;const ge=(ie=C.get($.id))==null?void 0:ie.get(K);if(!ge){z[$.id]="-",ne[$.id]=0;return}if(y==="duration"){z[$.id]=ge.duration?`${ge.duration.toFixed(1)}s`:"-",ne[$.id]=Number(ge.duration||0);return}const Y=y==="total"?ge.total:ge.perSecond,he=y==="total"?0:1;ne[$.id]=Number(Y||0),z[$.id]=s(Y||0,he)}),{key:K,row:L,values:z,numericValues:ne}}),G=((k=T.find(K=>K.id===j.columnId))==null?void 0:k.id)||(a&&T.some(K=>K.id===a)?a:void 0)||((F=T[0])==null?void 0:F.id)||"",se=[...R].sort((K,L)=>{if(!G)return String(K.key).localeCompare(String(L.key));const z=K.numericValues[G]??0,ne=L.numericValues[G]??0;return(j.dir==="desc"?ne-z:z-ne)||String(K.key).localeCompare(String(L.key))});return c.jsx(oo,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:G,sortDirection:j.dir,onSortColumn:K=>{N(L=>({columnId:K,dir:L.columnId===K&&L.dir==="desc"?"asc":"desc"}))},columns:T.map(K=>({id:K.id,label:c.jsx(xr,{name:K.name,iconUrl:K.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:se.map((K,L)=>({id:`${K.key}-${L}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:L+1}),l(K.row.profession,K.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:K.row.account||K.row.name||K.key})]}),values:K.values}))})})()})]}):c.jsx(el,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:k=>n(k.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(k=>c.jsx("button",{onClick:()=>i(k.id),title:k.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===k.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:Aoe(k.name),iconUrl:k.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},k.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Po,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>W("total"),className:`text-right transition-colors ${y==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",le("total")]}),c.jsxs("button",{type:"button",onClick:()=>W("perSecond"),className:`text-right transition-colors ${y==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",le("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>W("duration"),className:`text-right transition-colors ${y==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",le("duration")]})]}),rows:c.jsx(c.Fragment,{children:te.map((k,F)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:F+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(k.profession,k.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:k.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(k.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:s(k.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:k.duration?`${k.duration.toFixed(1)}s`:"-"})]},`${o.id}-${k.account}-${F}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Doe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Poe=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:a,setActiveSigilRelicTab:i,activeSigilRelicTable:o,formatWithCommas:s,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:p,isSectionVisible:m,isFirstVisibleSection:h,sectionClass:v,sidebarListClass:x})=>{const[y,b]=g.useState("desc"),w=u==="sigil-relic-uptime",S=g.useMemo(()=>{if(!(o!=null&&o.rows))return[];const j=[...o.rows];return j.sort((N,A)=>{const P=Number((N==null?void 0:N.uptimePerSecond)??(N==null?void 0:N.perSecond)??0),U=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),D=y==="desc"?U-P:P-U;return D!==0?D:String((N==null?void 0:N.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),j},[o,y]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":h("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ik,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?p():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),e?c.jsx(el,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${x} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(j=>c.jsx("button",{onClick:()=>i(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===j.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(xr,{name:Doe(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:c.jsx(c.Fragment,{children:o?c.jsx(Po,{expanded:w,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(xr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>b(j=>j==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",y==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:S.map((j,N)=>{const A=Number(j.uptimePerSecond??j.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:N+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:j.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[s(A,1),"%"]})]},`${o.id}-${j.account}-${N}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Toe=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:a,closeExpandedSection:i,isSectionVisible:o,isFirstVisibleSection:s,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,p]=g.useState(""),[m,h]=g.useState(""),[v,x]=g.useState(null);g.useEffect(()=>{var I,O,H;if(u.length===0){p(""),h("");return}const J=String(((I=u[0])==null?void 0:I.id)||""),oe=String(((O=u[1])==null?void 0:O.id)||((H=u[0])==null?void 0:H.id)||"");p(je=>je&&u.some(te=>String(te.id)===je)?je:J),h(je=>je&&u.some(te=>String(te.id)===je)?je:oe)},[u]);const y=g.useMemo(()=>u.find(I=>String(I.id)===String(f))||null,[u,f]),b=g.useMemo(()=>u.find(I=>String(I.id)===String(m))||null,[u,m]),w=g.useMemo(()=>{if(!y||!b)return[];const I=new Map,O=(H,J,oe,je)=>{const te=String(H||"Unknown"),W=I.get(te)||{label:te,aDamage:0,aShare:0,bDamage:0,bShare:0};J==="a"?(W.aDamage=Number(oe||0),W.aShare=Number(je||0)):(W.bDamage=Number(oe||0),W.bShare=Number(je||0)),I.set(te,W)};return(y.targetFocus||[]).forEach(H=>O(H.label,"a",H.damage,H.share)),(b.targetFocus||[]).forEach(H=>O(H.label,"b",H.damage,H.share)),Array.from(I.values()).map(H=>({...H,shareDelta:H.bShare-H.aShare})).sort((H,J)=>Math.abs(J.shareDelta)-Math.abs(H.shareDelta)||J.bDamage+J.aDamage-(H.bDamage+H.aDamage))},[y,b]),S=g.useMemo(()=>{if(!v)return w;const I=v.direction==="asc"?1:-1,O=v.key;return[...w].sort((H,J)=>{const oe=(Number(H[O])-Number(J[O]))*I;return oe!==0?oe:H.label.localeCompare(J.label)})},[w,v]),j=g.useMemo(()=>{if(!y||!b)return[];const I=new Map((y.squadMetrics||[]).map(H=>[H.metricId,H])),O=new Map((b.squadMetrics||[]).map(H=>[H.metricId,H]));return Array.from(new Set([...I.keys(),...O.keys()])).map(H=>{const J=I.get(H),oe=O.get(H),je=!!((J==null?void 0:J.higherIsBetter)??(oe==null?void 0:oe.higherIsBetter)??!0),te=Number((J==null?void 0:J.value)||0),W=Number((oe==null?void 0:oe.value)||0);return{metricId:H,metricLabel:String((J==null?void 0:J.metricLabel)||(oe==null?void 0:oe.metricLabel)||H),higherIsBetter:je,a:J,b:oe,delta:W-te}})},[y,b]),N=I=>`${t((Number(I)||0)*100,1)}%`,A=I=>I==="squadKdr"?2:0,P=I=>{x(O=>!O||O.key!==I?{key:I,direction:"desc"}:{key:I,direction:O.direction==="desc"?"asc":"desc"})},U=I=>(v==null?void 0:v.key)===I?v.direction==="desc"?" ":" ":"",D=I=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(v==null?void 0:v.key)===I?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":o("fight-diff-mode"),"data-section-first":s("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ck,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?i():a("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:I=>p(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-a-${I.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:I=>h(I.target.value),children:u.map(I=>c.jsxs("option",{value:I.id,children:[I.shortLabel," - ",I.fullLabel]},`fight-b-${I.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Po,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("aDamage"),onClick:()=>P("aDamage"),children:[y==null?void 0:y.shortLabel," Damage",U("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("aShare"),onClick:()=>P("aShare"),children:[y==null?void 0:y.shortLabel," Share",U("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("bDamage"),onClick:()=>P("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",U("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("bShare"),onClick:()=>P("bShare"),children:[b==null?void 0:b.shortLabel," Share",U("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:D("shareDelta"),onClick:()=>P("shareDelta"),children:["Share Delta",U("shareDelta")]})})]})})]})}):null,rows:w.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:S.map(I=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(I.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(I.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:N(I.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${I.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[I.shareDelta>=0?"+":"",N(I.shareDelta)]})]},`focus-${I.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(Po,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:j.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[y==null?void 0:y.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:j.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:j.map(I=>{var O,H;const J=I.higherIsBetter?I.delta>=0:I.delta<=0,oe=A(I.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:I.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((O=I.a)==null?void 0:O.value)||0),oe)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((H=I.b)==null?void 0:H.value)||0),oe)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${J?"text-emerald-300":"text-red-300"}`,children:[I.delta>0?"+":"",t(I.delta,oe)]})]},`performer-${I.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Ooe=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),Ioe=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,expandedSection:r,expandedSectionClosing:a,openExpandedSection:i,closeExpandedSection:o,isSectionVisible:s,isFirstVisibleSection:l,sectionClass:u})=>{const d="fight-breakdown",f=r===d,p=Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[],m=g.useMemo(()=>{const b=new Map;return p.forEach(w=>{(Array.isArray(w==null?void 0:w.teamBreakdown)?w.teamBreakdown:[]).forEach(S=>{const j=String((S==null?void 0:S.teamId)??"").trim(),N=Number((S==null?void 0:S.count)||0);!j||!Number.isFinite(N)||N<=0||b.set(j,(b.get(j)||0)+N)})}),Array.from(b.entries()).sort((w,S)=>{const j=S[1]-w[1];return j!==0?j:w[0].localeCompare(S[0],void 0,{numeric:!0})}).map(([w])=>w)},[p]),h=b=>{const w=b==null?void 0:b.timestamp;let S=0;if(typeof w=="number")S=w>1e12?w:w*1e3;else if(typeof w=="string"&&w.trim()){const P=Number(w);if(Number.isFinite(P)&&P>0)S=P>1e12?P:P*1e3;else{const U=Date.parse(w);Number.isFinite(U)&&U>0&&(S=U)}}const j=S>0?new Date(S).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(S).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",N=(b==null?void 0:b.mapName)||(b==null?void 0:b.map)||"Unknown Map",A=String(N).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${j}  ${A}`},v=b=>{const w=h(b);return b!=null&&b.permalink?c.jsx("button",{onClick:()=>{var S;b.permalink&&(S=window.electronAPI)!=null&&S.openExternal?window.electronAPI.openExternal(b.permalink):b.permalink&&window.open(b.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:w}):c.jsx("span",{className:"text-gray-500",children:"Pending"})},x=g.useMemo(()=>[{id:"duration",label:"Duration",align:"left",minWidth:72},{id:"outcome",label:"Outcome",align:"left",minWidth:72},{id:"squad",label:"Squad",align:"right",minWidth:72},{id:"allies",label:"Allies",align:"right",minWidth:72},{id:"enemies",label:"Enemies",align:"right",minWidth:72},...m.map(b=>({id:`team-${b}`,label:`Team ${b}`,align:"right",minWidth:72})),{id:"alliesDown",label:"Allies Down",align:"right",minWidth:88},{id:"alliesDead",label:"Allies Dead",align:"right",minWidth:88},{id:"alliesRevived",label:"Allies Revived",align:"right",minWidth:102},{id:"rallies",label:"Rallies",align:"right",minWidth:72},{id:"enemyDowns",label:"Enemy Downs",align:"right",minWidth:88},{id:"enemyDeaths",label:"Enemy Deaths",align:"right",minWidth:88},{id:"outgoingDmg",label:"Outgoing Dmg",align:"right",minWidth:110},{id:"incomingDmg",label:"Incoming Dmg",align:"right",minWidth:110},{id:"damageDelta",label:"Damage Delta",align:"right",minWidth:98},{id:"barrierIn",label:"Barrier Absorb",align:"right",minWidth:110},{id:"barrierOut",label:"Enemy Barrier Absorb",align:"right",minWidth:146},{id:"barrierDelta",label:"Barrier Delta",align:"right",minWidth:98}],[m]),y=g.useMemo(()=>p.map((b,w)=>{const S=Number((b.totalOutgoingDamage||0)-(b.totalIncomingDamage||0)),j=Number((b.outgoingBarrierAbsorbed||0)-(b.incomingBarrierAbsorbed||0)),N={duration:b.duration||"--:--",outcome:c.jsx("span",{className:`font-semibold ${b.isWin===!0?"text-emerald-300":b.isWin===!1?"text-red-300":"text-amber-200"}`,children:b.isWin===!0?"Win":b.isWin===!1?"Loss":"Unknown"}),squad:c.jsx(Ou,{count:b.squadCount??0,classCounts:b.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"}),allies:c.jsx(Ou,{count:b.allyCount??0,classCounts:b.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"}),enemies:c.jsx(Ou,{count:b.enemyCount??0,classCounts:b.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"}),alliesDown:Number(b.alliesDown??0),alliesDead:Number(b.alliesDead??0),alliesRevived:Number(b.alliesRevived??0),rallies:Number(b.rallies??0),enemyDowns:Number(b.enemyDowns??0),enemyDeaths:Number(b.enemyDeaths??0),outgoingDmg:Number(b.totalOutgoingDamage||0).toLocaleString(),incomingDmg:Number(b.totalIncomingDamage||0).toLocaleString(),damageDelta:c.jsx("span",{className:S<0?"text-red-300":"text-emerald-300",children:S.toLocaleString()}),barrierIn:Number(b.incomingBarrierAbsorbed||0).toLocaleString(),barrierOut:Number(b.outgoingBarrierAbsorbed||0).toLocaleString(),barrierDelta:c.jsx("span",{className:j<0?"text-emerald-300":"text-red-300",children:j.toLocaleString()})};return m.forEach(A=>{const P=(Array.isArray(b.teamBreakdown)?b.teamBreakdown:[]).find(U=>String((U==null?void 0:U.teamId)??"")===A);N[`team-${A}`]=Number((P==null?void 0:P.count)||0)}),{id:String(b.id||`${b.label}-${w}`),label:c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:w+1}),v(b)]}),values:N}}),[p,m]);return c.jsx("div",{id:d,"data-section-visible":s(d),"data-section-first":l(d),className:u(d,`mt-6 stats-share-exclude ${f?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${a?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:c.jsxs("div",{className:`bg-white/5 border border-white/10 rounded-2xl p-6 ${f?"rounded-none border-0 min-h-full":""}`,children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4 relative",children:[c.jsx("h3",{className:`text-lg font-bold text-gray-200 ${f?"pr-10 sm:pr-0":""}`,children:"Fight Breakdown"}),c.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${f?"pr-10 sm:pr-0":""}`,children:[!f&&c.jsx(Nn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[p.length," Fights"]}),c.jsx("button",{type:"button",onClick:()=>f?o():i(d),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${f?"absolute top-0 right-0 sm:static":""}`,"aria-label":f?"Close Fight Breakdown":"Expand Fight Breakdown",title:f?"Close":"Expand",children:f?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]})]}),p.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):f?c.jsx(oo,{title:"Fight Breakdown (All Columns)",subtitle:"Fullscreen dense view combining Sizes, Outcome, Damage, and Barrier metrics.",className:"fight-breakdown-dense",columns:x,rows:y}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),m.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):m.map(b=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${b}`},b))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:p.map((b,w)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:w+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:v(b)}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:b.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${b.isWin===!0?"text-emerald-300":b.isWin===!1?"text-red-300":"text-amber-200"}`,children:b.isWin===!0?"Win":b.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Ou,{count:b.squadCount??0,classCounts:b.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Ou,{count:b.allyCount??0,classCounts:b.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(Ou,{count:b.enemyCount??0,classCounts:b.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),m.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):m.map(S=>{const j=(Array.isArray(b.teamBreakdown)?b.teamBreakdown:[]).find(N=>String((N==null?void 0:N.teamId)??"")===S);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((j==null?void 0:j.count)||0)},S)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(b.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(b.totalIncomingDamage||0).toLocaleString()}),(()=>{const S=Number((b.totalOutgoingDamage||0)-(b.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${S<0?"text-red-300":"text-emerald-300"}`,children:S.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(b.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(b.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const S=Number((b.outgoingBarrierAbsorbed||0)-(b.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${S<0?"text-emerald-300":"text-red-300"}`,children:S.toLocaleString()})})()]})]},b.id||`${b.label}-${w}`))})]})})})]})})},tE={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},_oe=({icon:e,title:t,data:n,color:r,unit:a="",onClick:i,active:o,rows:s,formatValue:l,renderProfessionIcon:u})=>{const d=tE[r]||tE.blue,f=(n==null?void 0:n.value)??0,p=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:i,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),i==null||i())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${o?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[p," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:a})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),o&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),s!=null&&s.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:s.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Loe=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(i=>({...i,value:Number((i==null?void 0:i.value)??0)})).filter(i=>Number.isFinite(i.value)).sort((i,o)=>{const s=t?o.value-i.value:i.value-o.value;return s!==0?s:String((i==null?void 0:i.account)||"").localeCompare(String((o==null?void 0:o.account)||""))});let r=null,a=0;return n.map((i,o)=>((r===null||i.value!==r)&&(a=o+1,r=i.value),{...i,rank:a}))},nE=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Foe=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:a,setExpandedLeader:i,formatTopStatValue:o,formatWithCommas:s,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:p("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Bc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(f8,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(sy,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx(Tg,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,h)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:nE(m.val,o)})]},h))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var h,v,x,y,b;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(h=m.data)!=null&&h.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((x=m.data)==null?void 0:x.profession)||"Unknown"})]})]}),(b=(y=m.data)==null?void 0:y.topStats)!=null&&b.some(w=>l(w.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,S)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:w.name}),c.jsx("span",{className:"tabular-nums leading-none",children:nE(w.val,o)})]},S))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",h=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,x=m?"":"Total ",y=m?" /s":"",b=[{icon:y8,title:`Down Contribution${y}`,data:h.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:xd,title:`${x}Barrier${y}`,data:h.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:E3,title:`${x}Healing${y}`,data:h.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:j8,title:`${x}Dodges${y}`,data:h.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:xp,title:`${x}Strips${y}`,data:h.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:h8,title:`${x}Cleanses${y}`,data:h.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:g8,title:`${x}CC${y}`,data:h.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:O3,title:`${x}Stab Gen${y}`,data:h.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:d8,title:"Closest to Tag",data:h.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=S=>!m||!Number.isFinite(S)?o(S):s(S,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(S=>{var j,N,A,P;const U=a==="all",D=Loe((v==null?void 0:v[S.statKey])||[],S.higherIsBetter),I=D[0],O=I?{...S.data,value:Number(I.value||0),player:I.account||((j=S.data)==null?void 0:j.player)||"-",count:I.count||((N=S.data)==null?void 0:N.count)||0,profession:I.profession||((A=S.data)==null?void 0:A.profession)||"Unknown",professionList:I.professionList||((P=S.data)==null?void 0:P.professionList)||[]}:S.data;return c.jsx(_oe,{...S,data:O,active:U,onClick:()=>i(H=>H==="all"?null:"all"),rows:D,formatValue:w,renderProfessionIcon:u},S.statKey)})})})()]}):null,Roe=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",s=o==="downContribution",l=s?"Down Contrib":"Damage",u=o,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,p=g.useMemo(()=>s&&f?f:!s&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((v,x)=>{const y=Number((v==null?void 0:v[u])||0);return Number((x==null?void 0:x[u])||0)-y||Number((x==null?void 0:x.hits)||0)-Number((v==null?void 0:v.hits)||0)||String((v==null?void 0:v.name)||"").localeCompare(String((x==null?void 0:x.name)||""))}),[s,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...p.map(v=>Number((v==null?void 0:v[u])||0))),[p,u]),h=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":a("top-skills-outgoing"),className:i("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:i("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Nk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),h&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(v=>{const x=(t||e.topSkillsMetric)===v.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(v.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${x?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:v.label},v.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[p.map((v,x)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(xr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(v[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(v[u]||0)/m*100}%`}})})]})]},`outgoing-${v.name||"unknown"}-${x}`)),p.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:i("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(s8,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((v,x)=>{var y;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",x+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(xr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(v.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${v.damage/(((y=e.topIncomingSkills[0])==null?void 0:y.damage)||1)*100}%`}})})]})]},`incoming-${v.name||"unknown"}-${x}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},$oe=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>{const o=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":o,"data-section-first":a("squad-composition"),className:i("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(n1,{children:[c.jsx(S0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((s,l)=>c.jsx(Pd,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Eo,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(oy,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(n1,{children:[c.jsx(S0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((s,l)=>c.jsx(Pd,{fill:s.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Eo,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${o?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(s=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:s.color}}),n(s.name)?c.jsx("img",{src:n(s.name),alt:s.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:s.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",s.value,")"]})]},s.name))})})]})]})]})},Boe=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:a,sectionClass:i})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":a("timeline"),className:i("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(o=>c.jsx("button",{type:"button",onClick:()=>n(o.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===o.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:o.label},o.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(ql,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Hs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(qs,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(Ks,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(Eo,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(o,s)=>{var l;const u=(l=s==null?void 0:s[0])==null?void 0:l.payload,d=(u==null?void 0:u.isWin)===!0?"Win":(u==null?void 0:u.isWin)===!1?"Loss":"Unknown";return`${typeof(u==null?void 0:u.label)=="string"&&u.label.trim().length>0?u.label:`Log ${o}`}  ${d}`},formatter:(o,s)=>[o,s==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(si,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(si,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),zoe=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(Ek,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(n1,{children:[c.jsx(S0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((a,i)=>c.jsx(Pd,{fill:a.color,stroke:"rgba(0,0,0,0.5)"},`cell-${i}`))}),c.jsx(Eo,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(eI,{verticalAlign:"bottom",height:36,payload:e.map(a=>({id:a.name,type:"square",value:a.name,color:a.color,payload:a})),formatter:(a,i)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[a," ",c.jsxs("span",{className:"text-gray-500",children:["(",i.payload.value,")"]})]})})]})})})]}),rE=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:a="Search player or account",titleIconClassName:i="text-rose-300",expandedSection:o,expandedSectionClosing:s,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:p,spikePlayerFilter:m,setSpikePlayerFilter:h,groupedSpikePlayers:v,spikeMode:x,setSpikeMode:y,damageBasis:b="all",setDamageBasis:w,showDamageBasisToggle:S=!1,selectedSpikePlayerKey:j,setSelectedSpikePlayerKey:N,selectedSpikePlayer:A,spikeChartData:P,spikeChartMaxY:U,selectedSpikeFightIndex:D,setSelectedSpikeFightIndex:I,spikeDrilldownTitle:O,spikeDrilldownData:H,spikeDrilldownDownIndices:J,spikeDrilldownDeathIndices:oe,spikeFightSkillRows:je=[],spikeFightSkillTitle:te="Skill Damage (Selected Fight)",formatWithCommas:W,renderProfessionIcon:le})=>{const[k,F]=g.useState(null),[T,C]=g.useState(null),B=fe=>String(fe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),R=o===e,G=A?Ds(A.profession):"#fda4af",se=b==="downContribution",K=x==="hit"?se?"Highest Down Contribution":"Highest Damage":x==="1s"?"1s Burst":x==="5s"?"5s Burst":"30s Burst",L=fe=>x==="hit"?se?fe.peakHitDown:fe.peakHit:x==="1s"?se?fe.peak1sDown:fe.peak1s:x==="5s"?se?fe.peak5sDown:fe.peak5s:se?fe.peak30sDown:fe.peak30s,z=v.flatMap(fe=>fe.players.map(ke=>({...ke,groupProfession:fe.profession}))).sort((fe,ke)=>{const Xe=L(ke)-L(fe);return Xe!==0?Xe:fe.displayName.localeCompare(ke.displayName)}),ne=P.reduce((fe,ke)=>!fe||ke.damage>fe.damage?ke:fe,null),$=D===null?null:P.find(fe=>fe.index===D)||null,ie=$||ne,ge=fe=>{if(!Number.isFinite(fe)||fe<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(fe))}catch{return""}},Y=H.reduce((fe,ke)=>Math.max(fe,Number(ke.value||0)),0),he=Math.max(1,Y),Pe=new Set(J),mt=new Set(oe),Yt=H.map((fe,ke)=>({...fe,downMarker:Pe.has(ke)?Math.max(Number(fe.value||0),he*.88):null,deathMarker:mt.has(ke)?Math.max(Number(fe.value||0),he*.96):null})),ye=fe=>ke=>{const Xe=Number(ke==null?void 0:ke.cx),Nt=Number(ke==null?void 0:ke.cy),pn=Number(ke==null?void 0:ke.index);if(!Number.isFinite(Xe)||!Number.isFinite(Nt)||!Number.isFinite(pn))return null;const q=(ke==null?void 0:ke.payload)||{},Qe=fe==="down"?q==null?void 0:q.downMarker:q==null?void 0:q.deathMarker;if(!Number.isFinite(Number(Qe)))return null;const Pt=`${fe}-${pn}`,Zt=k===Pt,Sn=fe==="down"?"#facc15":"#ef4444",Qn=fe==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{F(Pt),C({x:Xe,y:Nt,kind:fe,label:String((q==null?void 0:q.label)||"")})},onMouseLeave:()=>{F(bn=>bn===Pt?null:bn),C(bn=>(bn==null?void 0:bn.kind)===fe&&(bn==null?void 0:bn.label)===String((q==null?void 0:q.label)||"")?null:bn)},children:[c.jsx("circle",{cx:Xe,cy:Nt,r:Zt?10:7,fill:Qn,opacity:Zt?.35:.18}),c.jsx("circle",{cx:Xe,cy:Nt,r:Zt?7:5.5,fill:Sn,stroke:"#0f172a",strokeWidth:Zt?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:p(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${R?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${s?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:R?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(xp,{className:`w-5 h-5 ${i}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${R?"pr-10 md:pr-0":""}`,children:[S&&w&&c.jsx(Nn,{value:b,onChange:fe=>w(fe),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Nn,{value:x,onChange:fe=>y(fe),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>R?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${R?"absolute top-2 right-2 md:static":""}`,"aria-label":R?`Close ${t}`:`Expand ${t}`,title:R?"Close":"Expand",children:R?c.jsx(ta,{className:"w-4 h-4"}):c.jsx(ma,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:fe=>h(fe.target.value),placeholder:a,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:z.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:z.map(fe=>{const ke=j===fe.key;return c.jsx("button",{type:"button",onClick:()=>N(fe.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ke?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[le(fe.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:fe.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:fe.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[fe.characterName||fe.displayName,"  ",fe.logs," ",fe.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:W(L(fe)||0,0)})]})},fe.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",K]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[P.length," ",P.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!A||P.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(ql,{data:P,onClick:fe=>{const ke=Number(fe==null?void 0:fe.activeTooltipIndex);Number.isFinite(ke)&&I(D===ke?null:ke)},children:[c.jsx(Hs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(qs,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Ks,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,U)],tickFormatter:fe=>W(fe,0)}),c.jsx(Eo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(fe,ke)=>[W(Number(fe||0),0),String(ke||"")],labelFormatter:(fe,ke)=>{var Xe;const Nt=(Xe=ke==null?void 0:ke[0])==null?void 0:Xe.payload;if(!Nt)return"";const pn=B(Nt.fullLabel||"");return x==="hit"&&Nt.skillName?`${pn}  ${Nt.skillName}`:pn}}),c.jsx(si,{type:"monotone",dataKey:"damage",name:A.displayName,stroke:G,strokeWidth:3,dot:fe=>{var ke;const Xe=Number((ke=fe==null?void 0:fe.payload)==null?void 0:ke.index);if(!Number.isFinite(Xe))return null;const Nt=D===Xe;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:pn=>{pn.stopPropagation(),I(Nt?null:Xe)},children:[c.jsx("circle",{cx:fe.cx,cy:fe.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:fe.cx,cy:fe.cy,r:Nt?4:3,fill:G,stroke:Nt?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Nt?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(si,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),A&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[le(A.profession,A.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:A.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:$?x==="hit"?se?"Selected Skill Down Contribution":"Selected Skill Damage":`Selected ${K}`:x==="hit"?se?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${K}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:W(($==null?void 0:$.damage)??(L(A)||0),0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:$?x==="hit"?"Selected Skill / Fight":"Selected Fight":x==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const fe=B((ie==null?void 0:ie.fullLabel)||A.peakFightLabel||"N/A"),ke=ge(Number((ie==null?void 0:ie.timestamp)||0)),Xe=ke?`${ke} - ${fe}`:fe;if(x!=="hit")return Xe;const Nt=($==null?void 0:$.skillName)||A.peakSkillName;return Nt?`${Nt}  ${Xe}`:Xe})()})]})]}),A&&D!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:O}),c.jsx("button",{type:"button",onClick:()=>I(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:H.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Ao,{width:"100%",height:"100%",children:c.jsxs(ql,{data:Yt,children:[c.jsx(Hs,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(qs,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Ks,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:fe=>W(fe,0)}),c.jsx(Eo,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(fe,ke)=>{const Xe=String(ke||"");return Xe==="Down"?["Downed","Event"]:Xe==="Death"?["Dead","Event"]:[W(Number(fe||0),0),"Damage"]},labelFormatter:fe=>String(fe||"")}),c.jsx(si,{type:"monotone",dataKey:"value",name:"Damage",stroke:G,strokeWidth:2.5,dot:x==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(si,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:ye("down")}),c.jsx(si,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:ye("death")})]})}),T&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,T.x)}px`,top:`${Math.max(8,T.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${T.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:T.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:T.label})]})]})})]}),A&&D!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${je.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const fe=Xe=>Number(se?Xe.downContribution||0:Xe.damage||0),ke=[...je].filter(Xe=>fe(Xe)>0).sort((Xe,Nt)=>fe(Nt)-fe(Xe)||Number(Nt.hits||0)-Number(Xe.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:te}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[ke.length," ",ke.length===1?"skill":"skills"]})]}),ke.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:se?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:ke.map((Xe,Nt)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Xe.icon?c.jsx("img",{src:Xe.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Xe.skillName,children:Xe.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:W(Number(se?Xe.downContribution||0:Xe.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:W(Number(Xe.hits||0),0)})]},`${Xe.skillName}-${Nt}`))})]})]})})()})]})},Uoe=10,Ah=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),a=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(a).padStart(2,"0")}s`:`${a}s`},aE=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},Voe=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},Woe=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(""),[s,l]=g.useState("squad"),[u,d]=g.useState("desc"),f=i.trim().toLowerCase(),p=g.useMemo(()=>{const x=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),S=(b.characterNames||[]).join(" ").toLowerCase(),j=(b.classTimes||[]).map(N=>String(N.profession||"").toLowerCase()).join(" ");return w.includes(f)||S.includes(f)||j.includes(f)}),y=b=>Number(s==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...x].sort((b,w)=>{const S=y(w)-y(b);return S!==0?u==="desc"?S:-S:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,u,s]),m=x=>{if(s===x){d(y=>y==="desc"?"asc":"desc");return}l(x),d("desc")},h=p.length>Uoe,v=()=>{const x=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],y=p.map(A=>{const P=(A.classTimes||[]).map(U=>`${U.profession} (${Ah(U.timeMs)})`).join("; ");return[A.account||"",(A.characterNames||[]).join(", "),P,aE(Number(A.combatTimeMs??A.squadTimeMs??0)),aE(A.squadTimeMs)]}),b=[x,...y].map(A=>A.map(P=>Voe(String(P??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),S=URL.createObjectURL(w),j=document.createElement("a"),N=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");j.href=S,j.download=`attendance-ledger-${N}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(S)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:a("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(bp,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:i,onChange:x=>o(x.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(p8,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${h?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${s==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",s==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${s==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",s==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[p.map(x=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:x.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:x.characterNames.length>0?x.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:x.classTimes.length>0?x.classTimes.map(y=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(y.profession)?c.jsx("img",{src:t(y.profession),alt:y.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:y.profession}),c.jsx("span",{className:"text-gray-400",children:Ah(y.timeMs)})]},`${x.account}-${y.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Ah(Number(x.combatTimeMs??x.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Ah(x.squadTimeMs)})]},x.account)),p.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},Hoe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},qoe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null),[s,l]=g.useState(""),u=s.trim().toLowerCase(),d=cu("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(m=>m.id===i))&&o(e[0].id)},[e,i]);const f=g.useMemo(()=>e.find(m=>m.id===i)||null,[e,i]),p=m=>{if(!u)return!1;const h=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),x=String(m.profession||"").toLowerCase();return h.includes(u)||v.includes(u)||x.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:a("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Er,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:s,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const h=m.id===i;return c.jsxs("button",{onClick:()=>o(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Hoe(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((h,v)=>(()=>{const x=p(h);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${x?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${h.isCommander?"relative overflow-hidden":""}`,children:[h.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(h.profession)?c.jsx("img",{src:t(h.profession),alt:h.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:h.account,children:c.jsx("span",{className:"truncate min-w-0",children:h.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:h.characterName||"Unknown",children:h.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${h.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Koe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Goe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:a})=>{const[i,o]=g.useState(null);g.useEffect(()=>{if(e.length===0){i!==null&&o(null);return}(!i||!e.some(f=>f.id===i))&&o(e[0].id)},[e,i]);const s=g.useMemo(()=>e.find(f=>f.id===i)||null,[e,i]),l=g.useMemo(()=>s!=null&&s.enemyClassCounts?Object.entries(s.enemyClassCounts).map(([f,p])=>({profession:f,count:Number(p||0)})).filter(f=>f.count>0).sort((f,p)=>p.count-f.count||f.profession.localeCompare(p.profession)):[],[s]),u=g.useMemo(()=>s?s.parties.reduce((f,p)=>Array.isArray(p.players)&&p.players.length>0?f+p.players.length:f+Object.values(p.classCounts||{}).reduce((m,h)=>m+Number(h||0),0),0):0,[s]),d=g.useMemo(()=>l.reduce((f,p)=>f+Number(p.count||0),0),[l]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:a("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(El,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(f=>{const p=f.id===i;return c.jsxs("button",{onClick:()=>o(f.id),className:`fight-comp-fight-nav-item relative w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("span",{className:`fight-comp-result-badge absolute right-2 top-2 inline-flex items-center rounded-md border px-1.5 py-0.5 text-[9px] uppercase tracking-widest ${f.isWin===!0?"fight-comp-result-badge--win":f.isWin===!1?"fight-comp-result-badge--loss":"fight-comp-result-badge--unknown"}`,children:f.isWin===!0?"Win":f.isWin===!1?"Loss":"Unknown"}),c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:f.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:f.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[f.duration||"--:--","  ",Koe(f.timestamp)]})]},f.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:s?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsxs("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400 flex items-center justify-between gap-2",children:[c.jsx("span",{children:"Squad Parties"}),c.jsx("span",{className:"inline-flex items-center rounded-md border border-white/15 bg-white/5 px-1.5 py-0.5 text-[9px] font-semibold tracking-normal text-gray-300",children:u})]}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:s.parties.map(f=>{const p=Array.isArray(f.players)&&f.players.length>0?f.players.map(m=>({profession:String((m==null?void 0:m.profession)||"Unknown"),account:String((m==null?void 0:m.account)||""),characterName:String((m==null?void 0:m.characterName)||"")})).filter(m=>m.profession&&m.profession!=="Unknown").sort((m,h)=>m.profession.localeCompare(h.profession)||m.characterName.localeCompare(h.characterName)||m.account.localeCompare(h.account)):Object.entries(f.classCounts||{}).flatMap(([m,h])=>Array.from({length:Math.max(0,Number(h||0))},()=>({profession:String(m),account:"",characterName:""}))).filter(m=>m.profession&&m.profession!=="Unknown").sort((m,h)=>m.profession.localeCompare(h.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:f.party>0?`P${f.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:p.length>0?p.map((m,h)=>c.jsx("span",{title:m.characterName||m.account?`${m.profession}  ${m.characterName||"Unknown"} (${m.account||"Unknown"})`:m.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(m.profession)?c.jsx("img",{src:t(m.profession),alt:m.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${s.id}-party-${f.party}-${m.profession}-${m.account||m.characterName||h}-${h}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${s.id}-party-${f.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsxs("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400 flex items-center justify-between gap-2",children:[c.jsx("span",{children:"Enemy Classes"}),c.jsx("span",{className:"inline-flex items-center rounded-md border border-white/15 bg-white/5 px-1.5 py-0.5 text-[9px] font-semibold tracking-normal text-gray-300",children:d})]}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(f=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:f.profession,children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:f.count})]},`${s.id}-enemy-${f.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Yoe=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:a,devMockUploadState:i,onDevMockUpload:o,uploadingWeb:s,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f,actionsDisabled:p=!1})=>{const m=u||p||!d,h=p?"Stats are still loading. Actions will enable when the dashboard is ready.":d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(D3,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Bc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[a&&c.jsxs("button",{onClick:o,disabled:i.uploading||p,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(sy,{className:"w-4 h-4"}),i.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:s||p,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(N8,{className:"w-4 h-4"}),s?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:h,children:[c.jsxs("button",{onClick:f,disabled:m,"aria-disabled":m,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(w8,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Xoe=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:a,setWebCopyStatus:i})=>{if(e||!t)return null;const o=n||t.replace(/^Uploaded:\s*/i,"").trim(),[s,l]=g.useState("idle"),u=(()=>{if(!o)return null;try{const d=new URL(o),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const p=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(p==null?void 0:p[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;o&&(d=window.electronAPI)!=null&&d.openExternal&&window.electronAPI.openExternal(o)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:o}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(b8,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(P3,{className:"w-3 h-3"}),r==="errored"&&c.jsx(I3,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{o&&(navigator.clipboard.writeText(o),i("copied"),setTimeout(()=>i("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:a==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:s==="copied"?"Copied":"Copy Short"})]})]})},Joe=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var r;const a=n.url;a&&(r=window.electronAPI)!=null&&r.openExternal&&window.electronAPI.openExternal(a)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Db=4200,iE=["Calculating the padders...","Wrangling the squirrels...","Counting bags per tick...","Measuring boonball density...","Finding who pressed Stand Your Ground on cooldown...","Converting cloud DPS into actionable data...","Checking if that was a tactical waypoint...","Debating if this was content or karma train...","Sorting comm pings by panic level...","Rebuilding morale after queue map...",'Estimating how many times someone said "push now"...',"Auditing stealth bombs and coping mechanisms...","Polishing commander tags...","Recharging warclaw batteries...","Calibrating arrow cart trajectories...","Inspecting every suspicious 25 Might stack...","Confirming that was definitely line of sight...","Converting supply into emotional damage...","Filing paperwork for accidental portal science...","Checking if the scout was actually at the camp...","Recounting downs after rally chaos...","Verifying if that was a clean disengage...",'Indexing all "I was lagging" reports...',"Investigating mysterious downstate heroics...","Comparing pirate ship drift angles...","Sharpening stab and aegis statistics...","Reassembling fragments of the frontline...","Syncing golem benchmarks with reality...","Separating boon support from good intentions...","Mapping dodge rolls to probable outcomes...","Estimating projectile hate levels...","Checking if that pull was legal in Tyria...","Refining siege placement feng shui...","Counting how many times someone tab-targeted a yak...","Calculating average confidence before first push...","Locating the exact second the flank became a wipe...","Comparing map chat callouts to actual events...","Quantifying chaos per minute...","Measuring value generated per warclaw leap...","Compiling a list of regrettable pushes...","Normalizing boonstrip greed indexes...","Calculating morale damage from random treb hits...","Determining if that was bait or just optimism...","Reviewing staff marks for artistic merit...","Filtering out accidental auto-attacks...","Balancing boon uptime against personal style...","Detecting overextended hero moments...",'Translating "small scale" into squad math...',"Auditing cooldowns that definitely were up...","Reconstructing the timeline of panic dodges...","Classifying enemy blobs by menace level...","Estimating blob size using advanced guesswork...","Checking if that target caller was cooking...","Tracking unexplained boon disappearance events...","Estimating supply spent on vibes...","Computing legal liability for fake pushes...","Running quality assurance on disengage paths...","Cross-referencing comms with battlefield physics...","Investigating unexpected trebuchet diplomacy...","Calculating catapult confidence intervals...","Indexing all perfectly timed downs...","Looking for value in every meteor shower...","Reviewing blink routes for workplace safety...","Tallying questionable stealth reveals...",'Checking if "outnumbered" was emotional or literal...',"Simulating three alternate timelines where that push worked...","Replaying spike windows at 300% copium...","Auditing cloud behavior for suspicious circles...","Estimating commander patience remaining...","Generating highly scientific post-fight excuses...",'Reconciling wipes with "we almost had them"...',"Counting blast finishers that were definitely planned...","Searching for that one lost guardian...","Re-evaluating life choices after supply trap wipes...","Determining if the enemy comp was legal...","Computing rally probability under emotional pressure...","Measuring commander sigh frequency...","Estimating fear uptime on enemy supports...","Converting siege splash into modern art...",'Validating "I had no stab" claims...',"Checking if someone dropped food this fight...","Reviewing boonstrip logs for spicy plays...","Locating all unexplained facechecks...","Mapping meteor showers to keyboard dents...","Estimating if that was one pull too many...","Calculating squad cohesion after one bad port...","Cross-checking focus calls with target health...","Ranking leaps by dramatic effect...","Estimating cleanse demand during bomb windows...","Inspecting downstate rotations for compliance...","Converting panic into clean spreadsheets...","Testing the structural integrity of the backline...","Counting shades, wells, and hard feelings...","Measuring guardian bubble aura intensity...","Investigating anomalous boons at 03:00...","Comparing stomps attempted vs stomps completed...","Tagging all accidental hero pushes...","Calculating dodge tax across the squad...","Evaluating water field return on investment...","Auditing projectile denial and emotional denial...","Checking if that portal had a permit...","Tracing all failed flanks to their origin story...","Calculating post-wipe regroup half-life...","Estimating average melee courage per second...","Correlating spikes with enthusiastic voice comms...","Checking if that bomb was crisp or crunchy...",'Normalizing data for "just one more fight"...',"Reviewing stealth openers for dramatic timing...","Estimating if your rev was in Narnia...","Counting banner placements that inspired confidence...","Investigating unexplained quickness disappearances...","Running anti-tilt calibration routines...","Computing enemy respect levels in real time...","Calculating firebrand lecture throughput...","Identifying legal targets in the cloud...","Reviewing all moments of tactical hesitation...","Calibrating go-next probability...","Collecting witness statements from downstate...","Measuring map queue trauma carryover...","Checking for unauthorized 1v20 attempts...","Estimating value from last-second bubble drops...","Reviewing supply spent on motivational siege...","Converting spike data into confidence...","Detecting statistically significant overcommit...","Tracing every disengage to a good intention...","Profiling boonrip efficiency by chaos level...","Computing blame distribution matrices...","Auditing cleanse budgets and debt...",'Finding the exact frame someone yelled "stab"...',"Estimating collateral damage from whirlwinds...","Calculating pirate ship shell dispersion...","Reviewing shockwave etiquette violations...","Identifying downstate heroes and villains...","Measuring line-push conviction scores...",'Checking if "full send" had a backup plan...',"Correlating pings with sprint key usage...","Mapping boon downtime to emotional downtime...","Counting moments where everyone was one dodge late...","Computing support appreciation metrics...","Evaluating sustain versus stubbornness...","Compiling clips for the tactical blooper reel...","Estimating fog of war plus fog of memory...","Scanning for illegal melee greed...",'Converting "nice try" into hard numbers...',"Tracking stealth entry and dramatic exits...","Reviewing hammer train ticket validation...","Finding all cases of accidental overextension...","Measuring stability confidence intervals...","Estimating if that was a bait ping...","Calculating siege engineer overtime..."],Zoe=e=>{const t=[...e];for(let n=t.length-1;n>0;n-=1){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t},Wo="space-y-1 pr-1 max-h-72 overflow-y-auto",Qoe=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),ese=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","boon-uptime","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],oE={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},Pb=[];function tse({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:a,webUploadState:i,onWebUpload:o,disruptionMethod:s,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:p,canShareDiscord:m=!0,statsDataProgress:h,aggregationResult:v}){var x,y;const b=n||$3,w=r||ew,S=i||W8,j=w.showTopStats,N=w.showMvp,A=w.roundCountStats,P=w.topStatsMode||"total",[U,D]=g.useState(w.topSkillsMetric||"damage"),I=(a?w.topSkillsMetric:U)||"damage",O=S.uploading,H=S.message,J=S.url,oe=S.buildStatus,je=!u&&!1,[te,W]=g.useState(!0),[le,k]=g.useState(iE[0]||""),F=g.useRef([]),T=g.useRef(0),C=g.useRef(null),B=g.useRef(0),R=g.useCallback(M=>d?d(M):!0,[d]),G=!!v,{result:se,aggregationProgress:K}=XV({logs:G?[]:e,precomputedStats:G?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:s}),L=v||se,z=(v==null?void 0:v.aggregationProgress)||K,{stats:ne,skillUsageData:$}=L,ie=g.useMemo(()=>{const M=Math.max(0,Number((h==null?void 0:h.total)||e.length||0)),_=Math.min(M,Math.max(0,Number((h==null?void 0:h.pending)||0))),Q=Math.min(M,Math.max(0,Number((h==null?void 0:h.processed)||M-_))),ce=Math.max(0,Number((h==null?void 0:h.unavailable)||0));if(h!=null&&h.active&&M>0&&_>0){const Ge=M>0?Math.max(1,Math.min(99,Math.round(Q/M*100))):0,Ot=ce>0?`  ${ce} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${Q} of ${M} fights prepared${Ot}`,progressPercent:Ge}}if(M>0&&ce>=M)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${ce} of ${M} fights could not be loaded from dps.report`,progressPercent:100};if(M>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const de=Math.max(0,Number((z==null?void 0:z.total)||e.length||0));if(!(z!=null&&z.active&&(z==null?void 0:z.phase)!=="idle"&&(z==null?void 0:z.phase)!=="settled"&&de>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const We=Math.min(Math.max(Number((z==null?void 0:z.streamed)||0),0),de),ee=(z==null?void 0:z.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",we=(z==null?void 0:z.phase)==="streaming"?`${We} of ${de} fights loaded`:"All fights loaded  calculating final totals",lt=(z==null?void 0:z.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(We/de*100))):99;return{active:!0,phaseLabel:ee,progressText:we,progressPercent:lt}},[h,z,e.length]),ge=ie.active,Y=ie.phaseLabel,he=ie.progressText,Pe=ge&&ie.progressPercent<100,mt=ge||!te;g.useEffect(()=>{if(C.current!==null&&(window.clearTimeout(C.current),C.current=null),!ge)return;const M=()=>{(F.current.length===0||T.current>=F.current.length)&&(F.current=Zoe(iE),T.current=0);const de=F.current[T.current];T.current+=1,de&&(k(de),B.current=Date.now())},_=de=>{C.current=window.setTimeout(()=>{C.current=null,M(),_(Db)},Math.max(300,de))};if(B.current<=0)return M(),_(Db),()=>{C.current!==null&&(window.clearTimeout(C.current),C.current=null)};const Q=Date.now()-B.current,ce=Db-Q;return _(ce),()=>{C.current!==null&&(window.clearTimeout(C.current),C.current=null)}},[ge]),g.useEffect(()=>{if(!(u||typeof document>"u"))return document.body.classList.toggle("stats-dashboard-loading",Pe),()=>{document.body.classList.remove("stats-dashboard-loading")}},[u,Pe]),g.useEffect(()=>{if(ge){W(!1);return}let M=!1;const _=()=>{M||W(!0)},Q=window.requestIdleCallback;let ce=null;return typeof Q=="function"?ce=Q(()=>_(),{timeout:220}):ce=window.setTimeout(_,60),()=>{if(M=!0,ce!==null)if(typeof Q=="function"){const de=window.cancelIdleCallback;typeof de=="function"&&de(ce)}else window.clearTimeout(ce)}},[ge]);const Yt=te&&!ge,ye=Yt&&(R("top-skills-outgoing")||R("player-breakdown")||R("damage-breakdown")),fe=Yt&&R("skill-usage"),ke=Yt&&R("apm-stats"),Xe=Yt&&R("spike-damage"),Nt=Yt&&R("incoming-strike-damage"),pn=Yt&&R("conditions-outgoing"),q=g.useMemo(()=>{var M,_,Q,ce,de,We;const ee=ne&&typeof ne=="object"?ne:{},we=Wt=>Array.isArray(Wt)?Wt:[],lt=Wt=>Wt&&typeof Wt=="object"?Wt:{},Ge=(Wt,$t)=>Wt&&typeof Wt=="object"?Wt:$t,Ot={value:0,player:"-",profession:"Unknown",professionList:[],count:0},zt={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},it={...ee,total:Number(ee.total||0),timelineData:we(ee.timelineData),mapData:we(ee.mapData),fightBreakdown:we(ee.fightBreakdown),topSkills:we(ee.topSkills),topIncomingSkills:we(ee.topIncomingSkills),leaderboards:lt(ee.leaderboards),topStatsPerSecond:lt(ee.topStatsPerSecond),topStatsLeaderboardsPerSecond:lt(ee.topStatsLeaderboardsPerSecond),maxDownContrib:Ge(ee.maxDownContrib,Ot),maxBarrier:Ge(ee.maxBarrier,Ot),maxHealing:Ge(ee.maxHealing,Ot),maxDodges:Ge(ee.maxDodges,Ot),maxStrips:Ge(ee.maxStrips,Ot),maxCleanses:Ge(ee.maxCleanses,Ot),maxCC:Ge(ee.maxCC,Ot),maxStab:Ge(ee.maxStab,Ot),closestToTag:Ge(ee.closestToTag,Ot),mvp:{...zt,...lt(ee.mvp),topStats:we((M=ee==null?void 0:ee.mvp)==null?void 0:M.topStats)},silver:Ge(ee.silver,zt),bronze:Ge(ee.bronze,zt),avgMvpScore:Number(ee.avgMvpScore||0),offensePlayers:we(ee.offensePlayers),defensePlayers:we(ee.defensePlayers),damageMitigationPlayers:we(ee.damageMitigationPlayers),damageMitigationMinions:we(ee.damageMitigationMinions),supportPlayers:we(ee.supportPlayers),healingPlayers:we(ee.healingPlayers),boonTables:we(ee.boonTables),boonTimeline:we(ee.boonTimeline),boonUptimeTimeline:we(ee.boonUptimeTimeline),specialTables:we(ee.specialTables),outgoingConditionSummary:we(ee.outgoingConditionSummary),outgoingConditionPlayers:we(ee.outgoingConditionPlayers),incomingConditionSummary:we(ee.incomingConditionSummary),incomingConditionPlayers:we(ee.incomingConditionPlayers),squadClassData:we(ee.squadClassData),enemyClassData:we(ee.enemyClassData),attendanceData:we(ee.attendanceData),squadCompByFight:we(ee.squadCompByFight),fightDiffMode:we(ee.fightDiffMode),playerSkillBreakdowns:we(ee.playerSkillBreakdowns)},It=we((_=it.leaderboards)==null?void 0:_.downContrib).map(Wt=>({...Wt,value:Number((Wt==null?void 0:Wt.value)??0)})).filter(Wt=>Number.isFinite(Wt.value)).sort((Wt,$t)=>$t.value-Wt.value||String((Wt==null?void 0:Wt.account)||"").localeCompare(String(($t==null?void 0:$t.account)||"")))[0];return It&&(it.maxDownContrib={...it.maxDownContrib||{},value:Number(It.value||0),player:String(It.account||((Q=it.maxDownContrib)==null?void 0:Q.player)||"-"),count:Number(It.count||((ce=it.maxDownContrib)==null?void 0:ce.count)||0),profession:String(It.profession||((de=it.maxDownContrib)==null?void 0:de.profession)||"Unknown"),professionList:Array.isArray(It.professionList)?It.professionList:((We=it.maxDownContrib)==null?void 0:We.professionList)||[]}),it},[ne]);g.useEffect(()=>{var M;if(!((M=window==null?void 0:window.electronAPI)!=null&&M.fetchImageAsDataUrl)||ge)return;let _=!1;const Q=()=>{if(_)return;const We=new Set,ee=lt=>{typeof lt=="string"&&/^https?:\/\//i.test(lt)&&We.add(lt)},we=lt=>{lt.forEach(Ge=>{ee(Ge==null?void 0:Ge.icon),ee(Ge==null?void 0:Ge.iconUrl)})};we(Array.isArray(q==null?void 0:q.topSkills)?q.topSkills:[]),we(Array.isArray(q==null?void 0:q.topIncomingSkills)?q.topIncomingSkills:[]),we(Array.isArray(q==null?void 0:q.topSkillsByDamage)?q.topSkillsByDamage:[]),we(Array.isArray(q==null?void 0:q.topSkillsByDownContribution)?q.topSkillsByDownContribution:[]),we(Array.isArray(q==null?void 0:q.outgoingConditionSummary)?q.outgoingConditionSummary:[]),we(Array.isArray(q==null?void 0:q.incomingConditionSummary)?q.incomingConditionSummary:[]),(Array.isArray(q==null?void 0:q.boonTables)?q.boonTables:[]).forEach(lt=>{ee(lt==null?void 0:lt.icon)}),(Array.isArray(q==null?void 0:q.specialTables)?q.specialTables:[]).forEach(lt=>{ee(lt==null?void 0:lt.icon)}),ye&&(Array.isArray(q==null?void 0:q.playerSkillBreakdowns)?q.playerSkillBreakdowns:[]).forEach(lt=>{const Ge=Array.isArray(lt==null?void 0:lt.skills)?lt.skills:[];we(Ge)}),We.size>0&&loe(Array.from(We))},ce=window.requestIdleCallback;let de=null;return typeof ce=="function"?de=ce(()=>Q(),{timeout:500}):de=window.setTimeout(Q,120),()=>{if(_=!0,de!==null)if(typeof ce=="function"){const We=window.cancelIdleCallback;typeof We=="function"&&We(de)}else window.clearTimeout(de)}},[q,ge,ye]);const Qe=g.useMemo(()=>{const M=(l==null?void 0:l.skillUsageData)??$;return{logRecords:Array.isArray(M==null?void 0:M.logRecords)?M.logRecords:[],players:Array.isArray(M==null?void 0:M.players)?M.players:[],skillOptions:Array.isArray(M==null?void 0:M.skillOptions)?M.skillOptions:[],resUtilitySkills:Array.isArray(M==null?void 0:M.resUtilitySkills)?M.resUtilitySkills:[]}},[$,l==null?void 0:l.skillUsageData]),Pt=Qe.players.length>0;g.useEffect(()=>{a||D(w.topSkillsMetric||"damage")},[w.topSkillsMetric,a]);const Zt=M=>{if(a){a({...w,topSkillsMetric:M});return}D(M)},{scrollContainerRef:Sn}=M8(u,!0,Pe),{devMockUploadState:Qn,webCopyStatus:bn,setWebCopyStatus:un,handleWebUpload:Aa,handleDevMockUpload:mn}=Z8({logs:e,stats:q,skillUsageData:Qe,activeStatsViewSettings:r||ew,uiTheme:p||"classic",embedded:u,onWebUpload:o}),{sharing:Ln,handleShare:yr}=qV(u),er={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},hu=M=>{const _=er[M];return _?b[_]>0:!0},[ya,Fr]=g.useState(null),[Fi,nl]=g.useState(null),[rl,Ea]=g.useState("totalBuffs"),[os,va]=g.useState("total"),[yi,ti]=g.useState(""),[al,il]=g.useState(""),[Va,ni]=g.useState(null),[dr,ss]=g.useState("squadBuffs"),[ls,gu]=g.useState(""),[Kr,ac]=g.useState(null),[ol,ic]=g.useState(null),[_o,yu]=g.useState(""),[X,Ne]=g.useState(null),[Je,yt]=g.useState(""),[Et,Ft]=g.useState(null),[wt,dn]=g.useState(null),[fn,jr]=g.useState(null),[rr,ct]=g.useState(""),[E,V]=g.useState(null),[Z,ae]=g.useState(""),[ue,Le]=g.useState(""),[Ie,vt]=g.useState(""),[Ct,Ut]=g.useState(""),[$e,pe]=g.useState(""),[me,tt]=g.useState(""),[be,rt]=g.useState(""),[nt,bt]=g.useState("outgoing"),[Me,Ee]=g.useState(""),[Ce,Te]=g.useState("damage"),[He,ve]=g.useState("damageTaken"),[Be,Ye]=g.useState("totalMitigation"),[re,Oe]=g.useState("all"),[ze,gt]=g.useState({key:"damage",dir:"desc"}),ht=!(re!=="all"&&Qoe.has(re)),Ve=ht?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",ot=ht?ze:{key:"applications",dir:ze.key==="applications"?ze.dir:"desc"},[Se,qe]=g.useState("condiCleanse"),[et,at]=g.useState("healing"),[_e,ut]=g.useState("total"),[kt,St]=g.useState("all"),[hn,nn]=g.useState("total"),[on,st]=g.useState("total"),[Dr,En]=g.useState("total"),[Gn,Rr]=g.useState("total"),[Pr,On]=g.useState("all"),[Da,ia]=g.useState("squad"),[Ri,oc]=g.useState("player"),[cs,vu]=g.useState(""),[sl,Lo]=g.useState(""),[ba,ri]=g.useState(null),[xa,Wa]=g.useState([]),[In,Ze]=g.useState(null),[Ue,Ke]=g.useState(null),[Fe,jt]=g.useState("hit"),[Bt,gn]=g.useState("all"),[Ht,sn]=g.useState(null),[Fn,wa]=g.useState(null),[zn,bu]=g.useState("hit"),[Tm,Xd]=g.useState([]),[Un,Jd]=g.useState(null),[Cn,xu]=g.useState(!1),co=g.useRef(null),[$i,ll]=g.useState("sizes"),[uo,ai]=g.useState("total"),sc=uo==="perSecond",[lc,cc]=g.useState(null),[uc,c$]=g.useState("total"),[dc,xv]=g.useState(null),[wv,kv]=g.useState(null),[us,Sv]=g.useState(null),[u$,d$]=g.useState(""),[fc,Nv]=g.useState(null),[f$,jj]=g.useState(null),[Fo,Om]=g.useState(null),[p$,m$]=g.useState(""),[h$,g$]=g.useState("player"),[pc,jv]=g.useState(null),[y$,Cj]=g.useState(null),[ds,Im]=g.useState(null),v$=ke?Qe:oE,{apmSpecBuckets:cl}=JV(v$),fs=g.useMemo(()=>ye?q.playerSkillBreakdowns||[]:Pb,[ye,q.playerSkillBreakdowns]),Cv=g.useMemo(()=>{const M=new Map;return fs.forEach(_=>M.set(_.key,_)),M},[fs]),wu=g.useMemo(()=>{const M=new Map;return fs.forEach(_=>{const Q=_.profession||"Unknown";M.has(Q)||M.set(Q,{profession:Q,players:[],skills:new Map});const ce=M.get(Q);ce.players.push(_),_.skills.forEach(de=>{var We;const ee=ce.skills.get(de.id)||{...de,damage:0,downContribution:0};ee.damage+=Number(de.damage||0),ee.downContribution+=Number(de.downContribution||0),!ee.icon&&de.icon&&(ee.icon=de.icon),(We=ee.name)!=null&&We.startsWith("Skill ")&&!de.name.startsWith("Skill ")&&(ee.name=de.name),ce.skills.set(de.id,ee)})}),Array.from(M.values()).map(_=>{const Q=Array.from(_.skills.values()).sort((de,We)=>We.damage-de.damage),ce=Q.reduce((de,We)=>(de[We.id]=We,de),{});return{profession:_.profession,players:_.players,skills:Q,skillMap:ce}}).sort((_,Q)=>_.profession.localeCompare(Q.profession))},[fs]),ps=fc&&Cv.get(fc)||null,b$=ps&&Fo&&(((x=ps.skillMap)==null?void 0:x[Fo])||ps.skills.find(M=>M.id===Fo))||null,Mv=g.useMemo(()=>{const M=new Map;return wu.forEach(_=>M.set(_.profession,_)),M},[wu]),ul=pc&&Mv.get(pc)||null,x$=ul&&ds&&((y=ul.skillMap)==null?void 0:y[ds])||null,_m=(M,_)=>{if(!_)return null;const Q=Number(_.index);if(Number.isInteger(Q)&&Q>=0&&Q<M.length)return M[Q]||null;const ce=String(_.fightId||"").trim();return ce&&M.find(de=>String((de==null?void 0:de.id)||"").trim()===ce)||null},dl=M=>{if(M&&typeof M=="object"){const _=Number((M==null?void 0:M.damage)||0),Q=Array.isArray(M==null?void 0:M.skillRows)?M.skillRows:void 0,ce=(Q||[]).reduce((de,We)=>de+Number((We==null?void 0:We.downContribution)||0),0);return{hit:Number((M==null?void 0:M.hit)??_),burst1s:Number((M==null?void 0:M.burst1s)||0),burst5s:Number((M==null?void 0:M.burst5s)||0),burst30s:Number((M==null?void 0:M.burst30s)||0),hitDown:Number((M==null?void 0:M.hitDown)||ce||0),burst1sDown:Number((M==null?void 0:M.burst1sDown)||0),burst5sDown:Number((M==null?void 0:M.burst5sDown)||0),burst30sDown:Number((M==null?void 0:M.burst30sDown)||0),skillName:String((M==null?void 0:M.skillName)||""),buckets5s:Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:void 0,buckets5sDown:Array.isArray(M==null?void 0:M.buckets5sDown)?M.buckets5sDown:void 0,downIndices5s:Array.isArray(M==null?void 0:M.downIndices5s)?M.downIndices5s:void 0,deathIndices5s:Array.isArray(M==null?void 0:M.deathIndices5s)?M.deathIndices5s:void 0,skillRows:Q}}return{hit:Number(M||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},vi=g.useMemo(()=>{if(!Xe)return{fights:[],players:[]};const M=Ae=>String(Ae||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),_=Ae=>M(Ae).toLowerCase().split(/[^a-z0-9]+/i).map(ft=>ft.trim()).filter(Boolean).map(ft=>ft.length>3&&ft.endsWith("s")?ft.slice(0,-1):ft),Q=(Ae,ft)=>{const De=M(Ae),qt=M(ft);if(!qt)return De;if(!De)return qt;const Qt=_(De),Dn=_(qt),rn=new Set(Qt),Tt=new Set(Dn),ln=Dn.length>0&&Dn.every(en=>rn.has(en)),Rn=Qt.length>0&&Qt.every(en=>Tt.has(en));return ln||Rn?De:`${De} - ${qt}`},ce=Ae=>{if(Ae==null||Ae==="")return 0;if(typeof Ae=="number")return!Number.isFinite(Ae)||Ae<=0?0:Ae>1e12?Ae:Ae*1e3;if(Ae instanceof Date){const rn=Ae.getTime();return Number.isFinite(rn)&&rn>0?rn:0}const ft=String(Ae).trim();if(!ft)return 0;const De=Number(ft);if(Number.isFinite(De)&&De>0)return De>1e12?De:De*1e3;const qt=Date.parse(ft);if(Number.isFinite(qt)&&qt>0)return qt;const Qt=ft.replace(/([+-]\d{2})$/,"$1:00"),Dn=Date.parse(Qt);return Number.isFinite(Dn)&&Dn>0?Dn:0},de=(Ae,ft)=>ce((Ae==null?void 0:Ae.uploadTime)??(ft==null?void 0:ft.uploadTime)??(Ae==null?void 0:Ae.timeStartStd)??(Ae==null?void 0:Ae.timeStart)??(Ae==null?void 0:Ae.timeEndStd)??(Ae==null?void 0:Ae.timeEnd)),We=q==null?void 0:q.spikeDamage,ee=Array.isArray(We==null?void 0:We.fights)?We.fights:[],we=Array.isArray(We==null?void 0:We.players)?We.players:[],lt=ee.some(Ae=>(Ae!=null&&Ae.values&&typeof Ae.values=="object"?Object.values(Ae.values):[]).some(ft=>ft&&typeof ft=="object"&&(Number(ft.burst1s||0)>0||Number(ft.burst5s||0)>0||Number(ft.burst30s||0)>0)))||we.some(Ae=>Number((Ae==null?void 0:Ae.peak1s)||0)>0||Number((Ae==null?void 0:Ae.peak5s)||0)>0||Number((Ae==null?void 0:Ae.peak30s)||0)>0),Ge=ee.some(Ae=>(Ae!=null&&Ae.values&&typeof Ae.values=="object"?Object.values(Ae.values):[]).some(ft=>ft&&typeof ft=="object"&&(Number(ft.hitDown||0)>0||Number(ft.burst1sDown||0)>0||Number(ft.burst5sDown||0)>0||Number(ft.burst30sDown||0)>0)))||we.some(Ae=>Number((Ae==null?void 0:Ae.peakHitDown)||0)>0||Number((Ae==null?void 0:Ae.peak1sDown)||0)>0||Number((Ae==null?void 0:Ae.peak5sDown)||0)>0||Number((Ae==null?void 0:Ae.peak30sDown)||0)>0);if((ee.length>0||we.length>0)&&(lt||e.length===0)&&(Bt!=="downContribution"||Ge||e.length===0)){const Ae=ee.map((De,qt)=>{const Qt=De!=null&&De.values&&typeof De.values=="object"?De.values:{};return{id:String((De==null?void 0:De.id)||`fight-${qt+1}`),shortLabel:String((De==null?void 0:De.shortLabel)||`F${qt+1}`),fullLabel:M((De==null?void 0:De.fullLabel)||`Fight ${qt+1}`),timestamp:Number((De==null?void 0:De.timestamp)||0),values:Qt,maxHit:Number((De==null?void 0:De.maxHit)??(De==null?void 0:De.maxDamage)??0),max1s:Number((De==null?void 0:De.max1s)||0),max5s:Number((De==null?void 0:De.max5s)||0),max30s:Number((De==null?void 0:De.max30s)||0),maxHitDown:Number((De==null?void 0:De.maxHitDown)||0),max1sDown:Number((De==null?void 0:De.max1sDown)||0),max5sDown:Number((De==null?void 0:De.max5sDown)||0),max30sDown:Number((De==null?void 0:De.max30sDown)||0)}}),ft=we.map(De=>({key:String((De==null?void 0:De.key)||""),account:String((De==null?void 0:De.account)||"Unknown"),displayName:String((De==null?void 0:De.displayName)||(De==null?void 0:De.account)||"Unknown"),characterName:String((De==null?void 0:De.characterName)||(De==null?void 0:De.name)||(De==null?void 0:De.character_name)||(De==null?void 0:De.display_name)||""),profession:String((De==null?void 0:De.profession)||"Unknown"),professionList:Array.isArray(De==null?void 0:De.professionList)?De.professionList.map(qt=>String(qt)):[],logs:Number((De==null?void 0:De.logs)||0),peakHit:Number((De==null?void 0:De.peakHit)||0),peak1s:Number((De==null?void 0:De.peak1s)||0),peak5s:Number((De==null?void 0:De.peak5s)||0),peak30s:Number((De==null?void 0:De.peak30s)||0),peakHitDown:Number((De==null?void 0:De.peakHitDown)||0),peak1sDown:Number((De==null?void 0:De.peak1sDown)||0),peak5sDown:Number((De==null?void 0:De.peak5sDown)||0),peak30sDown:Number((De==null?void 0:De.peak30sDown)||0),peakFightLabel:M((De==null?void 0:De.peakFightLabel)||""),peakSkillName:String((De==null?void 0:De.peakSkillName)||"")}));return{fights:Ae,players:ft}}const Ot=(Ae,ft)=>{const De=(ft==null?void 0:ft.skillMap)||{},qt=(ft==null?void 0:ft.buffMap)||{};let Qt=0,Dn=0,rn="";const Tt=en=>{const Mn=Number(en);if(!Number.isFinite(Mn))return String(en||"Unknown Skill");const wi=(De==null?void 0:De[`s${Mn}`])||(De==null?void 0:De[`${Mn}`]);if(wi!=null&&wi.name)return String(wi.name);const Or=(qt==null?void 0:qt[`b${Mn}`])||(qt==null?void 0:qt[`${Mn}`]);return Or!=null&&Or.name?String(Or.name):`Skill ${Mn}`},ln=en=>{if(!en||typeof en!="object")return;const Mn=[Number(en.max),Number(en.maxDamage),Number(en.maxHit)].filter(nf=>Number.isFinite(nf)),wi=Mn.length>0?Math.max(...Mn):0;wi>Qt&&(Qt=wi,rn=Tt(en.id));const Or=Number(en.downContribution||0);Or>Dn&&(Dn=Or)};let Rn=!1;return Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(Mn=>{Array.isArray(Mn)&&Mn.forEach(wi=>{Rn=!0,ln(wi)})})}),(!Rn||Qt<=0)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(Mn=>ln(Mn))}),{peak:Qt,peakDownContribution:Dn,skillName:rn||"Unknown Skill"}},zt=Ae=>{const ft=Tt=>{if(!Array.isArray(Tt)||Tt.length===0)return[];const ln=[];for(let Rn=0;Rn<Tt.length;Rn+=1){const en=Number(Tt[Rn]||0),Mn=Rn>0?Number(Tt[Rn-1]||0):0;ln.push(Math.max(0,en-Mn))}return ln},De=Tt=>{if(!Array.isArray(Tt))return[];const ln=Tt.reduce((en,Mn)=>Math.max(en,Array.isArray(Mn)?Mn.length:0),0);if(ln<=0)return[];const Rn=new Array(ln).fill(0);return Tt.forEach(en=>{if(Array.isArray(en))for(let Mn=0;Mn<ln;Mn+=1)Rn[Mn]+=Number(en[Mn]||0)}),Rn},qt=Tt=>Array.isArray(Tt)?Tt.map(ln=>Number(ln||0)):null,Qt=(Tt=>{if(!Array.isArray(Tt)||Tt.length===0)return null;const ln=Tt[0];if(!Array.isArray(ln))return null;if(Array.isArray(ln[0])&&Array.isArray(ln[0][0]))return De(ln);if(Array.isArray(ln[0])&&!Array.isArray(ln[0][0])){const Rn=Tt.map(en=>qt(Array.isArray(en)?en[0]:null)).filter(en=>Array.isArray(en)&&en.length>0);if(Rn.length>0)return De(Rn)}return null})(Ae==null?void 0:Ae.targetDamage1S),Dn=Array.isArray(Ae==null?void 0:Ae.damage1S)&&Array.isArray(Ae.damage1S[0])?Ae.damage1S[0]:null,rn=Qt||(Array.isArray(Dn)?Dn.map(Tt=>Number(Tt||0)):[]);return ft(rn)},it=(Ae,ft)=>{if(!Array.isArray(Ae)||Ae.length===0||ft<=0)return 0;let De=0,qt=0;for(let Qt=0;Qt<Ae.length;Qt+=1)De+=Number(Ae[Qt]||0),Qt>=ft&&(De-=Number(Ae[Qt-ft]||0)),Qt>=ft-1&&De>qt&&(qt=De);return Math.max(0,qt)},It=(Ae,ft)=>{if(!Array.isArray(Ae)||Ae.length===0||ft<=0)return[];const De=[];for(let qt=0;qt<Ae.length;qt+=ft){const Qt=Math.min(qt+ft,Ae.length),Dn=Ae.slice(qt,Qt).reduce((rn,Tt)=>rn+Number(Tt||0),0);De.push(Dn)}return De},Wt=(Ae,ft)=>{let De=0,qt=0;const Qt=new Map,Dn=rn=>{if(!rn||typeof rn!="object"||rn.indirectDamage)return;const Tt=Number(rn.totalDamage||0),ln=Number(rn.downContribution||0);!Number.isFinite(Tt)&&!Number.isFinite(ln)||(De+=Number.isFinite(Tt)?Tt:0,qt+=Number.isFinite(ln)?ln:0)};return Array.isArray(Ae==null?void 0:Ae.targetDamageDist)&&Ae.targetDamageDist.forEach(rn=>{Array.isArray(rn)&&rn.forEach(Tt=>{Array.isArray(Tt)&&Tt.forEach(ln=>{const Rn=Number(ln==null?void 0:ln.id);if(Number.isFinite(Rn)){const en=Qt.get(Rn)||{damage:0,downContribution:0};en.damage+=Number((ln==null?void 0:ln.totalDamage)||0),en.downContribution+=Number((ln==null?void 0:ln.downContribution)||0),Qt.set(Rn,en)}Dn(ln)})})}),!(ft!=null&&ft.detailedWvW)&&Array.isArray(Ae==null?void 0:Ae.totalDamageDist)&&Ae.totalDamageDist.forEach(rn=>{Array.isArray(rn)&&rn.forEach(Tt=>{const ln=Number(Tt==null?void 0:Tt.id);if(!Number.isFinite(ln)){Dn(Tt);return}const Rn=Qt.get(ln);if(!Rn){Dn(Tt);return}const en=Number((Tt==null?void 0:Tt.totalDamage)||0)-Number(Rn.damage||0),Mn=Number((Tt==null?void 0:Tt.downContribution)||0)-Number(Rn.downContribution||0);en<=0&&Mn<=0||Dn({...Tt,totalDamage:Math.max(0,en),downContribution:Math.max(0,Mn)})})}),{damageTotal:Math.max(0,De),downContributionTotal:Math.max(0,qt)}},$t=[],Lt=new Map;e.forEach(Ae=>{const ft=Ae==null?void 0:Ae.details;if(!ft)return;const De=$t.length+1,qt=M(ft.fightName||Ae.fightName||`Fight ${De}`),Qt=ft.zone||ft.mapName||ft.map||ft.location||"",Dn=Q(qt,String(Qt||"")),rn={};(Array.isArray(ft.players)?ft.players:[]).forEach(xn=>{if(xn!=null&&xn.notInSquad)return;const _n=String((xn==null?void 0:xn.account)||(xn==null?void 0:xn.name)||"Unknown"),rf=String((xn==null?void 0:xn.character_name)||(xn==null?void 0:xn.display_name)||(xn==null?void 0:xn.name)||""),mc=String((xn==null?void 0:xn.profession)||"Unknown"),hc=`${_n}|${mc}`,ju=Ot(xn,ft),Cu=Number(ju.peak||0),af=Number(ju.peakDownContribution||0),Bo=zt(xn),{damageTotal:ml,downContributionTotal:Dv}=Wt(xn,ft),Pv=ml>0?Math.min(1,Math.max(0,Dv/ml)):0,gc=Bo.map(zo=>Number(zo||0)*Pv),ys=Number(it(Bo,1)||0),Mu=Number(it(Bo,5)||0),Re=Number(it(Bo,30)||0),xt=Number(it(gc,1)||0),Gt=Number(it(gc,5)||0),wn=Number(it(gc,30)||0),Xt=Math.max(0,Math.ceil(Number((ft==null?void 0:ft.durationMS)||0)/5e3)),an=Math.max(0,Math.ceil(Bo.length/5)),qn=Math.max(0,Math.ceil(gc.length/5)),Yr=Math.max(Xt,an,qn),$r=It(Bo,5),yc=It(gc,5),Hm=Array.from({length:Yr},(zo,po)=>Number($r[po]||0)),ar=Array.from({length:Yr},(zo,po)=>Number(yc[po]||0));rn[hc]={hit:Cu,burst1s:ys,burst5s:Mu,burst30s:Re,hitDown:af,burst1sDown:xt,burst5sDown:Gt,burst30sDown:wn,skillName:ju.skillName,buckets5s:Hm,buckets5sDown:ar};const kn=Lt.get(hc)||{key:hc,account:_n,displayName:_n,characterName:rf,profession:mc,professionList:[mc],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};kn.logs+=1,kn.professionList.includes(mc)||kn.professionList.push(mc),!kn.characterName&&rf&&(kn.characterName=rf),Cu>kn.peakHit&&(kn.peakHit=Cu,kn.peakFightLabel=Dn,kn.peakSkillName=ju.skillName),ys>kn.peak1s&&(kn.peak1s=ys),Mu>kn.peak5s&&(kn.peak5s=Mu),Re>kn.peak30s&&(kn.peak30s=Re),af>kn.peakHitDown&&(kn.peakHitDown=af),xt>kn.peak1sDown&&(kn.peak1sDown=xt),Gt>kn.peak5sDown&&(kn.peak5sDown=Gt),wn>kn.peak30sDown&&(kn.peak30sDown=wn),Lt.set(hc,kn)});const Tt=Object.values(rn).reduce((xn,_n)=>Math.max(xn,Number((_n==null?void 0:_n.hit)||0)),0),ln=Object.values(rn).reduce((xn,_n)=>Math.max(xn,Number((_n==null?void 0:_n.burst1s)||0)),0),Rn=Object.values(rn).reduce((xn,_n)=>Math.max(xn,Number((_n==null?void 0:_n.burst5s)||0)),0),en=Object.values(rn).reduce((xn,_n)=>Math.max(xn,Number((_n==null?void 0:_n.burst30s)||0)),0),Mn=Object.values(rn).reduce((xn,_n)=>Math.max(xn,Number((_n==null?void 0:_n.hitDown)||0)),0),wi=Object.values(rn).reduce((xn,_n)=>Math.max(xn,Number((_n==null?void 0:_n.burst1sDown)||0)),0),Or=Object.values(rn).reduce((xn,_n)=>Math.max(xn,Number((_n==null?void 0:_n.burst5sDown)||0)),0),nf=Object.values(rn).reduce((xn,_n)=>Math.max(xn,Number((_n==null?void 0:_n.burst30sDown)||0)),0);$t.push({id:Ae.filePath||Ae.id||`fight-${De}`,shortLabel:`F${De}`,fullLabel:Dn,timestamp:de(ft,Ae),values:rn,maxHit:Tt,max1s:ln,max5s:Rn,max30s:en,maxHitDown:Mn,max1sDown:wi,max5sDown:Or,max30sDown:nf})});const Vt=Array.from(Lt.values()).sort((Ae,ft)=>ft.peakHit!==Ae.peakHit?ft.peakHit-Ae.peakHit:Ae.displayName.localeCompare(ft.displayName));return{fights:$t,players:Vt}},[e,q,Xe,Bt]),bi=g.useMemo(()=>{if(!Nt)return{fights:[],players:[]};const M=ee=>String(ee||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),_=q==null?void 0:q.incomingStrikeDamage,Q=Array.isArray(_==null?void 0:_.fights)?_.fights:[],ce=Array.isArray(_==null?void 0:_.players)?_.players:[];if(Q.length===0&&ce.length===0)return{fights:[],players:[]};const de=Q.map((ee,we)=>{const lt=ee!=null&&ee.values&&typeof ee.values=="object"?ee.values:{};return{id:String((ee==null?void 0:ee.id)||`fight-${we+1}`),shortLabel:String((ee==null?void 0:ee.shortLabel)||`F${we+1}`),fullLabel:M((ee==null?void 0:ee.fullLabel)||`Fight ${we+1}`),timestamp:Number((ee==null?void 0:ee.timestamp)||0),values:lt,maxHit:Number((ee==null?void 0:ee.maxHit)??(ee==null?void 0:ee.maxDamage)??0),max1s:Number((ee==null?void 0:ee.max1s)||0),max5s:Number((ee==null?void 0:ee.max5s)||0),max30s:Number((ee==null?void 0:ee.max30s)||0),maxHitDown:Number((ee==null?void 0:ee.maxHitDown)||0),max1sDown:Number((ee==null?void 0:ee.max1sDown)||0),max5sDown:Number((ee==null?void 0:ee.max5sDown)||0),max30sDown:Number((ee==null?void 0:ee.max30sDown)||0)}}),We=ce.map(ee=>({key:String((ee==null?void 0:ee.key)||""),account:String((ee==null?void 0:ee.account)||"Unknown"),displayName:String((ee==null?void 0:ee.displayName)||(ee==null?void 0:ee.account)||"Unknown"),characterName:String((ee==null?void 0:ee.characterName)||(ee==null?void 0:ee.name)||(ee==null?void 0:ee.character_name)||(ee==null?void 0:ee.display_name)||""),profession:String((ee==null?void 0:ee.profession)||"Unknown"),professionList:Array.isArray(ee==null?void 0:ee.professionList)?ee.professionList.map(we=>String(we)):[],logs:Number((ee==null?void 0:ee.logs)||0),peakHit:Number((ee==null?void 0:ee.peakHit)||0),peak1s:Number((ee==null?void 0:ee.peak1s)||0),peak5s:Number((ee==null?void 0:ee.peak5s)||0),peak30s:Number((ee==null?void 0:ee.peak30s)||0),peakHitDown:Number((ee==null?void 0:ee.peakHitDown)||0),peak1sDown:Number((ee==null?void 0:ee.peak1sDown)||0),peak5sDown:Number((ee==null?void 0:ee.peak5sDown)||0),peak30sDown:Number((ee==null?void 0:ee.peak30sDown)||0),peakFightLabel:M((ee==null?void 0:ee.peakFightLabel)||""),peakSkillName:String((ee==null?void 0:ee.peakSkillName)||"")}));return{fights:de,players:We}},[q,Nt]),Zd=g.useMemo(()=>{const M=new Map;return vi.players.forEach(_=>M.set(_.key,_)),M},[vi.players]),w$=g.useMemo(()=>{const M=de=>Bt==="downContribution"?Fe==="hit"?de.peakHitDown:Fe==="1s"?de.peak1sDown:Fe==="5s"?de.peak5sDown:de.peak30sDown:Fe==="hit"?de.peakHit:Fe==="1s"?de.peak1s:Fe==="5s"?de.peak5s:de.peak30s,_=me.trim().toLowerCase(),Q=_?vi.players.filter(de=>de.displayName.toLowerCase().includes(_)||de.account.toLowerCase().includes(_)||de.profession.toLowerCase().includes(_)):vi.players,ce=new Map;return Q.forEach(de=>{const We=de.profession||"Unknown",ee=ce.get(We)||[];ee.push(de),ce.set(We,ee)}),Array.from(ce.entries()).map(([de,We])=>({profession:de,players:[...We].sort((ee,we)=>M(we)-M(ee)||ee.displayName.localeCompare(we.displayName))})).sort((de,We)=>de.profession.localeCompare(We.profession))},[vi.players,me,Fe,Bt]),k$=In&&Zd.get(In)||null,Ro=g.useMemo(()=>{if(!In)return[];const M=Q=>Q?Number(Bt==="downContribution"?Fe==="hit"?Q.hitDown||0:Fe==="1s"?Q.burst1sDown||0:Fe==="5s"?Q.burst5sDown||0:Q.burst30sDown||0:Fe==="hit"?Q.hit||0:Fe==="1s"?Q.burst1s||0:Fe==="5s"?Q.burst5s||0:Q.burst30s||0):0,_=Q=>Number(Bt==="downContribution"?Fe==="hit"?Q.maxHitDown||0:Fe==="1s"?Q.max1sDown||0:Fe==="5s"?Q.max5sDown||0:Q.max30sDown||0:Fe==="hit"?Q.maxHit||0:Fe==="1s"?Q.max1s||0:Fe==="5s"?Q.max5s||0:Q.max30s||0);return vi.fights.map((Q,ce)=>({index:ce,fightId:Q.id,shortLabel:Q.shortLabel,fullLabel:Q.fullLabel,timestamp:Number(Q.timestamp||0),damage:M(dl(Q.values[In])),maxDamage:_(Q),skillName:String(dl(Q.values[In]).skillName||"")}))},[vi.fights,In,Fe,Bt]),S$=g.useMemo(()=>{const M=Ro.reduce((Q,ce)=>Math.max(Q,Number(ce.damage||0)),0),_=Ro.reduce((Q,ce)=>Math.max(Q,Number(ce.maxDamage||0)),0);return Math.max(1,M,_)},[Ro]),Lm=g.useMemo(()=>{var M,_;const Q=Ue===null?null:Ro.find(Re=>Re.index===Ue)||null;if(!Q||!In)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const ce=_m(vi.fights,Q),[de,We]=In.split("|"),ee=e.find(Re=>String((Re==null?void 0:Re.filePath)||(Re==null?void 0:Re.id)||"")===String(Q.fightId||"")),we=ee==null?void 0:ee.details,lt=Re=>Array.isArray(Re)?Re.map(xt=>Array.isArray(xt)?[Number(xt[0]),Number(xt[1])]:xt&&typeof xt=="object"?[Number(xt.time),Number(xt.value)]:null).filter(xt=>!!xt&&Number.isFinite(xt[0])&&xt[0]>=0):[],Ge=Re=>String(Re||"").trim().toLowerCase(),Ot=Ge(de),zt=Ge(We),it=Zd.get(In),It=new Set([Ge(it==null?void 0:it.displayName),Ge(it==null?void 0:it.characterName),Ge(it==null?void 0:it.account)].filter(Boolean)),Wt=Array.isArray(we==null?void 0:we.players)&&((M=we.players.map(Re=>{const xt=Ge(Re==null?void 0:Re.account),Gt=Ge(Re==null?void 0:Re.name),wn=Ge(Re==null?void 0:Re.profession),Xt=!!xt&&xt===Ot,an=!!Gt&&(Gt===Ot||It.has(Gt)),qn=!!xt&&It.has(xt),Yr=!zt||wn===zt;let $r=0;return Xt&&($r+=100),an&&($r+=90),qn&&($r+=80),Yr&&($r+=20),{player:Re,score:$r}}).filter(Re=>Re.score>0).sort((Re,xt)=>xt.score-Re.score)[0])==null?void 0:M.player)||null,$t=(()=>{const Re=Wt==null?void 0:Wt.combatReplayData;return Array.isArray(Re)?Re.filter(xt=>xt&&typeof xt=="object"):Re&&typeof Re=="object"?[Re]:[]})(),Lt=$t.flatMap(Re=>lt(Re==null?void 0:Re.down).map(([xt])=>xt)),Vt=$t.flatMap(Re=>lt(Re==null?void 0:Re.dead).map(([xt])=>xt)),Ae=$t.map(Re=>Number(Re==null?void 0:Re.start)).filter(Re=>Number.isFinite(Re)&&Re>=0),ft=Array.isArray(we==null?void 0:we.players)?we.players.flatMap(Re=>{const xt=Re==null?void 0:Re.combatReplayData;return Array.isArray(xt)?xt.map(Gt=>Number(Gt==null?void 0:Gt.start)):[Number(xt==null?void 0:xt.start)]}).filter(Re=>Number.isFinite(Re)&&Re>=0).reduce((Re,xt)=>Math.min(Re,xt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,De=[0,Number((we==null?void 0:we.logStartOffset)||0),...Ae,Number.isFinite(ft)?ft:0].filter(Re=>Number.isFinite(Re)&&Re>=0),qt=Re=>{const xt=Math.max(0,Math.floor(Number(Re||0)/1e3)),Gt=Math.floor(xt/5)*5;return`${Gt}s-${Gt+5}s`},Qt=(Re,xt)=>{if(Re.length===0||xt.length===0)return[];const Gt=xt.length*5e3,wn=ar=>ar.reduce((kn,zo)=>zo>=0&&zo<=Gt+2e3?kn+1:kn,0),Xt=[],an=Re.map(ar=>Number(ar||0)).filter(ar=>Number.isFinite(ar)&&ar>=0);if(an.length===0)return[];Xt.push(an);const qn=an.reduce((ar,kn)=>Math.max(ar,kn),0),Yr=an.reduce((ar,kn)=>Math.min(ar,kn),Number.POSITIVE_INFINITY);qn>Gt*20&&Xt.push(an.map(ar=>ar/1e3)),qn<=Gt*2&&Yr>=0&&qn>0&&qn<Math.max(120,xt.length*5+10)&&Xt.push(an.map(ar=>ar*1e3));let $r=an,yc=0,Hm=-1;return Xt.forEach(ar=>{const kn=new Set(De),zo=ar.reduce((po,Tv)=>Math.min(po,Tv),Number.POSITIVE_INFINITY);if(Number.isFinite(zo)&&Gt>0&&zo>Gt){const po=Math.floor(zo/Gt)*Gt;kn.add(po),kn.add(Math.max(0,po-Gt))}kn.forEach(po=>{const Tv=ar.map(kB=>kB-po),zj=wn(Tv);zj>Hm&&(Hm=zj,yc=po,$r=ar)})}),$r.map(ar=>ar-yc).filter(ar=>Number.isFinite(ar)&&ar>=0)},Dn=(Re,xt)=>{if(Re.length===0||xt.length===0)return[];const Gt=Qt(xt,Re),wn=new Map;Re.forEach(an=>{const qn=/^(\d+)s-/.exec(String(an));if(!qn)return;const Yr=Number(qn[1]);Number.isFinite(Yr)&&wn.set(Yr,an)});const Xt=[];return Gt.forEach(an=>{const qn=Math.max(0,Math.floor(Number(an||0)/1e3)),Yr=Math.floor(qn/5)*5,$r=wn.get(Yr)||qt(an);Re.includes($r)&&Xt.push($r)}),Array.from(new Set(Xt))},rn=(Re,xt)=>{if(Re<=0||xt.length===0)return[];const Gt=Array.from({length:Re},(Xt,an)=>`${an*5}s-${(an+1)*5}s`),wn=Qt(xt,Gt).map(Xt=>Math.floor(Math.max(0,Number(Xt||0))/5e3)).filter(Xt=>Number.isFinite(Xt)&&Xt>=0&&Xt<Re);return Array.from(new Set(wn))},Tt=dl((_=ce==null?void 0:ce.values)==null?void 0:_[In]),ln=Bt==="downContribution"?Array.isArray(Tt==null?void 0:Tt.buckets5sDown)?(Tt==null?void 0:Tt.buckets5sDown)||[]:[]:Array.isArray(Tt==null?void 0:Tt.buckets5s)?(Tt==null?void 0:Tt.buckets5s)||[]:[],Rn=Array.isArray(Tt==null?void 0:Tt.downIndices5s)?Tt.downIndices5s.map(Re=>Number(Re)).filter(Re=>Number.isFinite(Re)&&Re>=0):[],en=Array.isArray(Tt==null?void 0:Tt.deathIndices5s)?Tt.deathIndices5s.map(Re=>Number(Re)).filter(Re=>Number.isFinite(Re)&&Re>=0):[];if(ln.length>0){const Re=Math.max(0,Math.ceil(Number((we==null?void 0:we.durationMS)||0)/5e3)),xt=Math.max(ln.length,Re),Gt=Array.from({length:xt},(Xt,an)=>({label:`${an*5}s-${(an+1)*5}s`,value:Number(ln[an]||0)})),wn=Gt.map(Xt=>Xt.label);return{title:`Fight Breakdown - ${Q.shortLabel||"Fight"} (5s ${Bt==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Gt,downLabels:Dn(wn,Lt),deathLabels:Dn(wn,Vt),downIndices:Rn.length>0?Rn.filter(Xt=>Xt<Gt.length):rn(Gt.length,Lt),deathIndices:en.length>0?en.filter(Xt=>Xt<Gt.length):rn(Gt.length,Vt)}}const Mn=Q.shortLabel||"Fight";if(!we||!Array.isArray(we.players))return{title:`Fight Breakdown - ${Mn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const wi=we.players.find(Re=>String((Re==null?void 0:Re.account)||(Re==null?void 0:Re.name)||"Unknown")===de&&String((Re==null?void 0:Re.profession)||"Unknown")===We);if(!wi)return{title:`Fight Breakdown - ${Mn}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Or=wi,nf=()=>{let Re=0,xt=0;const Gt=new Map,wn=Xt=>{if(!Xt||typeof Xt!="object"||Xt.indirectDamage)return;const an=Number(Xt.totalDamage||0),qn=Number(Xt.downContribution||0);!Number.isFinite(an)&&!Number.isFinite(qn)||(Re+=Number.isFinite(an)?an:0,xt+=Number.isFinite(qn)?qn:0)};return Array.isArray(Or==null?void 0:Or.targetDamageDist)&&Or.targetDamageDist.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(an=>{Array.isArray(an)&&an.forEach(qn=>{const Yr=Number(qn==null?void 0:qn.id);if(Number.isFinite(Yr)){const $r=Gt.get(Yr)||{damage:0,downContribution:0};$r.damage+=Number((qn==null?void 0:qn.totalDamage)||0),$r.downContribution+=Number((qn==null?void 0:qn.downContribution)||0),Gt.set(Yr,$r)}wn(qn)})})}),!(we!=null&&we.detailedWvW)&&Array.isArray(Or==null?void 0:Or.totalDamageDist)&&Or.totalDamageDist.forEach(Xt=>{Array.isArray(Xt)&&Xt.forEach(an=>{const qn=Number(an==null?void 0:an.id);if(!Number.isFinite(qn)){wn(an);return}const Yr=Gt.get(qn);if(!Yr){wn(an);return}const $r=Number((an==null?void 0:an.totalDamage)||0)-Number(Yr.damage||0),yc=Number((an==null?void 0:an.downContribution)||0)-Number(Yr.downContribution||0);$r<=0&&yc<=0||wn({...an,totalDamage:Math.max(0,$r),downContribution:Math.max(0,yc)})})}),Re<=0?0:Math.min(1,Math.max(0,xt/Re))},xn=Re=>{if(!Array.isArray(Re)||Re.length===0)return[];const xt=[];for(let Gt=0;Gt<Re.length;Gt+=1){const wn=Number(Re[Gt]||0),Xt=Gt>0?Number(Re[Gt-1]||0):0;xt.push(Math.max(0,wn-Xt))}return xt},_n=Re=>{if(!Array.isArray(Re))return[];const xt=Re.reduce((wn,Xt)=>Math.max(wn,Array.isArray(Xt)?Xt.length:0),0);if(xt<=0)return[];const Gt=new Array(xt).fill(0);return Re.forEach(wn=>{if(Array.isArray(wn))for(let Xt=0;Xt<xt;Xt+=1)Gt[Xt]+=Number(wn[Xt]||0)}),Gt},rf=Re=>Array.isArray(Re)?Re.map(xt=>Number(xt||0)):null,mc=(Re=>{if(!Array.isArray(Re)||Re.length===0)return null;const xt=Re[0];if(!Array.isArray(xt))return null;if(Array.isArray(xt[0])&&Array.isArray(xt[0][0]))return _n(xt);if(Array.isArray(xt[0])&&!Array.isArray(xt[0][0])){const Gt=Re.map(wn=>rf(Array.isArray(wn)?wn[0]:null)).filter(wn=>Array.isArray(wn)&&wn.length>0);if(Gt.length>0)return _n(Gt)}return null})(Or==null?void 0:Or.targetDamage1S),hc=Array.isArray(Or==null?void 0:Or.damage1S)&&Array.isArray(Or.damage1S[0])?Or.damage1S[0]:null,ju=mc||(Array.isArray(hc)?hc.map(Re=>Number(Re||0)):[]),Cu=xn(ju),af=nf(),Bo=Bt==="downContribution"?Cu.map(Re=>Number(Re||0)*af):Cu,ml=5,Dv=Math.max(0,Math.ceil(Number((we==null?void 0:we.durationMS)||0)/(ml*1e3))),Pv=Math.max(0,Math.ceil(Bo.length/ml)),gc=Math.max(Dv,Pv),ys=[];for(let Re=0;Re<gc;Re+=1){const xt=Re*ml,Gt=Math.min(xt+ml,Bo.length),wn=Bo.slice(xt,Gt).reduce((Xt,an)=>Xt+Number(an||0),0);ys.push({label:`${xt}s-${xt+ml}s`,value:wn})}const Mu=ys.map(Re=>Re.label);return{title:`Fight Breakdown - ${Mn} (5s ${Bt==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:ys,downLabels:Dn(Mu,Lt),deathLabels:Dn(Mu,Vt),downIndices:rn(ys.length,Lt),deathIndices:rn(ys.length,Vt)}},[Ue,Ro,In,e,vi.fights,Zd,Bt]),Av=g.useMemo(()=>{const M=new Map;return bi.players.forEach(_=>M.set(_.key,_)),M},[bi.players]),N$=g.useMemo(()=>{const M=de=>zn==="hit"?de.peakHit:zn==="1s"?de.peak1s:zn==="5s"?de.peak5s:de.peak30s,_=be.trim().toLowerCase(),Q=_?bi.players.filter(de=>de.displayName.toLowerCase().includes(_)||de.account.toLowerCase().includes(_)||de.profession.toLowerCase().includes(_)):bi.players,ce=new Map;return Q.forEach(de=>{const We=de.profession||"Unknown",ee=ce.get(We)||[];ee.push(de),ce.set(We,ee)}),Array.from(ce.entries()).map(([de,We])=>({profession:de,players:[...We].sort((ee,we)=>M(we)-M(ee)||ee.displayName.localeCompare(we.displayName))})).sort((de,We)=>de.profession.localeCompare(We.profession))},[bi.players,be,zn]),j$=Ht&&Av.get(Ht)||null,$o=g.useMemo(()=>{if(!Ht)return[];const M=Q=>Q?Number(zn==="hit"?Q.hit||0:zn==="1s"?Q.burst1s||0:zn==="5s"?Q.burst5s||0:Q.burst30s||0):0,_=Q=>Number(zn==="hit"?Q.maxHit||0:zn==="1s"?Q.max1s||0:zn==="5s"?Q.max5s||0:Q.max30s||0);return bi.fights.map((Q,ce)=>({index:ce,fightId:Q.id,shortLabel:Q.shortLabel,fullLabel:Q.fullLabel,timestamp:Number(Q.timestamp||0),damage:M(dl(Q.values[Ht])),maxDamage:_(Q),skillName:String(dl(Q.values[Ht]).skillName||"")}))},[bi.fights,Ht,zn]),C$=g.useMemo(()=>{const M=$o.reduce((Q,ce)=>Math.max(Q,Number(ce.damage||0)),0),_=$o.reduce((Q,ce)=>Math.max(Q,Number(ce.maxDamage||0)),0);return Math.max(1,M,_)},[$o]),Fm=g.useMemo(()=>{var M;const _=Fn===null?null:$o.find(lt=>lt.index===Fn)||null;if(!_||!Ht)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Q=_m(bi.fights,_),ce=dl((M=Q==null?void 0:Q.values)==null?void 0:M[Ht]),de=Array.isArray(ce==null?void 0:ce.buckets5s)?(ce==null?void 0:ce.buckets5s)||[]:[],We=Array.isArray(ce==null?void 0:ce.downIndices5s)?ce.downIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):[],ee=Array.isArray(ce==null?void 0:ce.deathIndices5s)?ce.deathIndices5s.map(lt=>Number(lt)).filter(lt=>Number.isFinite(lt)&&lt>=0):[];if(de.length>0){const lt=de.map((Ge,Ot)=>({label:`${Ot*5}s-${(Ot+1)*5}s`,value:Number(Ge||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s Damage Buckets)`,data:lt,downLabels:[],deathLabels:[],downIndices:We.filter(Ge=>Ge<lt.length),deathIndices:ee.filter(Ge=>Ge<lt.length)}}const we=Number(zn==="hit"?ce.hit||0:zn==="1s"?ce.burst1s||0:zn==="5s"?ce.burst5s||0:ce.burst30s||0);return we>0?{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:we}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${_.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Fn,$o,Ht,bi.fights,zn]),M$=g.useMemo(()=>{var M;if(Fn===null||!Ht)return[];const _=$o.find(lt=>lt.index===Fn);if(!_)return[];const Q=_m(bi.fights,_),ce=dl((M=Q==null?void 0:Q.values)==null?void 0:M[Ht]),de=[...(ce==null?void 0:ce.skillRows)||[]].filter(lt=>Number((lt==null?void 0:lt.damage)||0)>0||Number((lt==null?void 0:lt.downContribution)||0)>0).sort((lt,Ge)=>Number(Ge.damage||0)-Number(lt.damage||0)).slice(0,30);if(de.length>0)return de;const We=e.find(lt=>String((lt==null?void 0:lt.filePath)||(lt==null?void 0:lt.id)||"")===String(_.fightId||"")),ee=We==null?void 0:We.details;if(ee&&Ht){const lt=new Set(Object.keys(Jc)),Ge=Object.keys(Jc).filter($t=>$t&&$t!=="Unknown").sort(($t,Lt)=>Lt.length-$t.length),Ot=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],zt=$t=>{if(!$t)return"Unknown";const Lt=String($t).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(lt.has(Lt))return Lt;const Vt=Lt.toLowerCase();for(const Ae of Ge)if(Vt.includes(Ae.toLowerCase()))return Ae;return Ot.find(Ae=>Vt.includes(Ae.toLowerCase()))||Lt||"Unknown"},it=$t=>{const Lt=Number($t);if(!Number.isFinite(Lt))return{name:String($t||"Unknown Skill"),icon:void 0};const Vt=(ee==null?void 0:ee.skillMap)||{},Ae=(ee==null?void 0:ee.buffMap)||{},ft=(Vt==null?void 0:Vt[`s${Lt}`])||(Vt==null?void 0:Vt[`${Lt}`]);if(ft!=null&&ft.name)return{name:String(ft.name),icon:ft==null?void 0:ft.icon};const De=(Ae==null?void 0:Ae[`b${Lt}`])||(Ae==null?void 0:Ae[`${Lt}`]);return De!=null&&De.name?{name:String(De.name),icon:De==null?void 0:De.icon}:{name:`Skill ${Lt}`,icon:void 0}},It=new Map;(Array.isArray(ee==null?void 0:ee.targets)?ee.targets:[]).forEach($t=>{!$t||$t.isFake||$t.enemyPlayer===!1||zt(($t==null?void 0:$t.profession)||($t==null?void 0:$t.name)||($t==null?void 0:$t.id))!==Ht||Array.isArray($t==null?void 0:$t.totalDamageDist)&&$t.totalDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{if(!Vt||typeof Vt!="object"||Vt.indirectDamage)return;const Ae=Number(Vt.totalDamage||0);if(!Number.isFinite(Ae)||Ae<=0)return;const ft=Number(Vt.connectedHits||Vt.hits||0),De=it(Vt.id),qt=De.name,Qt=It.get(qt)||{skillName:qt,damage:0,hits:0,icon:De.icon};Qt.damage+=Ae,Qt.hits+=Number.isFinite(ft)?ft:0,!Qt.icon&&De.icon&&(Qt.icon=De.icon),It.set(qt,Qt)})})});const Wt=Array.from(It.values()).filter($t=>Number(($t==null?void 0:$t.damage)||0)>0).sort(($t,Lt)=>Number(Lt.damage||0)-Number($t.damage||0)).slice(0,30);if(Wt.length>0)return Wt}const we=Number((ce==null?void 0:ce.hit)||0);return we<=0?de:[{skillName:String((ce==null?void 0:ce.skillName)||"Unknown Skill"),damage:we,hits:1,icon:void 0}]},[Fn,Ht,$o,bi.fights,e]),A$=g.useMemo(()=>{var M;if(Ue===null||!In)return[];const _=Ro.find(we=>we.index===Ue);if(!_)return[];const Q=_m(vi.fights,_),ce=dl((M=Q==null?void 0:Q.values)==null?void 0:M[In]),de=[...(ce==null?void 0:ce.skillRows)||[]].filter(we=>Number((we==null?void 0:we.damage)||0)>0||Number((we==null?void 0:we.downContribution)||0)>0).sort((we,lt)=>Number(lt.damage||0)-Number(we.damage||0)).slice(0,30);if(de.length>0)return de;const We=e.find(we=>String((we==null?void 0:we.filePath)||(we==null?void 0:we.id)||"")===String(_.fightId||"")),ee=We==null?void 0:We.details;if(ee&&In){const[we,lt]=In.split("|"),Ge=it=>{const It=Number(it);if(!Number.isFinite(It))return{name:String(it||"Unknown Skill"),icon:void 0};const Wt=(ee==null?void 0:ee.skillMap)||{},$t=(ee==null?void 0:ee.buffMap)||{},Lt=(Wt==null?void 0:Wt[`s${It}`])||(Wt==null?void 0:Wt[`${It}`]);if(Lt!=null&&Lt.name)return{name:String(Lt.name),icon:Lt==null?void 0:Lt.icon};const Vt=($t==null?void 0:$t[`b${It}`])||($t==null?void 0:$t[`${It}`]);return Vt!=null&&Vt.name?{name:String(Vt.name),icon:Vt==null?void 0:Vt.icon}:{name:`Skill ${It}`,icon:void 0}},Ot=new Map,zt=(Array.isArray(ee==null?void 0:ee.players)?ee.players:[]).find(it=>{if(it!=null&&it.notInSquad)return!1;const It=String((it==null?void 0:it.account)||(it==null?void 0:it.name)||""),Wt=String((it==null?void 0:it.profession)||"Unknown"),$t=It===String(we||""),Lt=Wt===String(lt||"");return $t&&Lt})||null;if(zt){const it=zt,It=Lt=>{if(!Lt||typeof Lt!="object"||Lt.indirectDamage)return;const Vt=Number(Lt.totalDamage||0),Ae=Number(Lt.downContribution||0);if((!Number.isFinite(Vt)||Vt<=0)&&(!Number.isFinite(Ae)||Ae<=0))return;const ft=Number(Lt.connectedHits||Lt.hits||0),De=Ge(Lt.id),qt=Ot.get(De.name)||{skillName:De.name,damage:0,downContribution:0,hits:0,icon:De.icon};qt.damage+=Number.isFinite(Vt)?Vt:0,qt.downContribution+=Number.isFinite(Ae)?Ae:0,qt.hits+=Number.isFinite(ft)?ft:0,!qt.icon&&De.icon&&(qt.icon=De.icon),Ot.set(De.name,qt)},Wt=new Map;Array.isArray(it==null?void 0:it.targetDamageDist)&&it.targetDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{Array.isArray(Vt)&&Vt.forEach(Ae=>{const ft=Number(Ae==null?void 0:Ae.id),De=Number((Ae==null?void 0:Ae.totalDamage)||0),qt=Number((Ae==null?void 0:Ae.downContribution)||0);if(Number.isFinite(ft)){const Qt=Wt.get(ft)||{damage:0,downContribution:0,hits:0};Qt.damage+=Number.isFinite(De)?De:0,Qt.downContribution+=Number.isFinite(qt)?qt:0,Qt.hits+=Number((Ae==null?void 0:Ae.connectedHits)||(Ae==null?void 0:Ae.hits)||0),Wt.set(ft,Qt)}It(Ae)})})}),!(ee!=null&&ee.detailedWvW)&&Array.isArray(it==null?void 0:it.totalDamageDist)&&it.totalDamageDist.forEach(Lt=>{Array.isArray(Lt)&&Lt.forEach(Vt=>{const Ae=Number(Vt==null?void 0:Vt.id);if(!Number.isFinite(Ae)){It(Vt);return}const ft=Wt.get(Ae);if(!ft){It(Vt);return}const De=Number((Vt==null?void 0:Vt.totalDamage)||0),qt=Number((Vt==null?void 0:Vt.downContribution)||0),Qt=Number((Vt==null?void 0:Vt.connectedHits)||(Vt==null?void 0:Vt.hits)||0),Dn=De-Number(ft.damage||0),rn=qt-Number(ft.downContribution||0),Tt=Qt-Number(ft.hits||0);Dn<=0&&rn<=0&&Tt<=0||It({...Vt,totalDamage:Math.max(0,Dn),downContribution:Math.max(0,rn),connectedHits:Math.max(0,Tt),hits:Math.max(0,Tt)})})});const $t=Array.from(Ot.values()).filter(Lt=>Number((Lt==null?void 0:Lt.damage)||0)>0||Number((Lt==null?void 0:Lt.downContribution)||0)>0).sort((Lt,Vt)=>Number(Vt.damage||0)-Number(Lt.damage||0)).slice(0,30);if($t.length>0)return $t}}return de},[Ue,In,Ro,vi.fights,e]);g.useEffect(()=>{if(fs.length===0){fc!==null&&Nv(null),Fo!==null&&Om(null);return}if(!fc||!Cv.has(fc)){const M=fs[0].key;Nv(M),jj(null)}},[fs,Cv,fc,Fo]),g.useEffect(()=>{if(!ps||ps.skills.length===0){Fo!==null&&Om(null);return}const M=ps.skills.some(_=>_.id===Fo);(!Fo||!M)&&Om(ps.skills[0].id)},[ps,Fo]),g.useEffect(()=>{if(wu.length===0){pc!==null&&jv(null),ds!==null&&Im(null);return}if(!pc||!Mv.has(pc)){const M=wu[0].profession;jv(M),Cj(null)}},[wu,Mv,pc,ds]),g.useEffect(()=>{if(!ul||ul.skills.length===0){ds!==null&&Im(null);return}const M=ul.skills.some(_=>_.id===ds);(!ds||!M)&&Im(ul.skills[0].id)},[ul,ds]),g.useEffect(()=>{if(vi.players.length===0){In!==null&&Ze(null);return}(!In||!Zd.has(In))&&In!==null&&Ze(null)},[vi.players,Zd,In]),g.useEffect(()=>{Ke(null)},[In,Fe,Bt]),g.useEffect(()=>{Ue!==null&&(Ro.some(M=>M.index===Ue)||Ke(null))},[Ro,Ue]),g.useEffect(()=>{if(bi.players.length===0){Ht!==null&&sn(null);return}(!Ht||!Av.has(Ht))&&Ht!==null&&sn(null)},[bi.players,Av,Ht]),g.useEffect(()=>{wa(null)},[Ht,zn]),g.useEffect(()=>{Fn!==null&&($o.some(M=>M.index===Fn)||wa(null))},[$o,Fn]);const E$=g.useMemo(()=>new Set(xa),[xa]),Rm=fe?Qe:oE,{playerMapByKey:ms,playerTotalsForSkill:ku,skillChartData:D$,skillChartMaxY:P$,groupedSkillUsagePlayers:T$}=ZV({skillUsageData:Rm,selectedSkillId:ba,selectedPlayers:E$,skillUsageView:uo==="perSecond"?"perSecond":"total"}),Mj=g.useMemo(()=>{const M=new Map,_=We=>{We.forEach(ee=>{const we=_u(ee==null?void 0:ee.name)||(ee==null?void 0:ee.name);we&&ee!=null&&ee.icon&&!M.has(we)&&M.set(we,ee.icon)})},Q=We=>{We.forEach(ee=>{Object.entries((ee==null?void 0:ee.conditions)||{}).forEach(([we,lt])=>{const Ge=_u(we)||we;lt!=null&&lt.icon&&!M.has(Ge)&&M.set(Ge,lt.icon)})})},ce=We=>{const ee=new Map;return We.forEach(we=>{const lt=_u(we==null?void 0:we.name)||(we==null?void 0:we.name);if(!lt)return;const Ge=ee.get(lt)||{name:lt,icon:(we==null?void 0:we.icon)||M.get(lt)||uh(lt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Ge.applications+=Number((we==null?void 0:we.applications)||0),Ge.damage+=Number((we==null?void 0:we.damage)||0),we!=null&&we.applicationsFromUptime&&(Ge.applicationsFromUptime+=Number(we.applicationsFromUptime||0)),we!=null&&we.applicationsFromBuffs&&(Ge.applicationsFromBuffs+=Number(we.applicationsFromBuffs||0)),we!=null&&we.applicationsFromBuffsActive&&(Ge.applicationsFromBuffsActive+=Number(we.applicationsFromBuffsActive||0)),!Ge.icon&&we!=null&&we.icon&&(Ge.icon=we.icon),Ge.icon||(Ge.icon=uh(lt)),ee.set(lt,Ge)}),Array.from(ee.values())},de=We=>We.map(ee=>{const we={};return Object.entries((ee==null?void 0:ee.conditions)||{}).forEach(([lt,Ge])=>{const Ot=_u(lt)||lt;if(!Ot)return;const zt=we[Ot]||{icon:(Ge==null?void 0:Ge.icon)||M.get(Ot)||uh(Ot),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};zt.applications+=Number((Ge==null?void 0:Ge.applications)||0),zt.damage+=Number((Ge==null?void 0:Ge.damage)||0),Ge!=null&&Ge.applicationsFromUptime&&(zt.applicationsFromUptime+=Number(Ge.applicationsFromUptime||0)),Ge!=null&&Ge.applicationsFromBuffs&&(zt.applicationsFromBuffs+=Number(Ge.applicationsFromBuffs||0)),Ge!=null&&Ge.applicationsFromBuffsActive&&(zt.applicationsFromBuffsActive+=Number(Ge.applicationsFromBuffsActive||0)),!zt.icon&&Ge!=null&&Ge.icon&&(zt.icon=Ge.icon),zt.icon||(zt.icon=uh(Ot)),Object.values((Ge==null?void 0:Ge.skills)||{}).forEach(it=>{const It=(it==null?void 0:it.name)||"Unknown",Wt=zt.skills[It]||{name:It,hits:0,damage:0,icon:it==null?void 0:it.icon};Wt.hits+=Number((it==null?void 0:it.hits)||0),Wt.damage+=Number((it==null?void 0:it.damage)||0),!Wt.icon&&it!=null&&it.icon&&(Wt.icon=it.icon),zt.skills[It]=Wt}),we[Ot]=zt}),{...ee,conditions:we}});return(We,ee)=>(_(We),Q(ee),{summary:ce(We),players:de(ee)})},[]),Aj=pn?nt==="outgoing"?q.outgoingConditionSummary:q.incomingConditionSummary:Pb,Ej=pn?nt==="outgoing"?q.outgoingConditionPlayers:q.incomingConditionPlayers:Pb,{summary:$m,players:O$}=g.useMemo(()=>Mj(Aj||[],Ej||[]),[Mj,Aj,Ej]);g.useEffect(()=>{if(!pn||re==="all"||$m.some(_=>_.name===re))return;const M=_u(re);M&&$m.some(_=>_.name===M)?Oe(M):Oe("all")},[re,$m,Oe,pn]);const I$=g.useMemo(()=>{const M={};return ku.forEach((_,Q)=>{const ce=ms.get(Q);if(!ce)return;const de=ce.profession;(!M[de]||_>M[de])&&(M[de]=_)}),M},[ku,ms]),_t=R,Vn=g.useCallback((M,_)=>{const Q=_t(M);return d?`${_} ${Q?"":"hidden"}`:`${_} transition-[opacity,transform] duration-700 ease-in-out ${Q?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[_t,d]),Dj=g.useMemo(()=>ese.find(M=>_t(M))||null,[_t]),Wn=g.useCallback(M=>M===Dj,[Dj]),_$=g.useMemo(()=>{const M=new Map,_=new Map;return xa.forEach(Q=>{const ce=ms.get(Q);if(!ce)return;const de=ku.get(Q)??0,We=_.get(ce.profession)||[];We.push({key:Q,total:de}),_.set(ce.profession,We)}),_.forEach(Q=>{Q.sort((ce,de)=>de.total-ce.total),Q.forEach((ce,de)=>{M.set(ce.key,de)})}),M},[xa,ms,ku]),Pj=["0","12 3","8 3","6 3","4 3","2 3"],L$=M=>{const _=ms.get(M),Q=Ds((_==null?void 0:_.profession)||""),ce=ku.get(M)??0,de=_!=null&&_.profession&&I$[_.profession]||1,We=.35+(de>0?ce/de:1)*.65;return Bm(Q,We)},F$=M=>{const _=_$.get(M)??0;return Pj[_%Pj.length]},R$=(M,_,Q)=>{if(!Q)return L$(M);const ce=ms.get(M),de=Ds((ce==null?void 0:ce.profession)||"");return _?Bm(de,1.2):Bm(de,.5)},Bm=(M,_)=>{const Q=M.replace("#","");if(Q.length!==6)return M;const ce=Ge=>Math.max(0,Math.min(255,Ge)),de=Ge=>Number.parseInt(Q.slice(Ge,Ge+2),16),We=Ge=>ce(Math.round(Ge)).toString(16).padStart(2,"0"),ee=de(0),we=de(2),lt=de(4);return`#${We(ee*_)}${We(we*_)}${We(lt*_)}`},Tj=g.useMemo(()=>{const M=new Map;return Rm.skillOptions.forEach(_=>{M.set(_.id,{name:_.name,icon:_.icon})}),M},[Rm.skillOptions]),Qd=g.useMemo(()=>{var M;if(xa.length===0)return[];const _=new Map,Q=new Map;let ce=0;xa.forEach(Ge=>{const Ot=ms.get(Ge);if(!Ot)return;ce+=Ot.totalActiveSeconds||0,Object.entries(Ot.skillTotals||{}).forEach(([it,It])=>{_.set(it,(_.get(it)||0)+Number(It||0))});const zt=Ot.profession||"Unknown";Q.set(zt,(Q.get(zt)||0)+(Ot.totalActiveSeconds||0))});const de=sl.trim().toLowerCase(),We=uo==="perSecond",ee=((M=Array.from(Q.entries()).sort((Ge,Ot)=>Ot[1]-Ge[1])[0])==null?void 0:M[0])||"Unknown",we=Ds(ee),lt="#64748b";return Array.from(_.entries()).map(([Ge,Ot])=>{const zt=Tj.get(Ge),it=(zt==null?void 0:zt.name)||Ge,It=We&&ce>0?Ot/ce:Ot;return{skillId:Ge,name:it,icon:zt==null?void 0:zt.icon,total:It}}).filter(Ge=>Ge.total>0&&(!de||Ge.name.toLowerCase().includes(de))).sort((Ge,Ot)=>Ot.total-Ge.total).map((Ge,Ot)=>({...Ge,color:Ot===0?we:Bm(we,.85-Math.min(Ot*.06,.4))||lt}))},[xa,ms,sl,uo,Tj]);g.useEffect(()=>{if(fe){if(Qd.length===0){ba!==null&&ri(null);return}(!ba||!Qd.some(M=>M.skillId===ba))&&ri(Qd[0].skillId)}},[Qd,ba,ri,fe]);const zm=Rm.skillOptions.find(M=>M.id===ba),$$=(zm==null?void 0:zm.name)||"",B$=(zm==null?void 0:zm.icon)||null,z$=Pt&&!!ba&&xa.length>0,Um="__all__",U$=Pt&&cl.length>0,fl=g.useMemo(()=>cl.find(M=>M.profession===dc)??null,[cl,dc]),V$=us===Um,W$=g.useMemo(()=>{var M;return((M=fl==null?void 0:fl.skills)==null?void 0:M.find(_=>_.id===us))??null},[fl,us]);g.useEffect(()=>{if(cl.length===0){dc!==null&&xv(null),wv!==null&&kv(null);return}if(!dc||!cl.some(M=>M.profession===dc)){const M=cl[0].profession;xv(M),kv(null)}},[cl,dc,wv]),g.useEffect(()=>{if(!fl||fl.skills.length===0){us!==null&&Sv(null);return}const M=fl.skills.some(_=>_.id===us);(!us||!M&&us!==Um)&&Sv(Um)},[fl,us]);const H$=M=>{Wa(_=>_.includes(M)?_.filter(Q=>Q!==M):[..._,M])},q$=M=>{Wa(_=>_.filter(Q=>Q!==M))},K$=g.useMemo(()=>{const M=yi.trim().toLowerCase(),_=q.boonTables||[];return M?_.filter(Q=>Q.name.toLowerCase().includes(M)):_},[q.boonTables,yi]),G$=g.useMemo(()=>Fi?(q.boonTables||[]).find(M=>M.id===Fi)??null:null,[q.boonTables,Fi]),Vm=M=>{var _,Q,ce,de;return{selfBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((_=M==null?void 0:M.totals)==null?void 0:_.selfBuffs)||0):0,groupBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((Q=M==null?void 0:M.totals)==null?void 0:Q.groupBuffs)||0):0,squadBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number(((ce=M==null?void 0:M.totals)==null?void 0:ce.squadBuffs)||0):Number((M==null?void 0:M.total)||0),totalBuffs:M!=null&&M.totals&&typeof M.totals=="object"?Number((((de=M==null?void 0:M.totals)==null?void 0:de.totalBuffs)??(M==null?void 0:M.total))||0):Number((M==null?void 0:M.total)||0)}},ef=(M,_)=>{const Q=Vm(M),ce=Number((Q==null?void 0:Q[_])||0);return Number.isFinite(ce)?Math.max(0,ce):0},Oj=dr==="selfBuffs"?"Self":dr==="groupBuffs"?"Group":dr==="squadBuffs"?"Squad":"All",hs=g.useMemo(()=>(Array.isArray(q==null?void 0:q.boonTimeline)?q.boonTimeline:[]).map(M=>({id:String((M==null?void 0:M.id)||""),name:String((M==null?void 0:M.name)||(M==null?void 0:M.id)||"Unknown Boon"),icon:typeof(M==null?void 0:M.icon)=="string"?M.icon:void 0,stacking:!!(M!=null&&M.stacking),players:(Array.isArray(M==null?void 0:M.players)?M.players:[]).map(_=>({key:String((_==null?void 0:_.key)||""),account:String((_==null?void 0:_.account)||(_==null?void 0:_.displayName)||"Unknown"),displayName:String((_==null?void 0:_.displayName)||(_==null?void 0:_.account)||"Unknown"),profession:String((_==null?void 0:_.profession)||"Unknown"),professionList:Array.isArray(_==null?void 0:_.professionList)?_.professionList.map(Q=>String(Q||"")):[],logs:Number((_==null?void 0:_.logs)||0),totals:Vm(_)})),fights:(Array.isArray(M==null?void 0:M.fights)?M.fights:[]).map((_,Q)=>({id:String((_==null?void 0:_.id)||`fight-${Q+1}`),shortLabel:String((_==null?void 0:_.shortLabel)||`F${Q+1}`),fullLabel:String((_==null?void 0:_.fullLabel)||`Fight ${Q+1}`),timestamp:Number((_==null?void 0:_.timestamp)||0),durationMs:Number((_==null?void 0:_.durationMs)||0),maxTotal:Number((_==null?void 0:_.maxTotal)||0),values:_!=null&&_.values&&typeof _.values=="object"?Object.fromEntries(Object.entries(_.values).map(([ce,de])=>[String(ce||""),{total:Number((de==null?void 0:de.total)||0),totals:Vm(de),bucketWeights5s:Array.isArray(de==null?void 0:de.bucketWeights5s)?de.bucketWeights5s.map(We=>Number(We||0)):[],buckets5s:Array.isArray(de==null?void 0:de.buckets5s)?de.buckets5s.map(We=>Number(We||0)):[]}])):{}}))})).filter(M=>M.id&&M.players.length>0&&M.fights.length>0),[q.boonTimeline]),Y$=g.useMemo(()=>{const M=al.trim().toLowerCase();return M?hs.filter(_=>String((_==null?void 0:_.name)||"").toLowerCase().includes(M)):hs},[hs,al]),xi=g.useMemo(()=>Va&&hs.find(M=>M.id===Va)||null,[hs,Va]),Wm=g.useMemo(()=>[...Array.isArray(xi==null?void 0:xi.players)?xi.players:[]].map(M=>({...M,total:ef(M,dr)})).sort((M,_)=>Number(_.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(_.displayName||""))),[xi,dr]),X$=g.useMemo(()=>{const M=Wm,_=ls.trim().toLowerCase();return _?M.filter(Q=>String((Q==null?void 0:Q.displayName)||"").toLowerCase().includes(_)||String((Q==null?void 0:Q.account)||"").toLowerCase().includes(_)||String((Q==null?void 0:Q.profession)||"").toLowerCase().includes(_)):M},[Wm,ls]),J$=g.useMemo(()=>{const M=new Map;return Wm.forEach(_=>{M.set(String((_==null?void 0:_.key)||""),_)}),M},[Wm]),Z$=Kr&&J$.get(Kr)||null,Su=g.useMemo(()=>!xi||!Kr?[]:(xi.fights||[]).map((M,_)=>{var Q;const ce=(Q=M==null?void 0:M.values)==null?void 0:Q[Kr],de=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([We])=>String(We||"")!=="__all__").reduce((We,[,ee])=>Math.max(We,ef(ee,dr)),0);return{index:_,fightId:String((M==null?void 0:M.id)||""),shortLabel:String((M==null?void 0:M.shortLabel)||`F${_+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${_+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),total:ef(ce,dr),maxTotal:de>0?de:Number((M==null?void 0:M.maxTotal)||0)}}),[xi,Kr,dr]),Q$=g.useMemo(()=>{const M=Su.reduce((Q,ce)=>Math.max(Q,Number((ce==null?void 0:ce.total)||0)),0),_=Su.reduce((Q,ce)=>Math.max(Q,Number((ce==null?void 0:ce.maxTotal)||0)),0);return Math.max(1,M,_)},[Su]),Ij=g.useMemo(()=>{var M;const _=ol===null?null:Su.find(it=>it.index===ol)||null;if(!_||!xi||!Kr)return{title:"Fight Breakdown",data:[]};const Q=xi.fights[_.index],ce=((M=Q==null?void 0:Q.values)==null?void 0:M[Kr])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},de=ef(ce,dr),We=Array.isArray(ce==null?void 0:ce.bucketWeights5s)?ce.bucketWeights5s:[],ee=Array.isArray(ce==null?void 0:ce.buckets5s)?ce.buckets5s:[],we=Math.max(We.length,ee.length,Math.ceil(Math.max(0,Number((Q==null?void 0:Q.durationMs)||0))/5e3),1),lt=Array.from({length:we},(it,It)=>Number(We[It]||0)),Ge=lt.reduce((it,It)=>it+Number(It||0),0);let Ot=[];if(Ge>0){const it=de>0?de/Ge:0;Ot=lt.map(It=>Number(It||0)*it)}else if(ee.length>0){const it=Array.from({length:we},(It,Wt)=>Number(ee[Wt]||0));if(dr==="totalBuffs"||!(ce!=null&&ce.totals))Ot=it;else{const It=ef({totals:Vm(ce)},"totalBuffs"),Wt=It>0?de/It:0;Ot=it.map($t=>Number($t||0)*Wt)}}else{const it=de>0?de/Math.max(1,we):0;Ot=Array.from({length:we},()=>it)}const zt=Array.from({length:we},(it,It)=>({label:`${It*5}s-${(It+1)*5}s`,value:Number(Ot[It]||0)}));return{title:`Fight Breakdown - ${_.shortLabel||"Fight"} (5s ${Oj} Generation Buckets)`,data:zt}},[ol,Su,xi,Kr,dr,Oj]),gs=g.useMemo(()=>(Array.isArray(q==null?void 0:q.boonUptimeTimeline)?q.boonUptimeTimeline:[]).map(M=>({id:String((M==null?void 0:M.id)||""),name:String((M==null?void 0:M.name)||(M==null?void 0:M.id)||"Unknown Boon"),icon:typeof(M==null?void 0:M.icon)=="string"?M.icon:void 0,stacking:!!(M!=null&&M.stacking),players:(Array.isArray(M==null?void 0:M.players)?M.players:[]).map(_=>({key:String((_==null?void 0:_.key)||""),account:String((_==null?void 0:_.account)||(_==null?void 0:_.displayName)||"Unknown"),displayName:String((_==null?void 0:_.displayName)||(_==null?void 0:_.account)||"Unknown"),profession:String((_==null?void 0:_.profession)||"Unknown"),professionList:Array.isArray(_==null?void 0:_.professionList)?_.professionList.map(Q=>String(Q||"")):[],logs:Number((_==null?void 0:_.logs)||0),total:Math.max(0,Number((_==null?void 0:_.total)||0)),peak:Math.max(0,Number((_==null?void 0:_.peak)||0))})).filter(_=>_.key&&_.key!=="__all__"),fights:(Array.isArray(M==null?void 0:M.fights)?M.fights:[]).map((_,Q)=>({id:String((_==null?void 0:_.id)||`fight-${Q+1}`),shortLabel:String((_==null?void 0:_.shortLabel)||`F${Q+1}`),fullLabel:String((_==null?void 0:_.fullLabel)||`Fight ${Q+1}`),timestamp:Number((_==null?void 0:_.timestamp)||0),durationMs:Number((_==null?void 0:_.durationMs)||0),maxTotal:Math.max(0,Number((_==null?void 0:_.maxTotal)||0)),values:_!=null&&_.values&&typeof _.values=="object"?Object.fromEntries(Object.entries(_.values).map(([ce,de])=>[String(ce||""),{total:Math.max(0,Number((de==null?void 0:de.total)||0)),peak:Math.max(0,Number((de==null?void 0:de.peak)||0)),buckets5s:Array.isArray(de==null?void 0:de.buckets5s)?de.buckets5s.map(We=>Math.max(0,Number(We||0))):[]}])):{}}))})).filter(M=>M.id&&M.players.length>0&&M.fights.length>0),[q.boonUptimeTimeline]),eB=g.useMemo(()=>{const M=_o.trim().toLowerCase();return M?gs.filter(_=>String((_==null?void 0:_.name)||"").toLowerCase().includes(M)):gs},[gs,_o]),Hn=g.useMemo(()=>X&&gs.find(M=>M.id===X)||null,[gs,X]),Nu=g.useMemo(()=>{const M=new Map,_=Array.isArray(Hn==null?void 0:Hn.players)?Hn.players:[],Q=Array.isArray(Hn==null?void 0:Hn.fights)?Hn.fights:[];if(!_.length||!Q.length)return M;const ce=Q.reduce((de,We)=>{const ee=Math.max(Math.ceil(Math.max(0,Number((We==null?void 0:We.durationMs)||0))/5e3),1);return de+ee},0);return ce<=0||_.forEach(de=>{const We=String((de==null?void 0:de.key)||"");if(!We||We==="__all__")return;let ee=0;Q.forEach(we=>{var lt;const Ge=(lt=we==null?void 0:we.values)==null?void 0:lt[We],Ot=Array.isArray(Ge==null?void 0:Ge.buckets5s)?Ge.buckets5s:[],zt=Math.max(Ot.length,Math.ceil(Math.max(0,Number((we==null?void 0:we.durationMs)||0))/5e3),1);for(let it=0;it<zt;it+=1)Math.max(0,Number(Ot[it]||0))>0&&(ee+=1)}),M.set(We,ee/ce*100)}),M},[Hn]),tf=g.useMemo(()=>[...(Array.isArray(Hn==null?void 0:Hn.players)?Hn.players:[]).map(M=>({...M,uptimePercent:Number(Nu.get(String((M==null?void 0:M.key)||""))||0)}))].sort((M,_)=>Number(Nu.get(String((_==null?void 0:_.key)||""))||0)-Number(Nu.get(String((M==null?void 0:M.key)||""))||0)||Number(_.peak||0)-Number(M.peak||0)||Number(_.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(_.displayName||""))),[Hn,Nu]),tB=g.useMemo(()=>{const M=Je.trim().toLowerCase();return M?tf.filter(_=>String((_==null?void 0:_.displayName)||"").toLowerCase().includes(M)||String((_==null?void 0:_.account)||"").toLowerCase().includes(M)||String((_==null?void 0:_.profession)||"").toLowerCase().includes(M)):tf},[tf,Je]),nB=g.useMemo(()=>{const M=new Map;return tf.forEach(_=>{M.set(String((_==null?void 0:_.key)||""),_)}),M},[tf]),rB=Et&&nB.get(Et)||null,pl=g.useMemo(()=>!Hn||!Et?[]:(Hn.fights||[]).map((M,_)=>{var Q;const ce=((Q=M==null?void 0:M.values)==null?void 0:Q[Et])||{total:0,peak:0},de=Array.isArray(ce==null?void 0:ce.buckets5s)?ce.buckets5s:[],We=Math.max(de.length,Math.ceil(Math.max(0,Number((M==null?void 0:M.durationMs)||0))/5e3),1),ee=Math.max(0,Number((ce==null?void 0:ce.total)||0))/We,we=Array.from({length:We},(zt,it)=>Math.max(0,Number(de[it]||0))).reduce((zt,it)=>zt+(it>0?1:0),0)/We*100,lt=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([zt])=>String(zt||"")!=="__all__").reduce((zt,[,it])=>Math.max(zt,Math.max(0,Number((it==null?void 0:it.peak)||0))),0),Ge=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([zt])=>String(zt||"")!=="__all__").reduce((zt,[,it])=>{const It=Array.isArray(it==null?void 0:it.buckets5s)?it.buckets5s:[],Wt=Math.max(It.length,Math.ceil(Math.max(0,Number((M==null?void 0:M.durationMs)||0))/5e3),1),$t=Math.max(0,Number((it==null?void 0:it.total)||0))/Wt;return Math.max(zt,$t)},0),Ot=Object.entries(M!=null&&M.values&&typeof M.values=="object"?M.values:{}).filter(([zt])=>String(zt||"")!=="__all__").reduce((zt,[,it])=>{const It=Array.isArray(it==null?void 0:it.buckets5s)?it.buckets5s:[],Wt=Math.max(It.length,Math.ceil(Math.max(0,Number((M==null?void 0:M.durationMs)||0))/5e3),1),$t=Array.from({length:Wt},(Lt,Vt)=>Math.max(0,Number(It[Vt]||0))).reduce((Lt,Vt)=>Lt+(Vt>0?1:0),0)/Wt*100;return Math.max(zt,$t)},0);return{index:_,fightId:String((M==null?void 0:M.id)||""),shortLabel:String((M==null?void 0:M.shortLabel)||`F${_+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${_+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),total:Math.max(0,Number((ce==null?void 0:ce.total)||0)),average:ee,uptimePercent:we,peak:Math.max(0,Number((ce==null?void 0:ce.peak)||0)),maxTotal:lt>0?lt:Math.max(0,Number((M==null?void 0:M.maxTotal)||0)),maxAverage:Ge,maxUptimePercent:Ot}}),[Hn,Et]),aB=g.useMemo(()=>{const M=!!(Hn!=null&&Hn.stacking),_=pl.reduce((de,We)=>Math.max(de,Number(M?We==null?void 0:We.average:(We==null?void 0:We.uptimePercent)||0)),0),Q=pl.reduce((de,We)=>Math.max(de,Number(M?We==null?void 0:We.maxAverage:(We==null?void 0:We.maxUptimePercent)||0)),0),ce=Hn!=null&&Hn.stacking?25:100;return Math.max(1,_,Q,ce)},[pl,Hn==null?void 0:Hn.stacking]),_j=g.useMemo(()=>{var M,_;const Q=wt===null?null:pl.find(lt=>lt.index===wt)||null;if(!Q||!Hn||!Et)return{title:"Fight Breakdown",data:[]};const ce=(M=Hn.fights)==null?void 0:M[Q.index];if(!ce)return{title:"Fight Breakdown",data:[]};const de=(_=ce==null?void 0:ce.values)==null?void 0:_[Et],We=Array.isArray(de==null?void 0:de.buckets5s)?de.buckets5s:[],ee=Math.max(We.length,Math.ceil(Math.max(0,Number((ce==null?void 0:ce.durationMs)||0))/5e3),1),we=Array.from({length:ee},(lt,Ge)=>{const Ot=Object.entries(ce!=null&&ce.values&&typeof ce.values=="object"?ce.values:{}).filter(([zt])=>String(zt||"")!=="__all__").reduce((zt,[,it])=>{var It;return Math.max(zt,Math.max(0,Number(((It=it==null?void 0:it.buckets5s)==null?void 0:It[Ge])||0)))},0);return{label:`${Ge*5}s-${(Ge+1)*5}s`,value:Math.max(0,Number(We[Ge]||0)),maxValue:Ot}});return{title:`Fight Breakdown - ${Q.shortLabel||"Fight"} (5s Stack Buckets)`,data:we}},[wt,pl,Hn,Et]),iB=g.useMemo(()=>{if(!Et)return null;const M=Nu.get(Et);return Number.isFinite(Number(M))?Number(M):null},[Nu,Et]),oB=g.useMemo(()=>{const M=rr.trim().toLowerCase(),_=[...q.specialTables||[]].sort((Q,ce)=>Q.name.localeCompare(ce.name));return M?_.filter(Q=>Q.name.toLowerCase().includes(M)):_},[q.specialTables,rr]),fo=g.useMemo(()=>[...q.specialTables||[]].filter(M=>/\b(sigil|relic)\b/i.test(String((M==null?void 0:M.name)||""))).sort((M,_)=>M.name.localeCompare(_.name)),[q.specialTables]),sB=g.useMemo(()=>{const M=Z.trim().toLowerCase();return M?fo.filter(_=>_.name.toLowerCase().includes(M)):fo},[fo,Z]),lB=g.useMemo(()=>fn?(q.specialTables||[]).find(M=>M.id===fn)??null:null,[q.specialTables,fn]),cB=g.useMemo(()=>E?fo.find(M=>M.id===E)??null:null,[fo,E]);g.useEffect(()=>{!q.boonTables||q.boonTables.length===0||(!Fi||!q.boonTables.some(M=>M.id===Fi))&&nl(q.boonTables[0].id)},[q.boonTables,Fi]),g.useEffect(()=>{if(hs.length===0){Va!==null&&ni(null);return}(!Va||!hs.some(M=>M.id===Va))&&ni(hs[0].id)},[hs,Va]),g.useEffect(()=>{var M;const _=(xi==null?void 0:xi.players)||[];if(_.length===0){Kr!==null&&ac(null);return}const Q=((M=_.find(ce=>ce.key==="__all__"))==null?void 0:M.key)||_[0].key;(!Kr||!_.some(ce=>ce.key===Kr))&&ac(Q)},[xi,Kr]),g.useEffect(()=>{ic(null)},[Va,Kr]),g.useEffect(()=>{if(gs.length===0){X!==null&&Ne(null);return}(!X||!gs.some(M=>M.id===X))&&Ne(gs[0].id)},[gs,X]),g.useEffect(()=>{var M;const _=(Hn==null?void 0:Hn.players)||[];if(_.length===0){Et!==null&&Ft(null);return}const Q=((M=_.find(ce=>ce.key==="__all__"))==null?void 0:M.key)||_[0].key;(!Et||!_.some(ce=>ce.key===Et))&&Ft(Q)},[Hn,Et]),g.useEffect(()=>{wt!==null&&(wt<0||wt>=pl.length)&&dn(null)},[pl,wt]),g.useEffect(()=>{dn(null)},[X,Et]),g.useEffect(()=>{!q.specialTables||q.specialTables.length===0||(!fn||!q.specialTables.some(M=>M.id===fn))&&jr(q.specialTables[0].id)},[q.specialTables,fn]),g.useEffect(()=>{if(!fo||fo.length===0){E!==null&&V(null);return}(!E||!fo.some(M=>M.id===E))&&V(fo[0].id)},[fo,E]),g.useEffect(()=>{const M=()=>{const Q=window.getSelection();Q&&Q.rangeCount>0&&Q.removeAllRanges()},_=Q=>{var ce;const de=Q.target;(ce=de==null?void 0:de.closest)!=null&&ce.call(de,".recharts-wrapper")&&(Q.preventDefault(),M())};return document.addEventListener("selectstart",_),document.addEventListener("mousedown",_),document.addEventListener("mousemove",_),document.addEventListener("dragstart",_),()=>{document.removeEventListener("selectstart",_),document.removeEventListener("mousedown",_),document.removeEventListener("mousemove",_),document.removeEventListener("dragstart",_)}},[]);const Gr=M=>{co.current&&(window.clearTimeout(co.current),co.current=null),xu(!1),Jd(M)},Tr=()=>{Un&&(co.current&&window.clearTimeout(co.current),xu(!0),co.current=window.setTimeout(()=>{Jd(null),xu(!1),co.current=null},160))};g.useEffect(()=>{if(!Un)return;const M=ce=>{ce.key==="Escape"&&Tr()},_=document.body.style.overflow,Q=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",M),()=>{window.removeEventListener("keydown",M),document.body.style.overflow=_,document.documentElement.style.overflow=Q}},[Un]);const Lj=(M,_)=>{const Q=((_==null?void 0:_.value)||0)-((M==null?void 0:M.value)||0);return Q!==0?Q:String((M==null?void 0:M.name)||"").localeCompare(String((_==null?void 0:_.name)||""))},Fj=Array.isArray(q==null?void 0:q.squadClassData)?q.squadClassData:[],Rj=Array.isArray(q==null?void 0:q.enemyClassData)?q.enemyClassData:[],uB=Array.isArray(q==null?void 0:q.attendanceData)?q.attendanceData:[],Ev=Array.isArray(q==null?void 0:q.squadCompByFight)?q.squadCompByFight:[],$j=Array.isArray(q==null?void 0:q.fightBreakdown)?q.fightBreakdown:[],dB=g.useMemo(()=>{const M=new Map;return $j.forEach(_=>{const Q=String((_==null?void 0:_.id)||"");Q&&M.set(Q,_)}),Ev.map(_=>{const Q=M.get(String((_==null?void 0:_.id)||""))||null;return{..._,enemyClassCounts:(Q==null?void 0:Q.enemyClassCounts)||{},isWin:typeof(Q==null?void 0:Q.isWin)=="boolean"?Q.isWin:void 0}})},[Ev,$j]),fB=g.useMemo(()=>[...Fj].sort(Lj),[Fj]),pB=g.useMemo(()=>[...Rj].sort(Lj),[Rj]),mB=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",hB=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${Un?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${Un?"":"backdrop-blur-2xl"}`,Bj=u&&p!=="matte"&&p!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&p==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,gB=Pe?{...Bj||{},overflowY:"hidden"}:Bj,yB=M=>uo==="perSecond"?M.toFixed(1):Math.round(M).toLocaleString(),vB=M=>M.toFixed(1),bB=M=>Math.round(M).toLocaleString(),xB=M=>typeof M=="number"&&Number.isFinite(M)?M.toFixed(1):"0.0",wB=Math.max(Math.max(0,Number(q.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((h==null?void 0:h.total)||0))),oa=poe;return c.jsxs("div",{className:mB,children:[Un&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${Cn?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:Tr}),c.jsx(Yoe,{embedded:u,dashboardTitle:f,totalLogs:wB,onBack:t,devMockAvailable:je,devMockUploadState:Qn,onDevMockUpload:mn,uploadingWeb:O,onWebUpload:Aa,sharing:Ln,canShareDiscord:m,onShare:yr,actionsDisabled:mt}),c.jsx(Xoe,{embedded:u,webUploadMessage:H,webUploadUrl:J,webUploadBuildStatus:oe,webCopyStatus:bn,setWebCopyStatus:un}),c.jsx(Joe,{embedded:u,devMockAvailable:je,devMockUploadState:Qn}),ge&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:Y}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:he})]}),ie.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${ie.progressPercent}%`}})}),c.jsx("div",{className:"stats-settling-banner__meta stats-settling-banner__joke mt-2 text-xs opacity-90",children:le})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${Pe?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:Sn,className:`${hB} ${u?"":"flex-1"} ${Pe?"stats-dashboard-scroll-lock":""}`,style:gB,children:[c.jsxs(c.Fragment,{children:[_t("overview")&&c.jsx(Ooe,{stats:q,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("fight-breakdown")&&c.jsx(Ioe,{stats:q,fightBreakdownTab:$i,setFightBreakdownTab:ll,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("top-players")&&c.jsx(Foe,{stats:q,showTopStats:j,showMvp:N,topStatsMode:P,expandedLeader:ya,setExpandedLeader:Fr,formatTopStatValue:yl,formatWithCommas:ca,isMvpStatEnabled:hu,renderProfessionIcon:oa,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("top-skills-outgoing")&&c.jsx(Roe,{stats:q,topSkillsMetric:I,onTopSkillsMetricChange:Zt,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("squad-composition")&&c.jsx($oe,{sortedSquadClassData:fB,sortedEnemyClassData:pB,getProfessionIconPath:Tc,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("attendance-ledger")&&c.jsx(Woe,{attendanceRows:uB,getProfessionIconPath:Tc,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("squad-comp-fight")&&c.jsx(qoe,{fights:Ev,getProfessionIconPath:Tc,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("fight-comp")&&c.jsx(Goe,{fights:dB,getProfessionIconPath:Tc,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("timeline")&&c.jsx(Boe,{timelineData:q.timelineData,timelineFriendlyScope:Da,setTimelineFriendlyScope:ia,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("map-distribution")&&c.jsx(zoe,{mapData:q.mapData,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("offense-detailed")&&c.jsx(woe,{stats:q,OFFENSE_METRICS:N3,roundCountStats:A,offenseSearch:ue,setOffenseSearch:Le,activeOffenseStat:Ce,setActiveOffenseStat:Te,offenseViewMode:hn,setOffenseViewMode:nn,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo}),_t("player-breakdown")&&c.jsx(yoe,{expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo,viewMode:h$,setViewMode:g$,playerSkillBreakdowns:fs,classSkillBreakdowns:wu,activePlayerKey:fc,setActivePlayerKey:Nv,expandedPlayerKey:f$,setExpandedPlayerKey:jj,activePlayerSkillId:Fo,setActivePlayerSkillId:Om,activeClassKey:pc,setActiveClassKey:jv,expandedClassKey:y$,setExpandedClassKey:Cj,activeClassSkillId:ds,setActiveClassSkillId:Im,skillSearch:p$,setSkillSearch:m$,activePlayerBreakdown:ps,activePlayerSkill:b$,activeClassBreakdown:ul,activeClassSkill:x$,renderProfessionIcon:oa}),_t("damage-breakdown")&&c.jsx(voe,{expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,playerSkillBreakdowns:fs,renderProfessionIcon:oa}),_t("spike-damage")&&c.jsx(rE,{expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,spikePlayerFilter:me,setSpikePlayerFilter:tt,groupedSpikePlayers:w$,spikeMode:Fe,setSpikeMode:jt,damageBasis:Bt,setDamageBasis:gn,showDamageBasisToggle:!0,selectedSpikePlayerKey:In,setSelectedSpikePlayerKey:Ze,selectedSpikePlayer:k$,spikeChartData:Ro,spikeChartMaxY:S$,selectedSpikeFightIndex:Ue,setSelectedSpikeFightIndex:Ke,spikeDrilldownTitle:Lm.title,spikeDrilldownData:Lm.data,spikeDrilldownDownIndices:Lm.downIndices,spikeDrilldownDeathIndices:Lm.deathIndices,spikeFightSkillRows:A$,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:ca,renderProfessionIcon:oa}),_t("conditions-outgoing")&&c.jsx(koe,{conditionSummary:$m,conditionPlayers:O$,conditionSearch:$e,setConditionSearch:pe,activeConditionName:re,setActiveConditionName:Oe,conditionDirection:nt,setConditionDirection:bt,conditionGridClass:Ve,effectiveConditionSort:ot,setConditionSort:gt,showConditionDamage:ht,renderProfessionIcon:oa,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo}),_t("defense-detailed")&&c.jsx(Noe,{stats:q,DEFENSE_METRICS:j3,defenseSearch:Ie,setDefenseSearch:vt,activeDefenseStat:He,setActiveDefenseStat:ve,defenseViewMode:on,setDefenseViewMode:st,roundCountStats:A,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo}),_t("incoming-strike-damage")&&c.jsx(rE,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,spikePlayerFilter:be,setSpikePlayerFilter:rt,groupedSpikePlayers:N$,spikeMode:zn,setSpikeMode:bu,selectedSpikePlayerKey:Ht,setSelectedSpikePlayerKey:sn,selectedSpikePlayer:j$,spikeChartData:$o,spikeChartMaxY:C$,selectedSpikeFightIndex:Fn,setSelectedSpikeFightIndex:wa,spikeDrilldownTitle:Fm.title,spikeDrilldownData:Fm.data,spikeDrilldownDownIndices:Fm.downIndices,spikeDrilldownDeathIndices:Fm.deathIndices,spikeFightSkillRows:M$,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:ca,renderProfessionIcon:oa}),_t("defense-mitigation")&&c.jsx(joe,{stats:q,DAMAGE_MITIGATION_METRICS:QU,damageMitigationSearch:Ct,setDamageMitigationSearch:Ut,activeDamageMitigationStat:Be,setActiveDamageMitigationStat:Ye,damageMitigationViewMode:Dr,setDamageMitigationViewMode:En,damageMitigationScope:Ri,setDamageMitigationScope:oc,roundCountStats:A,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo}),_t("boon-output")&&c.jsx(Soe,{stats:q,activeBoonCategory:rl,setActiveBoonCategory:M=>Ea(M),activeBoonMetric:os,setActiveBoonMetric:va,activeBoonTab:Fi,setActiveBoonTab:nl,activeBoonTable:G$,filteredBoonTables:K$,boonSearch:yi,setBoonSearch:ti,formatBoonMetricDisplay:D8,getBoonMetricValue:F3,renderProfessionIcon:oa,roundCountStats:A,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo}),_t("boon-timeline")&&c.jsx(boe,{expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,boonSearch:al,setBoonSearch:il,boons:Y$,activeBoonId:Va,setActiveBoonId:ni,timelineScope:dr,setTimelineScope:ss,playerFilter:ls,setPlayerFilter:gu,players:X$,selectedPlayerKey:Kr,setSelectedPlayerKey:ac,selectedPlayer:Z$,chartData:Su,chartMaxY:Q$,selectedFightIndex:ol,setSelectedFightIndex:ic,drilldownTitle:Ij.title,drilldownData:Ij.data,formatWithCommas:ca,renderProfessionIcon:oa}),_t("boon-uptime")&&c.jsx(xoe,{expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,boonSearch:_o,setBoonSearch:yu,boons:eB,activeBoonId:X,setActiveBoonId:Ne,playerFilter:Je,setPlayerFilter:yt,players:tB,selectedPlayerKey:Et,setSelectedPlayerKey:Ft,selectedPlayer:rB,chartData:pl,chartMaxY:aB,selectedFightIndex:wt,setSelectedFightIndex:dn,drilldownTitle:_j.title,drilldownData:_j.data,overallUptimePercent:iB,showStackCapLine:!!(Hn!=null&&Hn.stacking),formatWithCommas:ca,renderProfessionIcon:oa}),_t("support-detailed")&&c.jsx(Coe,{stats:q,SUPPORT_METRICS:C3,supportSearch:Me,setSupportSearch:Ee,activeSupportStat:Se,setActiveSupportStat:qe,supportViewMode:Gn,setSupportViewMode:Rr,cleanseScope:Pr,setCleanseScope:On,roundCountStats:A,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo}),_t("healing-stats")&&c.jsx(Moe,{stats:q,HEALING_METRICS:e8,activeHealingMetric:et,setActiveHealingMetric:at,healingCategory:_e,setHealingCategory:ut,activeResUtilitySkill:kt,setActiveResUtilitySkill:St,skillUsageData:Qe,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("fight-diff-mode")&&c.jsx(Toe,{stats:q,formatWithCommas:ca,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn}),_t("special-buffs")&&c.jsx(Eoe,{stats:q,specialSearch:rr,setSpecialSearch:ct,filteredSpecialTables:oB,activeSpecialTab:fn,setActiveSpecialTab:jr,activeSpecialTable:lB,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo}),_t("sigil-relic-uptime")&&c.jsx(Poe,{hasSigilRelicTables:fo.length>0,sigilRelicSearch:Z,setSigilRelicSearch:ae,filteredSigilRelicTables:sB,activeSigilRelicTab:E,setActiveSigilRelicTab:V,activeSigilRelicTable:cB,formatWithCommas:ca,renderProfessionIcon:oa,expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo}),_t("skill-usage")&&c.jsx(moe,{expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,selectedPlayers:xa,setSelectedPlayers:Wa,removeSelectedPlayer:q$,playerMapByKey:ms,groupedSkillUsagePlayers:T$,expandedSkillUsageClass:lc,setExpandedSkillUsageClass:cc,togglePlayerSelection:H$,skillUsagePlayerFilter:cs,setSkillUsagePlayerFilter:vu,skillUsageView:uo,setSkillUsageView:ai,skillUsageData:Qe,skillUsageSkillFilter:sl,setSkillUsageSkillFilter:Lo,selectedSkillId:ba,setSelectedSkillId:ri,skillBarData:Qd,selectedSkillName:$$,selectedSkillIcon:B$,skillUsageReady:z$,skillUsageAvailable:Pt,isSkillUsagePerSecond:sc,skillChartData:D$,skillChartMaxY:P$,playerTotalsForSkill:ku,hoveredSkillPlayer:Tm,setHoveredSkillPlayer:Xd,getLineStrokeColor:R$,getLineDashForPlayer:F$,formatSkillUsageValue:yB,renderProfessionIcon:oa}),_t("apm-stats")&&c.jsx(goe,{expandedSection:Un,expandedSectionClosing:Cn,openExpandedSection:Gr,closeExpandedSection:Tr,isSectionVisible:_t,isFirstVisibleSection:Wn,sectionClass:Vn,sidebarListClass:Wo,apmSpecAvailable:U$,skillUsageAvailable:Pt,apmSpecTables:cl,activeApmSpec:dc,setActiveApmSpec:xv,expandedApmSpec:wv,setExpandedApmSpec:kv,activeApmSkillId:us,setActiveApmSkillId:Sv,ALL_SKILLS_KEY:Um,apmSkillSearch:u$,setApmSkillSearch:d$,activeApmSpecTable:fl,activeApmSkill:W$,isAllApmSkills:V$,apmView:uc,setApmView:c$,formatApmValue:xB,formatCastRateValue:vB,formatCastCountValue:bB,renderProfessionIcon:oa})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),Pe&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const nse="Arcane",RN="CRT",E0="MatteSlate",D0="KineticPaper",Gf="KineticPaperDark",ng={id:nse,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},rse={id:E0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},ase={id:D0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},ise={id:Gf,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},ose=[ng,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],sse={id:RN,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},If=[...ose,sse,rse,ase,ise];function lse(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const cse=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,use=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,dse={};function sE(e,t){return(dse.jsx?use:cse).test(e)}const fse=/[ \t\n\f\r]/g;function pse(e){return typeof e=="object"?e.type==="text"?lE(e.value):!1:lE(e)}function lE(e){return e.replace(fse,"")===""}class jm{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}jm.prototype.normal={};jm.prototype.property={};jm.prototype.space=void 0;function LF(e,t){const n={},r={};for(const a of e)Object.assign(n,a.property),Object.assign(r,a.normal);return new jm(n,r,t)}function r1(e){return e.toLowerCase()}class gi{constructor(t,n){this.attribute=n,this.property=t}}gi.prototype.attribute="";gi.prototype.booleanish=!1;gi.prototype.boolean=!1;gi.prototype.commaOrSpaceSeparated=!1;gi.prototype.commaSeparated=!1;gi.prototype.defined=!1;gi.prototype.mustUseProperty=!1;gi.prototype.number=!1;gi.prototype.overloadedBoolean=!1;gi.prototype.property="";gi.prototype.spaceSeparated=!1;gi.prototype.space=void 0;let mse=0;const cn=fu(),zr=fu(),a1=fu(),pt=fu(),tr=fu(),fd=fu(),Si=fu();function fu(){return 2**++mse}const i1=Object.freeze(Object.defineProperty({__proto__:null,boolean:cn,booleanish:zr,commaOrSpaceSeparated:Si,commaSeparated:fd,number:pt,overloadedBoolean:a1,spaceSeparated:tr},Symbol.toStringTag,{value:"Module"})),Tb=Object.keys(i1);class $N extends gi{constructor(t,n,r,a){let i=-1;if(super(t,n),cE(this,"space",a),typeof r=="number")for(;++i<Tb.length;){const o=Tb[i];cE(this,Tb[i],(r&i1[o])===i1[o])}}}$N.prototype.defined=!0;function cE(e,t,n){n&&(e[t]=n)}function Gd(e){const t={},n={};for(const[r,a]of Object.entries(e.properties)){const i=new $N(r,e.transform(e.attributes||{},r),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(i.mustUseProperty=!0),t[r]=i,n[r1(r)]=r,n[r1(i.attribute)]=r}return new jm(t,n,e.space)}const FF=Gd({properties:{ariaActiveDescendant:null,ariaAtomic:zr,ariaAutoComplete:null,ariaBusy:zr,ariaChecked:zr,ariaColCount:pt,ariaColIndex:pt,ariaColSpan:pt,ariaControls:tr,ariaCurrent:null,ariaDescribedBy:tr,ariaDetails:null,ariaDisabled:zr,ariaDropEffect:tr,ariaErrorMessage:null,ariaExpanded:zr,ariaFlowTo:tr,ariaGrabbed:zr,ariaHasPopup:null,ariaHidden:zr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:tr,ariaLevel:pt,ariaLive:null,ariaModal:zr,ariaMultiLine:zr,ariaMultiSelectable:zr,ariaOrientation:null,ariaOwns:tr,ariaPlaceholder:null,ariaPosInSet:pt,ariaPressed:zr,ariaReadOnly:zr,ariaRelevant:null,ariaRequired:zr,ariaRoleDescription:tr,ariaRowCount:pt,ariaRowIndex:pt,ariaRowSpan:pt,ariaSelected:zr,ariaSetSize:pt,ariaSort:null,ariaValueMax:pt,ariaValueMin:pt,ariaValueNow:pt,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function RF(e,t){return t in e?e[t]:t}function $F(e,t){return RF(e,t.toLowerCase())}const hse=Gd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:fd,acceptCharset:tr,accessKey:tr,action:null,allow:null,allowFullScreen:cn,allowPaymentRequest:cn,allowUserMedia:cn,alt:null,as:null,async:cn,autoCapitalize:null,autoComplete:tr,autoFocus:cn,autoPlay:cn,blocking:tr,capture:null,charSet:null,checked:cn,cite:null,className:tr,cols:pt,colSpan:null,content:null,contentEditable:zr,controls:cn,controlsList:tr,coords:pt|fd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:cn,defer:cn,dir:null,dirName:null,disabled:cn,download:a1,draggable:zr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:cn,formTarget:null,headers:tr,height:pt,hidden:a1,high:pt,href:null,hrefLang:null,htmlFor:tr,httpEquiv:tr,id:null,imageSizes:null,imageSrcSet:null,inert:cn,inputMode:null,integrity:null,is:null,isMap:cn,itemId:null,itemProp:tr,itemRef:tr,itemScope:cn,itemType:tr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:cn,low:pt,manifest:null,max:null,maxLength:pt,media:null,method:null,min:null,minLength:pt,multiple:cn,muted:cn,name:null,nonce:null,noModule:cn,noValidate:cn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:cn,optimum:pt,pattern:null,ping:tr,placeholder:null,playsInline:cn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:cn,referrerPolicy:null,rel:tr,required:cn,reversed:cn,rows:pt,rowSpan:pt,sandbox:tr,scope:null,scoped:cn,seamless:cn,selected:cn,shadowRootClonable:cn,shadowRootDelegatesFocus:cn,shadowRootMode:null,shape:null,size:pt,sizes:null,slot:null,span:pt,spellCheck:zr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:pt,step:null,style:null,tabIndex:pt,target:null,title:null,translate:null,type:null,typeMustMatch:cn,useMap:null,value:zr,width:pt,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:tr,axis:null,background:null,bgColor:null,border:pt,borderColor:null,bottomMargin:pt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:cn,declare:cn,event:null,face:null,frame:null,frameBorder:null,hSpace:pt,leftMargin:pt,link:null,longDesc:null,lowSrc:null,marginHeight:pt,marginWidth:pt,noResize:cn,noHref:cn,noShade:cn,noWrap:cn,object:null,profile:null,prompt:null,rev:null,rightMargin:pt,rules:null,scheme:null,scrolling:zr,standby:null,summary:null,text:null,topMargin:pt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:pt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:cn,disableRemotePlayback:cn,prefix:null,property:null,results:pt,security:null,unselectable:null},space:"html",transform:$F}),gse=Gd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Si,accentHeight:pt,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:pt,amplitude:pt,arabicForm:null,ascent:pt,attributeName:null,attributeType:null,azimuth:pt,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:pt,by:null,calcMode:null,capHeight:pt,className:tr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:pt,diffuseConstant:pt,direction:null,display:null,dur:null,divisor:pt,dominantBaseline:null,download:cn,dx:null,dy:null,edgeMode:null,editable:null,elevation:pt,enableBackground:null,end:null,event:null,exponent:pt,externalResourcesRequired:null,fill:null,fillOpacity:pt,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:fd,g2:fd,glyphName:fd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:pt,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:pt,horizOriginX:pt,horizOriginY:pt,id:null,ideographic:pt,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:pt,k:pt,k1:pt,k2:pt,k3:pt,k4:pt,kernelMatrix:Si,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:pt,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:pt,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:pt,overlineThickness:pt,paintOrder:null,panose1:null,path:null,pathLength:pt,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:tr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:pt,pointsAtY:pt,pointsAtZ:pt,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Si,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Si,rev:Si,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Si,requiredFeatures:Si,requiredFonts:Si,requiredFormats:Si,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:pt,specularExponent:pt,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:pt,strikethroughThickness:pt,string:null,stroke:null,strokeDashArray:Si,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:pt,strokeOpacity:pt,strokeWidth:null,style:null,surfaceScale:pt,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Si,tabIndex:pt,tableValues:null,target:null,targetX:pt,targetY:pt,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Si,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:pt,underlineThickness:pt,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:pt,values:null,vAlphabetic:pt,vMathematical:pt,vectorEffect:null,vHanging:pt,vIdeographic:pt,version:null,vertAdvY:pt,vertOriginX:pt,vertOriginY:pt,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:pt,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:RF}),BF=Gd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),zF=Gd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:$F}),UF=Gd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),yse={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},vse=/[A-Z]/g,uE=/-[a-z]/g,bse=/^data[-\w.:]+$/i;function xse(e,t){const n=r1(t);let r=t,a=gi;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&bse.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(uE,kse);r="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!uE.test(i)){let o=i.replace(vse,wse);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=$N}return new a(r,t)}function wse(e){return"-"+e.toLowerCase()}function kse(e){return e.charAt(1).toUpperCase()}const Sse=LF([FF,hse,BF,zF,UF],"html"),BN=LF([FF,gse,BF,zF,UF],"svg");function Nse(e){return e.join(" ").trim()}var zN={},dE=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,jse=/\n/g,Cse=/^\s*/,Mse=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Ase=/^:\s*/,Ese=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Dse=/^[;\s]*/,Pse=/^\s+|\s+$/g,Tse=`
`,fE="/",pE="*",Ac="",Ose="comment",Ise="declaration";function _se(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function a(h){var v=h.match(jse);v&&(n+=v.length);var x=h.lastIndexOf(Tse);r=~x?h.length-x:r+h.length}function i(){var h={line:n,column:r};return function(v){return v.position=new o(h),u(),v}}function o(h){this.start=h,this.end={line:n,column:r},this.source=t.source}o.prototype.content=e;function s(h){var v=new Error(t.source+":"+n+":"+r+": "+h);if(v.reason=h,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(h){var v=h.exec(e);if(v){var x=v[0];return a(x),e=e.slice(x.length),v}}function u(){l(Cse)}function d(h){var v;for(h=h||[];v=f();)v!==!1&&h.push(v);return h}function f(){var h=i();if(!(fE!=e.charAt(0)||pE!=e.charAt(1))){for(var v=2;Ac!=e.charAt(v)&&(pE!=e.charAt(v)||fE!=e.charAt(v+1));)++v;if(v+=2,Ac===e.charAt(v-1))return s("End of comment missing");var x=e.slice(2,v-2);return r+=2,a(x),e=e.slice(v),r+=2,h({type:Ose,comment:x})}}function p(){var h=i(),v=l(Mse);if(v){if(f(),!l(Ase))return s("property missing ':'");var x=l(Ese),y=h({type:Ise,property:mE(v[0].replace(dE,Ac)),value:x?mE(x[0].replace(dE,Ac)):Ac});return l(Dse),y}}function m(){var h=[];d(h);for(var v;v=p();)v!==!1&&(h.push(v),d(h));return h}return u(),m()}function mE(e){return e?e.replace(Pse,Ac):Ac}var Lse=_se,Fse=sg&&sg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zN,"__esModule",{value:!0});zN.default=$se;const Rse=Fse(Lse);function $se(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Rse.default)(e),a=typeof t=="function";return r.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(n=n||{},n[o]=s)}),n}var sv={};Object.defineProperty(sv,"__esModule",{value:!0});sv.camelCase=void 0;var Bse=/^--[a-zA-Z0-9_-]+$/,zse=/-([a-z])/g,Use=/^[^-]+$/,Vse=/^-(webkit|moz|ms|o|khtml)-/,Wse=/^-(ms)-/,Hse=function(e){return!e||Use.test(e)||Bse.test(e)},qse=function(e,t){return t.toUpperCase()},hE=function(e,t){return"".concat(t,"-")},Kse=function(e,t){return t===void 0&&(t={}),Hse(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Wse,hE):e=e.replace(Vse,hE),e.replace(zse,qse))};sv.camelCase=Kse;var Gse=sg&&sg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Yse=Gse(zN),Xse=sv;function o1(e,t){var n={};return!e||typeof e!="string"||(0,Yse.default)(e,function(r,a){r&&a&&(n[(0,Xse.camelCase)(r,t)]=a)}),n}o1.default=o1;var Jse=o1;const Zse=To(Jse),VF=WF("end"),UN=WF("start");function WF(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Qse(e){const t=UN(e),n=VF(e);if(t&&n)return{start:t,end:n}}function Yf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?gE(e.position):"start"in e||"end"in e?gE(e):"line"in e||"column"in e?s1(e):""}function s1(e){return yE(e&&e.line)+":"+yE(e&&e.column)}function gE(e){return s1(e&&e.start)+"-"+s1(e&&e.end)}function yE(e){return e&&typeof e=="number"?e:1}class Ua extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let a="",i={},o=!1;if(n&&("line"in n&&"column"in n?i={place:n}:"start"in n&&"end"in n?i={place:n}:"type"in n?i={ancestors:[n],place:n.position}:i={...n}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?i.ruleId=r:(i.source=r.slice(0,l),i.ruleId=r.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=Yf(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ua.prototype.file="";Ua.prototype.name="";Ua.prototype.reason="";Ua.prototype.message="";Ua.prototype.stack="";Ua.prototype.column=void 0;Ua.prototype.line=void 0;Ua.prototype.ancestors=void 0;Ua.prototype.cause=void 0;Ua.prototype.fatal=void 0;Ua.prototype.place=void 0;Ua.prototype.ruleId=void 0;Ua.prototype.source=void 0;const VN={}.hasOwnProperty,ele=new Map,tle=/[A-Z]/g,nle=new Set(["table","tbody","thead","tfoot","tr"]),rle=new Set(["td","th"]),HF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ale(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=fle(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=dle(n,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?BN:Sse,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=qF(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function qF(e,t,n){if(t.type==="element")return ile(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ole(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return lle(e,t,n);if(t.type==="mdxjsEsm")return sle(e,t);if(t.type==="root")return cle(e,t,n);if(t.type==="text")return ule(e,t)}function ile(e,t,n){const r=e.schema;let a=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(a=BN,e.schema=a),e.ancestors.push(t);const i=GF(e,t.tagName,!1),o=ple(e,t);let s=HN(e,t);return nle.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!pse(l):!0})),KF(e,o,i,t),WN(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function ole(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Rp(e,t.position)}function sle(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Rp(e,t.position)}function lle(e,t,n){const r=e.schema;let a=r;t.name==="svg"&&r.space==="html"&&(a=BN,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:GF(e,t.name,!0),o=mle(e,t),s=HN(e,t);return KF(e,o,i,t),WN(o,s),e.ancestors.pop(),e.schema=r,e.create(t,i,o,n)}function cle(e,t,n){const r={};return WN(r,HN(e,t)),e.create(t,e.Fragment,r,n)}function ule(e,t){return t.value}function KF(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function WN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function dle(e,t,n){return r;function r(a,i,o,s){const l=Array.isArray(o.children)?n:t;return s?l(i,o,s):l(i,o)}}function fle(e,t){return n;function n(r,a,i,o){const s=Array.isArray(i.children),l=UN(r);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function ple(e,t){const n={};let r,a;for(a in t.properties)if(a!=="children"&&VN.call(t.properties,a)){const i=hle(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&rle.has(t.tagName)?r=s:n[o]=s}}if(r){const i=n.style||(n.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function mle(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const i=a.expression;i.type;const o=i.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Rp(e,t.position);else{const a=r.name;let i;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,i=e.evaluater.evaluateExpression(o.expression)}else Rp(e,t.position);else i=r.value===null?!0:r.value;n[a]=i}return n}function HN(e,t){const n=[];let r=-1;const a=e.passKeys?new Map:ele;for(;++r<t.children.length;){const i=t.children[r];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;o=l+"-"+u,a.set(l,u+1)}}const s=qF(e,i,o);s!==void 0&&n.push(s)}return n}function hle(e,t,n){const r=xse(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?lse(n):Nse(n)),r.property==="style"){let a=typeof n=="object"?n:gle(e,String(n));return e.stylePropertyNameCase==="css"&&(a=yle(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&r.space?yse[r.property]||r.property:r.attribute,n]}}function gle(e,t){try{return Zse(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,a=new Ua("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=HF+"#cannot-parse-style-attribute",a}}function GF(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=sE(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}r=o}else r=sE(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const a=r.value;return VN.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(r);Rp(e)}function Rp(e,t){const n=new Ua("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=HF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function yle(e){const t={};let n;for(n in e)VN.call(e,n)&&(t[vle(n)]=e[n]);return t}function vle(e){let t=e.replace(tle,ble);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function ble(e){return"-"+e.toLowerCase()}const Ob={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},xle={};function qN(e,t){const n=xle,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,a=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return YF(e,r,a)}function YF(e,t,n){if(wle(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return vE(e.children,t,n)}return Array.isArray(e)?vE(e,t,n):""}function vE(e,t,n){const r=[];let a=-1;for(;++a<e.length;)r[a]=YF(e[a],t,n);return r.join("")}function wle(e){return!!(e&&typeof e=="object")}const bE=document.createElement("i");function KN(e){const t="&"+e+";";bE.innerHTML=t;const n=bE.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Pi(e,t,n,r){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,n=n>0?n:0,r.length<1e4)o=Array.from(r),o.unshift(t,n),e.splice(...o);else for(n&&e.splice(t,n);i<r.length;)o=r.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Gi(e,t){return e.length>0?(Pi(e,e.length,0,t),e):t}const xE={}.hasOwnProperty;function XF(e){const t={};let n=-1;for(;++n<e.length;)kle(t,e[n]);return t}function kle(e,t){let n;for(n in t){const r=(xE.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let i;if(a)for(i in a){xE.call(r,i)||(r[i]=[]);const o=a[i];Sle(r[i],Array.isArray(o)?o:o?[o]:[])}}}function Sle(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Pi(e,0,0,r)}function JF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function No(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ka=nc(/[A-Za-z]/),$a=nc(/[\dA-Za-z]/),Nle=nc(/[#-'*+\--9=?A-Z^-~]/);function P0(e){return e!==null&&(e<32||e===127)}const l1=nc(/\d/),jle=nc(/[\dA-Fa-f]/),Cle=nc(/[!-/:-@[-`{-~]/);function Kt(e){return e!==null&&e<-2}function Xn(e){return e!==null&&(e<0||e===32)}function yn(e){return e===-2||e===-1||e===32}const lv=nc(new RegExp("\\p{P}|\\p{S}","u")),ou=nc(/\s/);function nc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Yd(e){const t=[];let n=-1,r=0,a=0;for(;++n<e.length;){const i=e.charCodeAt(n);let o="";if(i===37&&$a(e.charCodeAt(n+1))&&$a(e.charCodeAt(n+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(n+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(r,n),encodeURIComponent(o)),r=n+a+1,o=""),a&&(n+=a,a=0)}return t.join("")+e.slice(r)}function jn(e,t,n,r){const a=r?r-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return yn(l)?(e.enter(n),s(l)):t(l)}function s(l){return yn(l)&&i++<a?(e.consume(l),s):(e.exit(n),t(l))}}const Mle={tokenize:Ale};function Ale(e){const t=e.attempt(this.parser.constructs.contentInitial,r,a);let n;return t;function r(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),jn(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return Kt(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const Ele={tokenize:Dle},wE={tokenize:Ple};function Dle(e){const t=this,n=[];let r=0,a,i,o;return s;function s(w){if(r<n.length){const S=n[r];return t.containerState=S[1],e.attempt(S[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&b();const S=t.events.length;let j=S,N;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){N=t.events[j][1].end;break}y(r);let A=S;for(;A<t.events.length;)t.events[A][1].end={...N},A++;return Pi(t.events,j+1,0,t.events.slice(S)),t.events.length=A,u(w)}return s(w)}function u(w){if(r===n.length){if(!a)return p(w);if(a.currentConstruct&&a.currentConstruct.concrete)return h(w);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(wE,d,f)(w)}function d(w){return a&&b(),y(r),p(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,o=t.now().offset,h(w)}function p(w){return t.containerState={},e.attempt(wE,m,h)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function h(w){if(w===null){a&&b(),y(0),e.consume(w);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(w)}function v(w){if(w===null){x(e.exit("chunkFlow"),!0),y(0),e.consume(w);return}return Kt(w)?(e.consume(w),x(e.exit("chunkFlow")),r=0,t.interrupt=void 0,s):(e.consume(w),v)}function x(w,S){const j=t.sliceStream(w);if(S&&j.push(null),w.previous=i,i&&(i.next=w),i=w,a.defineSkip(w.start),a.write(j),t.parser.lazy[w.start.line]){let N=a.events.length;for(;N--;)if(a.events[N][1].start.offset<o&&(!a.events[N][1].end||a.events[N][1].end.offset>o))return;const A=t.events.length;let P=A,U,D;for(;P--;)if(t.events[P][0]==="exit"&&t.events[P][1].type==="chunkFlow"){if(U){D=t.events[P][1].end;break}U=!0}for(y(r),N=A;N<t.events.length;)t.events[N][1].end={...D},N++;Pi(t.events,P+1,0,t.events.slice(A)),t.events.length=N}}function y(w){let S=n.length;for(;S-- >w;){const j=n[S];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function b(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function Ple(e,t,n){return jn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Td(e){if(e===null||Xn(e)||ou(e))return 1;if(lv(e))return 2}function cv(e,t,n){const r=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!r.includes(i)&&(t=i(t,n),r.push(i))}return t}const c1={name:"attention",resolveAll:Tle,tokenize:Ole};function Tle(e,t){let n=-1,r,a,i,o,s,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},p={...e[n][1].start};kE(f,-l),kE(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[r][1].end={...o.start},e[n][1].start={...s.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Gi(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Gi(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=Gi(u,cv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Gi(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Gi(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Pi(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Ole(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,a=Td(r);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const u=e.exit("attentionSequence"),d=Td(l),f=!d||d===2&&a||n.includes(l),p=!a||a===2&&d||n.includes(r);return u._open=!!(i===42?f:f&&(a||!p)),u._close=!!(i===42?p:p&&(d||!f)),t(l)}}function kE(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Ile={name:"autolink",tokenize:_le};function _le(e,t,n){let r=0;return a;function a(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(m){return Ka(m)?(e.consume(m),o):m===64?n(m):u(m)}function o(m){return m===43||m===45||m===46||$a(m)?(r=1,s(m)):u(m)}function s(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||$a(m))&&r++<32?(e.consume(m),s):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||P0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):Nle(m)?(e.consume(m),u):n(m)}function d(m){return $a(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||$a(m))&&r++<63){const h=m===45?p:f;return e.consume(m),h}return n(m)}}const Cm={partial:!0,tokenize:Lle};function Lle(e,t,n){return r;function r(i){return yn(i)?jn(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||Kt(i)?t(i):n(i)}}const ZF={continuation:{tokenize:Rle},exit:$le,name:"blockQuote",tokenize:Fle};function Fle(e,t,n){const r=this;return a;function a(o){if(o===62){const s=r.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return n(o)}function i(o){return yn(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function Rle(e,t,n){const r=this;return a;function a(o){return yn(o)?jn(e,i,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(ZF,t,n)(o)}}function $le(e){e.exit("blockQuote")}const QF={name:"characterEscape",tokenize:Ble};function Ble(e,t,n){return r;function r(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return Cle(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(i)}}const eR={name:"characterReference",tokenize:zle};function zle(e,t,n){const r=this;let a=0,i,o;return s;function s(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=$a,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=jle,d):(e.enter("characterReferenceValue"),i=7,o=l1,d(f))}function d(f){if(f===59&&a){const p=e.exit("characterReferenceValue");return o===$a&&!KN(r.sliceSerialize(p))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(f)&&a++<i?(e.consume(f),d):n(f)}}const SE={partial:!0,tokenize:Vle},NE={concrete:!0,name:"codeFenced",tokenize:Ule};function Ule(e,t,n){const r=this,a={partial:!0,tokenize:j};let i=0,o=0,s;return l;function l(N){return u(N)}function u(N){const A=r.events[r.events.length-1];return i=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,s=N,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(N)}function d(N){return N===s?(o++,e.consume(N),d):o<3?n(N):(e.exit("codeFencedFenceSequence"),yn(N)?jn(e,f,"whitespace")(N):f(N))}function f(N){return N===null||Kt(N)?(e.exit("codeFencedFence"),r.interrupt?t(N):e.check(SE,v,S)(N)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(N))}function p(N){return N===null||Kt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(N)):yn(N)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),jn(e,m,"whitespace")(N)):N===96&&N===s?n(N):(e.consume(N),p)}function m(N){return N===null||Kt(N)?f(N):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),h(N))}function h(N){return N===null||Kt(N)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(N)):N===96&&N===s?n(N):(e.consume(N),h)}function v(N){return e.attempt(a,S,x)(N)}function x(N){return e.enter("lineEnding"),e.consume(N),e.exit("lineEnding"),y}function y(N){return i>0&&yn(N)?jn(e,b,"linePrefix",i+1)(N):b(N)}function b(N){return N===null||Kt(N)?e.check(SE,v,S)(N):(e.enter("codeFlowValue"),w(N))}function w(N){return N===null||Kt(N)?(e.exit("codeFlowValue"),b(N)):(e.consume(N),w)}function S(N){return e.exit("codeFenced"),t(N)}function j(N,A,P){let U=0;return D;function D(oe){return N.enter("lineEnding"),N.consume(oe),N.exit("lineEnding"),I}function I(oe){return N.enter("codeFencedFence"),yn(oe)?jn(N,O,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(oe):O(oe)}function O(oe){return oe===s?(N.enter("codeFencedFenceSequence"),H(oe)):P(oe)}function H(oe){return oe===s?(U++,N.consume(oe),H):U>=o?(N.exit("codeFencedFenceSequence"),yn(oe)?jn(N,J,"whitespace")(oe):J(oe)):P(oe)}function J(oe){return oe===null||Kt(oe)?(N.exit("codeFencedFence"),A(oe)):P(oe)}}}function Vle(e,t,n){const r=this;return a;function a(o){return o===null?n(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}const Ib={name:"codeIndented",tokenize:Hle},Wle={partial:!0,tokenize:qle};function Hle(e,t,n){const r=this;return a;function a(u){return e.enter("codeIndented"),jn(e,i,"linePrefix",5)(u)}function i(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?o(u):n(u)}function o(u){return u===null?l(u):Kt(u)?e.attempt(Wle,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||Kt(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function qle(e,t,n){const r=this;return a;function a(o){return r.parser.lazy[r.now().line]?n(o):Kt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):jn(e,i,"linePrefix",5)(o)}function i(o){const s=r.events[r.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):Kt(o)?a(o):n(o)}}const Kle={name:"codeText",previous:Yle,resolve:Gle,tokenize:Xle};function Gle(e){let t=e.length-4,n=3,r,a;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)a===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(a=r):(r===t||e[r][1].type==="lineEnding")&&(e[a][1].type="codeTextData",r!==a+2&&(e[a][1].end=e[r-1][1].end,e.splice(a+2,r-a-2),t-=r-a-2,r=a+2),a=void 0);return e}function Yle(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Xle(e,t,n){let r=0,a,i;return o;function o(f){return e.enter("codeText"),e.enter("codeTextSequence"),s(f)}function s(f){return f===96?(e.consume(f),r++,s):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(i=e.enter("codeTextSequence"),a=0,d(f)):Kt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Kt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),a++,d):a===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(i.type="codeTextData",u(f))}}class Jle{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const a=n||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return r&&Sf(this.left,r),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Sf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Sf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Sf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Sf(this.left,n.reverse())}}}function Sf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function tR(e){const t={};let n=-1,r,a,i,o,s,l,u;const d=new Jle(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Zle(d,n)),n=t[n],u=!0);else if(r[1]._container){for(i=n,a=void 0;i--;)if(o=d.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(d.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(r[1].end={...d.get(a)[1].start},s=d.slice(a,n),s.unshift(r),d.splice(a,n-a+1,s))}}return Pi(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Zle(e,t){const n=e.get(t)[1],r=e.get(t)[2];let a=t-1;const i=[];let o=n._tokenizer;o||(o=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],u={};let d,f,p=-1,m=n,h=0,v=0;const x=[v];for(;m;){for(;e.get(++a)[1]!==m;);i.push(a),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&o.defineSkip(m.start),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(d),m._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,x.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(o.events=[],m?(m._tokenizer=void 0,m.previous=void 0):x.pop(),p=x.length;p--;){const y=s.slice(x[p],x[p+1]),b=i.pop();l.push([b,b+y.length-1]),e.splice(b,2,y)}for(l.reverse(),p=-1;++p<l.length;)u[h+l[p][0]]=h+l[p][1],h+=l[p][1]-l[p][0]-1;return u}const Qle={resolve:tce,tokenize:nce},ece={partial:!0,tokenize:rce};function tce(e){return tR(e),e}function nce(e,t){let n;return r;function r(s){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):Kt(s)?e.check(ece,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,a}}function rce(e,t,n){const r=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),jn(e,i,"linePrefix")}function i(o){if(o===null||Kt(o))return n(o);const s=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(r.parser.constructs.flow,n,t)(o)}}function nR(e,t,n,r,a,i,o,s,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(y){return y===60?(e.enter(r),e.enter(a),e.enter(i),e.consume(y),e.exit(i),p):y===null||y===32||y===41||P0(y)?n(y):(e.enter(r),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(y))}function p(y){return y===62?(e.enter(i),e.consume(y),e.exit(i),e.exit(a),e.exit(r),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),m(y))}function m(y){return y===62?(e.exit("chunkString"),e.exit(s),p(y)):y===null||y===60||Kt(y)?n(y):(e.consume(y),y===92?h:m)}function h(y){return y===60||y===62||y===92?(e.consume(y),m):m(y)}function v(y){return!d&&(y===null||y===41||Xn(y))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(r),t(y)):d<u&&y===40?(e.consume(y),d++,v):y===41?(e.consume(y),d--,v):y===null||y===32||y===40||P0(y)?n(y):(e.consume(y),y===92?x:v)}function x(y){return y===40||y===41||y===92?(e.consume(y),v):v(y)}}function rR(e,t,n,r,a,i){const o=this;let s=0,l;return u;function u(m){return e.enter(r),e.enter(a),e.consume(m),e.exit(a),e.enter(i),d}function d(m){return s>999||m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?n(m):m===93?(e.exit(i),e.enter(a),e.consume(m),e.exit(a),e.exit(r),t):Kt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Kt(m)||s++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!yn(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(e.consume(m),s++,f):f(m)}}function aR(e,t,n,r,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(r),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):n(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(r),t):(e.enter(i),u(p))}function u(p){return p===o?(e.exit(i),l(o)):p===null?n(p):Kt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),jn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===o||p===null||Kt(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?f:d)}function f(p){return p===o||p===92?(e.consume(p),d):d(p)}}function Xf(e,t){let n;return r;function r(a){return Kt(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),n=!0,r):yn(a)?jn(e,r,n?"linePrefix":"lineSuffix")(a):t(a)}}const ace={name:"definition",tokenize:oce},ice={partial:!0,tokenize:sce};function oce(e,t,n){const r=this;let a;return i;function i(m){return e.enter("definition"),o(m)}function o(m){return rR.call(r,e,s,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function s(m){return a=No(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Xn(m)?Xf(e,u)(m):u(m)}function u(m){return nR(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(ice,f,f)(m)}function f(m){return yn(m)?jn(e,p,"whitespace")(m):p(m)}function p(m){return m===null||Kt(m)?(e.exit("definition"),r.parser.defined.push(a),t(m)):n(m)}}function sce(e,t,n){return r;function r(s){return Xn(s)?Xf(e,a)(s):n(s)}function a(s){return aR(e,i,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return yn(s)?jn(e,o,"whitespace")(s):o(s)}function o(s){return s===null||Kt(s)?t(s):n(s)}}const lce={name:"hardBreakEscape",tokenize:cce};function cce(e,t,n){return r;function r(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return Kt(i)?(e.exit("hardBreakEscape"),t(i)):n(i)}}const uce={name:"headingAtx",resolve:dce,tokenize:fce};function dce(e,t){let n=e.length-2,r=3,a,i;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(a={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},i={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Pi(e,r,n-r+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function fce(e,t,n){let r=0;return a;function a(d){return e.enter("atxHeading"),i(d)}function i(d){return e.enter("atxHeadingSequence"),o(d)}function o(d){return d===35&&r++<6?(e.consume(d),o):d===null||Xn(d)?(e.exit("atxHeadingSequence"),s(d)):n(d)}function s(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Kt(d)?(e.exit("atxHeading"),t(d)):yn(d)?jn(e,s,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),s(d))}function u(d){return d===null||d===35||Xn(d)?(e.exit("atxHeadingText"),s(d)):(e.consume(d),u)}}const pce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],jE=["pre","script","style","textarea"],mce={concrete:!0,name:"htmlFlow",resolveTo:yce,tokenize:vce},hce={partial:!0,tokenize:xce},gce={partial:!0,tokenize:bce};function yce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function vce(e,t,n){const r=this;let a,i,o,s,l;return u;function u(C){return d(C)}function d(C){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(C),f}function f(C){return C===33?(e.consume(C),p):C===47?(e.consume(C),i=!0,v):C===63?(e.consume(C),a=3,r.interrupt?t:k):Ka(C)?(e.consume(C),o=String.fromCharCode(C),x):n(C)}function p(C){return C===45?(e.consume(C),a=2,m):C===91?(e.consume(C),a=5,s=0,h):Ka(C)?(e.consume(C),a=4,r.interrupt?t:k):n(C)}function m(C){return C===45?(e.consume(C),r.interrupt?t:k):n(C)}function h(C){const B="CDATA[";return C===B.charCodeAt(s++)?(e.consume(C),s===B.length?r.interrupt?t:O:h):n(C)}function v(C){return Ka(C)?(e.consume(C),o=String.fromCharCode(C),x):n(C)}function x(C){if(C===null||C===47||C===62||Xn(C)){const B=C===47,R=o.toLowerCase();return!B&&!i&&jE.includes(R)?(a=1,r.interrupt?t(C):O(C)):pce.includes(o.toLowerCase())?(a=6,B?(e.consume(C),y):r.interrupt?t(C):O(C)):(a=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(C):i?b(C):w(C))}return C===45||$a(C)?(e.consume(C),o+=String.fromCharCode(C),x):n(C)}function y(C){return C===62?(e.consume(C),r.interrupt?t:O):n(C)}function b(C){return yn(C)?(e.consume(C),b):D(C)}function w(C){return C===47?(e.consume(C),D):C===58||C===95||Ka(C)?(e.consume(C),S):yn(C)?(e.consume(C),w):D(C)}function S(C){return C===45||C===46||C===58||C===95||$a(C)?(e.consume(C),S):j(C)}function j(C){return C===61?(e.consume(C),N):yn(C)?(e.consume(C),j):w(C)}function N(C){return C===null||C===60||C===61||C===62||C===96?n(C):C===34||C===39?(e.consume(C),l=C,A):yn(C)?(e.consume(C),N):P(C)}function A(C){return C===l?(e.consume(C),l=null,U):C===null||Kt(C)?n(C):(e.consume(C),A)}function P(C){return C===null||C===34||C===39||C===47||C===60||C===61||C===62||C===96||Xn(C)?j(C):(e.consume(C),P)}function U(C){return C===47||C===62||yn(C)?w(C):n(C)}function D(C){return C===62?(e.consume(C),I):n(C)}function I(C){return C===null||Kt(C)?O(C):yn(C)?(e.consume(C),I):n(C)}function O(C){return C===45&&a===2?(e.consume(C),je):C===60&&a===1?(e.consume(C),te):C===62&&a===4?(e.consume(C),F):C===63&&a===3?(e.consume(C),k):C===93&&a===5?(e.consume(C),le):Kt(C)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(hce,T,H)(C)):C===null||Kt(C)?(e.exit("htmlFlowData"),H(C)):(e.consume(C),O)}function H(C){return e.check(gce,J,T)(C)}function J(C){return e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),oe}function oe(C){return C===null||Kt(C)?H(C):(e.enter("htmlFlowData"),O(C))}function je(C){return C===45?(e.consume(C),k):O(C)}function te(C){return C===47?(e.consume(C),o="",W):O(C)}function W(C){if(C===62){const B=o.toLowerCase();return jE.includes(B)?(e.consume(C),F):O(C)}return Ka(C)&&o.length<8?(e.consume(C),o+=String.fromCharCode(C),W):O(C)}function le(C){return C===93?(e.consume(C),k):O(C)}function k(C){return C===62?(e.consume(C),F):C===45&&a===2?(e.consume(C),k):O(C)}function F(C){return C===null||Kt(C)?(e.exit("htmlFlowData"),T(C)):(e.consume(C),F)}function T(C){return e.exit("htmlFlow"),t(C)}}function bce(e,t,n){const r=this;return a;function a(o){return Kt(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):n(o)}function i(o){return r.parser.lazy[r.now().line]?n(o):t(o)}}function xce(e,t,n){return r;function r(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Cm,t,n)}}const wce={name:"htmlText",tokenize:kce};function kce(e,t,n){const r=this;let a,i,o;return s;function s(k){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(k),l}function l(k){return k===33?(e.consume(k),u):k===47?(e.consume(k),j):k===63?(e.consume(k),w):Ka(k)?(e.consume(k),P):n(k)}function u(k){return k===45?(e.consume(k),d):k===91?(e.consume(k),i=0,h):Ka(k)?(e.consume(k),b):n(k)}function d(k){return k===45?(e.consume(k),m):n(k)}function f(k){return k===null?n(k):k===45?(e.consume(k),p):Kt(k)?(o=f,te(k)):(e.consume(k),f)}function p(k){return k===45?(e.consume(k),m):f(k)}function m(k){return k===62?je(k):k===45?p(k):f(k)}function h(k){const F="CDATA[";return k===F.charCodeAt(i++)?(e.consume(k),i===F.length?v:h):n(k)}function v(k){return k===null?n(k):k===93?(e.consume(k),x):Kt(k)?(o=v,te(k)):(e.consume(k),v)}function x(k){return k===93?(e.consume(k),y):v(k)}function y(k){return k===62?je(k):k===93?(e.consume(k),y):v(k)}function b(k){return k===null||k===62?je(k):Kt(k)?(o=b,te(k)):(e.consume(k),b)}function w(k){return k===null?n(k):k===63?(e.consume(k),S):Kt(k)?(o=w,te(k)):(e.consume(k),w)}function S(k){return k===62?je(k):w(k)}function j(k){return Ka(k)?(e.consume(k),N):n(k)}function N(k){return k===45||$a(k)?(e.consume(k),N):A(k)}function A(k){return Kt(k)?(o=A,te(k)):yn(k)?(e.consume(k),A):je(k)}function P(k){return k===45||$a(k)?(e.consume(k),P):k===47||k===62||Xn(k)?U(k):n(k)}function U(k){return k===47?(e.consume(k),je):k===58||k===95||Ka(k)?(e.consume(k),D):Kt(k)?(o=U,te(k)):yn(k)?(e.consume(k),U):je(k)}function D(k){return k===45||k===46||k===58||k===95||$a(k)?(e.consume(k),D):I(k)}function I(k){return k===61?(e.consume(k),O):Kt(k)?(o=I,te(k)):yn(k)?(e.consume(k),I):U(k)}function O(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(e.consume(k),a=k,H):Kt(k)?(o=O,te(k)):yn(k)?(e.consume(k),O):(e.consume(k),J)}function H(k){return k===a?(e.consume(k),a=void 0,oe):k===null?n(k):Kt(k)?(o=H,te(k)):(e.consume(k),H)}function J(k){return k===null||k===34||k===39||k===60||k===61||k===96?n(k):k===47||k===62||Xn(k)?U(k):(e.consume(k),J)}function oe(k){return k===47||k===62||Xn(k)?U(k):n(k)}function je(k){return k===62?(e.consume(k),e.exit("htmlTextData"),e.exit("htmlText"),t):n(k)}function te(k){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),W}function W(k){return yn(k)?jn(e,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(k):le(k)}function le(k){return e.enter("htmlTextData"),o(k)}}const GN={name:"labelEnd",resolveAll:Cce,resolveTo:Mce,tokenize:Ace},Sce={tokenize:Ece},Nce={tokenize:Dce},jce={tokenize:Pce};function Cce(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const a=r.type==="labelImage"?4:2;r.type="data",t+=a}}return e.length!==n.length&&Pi(e,0,e.length,n),e}function Mce(e,t){let n=e.length,r=0,a,i,o,s;for(;n--;)if(a=e[n][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[n][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[n][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=n,a.type!=="labelLink")){r=2;break}}else a.type==="labelEnd"&&(o=n);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},d={type:"labelText",start:{...e[i+r+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Gi(s,e.slice(i+1,i+r+3)),s=Gi(s,[["enter",d,t]]),s=Gi(s,cv(t.parser.constructs.insideSpan.null,e.slice(i+r+4,o-3),t)),s=Gi(s,[["exit",d,t],e[o-2],e[o-1],["exit",u,t]]),s=Gi(s,e.slice(o+1)),s=Gi(s,[["exit",l,t]]),Pi(e,i,e.length,s),e}function Ace(e,t,n){const r=this;let a=r.events.length,i,o;for(;a--;)if((r.events[a][1].type==="labelImage"||r.events[a][1].type==="labelLink")&&!r.events[a][1]._balanced){i=r.events[a][1];break}return s;function s(p){return i?i._inactive?f(p):(o=r.parser.defined.includes(No(r.sliceSerialize({start:i.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(Sce,d,o?d:f)(p):p===91?e.attempt(Nce,d,o?u:f)(p):o?d(p):f(p)}function u(p){return e.attempt(jce,d,f)(p)}function d(p){return t(p)}function f(p){return i._balanced=!0,n(p)}}function Ece(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),a}function a(f){return Xn(f)?Xf(e,i)(f):i(f)}function i(f){return f===41?d(f):nR(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function o(f){return Xn(f)?Xf(e,l)(f):d(f)}function s(f){return n(f)}function l(f){return f===34||f===39||f===40?aR(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Xn(f)?Xf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Dce(e,t,n){const r=this;return a;function a(s){return rR.call(r,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return r.parser.defined.includes(No(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(s):n(s)}function o(s){return n(s)}}function Pce(e,t,n){return r;function r(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):n(i)}}const Tce={name:"labelStartImage",resolveAll:GN.resolveAll,tokenize:Oce};function Oce(e,t,n){const r=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):n(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Ice={name:"labelStartLink",resolveAll:GN.resolveAll,tokenize:_ce};function _ce(e,t,n){const r=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const _b={name:"lineEnding",tokenize:Lce};function Lce(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),jn(e,t,"linePrefix")}}const rg={name:"thematicBreak",tokenize:Fce};function Fce(e,t,n){let r=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,s(u)}function s(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Kt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===a?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),yn(u)?jn(e,s,"whitespace")(u):s(u))}}const ii={continuation:{tokenize:zce},exit:Vce,name:"list",tokenize:Bce},Rce={partial:!0,tokenize:Wce},$ce={partial:!0,tokenize:Uce};function Bce(e,t,n){const r=this,a=r.events[r.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(m){const h=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(h==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:l1(m)){if(r.containerState.type||(r.containerState.type=h,e.enter(h,{_container:!0})),h==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(rg,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return l1(m)&&++o<10?(e.consume(m),l):(!r.interrupt||o<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Cm,r.interrupt?n:d,e.attempt(Rce,p,f))}function d(m){return r.containerState.initialBlankLine=!0,i++,p(m)}function f(m){return yn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=i+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function zce(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Cm,a,i);function a(s){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,jn(e,t,"listItemIndent",r.containerState.size+1)(s)}function i(s){return r.containerState.furtherBlankLines||!yn(s)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,o(s)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt($ce,t,o)(s))}function o(s){return r.containerState._closeFlow=!0,r.interrupt=void 0,jn(e,e.attempt(ii,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function Uce(e,t,n){const r=this;return jn(e,a,"listItemIndent",r.containerState.size+1);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===r.containerState.size?t(i):n(i)}}function Vce(e){e.exit(this.containerState.type)}function Wce(e,t,n){const r=this;return jn(e,a,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=r.events[r.events.length-1];return!yn(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):n(i)}}const CE={name:"setextUnderline",resolveTo:Hce,tokenize:qce};function Hce(e,t){let n=e.length,r,a,i;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(a=n)}else e[n][1].type==="content"&&e.splice(n,1),!i&&e[n][1].type==="definition"&&(i=n);const o={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[r][1],t]),e[r][1].end={...e[i][1].end}):e[r][1]=o,e.push(["exit",o,t]),e}function qce(e,t,n){const r=this;let a;return i;function i(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),a=u,o(u)):n(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===a?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),yn(u)?jn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Kt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Kce={tokenize:Gce};function Gce(e){const t=this,n=e.attempt(Cm,r,e.attempt(this.parser.constructs.flowInitial,a,jn(e,e.attempt(this.parser.constructs.flow,a,e.attempt(Qle,a)),"linePrefix")));return n;function r(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Yce={resolveAll:oR()},Xce=iR("string"),Jce=iR("text");function iR(e){return{resolveAll:oR(e==="text"?Zce:void 0),tokenize:t};function t(n){const r=this,a=this.parser.constructs[e],i=n.attempt(a,o,s);return o;function o(d){return u(d)?i(d):s(d)}function s(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),i(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=a[d];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function oR(e){return t;function t(n,r){let a=-1,i;for(;++a<=n.length;)i===void 0?n[a]&&n[a][1].type==="data"&&(i=a,a++):(!n[a]||n[a][1].type!=="data")&&(a!==i+2&&(n[i][1].end=n[a-1][1].end,n.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(n,r):n}}function Zce(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],a=t.sliceStream(r);let i=a.length,o=-1,s=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(s=0),s){const u={type:n===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:r.start._bufferIndex+o,_index:r.start._index+i,line:r.end.line,column:r.end.column-s,offset:r.end.offset-s},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const Qce={42:ii,43:ii,45:ii,48:ii,49:ii,50:ii,51:ii,52:ii,53:ii,54:ii,55:ii,56:ii,57:ii,62:ZF},eue={91:ace},tue={[-2]:Ib,[-1]:Ib,32:Ib},nue={35:uce,42:rg,45:[CE,rg],60:mce,61:CE,95:rg,96:NE,126:NE},rue={38:eR,92:QF},aue={[-5]:_b,[-4]:_b,[-3]:_b,33:Tce,38:eR,42:c1,60:[Ile,wce],91:Ice,92:[lce,QF],93:GN,95:c1,96:Kle},iue={null:[c1,Yce]},oue={null:[42,95]},sue={null:[]},lue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:oue,contentInitial:eue,disable:sue,document:Qce,flow:nue,flowInitial:tue,insideSpan:iue,string:rue,text:aue},Symbol.toStringTag,{value:"Module"}));function cue(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:A(j),check:A(N),consume:b,enter:w,exit:S,interrupt:A(N,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:h,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function f(I){return o=Gi(o,I),x(),o[o.length-1]!==null?[]:(P(t,0),u.events=cv(i,u.events,u),u.events)}function p(I,O){return due(m(I),O)}function m(I){return uue(o,I)}function h(){const{_bufferIndex:I,_index:O,line:H,column:J,offset:oe}=r;return{_bufferIndex:I,_index:O,line:H,column:J,offset:oe}}function v(I){a[I.line]=I.column,D()}function x(){let I;for(;r._index<o.length;){const O=o[r._index];if(typeof O=="string")for(I=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===I&&r._bufferIndex<O.length;)y(O.charCodeAt(r._bufferIndex));else y(O)}}function y(I){d=d(I)}function b(I){Kt(I)?(r.line++,r.column=1,r.offset+=I===-3?2:1,D()):I!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===o[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=I}function w(I,O){const H=O||{};return H.type=I,H.start=h(),u.events.push(["enter",H,u]),s.push(H),H}function S(I){const O=s.pop();return O.end=h(),u.events.push(["exit",O,u]),O}function j(I,O){P(I,O.from)}function N(I,O){O.restore()}function A(I,O){return H;function H(J,oe,je){let te,W,le,k;return Array.isArray(J)?T(J):"tokenize"in J?T([J]):F(J);function F(G){return se;function se(K){const L=K!==null&&G[K],z=K!==null&&G.null,ne=[...Array.isArray(L)?L:L?[L]:[],...Array.isArray(z)?z:z?[z]:[]];return T(ne)(K)}}function T(G){return te=G,W=0,G.length===0?je:C(G[W])}function C(G){return se;function se(K){return k=U(),le=G,G.partial||(u.currentConstruct=G),G.name&&u.parser.constructs.disable.null.includes(G.name)?R():G.tokenize.call(O?Object.assign(Object.create(u),O):u,l,B,R)(K)}}function B(G){return I(le,k),oe}function R(G){return k.restore(),++W<te.length?C(te[W]):je}}}function P(I,O){I.resolveAll&&!i.includes(I)&&i.push(I),I.resolve&&Pi(u.events,O,u.events.length-O,I.resolve(u.events.slice(O),u)),I.resolveTo&&(u.events=I.resolveTo(u.events,u))}function U(){const I=h(),O=u.previous,H=u.currentConstruct,J=u.events.length,oe=Array.from(s);return{from:J,restore:je};function je(){r=I,u.previous=O,u.currentConstruct=H,u.events.length=J,s=oe,D()}}function D(){r.line in a&&r.column<2&&(r.column=a[r.line],r.offset+=a[r.line]-1)}}function uue(e,t){const n=t.start._index,r=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(n===a)o=[e[n].slice(r,i)];else{if(o=e.slice(n,a),r>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(r):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function due(e,t){let n=-1;const r=[];let a;for(;++n<e.length;){const i=e[n];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,r.push(o)}return r.join("")}function fue(e){const t={constructs:XF([lue,...(e||{}).extensions||[]]),content:n(Mle),defined:[],document:n(Ele),flow:n(Kce),lazy:{},string:n(Xce),text:n(Jce)};return t;function n(r){return a;function a(i){return cue(t,r,i)}}}function pue(e){for(;!tR(e););return e}const ME=/[\0\t\n\r]/g;function mue(){let e=1,t="",n=!0,r;return a;function a(i,o,s){const l=[];let u,d,f,p,m;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),f=0,t="",n&&(i.charCodeAt(0)===65279&&f++,n=void 0);f<i.length;){if(ME.lastIndex=f,u=ME.exec(i),p=u&&u.index!==void 0?u.index:i.length,m=i.charCodeAt(p),!u){t=i.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(i.slice(f,p)),e+=p-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=p+1}return s&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const hue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function gue(e){return e.replace(hue,yue)}function yue(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),a=r===120||r===88;return JF(n.slice(a?2:1),a?16:10)}return KN(n)||e}const sR={}.hasOwnProperty;function vue(e,t,n){return typeof t!="string"&&(n=t,t=void 0),bue(n)(pue(fue(n).document().write(mue()(e,t,!0))))}function bue(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Yt),autolinkProtocol:U,autolinkEmail:U,atxHeading:i(Y),blockQuote:i(z),characterEscape:U,characterReference:U,codeFenced:i(ne),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(ne,o),codeText:i($,o),codeTextData:U,data:U,codeFlowValue:U,definition:i(ie),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(ge),hardBreakEscape:i(he),hardBreakTrailing:i(he),htmlFlow:i(Pe,o),htmlFlowData:U,htmlText:i(Pe,o),htmlTextData:U,image:i(mt),label:o,link:i(Yt),listItem:i(fe),listItemValue:p,listOrdered:i(ye,f),listUnordered:i(ye),paragraph:i(ke),reference:C,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(Y),strong:i(Xe),thematicBreak:i(pn)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:L,autolinkProtocol:K,blockQuote:l(),characterEscapeValue:D,characterReferenceMarkerHexadecimal:R,characterReferenceMarkerNumeric:R,characterReferenceValue:G,characterReference:se,codeFenced:l(x),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:h,codeFlowValue:D,codeIndented:l(y),codeText:l(oe),codeTextData:D,data:D,definition:l(),definitionDestinationString:S,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(O),hardBreakTrailing:l(O),htmlFlow:l(H),htmlFlowData:D,htmlText:l(J),htmlTextData:D,image:l(te),label:le,labelText:W,lineEnding:I,link:l(je),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:B,resourceDestinationString:k,resourceTitleString:F,resource:T,setextHeading:l(P),setextHeadingLineSequence:A,setextHeadingText:N,strong:l(),thematicBreak:l()}};lR(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(q){let Qe={type:"root",children:[]};const Pt={stack:[Qe],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:d,data:n},Zt=[];let Sn=-1;for(;++Sn<q.length;)if(q[Sn][1].type==="listOrdered"||q[Sn][1].type==="listUnordered")if(q[Sn][0]==="enter")Zt.push(Sn);else{const Qn=Zt.pop();Sn=a(q,Qn,Sn)}for(Sn=-1;++Sn<q.length;){const Qn=t[q[Sn][0]];sR.call(Qn,q[Sn][1].type)&&Qn[q[Sn][1].type].call(Object.assign({sliceSerialize:q[Sn][2].sliceSerialize},Pt),q[Sn][1])}if(Pt.tokenStack.length>0){const Qn=Pt.tokenStack[Pt.tokenStack.length-1];(Qn[1]||AE).call(Pt,void 0,Qn[0])}for(Qe.position={start:gl(q.length>0?q[0][1].start:{line:1,column:1,offset:0}),end:gl(q.length>0?q[q.length-2][1].end:{line:1,column:1,offset:0})},Sn=-1;++Sn<t.transforms.length;)Qe=t.transforms[Sn](Qe)||Qe;return Qe}function a(q,Qe,Pt){let Zt=Qe-1,Sn=-1,Qn=!1,bn,un,Aa,mn;for(;++Zt<=Pt;){const Ln=q[Zt];switch(Ln[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ln[0]==="enter"?Sn++:Sn--,mn=void 0;break}case"lineEndingBlank":{Ln[0]==="enter"&&(bn&&!mn&&!Sn&&!Aa&&(Aa=Zt),mn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:mn=void 0}if(!Sn&&Ln[0]==="enter"&&Ln[1].type==="listItemPrefix"||Sn===-1&&Ln[0]==="exit"&&(Ln[1].type==="listUnordered"||Ln[1].type==="listOrdered")){if(bn){let yr=Zt;for(un=void 0;yr--;){const er=q[yr];if(er[1].type==="lineEnding"||er[1].type==="lineEndingBlank"){if(er[0]==="exit")continue;un&&(q[un][1].type="lineEndingBlank",Qn=!0),er[1].type="lineEnding",un=yr}else if(!(er[1].type==="linePrefix"||er[1].type==="blockQuotePrefix"||er[1].type==="blockQuotePrefixWhitespace"||er[1].type==="blockQuoteMarker"||er[1].type==="listItemIndent"))break}Aa&&(!un||Aa<un)&&(bn._spread=!0),bn.end=Object.assign({},un?q[un][1].start:Ln[1].end),q.splice(un||Zt,0,["exit",bn,Ln[2]]),Zt++,Pt++}if(Ln[1].type==="listItemPrefix"){const yr={type:"listItem",_spread:!1,start:Object.assign({},Ln[1].start),end:void 0};bn=yr,q.splice(Zt,0,["enter",yr,Ln[2]]),Zt++,Pt++,Aa=void 0,mn=!0}}}return q[Qe][1]._spread=Qn,Pt}function i(q,Qe){return Pt;function Pt(Zt){s.call(this,q(Zt),Zt),Qe&&Qe.call(this,Zt)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(q,Qe,Pt){this.stack[this.stack.length-1].children.push(q),this.stack.push(q),this.tokenStack.push([Qe,Pt||void 0]),q.position={start:gl(Qe.start),end:void 0}}function l(q){return Qe;function Qe(Pt){q&&q.call(this,Pt),u.call(this,Pt)}}function u(q,Qe){const Pt=this.stack.pop(),Zt=this.tokenStack.pop();if(Zt)Zt[0].type!==q.type&&(Qe?Qe.call(this,q,Zt[0]):(Zt[1]||AE).call(this,q,Zt[0]));else throw new Error("Cannot close `"+q.type+"` ("+Yf({start:q.start,end:q.end})+"): its not open");Pt.position.end=gl(q.end)}function d(){return qN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(q){if(this.data.expectingFirstListItemValue){const Qe=this.stack[this.stack.length-2];Qe.start=Number.parseInt(this.sliceSerialize(q),10),this.data.expectingFirstListItemValue=void 0}}function m(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.lang=q}function h(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.meta=q}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=q.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=q.replace(/(\r?\n|\r)$/g,"")}function b(q){const Qe=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=Qe,Pt.identifier=No(this.sliceSerialize(q)).toLowerCase()}function w(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=q}function S(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=q}function j(q){const Qe=this.stack[this.stack.length-1];if(!Qe.depth){const Pt=this.sliceSerialize(q).length;Qe.depth=Pt}}function N(){this.data.setextHeadingSlurpLineEnding=!0}function A(q){const Qe=this.stack[this.stack.length-1];Qe.depth=this.sliceSerialize(q).codePointAt(0)===61?1:2}function P(){this.data.setextHeadingSlurpLineEnding=void 0}function U(q){const Qe=this.stack[this.stack.length-1].children;let Pt=Qe[Qe.length-1];(!Pt||Pt.type!=="text")&&(Pt=Nt(),Pt.position={start:gl(q.start),end:void 0},Qe.push(Pt)),this.stack.push(Pt)}function D(q){const Qe=this.stack.pop();Qe.value+=this.sliceSerialize(q),Qe.position.end=gl(q.end)}function I(q){const Qe=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Pt=Qe.children[Qe.children.length-1];Pt.position.end=gl(q.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(Qe.type)&&(U.call(this,q),D.call(this,q))}function O(){this.data.atHardBreak=!0}function H(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=q}function J(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=q}function oe(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.value=q}function je(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const Qe=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=Qe,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function te(){const q=this.stack[this.stack.length-1];if(this.data.inReference){const Qe=this.data.referenceType||"shortcut";q.type+="Reference",q.referenceType=Qe,delete q.url,delete q.title}else delete q.identifier,delete q.label;this.data.referenceType=void 0}function W(q){const Qe=this.sliceSerialize(q),Pt=this.stack[this.stack.length-2];Pt.label=gue(Qe),Pt.identifier=No(Qe).toLowerCase()}function le(){const q=this.stack[this.stack.length-1],Qe=this.resume(),Pt=this.stack[this.stack.length-1];if(this.data.inReference=!0,Pt.type==="link"){const Zt=q.children;Pt.children=Zt}else Pt.alt=Qe}function k(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.url=q}function F(){const q=this.resume(),Qe=this.stack[this.stack.length-1];Qe.title=q}function T(){this.data.inReference=void 0}function C(){this.data.referenceType="collapsed"}function B(q){const Qe=this.resume(),Pt=this.stack[this.stack.length-1];Pt.label=Qe,Pt.identifier=No(this.sliceSerialize(q)).toLowerCase(),this.data.referenceType="full"}function R(q){this.data.characterReferenceType=q.type}function G(q){const Qe=this.sliceSerialize(q),Pt=this.data.characterReferenceType;let Zt;Pt?(Zt=JF(Qe,Pt==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Zt=KN(Qe);const Sn=this.stack[this.stack.length-1];Sn.value+=Zt}function se(q){const Qe=this.stack.pop();Qe.position.end=gl(q.end)}function K(q){D.call(this,q);const Qe=this.stack[this.stack.length-1];Qe.url=this.sliceSerialize(q)}function L(q){D.call(this,q);const Qe=this.stack[this.stack.length-1];Qe.url="mailto:"+this.sliceSerialize(q)}function z(){return{type:"blockquote",children:[]}}function ne(){return{type:"code",lang:null,meta:null,value:""}}function $(){return{type:"inlineCode",value:""}}function ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ge(){return{type:"emphasis",children:[]}}function Y(){return{type:"heading",depth:0,children:[]}}function he(){return{type:"break"}}function Pe(){return{type:"html",value:""}}function mt(){return{type:"image",title:null,url:"",alt:null}}function Yt(){return{type:"link",title:null,url:"",children:[]}}function ye(q){return{type:"list",ordered:q.type==="listOrdered",start:null,spread:q._spread,children:[]}}function fe(q){return{type:"listItem",spread:q._spread,checked:null,children:[]}}function ke(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function Nt(){return{type:"text",value:""}}function pn(){return{type:"thematicBreak"}}}function gl(e){return{line:e.line,column:e.column,offset:e.offset}}function lR(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?lR(e,r):xue(e,r)}}function xue(e,t){let n;for(n in t)if(sR.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function AE(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Yf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Yf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Yf({start:t.start,end:t.end})+") is still open")}function wue(e){const t=this;t.parser=n;function n(r){return vue(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function kue(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function Sue(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Nue(e,t){const n=t.value?t.value+`
`:"",r={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(r.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function jue(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Cue(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Mue(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),a=Yd(r.toLowerCase()),i=e.footnoteOrder.indexOf(r);let o,s=e.footnoteCounts.get(r);s===void 0?(s=0,e.footnoteOrder.push(r),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(r,s);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+a,id:n+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Aue(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Eue(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function cR(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=r:a.push({type:"text",value:r}),a}function Due(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return cR(e,t);const a={src:Yd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function Pue(e,t){const n={src:Yd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Tue(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Oue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return cR(e,t);const a={href:Yd(r.url||"")};r.title!==null&&r.title!==void 0&&(a.title=r.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function Iue(e,t){const n={href:Yd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function _ue(e,t,n){const r=e.all(t),a=n?Lue(n):uR(t),i={},o=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<r.length;){const d=r[s];(a||s!==0||d.type!=="element"||d.tagName!=="p")&&o.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!a?o.push(...d.children):o.push(d)}const l=r[r.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function Lue(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=uR(n[r])}return t}function uR(e){return e.spread??e.children.length>1}function Fue(e,t){const n={},r=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++a<r.length;){const o=r[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,i),e.applyData(t,i)}function Rue(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function $ue(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Bue(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zue(e,t){const n=e.all(t),r=n.shift(),a=[];if(r){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],o),a.push(o)}if(n.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},s=UN(t.children[1]),l=VF(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function Uue(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,o=i?i.length:t.children.length;let s=-1;const l=[];for(;++s<o;){const d=t.children[s],f={},p=i?i[s]:void 0;p&&(f.align=p);let m={type:"element",tagName:a,properties:f,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),l.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(l,!0)};return e.patch(t,u),e.applyData(t,u)}function Vue(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const EE=9,DE=32;function Wue(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),a=0;const i=[];for(;r;)i.push(PE(t.slice(a,r.index),a>0,!0),r[0]),a=r.index+r[0].length,r=n.exec(t);return i.push(PE(t.slice(a),a>0,!1)),i.join("")}function PE(e,t,n){let r=0,a=e.length;if(t){let i=e.codePointAt(r);for(;i===EE||i===DE;)r++,i=e.codePointAt(r)}if(n){let i=e.codePointAt(a-1);for(;i===EE||i===DE;)a--,i=e.codePointAt(a-1)}return a>r?e.slice(r,a):""}function Hue(e,t){const n={type:"text",value:Wue(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function que(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Kue={blockquote:kue,break:Sue,code:Nue,delete:jue,emphasis:Cue,footnoteReference:Mue,heading:Aue,html:Eue,imageReference:Due,image:Pue,inlineCode:Tue,linkReference:Oue,link:Iue,listItem:_ue,list:Fue,paragraph:Rue,root:$ue,strong:Bue,table:zue,tableCell:Vue,tableRow:Uue,text:Hue,thematicBreak:que,toml:Eh,yaml:Eh,definition:Eh,footnoteDefinition:Eh};function Eh(){}const dR=-1,uv=0,Jf=1,T0=2,YN=3,XN=4,JN=5,ZN=6,fR=7,pR=8,TE=typeof self=="object"?self:globalThis,Gue=(e,t)=>{const n=(a,i)=>(e.set(i,a),a),r=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case uv:case dR:return n(o,a);case Jf:{const s=n([],a);for(const l of o)s.push(r(l));return s}case T0:{const s=n({},a);for(const[l,u]of o)s[r(l)]=r(u);return s}case YN:return n(new Date(o),a);case XN:{const{source:s,flags:l}=o;return n(new RegExp(s,l),a)}case JN:{const s=n(new Map,a);for(const[l,u]of o)s.set(r(l),r(u));return s}case ZN:{const s=n(new Set,a);for(const l of o)s.add(r(l));return s}case fR:{const{name:s,message:l}=o;return n(new TE[s](l),a)}case pR:return n(BigInt(o),a);case"BigInt":return n(Object(BigInt(o)),a);case"ArrayBuffer":return n(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:s}=new Uint8Array(o);return n(new DataView(s),o)}}return n(new TE[i](o),a)};return r},OE=e=>Gue(new Map,e)(0),Iu="",{toString:Yue}={},{keys:Xue}=Object,Nf=e=>{const t=typeof e;if(t!=="object"||!e)return[uv,t];const n=Yue.call(e).slice(8,-1);switch(n){case"Array":return[Jf,Iu];case"Object":return[T0,Iu];case"Date":return[YN,Iu];case"RegExp":return[XN,Iu];case"Map":return[JN,Iu];case"Set":return[ZN,Iu];case"DataView":return[Jf,n]}return n.includes("Array")?[Jf,n]:n.includes("Error")?[fR,n]:[T0,n]},Dh=([e,t])=>e===uv&&(t==="function"||t==="symbol"),Jue=(e,t,n,r)=>{const a=(o,s)=>{const l=r.push(o)-1;return n.set(s,l),l},i=o=>{if(n.has(o))return n.get(o);let[s,l]=Nf(o);switch(s){case uv:{let d=o;switch(l){case"bigint":s=pR,d=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return a([dR],o)}return a([s,d],o)}case Jf:{if(l){let p=o;return l==="DataView"?p=new Uint8Array(o.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(o)),a([l,[...p]],o)}const d=[],f=a([s,d],o);for(const p of o)d.push(i(p));return f}case T0:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const d=[],f=a([s,d],o);for(const p of Xue(o))(e||!Dh(Nf(o[p])))&&d.push([i(p),i(o[p])]);return f}case YN:return a([s,o.toISOString()],o);case XN:{const{source:d,flags:f}=o;return a([s,{source:d,flags:f}],o)}case JN:{const d=[],f=a([s,d],o);for(const[p,m]of o)(e||!(Dh(Nf(p))||Dh(Nf(m))))&&d.push([i(p),i(m)]);return f}case ZN:{const d=[],f=a([s,d],o);for(const p of o)(e||!Dh(Nf(p)))&&d.push(i(p));return f}}const{message:u}=o;return a([s,{name:l,message:u}],o)};return i},IE=(e,{json:t,lossy:n}={})=>{const r=[];return Jue(!(t||n),!!t,new Map,r)(e),r},O0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?OE(IE(e,t)):structuredClone(e):(e,t)=>OE(IE(e,t));function Zue(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function Que(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function ede(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Zue,r=e.options.footnoteBackLabel||Que,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),p=Yd(f.toLowerCase());let m=0;const h=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){h.length>0&&h.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),h.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const x=d[d.length-1];if(x&&x.type==="element"&&x.tagName==="p"){const b=x.children[x.children.length-1];b&&b.type==="text"?b.value+=" ":x.children.push({type:"text",value:" "}),x.children.push(...h)}else d.push(...h);const y={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(u,y),s.push(y)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...O0(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const dv=function(e){if(e==null)return ade;if(typeof e=="function")return fv(e);if(typeof e=="object")return Array.isArray(e)?tde(e):nde(e);if(typeof e=="string")return rde(e);throw new Error("Expected function, string, or object as test")};function tde(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=dv(e[n]);return fv(r);function r(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function nde(e){const t=e;return fv(n);function n(r){const a=r;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function rde(e){return fv(t);function t(n){return n&&n.type===e}}function fv(e){return t;function t(n,r,a){return!!(ide(n)&&e.call(this,n,typeof r=="number"?r:void 0,a||void 0))}}function ade(){return!0}function ide(e){return e!==null&&typeof e=="object"&&"type"in e}const mR=[],ode=!0,u1=!1,sde="skip";function hR(e,t,n,r){let a;typeof t=="function"&&typeof n!="function"?(r=n,n=t):a=t;const i=dv(a),o=r?-1:1;s(e,void 0,[])();function s(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=mR,h,v,x;if((!t||i(l,u,d[d.length-1]||void 0))&&(m=lde(n(l,d)),m[0]===u1))return m;if("children"in l&&l.children){const y=l;if(y.children&&m[0]!==sde)for(v=(r?y.children.length:-1)+o,x=d.concat(y);v>-1&&v<y.children.length;){const b=y.children[v];if(h=s(b,v,x)(),h[0]===u1)return h;v=typeof h[1]=="number"?h[1]:v+o}}return m}}}function lde(e){return Array.isArray(e)?e:typeof e=="number"?[ode,e]:e==null?mR:[e]}function QN(e,t,n,r){let a,i,o;typeof t=="function"&&typeof n!="function"?(i=void 0,o=t,a=n):(i=t,o=n,a=r),hR(e,i,s,a);function s(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return o(l,f,d)}}const d1={}.hasOwnProperty,cde={};function ude(e,t){const n=t||cde,r=new Map,a=new Map,i=new Map,o={...Kue,...n.handlers},s={all:u,applyData:fde,definitionById:r,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:n,patch:dde,wrap:mde};return QN(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:a,p=String(d.identifier).toUpperCase();f.has(p)||f.set(p,d)}}),s;function l(d,f){const p=d.type,m=s.handlers[p];if(d1.call(s.handlers,p)&&m)return m(s,d,f);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in d){const{children:h,...v}=d,x=O0(v);return x.children=s.all(d),x}return O0(d)}return(s.options.unknownHandler||pde)(s,d,f)}function u(d){const f=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const h=s.one(p[m],d);if(h){if(m&&p[m-1].type==="break"&&(!Array.isArray(h)&&h.type==="text"&&(h.value=_E(h.value)),!Array.isArray(h)&&h.type==="element")){const v=h.children[0];v&&v.type==="text"&&(v.value=_E(v.value))}Array.isArray(h)?f.push(...h):f.push(h)}}}return f}}function dde(e,t){e.position&&(t.position=Qse(e))}function fde(e,t){let n=t;if(e&&e.data){const r=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const o="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:o}}n.type==="element"&&i&&Object.assign(n.properties,O0(i)),"children"in n&&n.children&&a!==null&&a!==void 0&&(n.children=a)}return n}function pde(e,t){const n=t.data||{},r="value"in t&&!(d1.call(n,"hProperties")||d1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function mde(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function _E(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function LE(e,t){const n=ude(e,t),r=n.one(e,void 0),a=ede(n),i=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function hde(e,t){return e&&"run"in e?async function(n,r){const a=LE(n,{file:r,...t});await e.run(a,r)}:function(n,r){return LE(n,{file:r,...e||t})}}function FE(e){if(e)throw e}var ag=Object.prototype.hasOwnProperty,gR=Object.prototype.toString,RE=Object.defineProperty,$E=Object.getOwnPropertyDescriptor,BE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):gR.call(e)==="[object Array]"},zE=function(e){if(!e||gR.call(e)!=="[object Object]")return!1;var t=ag.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&ag.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!n)return!1;var r;for(r in e);return typeof r>"u"||ag.call(e,r)},UE=function(e,t){RE&&t.name==="__proto__"?RE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},VE=function(e,t){if(t==="__proto__")if(ag.call(e,t)){if($E)return $E(e,t).value}else return;return e[t]},gde=function e(){var t,n,r,a,i,o,s=arguments[0],l=1,u=arguments.length,d=!1;for(typeof s=="boolean"&&(d=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=VE(s,n),a=VE(t,n),s!==a&&(d&&a&&(zE(a)||(i=BE(a)))?(i?(i=!1,o=r&&BE(r)?r:[]):o=r&&zE(r)?r:{},UE(s,{name:n,newValue:e(d,o,a)})):typeof a<"u"&&UE(s,{name:n,newValue:a}));return s};const Lb=To(gde);function f1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function yde(){const e=[],t={run:n,use:r};return t;function n(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...u){const d=e[++i];let f=-1;if(l){o(l);return}for(;++f<a.length;)(u[f]===null||u[f]===void 0)&&(u[f]=a[f]);a=u,d?vde(d,s)(...u):o(null,...u)}}function r(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function vde(e,t){let n;return r;function r(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(u){const d=u;if(s&&n)throw d;return a(d)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){n||(n=!0,t(o,...s))}function i(o){a(null,o)}}const Ko={basename:bde,dirname:xde,extname:wde,join:kde,sep:"/"};function bde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Mm(e);let n=0,r=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else r<0&&(i=!0,r=a+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){n=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(r=a):(s=-1,r=o));return n===r?r=o:r<0&&(r=e.length),e.slice(n,r)}function xde(e){if(Mm(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function wde(e){Mm(e);let t=e.length,n=-1,r=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){r=t+1;break}continue}n<0&&(o=!0,n=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||n<0||i===0||i===1&&a===n-1&&a===r+1?"":e.slice(a,n)}function kde(...e){let t=-1,n;for(;++t<e.length;)Mm(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":Sde(n)}function Sde(e){Mm(e);const t=e.codePointAt(0)===47;let n=Nde(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Nde(e,t){let n="",r=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),a=o,i=0;continue}}else if(n.length>0){n="",r=0,a=o,i=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(a+1,o):n=e.slice(a+1,o),r=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return n}function Mm(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const jde={cwd:Cde};function Cde(){return"/"}function p1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Mde(e){if(typeof e=="string")e=new URL(e);else if(!p1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Ade(e)}function Ade(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const Fb=["history","path","basename","stem","extname","dirname"];class yR{constructor(t){let n;t?p1(t)?n={path:t}:typeof t=="string"||Ede(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":jde.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Fb.length;){const i=Fb[r];i in n&&n[i]!==void 0&&n[i]!==null&&(this[i]=i==="history"?[...n[i]]:n[i])}let a;for(a in n)Fb.includes(a)||(this[a]=n[a])}get basename(){return typeof this.path=="string"?Ko.basename(this.path):void 0}set basename(t){$b(t,"basename"),Rb(t,"basename"),this.path=Ko.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Ko.dirname(this.path):void 0}set dirname(t){WE(this.basename,"dirname"),this.path=Ko.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Ko.extname(this.path):void 0}set extname(t){if(Rb(t,"extname"),WE(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ko.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){p1(t)&&(t=Mde(t)),$b(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Ko.basename(this.path,this.extname):void 0}set stem(t){$b(t,"stem"),Rb(t,"stem"),this.path=Ko.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const a=this.message(t,n,r);throw a.fatal=!0,a}info(t,n,r){const a=this.message(t,n,r);return a.fatal=void 0,a}message(t,n,r){const a=new Ua(t,n,r);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Rb(e,t){if(e&&e.includes(Ko.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Ko.sep+"`")}function $b(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function WE(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function Ede(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Dde=function(e){const t=this.constructor.prototype,n=t[e],r=function(){return n.apply(r,arguments)};return Object.setPrototypeOf(r,t),r},Pde={}.hasOwnProperty;class ej extends Dde{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=yde()}copy(){const t=new ej;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Lb(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ub("data",this.frozen),this.namespace[t]=n,this):Pde.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ub("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const a=n.call(t,...r);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Ph(t),r=this.parser||this.Parser;return Bb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Bb("process",this.parser||this.Parser),zb("process",this.compiler||this.Compiler),n?a(void 0,n):new Promise(a);function a(i,o){const s=Ph(t),l=r.parse(s);r.run(l,s,function(d,f,p){if(d||!f||!p)return u(d);const m=f,h=r.stringify(m,p);Ide(h)?p.value=h:p.result=h,u(d,p)});function u(d,f){d||!f?o(d):i?i(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Bb("processSync",this.parser||this.Parser),zb("processSync",this.compiler||this.Compiler),this.process(t,a),qE("processSync","process",n),r;function a(i,o){n=!0,FE(i),r=o}}run(t,n,r){HE(t),this.freeze();const a=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?i(void 0,r):new Promise(i);function i(o,s){const l=Ph(n);a.run(t,l,u);function u(d,f,p){const m=f||t;d?s(d):o?o(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,a;return this.run(t,n,i),qE("runSync","run",r),a;function i(o,s){FE(o),a=s,r=!0}}stringify(t,n){this.freeze();const r=Ph(n),a=this.compiler||this.Compiler;return zb("stringify",a),HE(t),a(t,r)}use(t,...n){const r=this.attachers,a=this.namespace;if(Ub("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(a.settings=Lb(!0,a.settings,u.settings))}function s(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];i(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...d]);else if(d.length>0){let[m,...h]=d;const v=r[p][1];f1(v)&&f1(m)&&(m=Lb(!0,v,m)),r[p]=[u,m,...h]}}}}const Tde=new ej().freeze();function Bb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function zb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ub(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function HE(e){if(!f1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function qE(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Ph(e){return Ode(e)?e:new yR(e)}function Ode(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function Ide(e){return typeof e=="string"||_de(e)}function _de(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Lde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",KE=[],GE={allowDangerousHtml:!0},Fde=/^(https?|ircs?|mailto|xmpp)$/i,Rde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function $de(e){const t=Bde(e),n=zde(e);return Ude(t.runSync(t.parse(n),n),e)}function Bde(e){const t=e.rehypePlugins||KE,n=e.remarkPlugins||KE,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...GE}:GE;return Tde().use(wue).use(n).use(hde,r).use(t)}function zde(e){const t=e.children||"",n=new yR;return typeof t=="string"&&(n.value=t),n}function Ude(e,t){const n=t.allowedElements,r=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||Vde;for(const d of Rde)Object.hasOwn(t,d.from)&&""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Lde+d.id;return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),QN(e,u),ale(e,{Fragment:c.Fragment,components:a,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,p){if(d.type==="raw"&&p&&typeof f=="number")return o?p.children.splice(f,1):p.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Ob)if(Object.hasOwn(Ob,m)&&Object.hasOwn(d.properties,m)){const h=d.properties[m],v=Ob[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(h||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):i?i.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,p)),m&&p&&typeof f=="number")return s&&d.children?p.children.splice(f,1,...d.children):p.children.splice(f,1),f}}}function Vde(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||n!==-1&&t>n||r!==-1&&t>r||Fde.test(e.slice(0,t))?e:""}function YE(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,a=n.indexOf(t);for(;a!==-1;)r++,a=n.indexOf(t,a+t.length);return r}function Wde(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Hde(e,t,n){const r=dv((n||{}).ignore||[]),a=qde(t);let i=-1;for(;++i<a.length;)hR(e,"text",o);function o(l,u){let d=-1,f;for(;++d<u.length;){const p=u[d],m=f?f.children:void 0;if(r(p,m?m.indexOf(p):void 0,f))return;f=p}if(f)return s(l,u)}function s(l,u){const d=u[u.length-1],f=a[i][0],p=a[i][1];let m=0;const h=d.children.indexOf(l);let v=!1,x=[];f.lastIndex=0;let y=f.exec(l.value);for(;y;){const b=y.index,w={index:y.index,input:y.input,stack:[...u,l]};let S=p(...y,w);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?f.lastIndex=b+1:(m!==b&&x.push({type:"text",value:l.value.slice(m,b)}),Array.isArray(S)?x.push(...S):S&&x.push(S),m=b+y[0].length,v=!0),!f.global)break;y=f.exec(l.value)}return v?(m<l.value.length&&x.push({type:"text",value:l.value.slice(m)}),d.children.splice(h,1,...x)):x=[l],h+x.length}}function qde(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const a=n[r];t.push([Kde(a[0]),Gde(a[1])])}return t}function Kde(e){return typeof e=="string"?new RegExp(Wde(e),"g"):e}function Gde(e){return typeof e=="function"?e:function(){return e}}const Vb="phrasing",Wb=["autolink","link","image","label"];function Yde(){return{transforms:[nfe],enter:{literalAutolink:Jde,literalAutolinkEmail:Hb,literalAutolinkHttp:Hb,literalAutolinkWww:Hb},exit:{literalAutolink:tfe,literalAutolinkEmail:efe,literalAutolinkHttp:Zde,literalAutolinkWww:Qde}}}function Xde(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Vb,notInConstruct:Wb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Vb,notInConstruct:Wb},{character:":",before:"[ps]",after:"\\/",inConstruct:Vb,notInConstruct:Wb}]}}function Jde(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Hb(e){this.config.enter.autolinkProtocol.call(this,e)}function Zde(e){this.config.exit.autolinkProtocol.call(this,e)}function Qde(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function efe(e){this.config.exit.autolinkEmail.call(this,e)}function tfe(e){this.exit(e)}function nfe(e){Hde(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,rfe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),afe]],{ignore:["link","linkReference"]})}function rfe(e,t,n,r,a){let i="";if(!vR(a)||(/^w/i.test(t)&&(n=t+n,t="",i="http://"),!ife(n)))return!1;const o=ofe(n+r);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function afe(e,t,n,r){return!vR(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function ife(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function ofe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const a=YE(e,"(");let i=YE(e,")");for(;r!==-1&&a>i;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),i++;return[e,n]}function vR(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||ou(n)||lv(n))&&(!t||n!==47)}bR.peek=hfe;function sfe(){this.buffer()}function lfe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function cfe(){this.buffer()}function ufe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function dfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=No(this.sliceSerialize(e)).toLowerCase(),n.label=t}function ffe(e){this.exit(e)}function pfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=No(this.sliceSerialize(e)).toLowerCase(),n.label=t}function mfe(e){this.exit(e)}function hfe(){return"["}function bR(e,t,n,r){const a=n.createTracker(r);let i=a.move("[^");const o=n.enter("footnoteReference"),s=n.enter("reference");return i+=a.move(n.safe(n.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function gfe(){return{enter:{gfmFootnoteCallString:sfe,gfmFootnoteCall:lfe,gfmFootnoteDefinitionLabelString:cfe,gfmFootnoteDefinition:ufe},exit:{gfmFootnoteCallString:dfe,gfmFootnoteCall:ffe,gfmFootnoteDefinitionLabelString:pfe,gfmFootnoteDefinition:mfe}}}function yfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:bR},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const u=i.enter("footnoteDefinition"),d=i.enter("label");return l+=s.move(i.safe(i.associationId(r),{before:l,after:"]"})),d(),l+=s.move("]:"),r.children&&r.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(r,s.current()),t?xR:vfe))),u(),l}}function vfe(e,t,n){return t===0?e:xR(e,t,n)}function xR(e,t,n){return(n?"":"    ")+e}const bfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];wR.peek=Nfe;function xfe(){return{canContainEols:["delete"],enter:{strikethrough:kfe},exit:{strikethrough:Sfe}}}function wfe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:bfe}],handlers:{delete:wR}}}function kfe(e){this.enter({type:"delete",children:[]},e)}function Sfe(e){this.exit(e)}function wR(e,t,n,r){const a=n.createTracker(r),i=n.enter("strikethrough");let o=a.move("~~");return o+=n.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function Nfe(){return"~"}function jfe(e){return e.length}function Cfe(e,t){const n=t||{},r=(n.align||[]).concat(),a=n.stringLength||jfe,i=[],o=[],s=[],l=[];let u=0,d=-1;for(;++d<e.length;){const v=[],x=[];let y=-1;for(e[d].length>u&&(u=e[d].length);++y<e[d].length;){const b=Mfe(e[d][y]);if(n.alignDelimiters!==!1){const w=a(b);x[y]=w,(l[y]===void 0||w>l[y])&&(l[y]=w)}v.push(b)}o[d]=v,s[d]=x}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)i[f]=XE(r[f]);else{const v=XE(r);for(;++f<u;)i[f]=v}f=-1;const p=[],m=[];for(;++f<u;){const v=i[f];let x="",y="";v===99?(x=":",y=":"):v===108?x=":":v===114&&(y=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-x.length-y.length);const w=x+"-".repeat(b)+y;n.alignDelimiters!==!1&&(b=x.length+b+y.length,b>l[f]&&(l[f]=b),m[f]=b),p[f]=w}o.splice(1,0,p),s.splice(1,0,m),d=-1;const h=[];for(;++d<o.length;){const v=o[d],x=s[d];f=-1;const y=[];for(;++f<u;){const b=v[f]||"";let w="",S="";if(n.alignDelimiters!==!1){const j=l[f]-(x[f]||0),N=i[f];N===114?w=" ".repeat(j):N===99?j%2?(w=" ".repeat(j/2+.5),S=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),S=w):S=" ".repeat(j)}n.delimiterStart!==!1&&!f&&y.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&y.push(" "),n.alignDelimiters!==!1&&y.push(w),y.push(b),n.alignDelimiters!==!1&&y.push(S),n.padding!==!1&&y.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&y.push("|")}h.push(n.delimiterEnd===!1?y.join("").replace(/ +$/,""):y.join(""))}return h.join(`
`)}function Mfe(e){return e==null?"":String(e)}function XE(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Afe(e,t,n,r){const a=n.enter("blockquote"),i=n.createTracker(r);i.move("> "),i.shift(2);const o=n.indentLines(n.containerFlow(e,i.current()),Efe);return a(),o}function Efe(e,t,n){return">"+(n?"":" ")+e}function Dfe(e,t){return JE(e,t.inConstruct,!0)&&!JE(e,t.notInConstruct,!1)}function JE(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function ZE(e,t,n,r){let a=-1;for(;++a<n.unsafe.length;)if(n.unsafe[a].character===`
`&&Dfe(n.stack,n.unsafe[a]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Pfe(e,t){const n=String(e);let r=n.indexOf(t),a=r,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===a?++i>o&&(o=i):i=1,a=r+t.length,r=n.indexOf(t,a);return o}function Tfe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Ofe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Ife(e,t,n,r){const a=Ofe(n),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(Tfe(e,n)){const f=n.enter("codeIndented"),p=n.indentLines(i,_fe);return f(),p}const s=n.createTracker(r),l=a.repeat(Math.max(Pfe(i,a)+1,3)),u=n.enter("codeFenced");let d=s.move(l);if(e.lang){const f=n.enter(`codeFencedLang${o}`);d+=s.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...s.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${o}`);d+=s.move(" "),d+=s.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...s.current()})),f()}return d+=s.move(`
`),i&&(d+=s.move(i+`
`)),d+=s.move(l),u(),d}function _fe(e,t,n){return(n?"":"    ")+e}function tj(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Lfe(e,t,n,r){const a=tj(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("definition");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),o(),u}function Ffe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function $p(e){return"&#x"+e.toString(16).toUpperCase()+";"}function I0(e,t,n){const r=Td(e),a=Td(t);return r===void 0?a===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}kR.peek=Rfe;function kR(e,t,n,r){const a=Ffe(n),i=n.enter("emphasis"),o=n.createTracker(r),s=o.move(a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=I0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=$p(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=I0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+$p(f));const m=o.move(a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function Rfe(e,t,n){return n.options.emphasis||"*"}function $fe(e,t){let n=!1;return QN(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,u1}),!!((!e.depth||e.depth<3)&&qN(e)&&(t.options.setext||n))}function Bfe(e,t,n,r){const a=Math.max(Math.min(6,e.depth||1),1),i=n.createTracker(r);if($fe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),p=n.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return f(),d(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=n.enter("headingAtx"),l=n.enter("phrasing");i.move(o+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=$p(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,n.options.closeAtx&&(u+=" "+o),l(),s(),u}SR.peek=zfe;function SR(e){return e.value||""}function zfe(){return"<"}NR.peek=Ufe;function NR(e,t,n,r){const a=tj(n),i=a==='"'?"Quote":"Apostrophe",o=n.enter("image");let s=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=n.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(n.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),u+=l.move(")"),o(),u}function Ufe(){return"!"}jR.peek=Vfe;function jR(e,t,n,r){const a=e.referenceType,i=n.enter("imageReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("![");const u=n.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function Vfe(){return"!"}CR.peek=Wfe;function CR(e,t,n){let r=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(r);)a+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++i<n.unsafe.length;){const o=n.unsafe[i],s=n.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return a+r+a}function Wfe(){return"`"}function MR(e,t){const n=qN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}AR.peek=Hfe;function AR(e,t,n,r){const a=tj(n),i=a==='"'?"Quote":"Apostrophe",o=n.createTracker(r);let s,l;if(MR(e,n)){const d=n.stack;n.stack=[],s=n.enter("autolink");let f=o.move("<");return f+=o.move(n.containerPhrasing(e,{before:f,after:">",...o.current()})),f+=o.move(">"),s(),n.stack=d,f}s=n.enter("link"),l=n.enter("label");let u=o.move("[");return u+=o.move(n.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(n.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=n.enter("destinationRaw"),u+=o.move(n.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=n.enter(`title${i}`),u+=o.move(" "+a),u+=o.move(n.safe(e.title,{before:u,after:a,...o.current()})),u+=o.move(a),l()),u+=o.move(")"),s(),u}function Hfe(e,t,n){return MR(e,n)?"<":"["}ER.peek=qfe;function ER(e,t,n,r){const a=e.referenceType,i=n.enter("linkReference");let o=n.enter("label");const s=n.createTracker(r);let l=s.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const d=n.stack;n.stack=[],o=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...s.current()});return o(),n.stack=d,i(),a==="full"||!u||u!==f?l+=s.move(f+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function qfe(){return"["}function nj(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Kfe(e){const t=nj(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Gfe(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function DR(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Yfe(e,t,n,r){const a=n.enter("list"),i=n.bulletCurrent;let o=e.ordered?Gfe(n):nj(n);const s=e.ordered?o==="."?")":".":Kfe(n);let l=t&&n.bulletLastUsed?o===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),DR(n)===o&&d){let f=-1;for(;++f<e.children.length;){const p=e.children[f];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),n.bulletCurrent=o;const u=n.containerFlow(e,r);return n.bulletLastUsed=o,n.bulletCurrent=i,a(),u}function Xfe(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Jfe(e,t,n,r){const a=Xfe(n);let i=n.bulletCurrent||nj(n);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=n.createTracker(r);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,s.current()),d);return l(),u;function d(f,p,m){return p?(m?"":" ".repeat(o))+f:(m?i:i+" ".repeat(o-i.length))+f}}function Zfe(e,t,n,r){const a=n.enter("paragraph"),i=n.enter("phrasing"),o=n.containerPhrasing(e,r);return i(),a(),o}const Qfe=dv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function epe(e,t,n,r){return(e.children.some(function(a){return Qfe(a)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function tpe(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}PR.peek=npe;function PR(e,t,n,r){const a=tpe(n),i=n.enter("strong"),o=n.createTracker(r),s=o.move(a+a);let l=o.move(n.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),d=I0(r.before.charCodeAt(r.before.length-1),u,a);d.inside&&(l=$p(u)+l.slice(1));const f=l.charCodeAt(l.length-1),p=I0(r.after.charCodeAt(0),f,a);p.inside&&(l=l.slice(0,-1)+$p(f));const m=o.move(a+a);return i(),n.attentionEncodeSurroundingInfo={after:p.outside,before:d.outside},s+l+m}function npe(e,t,n){return n.options.strong||"*"}function rpe(e,t,n,r){return n.safe(e.value,r)}function ape(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ipe(e,t,n){const r=(DR(n)+(n.options.ruleSpaces?" ":"")).repeat(ape(n));return n.options.ruleSpaces?r.slice(0,-1):r}const TR={blockquote:Afe,break:ZE,code:Ife,definition:Lfe,emphasis:kR,hardBreak:ZE,heading:Bfe,html:SR,image:NR,imageReference:jR,inlineCode:CR,link:AR,linkReference:ER,list:Yfe,listItem:Jfe,paragraph:Zfe,root:epe,strong:PR,text:rpe,thematicBreak:ipe};function ope(){return{enter:{table:spe,tableData:QE,tableHeader:QE,tableRow:cpe},exit:{codeText:upe,table:lpe,tableData:qb,tableHeader:qb,tableRow:qb}}}function spe(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function lpe(e){this.exit(e),this.data.inTable=void 0}function cpe(e){this.enter({type:"tableRow",children:[]},e)}function qb(e){this.exit(e)}function QE(e){this.enter({type:"tableCell",children:[]},e)}function upe(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,dpe));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function dpe(e,t){return t==="|"?t:e}function fpe(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,a=t.stringLength,i=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(m,h,v,x){return u(d(m,v,x),m.align)}function s(m,h,v,x){const y=f(m,v,x),b=u([y]);return b.slice(0,b.indexOf(`
`))}function l(m,h,v,x){const y=v.enter("tableCell"),b=v.enter("phrasing"),w=v.containerPhrasing(m,{...x,before:i,after:i});return b(),y(),w}function u(m,h){return Cfe(m,{align:h,alignDelimiters:r,padding:n,stringLength:a})}function d(m,h,v){const x=m.children;let y=-1;const b=[],w=h.enter("table");for(;++y<x.length;)b[y]=f(x[y],h,v);return w(),b}function f(m,h,v){const x=m.children;let y=-1;const b=[],w=h.enter("tableRow");for(;++y<x.length;)b[y]=l(x[y],m,h,v);return w(),b}function p(m,h,v){let x=TR.inlineCode(m,h,v);return v.stack.includes("tableCell")&&(x=x.replace(/\|/g,"\\$&")),x}}function ppe(){return{exit:{taskListCheckValueChecked:eD,taskListCheckValueUnchecked:eD,paragraph:hpe}}}function mpe(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:gpe}}}function eD(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function hpe(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function gpe(e,t,n,r){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=n.createTracker(r);i&&s.move(o);let l=TR.listItem(e,t,n,{...r,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+o}}function ype(){return[Yde(),gfe(),xfe(),ope(),ppe()]}function vpe(e){return{extensions:[Xde(),yfe(e),wfe(),fpe(e),mpe()]}}const bpe={tokenize:jpe,partial:!0},OR={tokenize:Cpe,partial:!0},IR={tokenize:Mpe,partial:!0},_R={tokenize:Ape,partial:!0},xpe={tokenize:Epe,partial:!0},LR={name:"wwwAutolink",tokenize:Spe,previous:RR},FR={name:"protocolAutolink",tokenize:Npe,previous:$R},tl={name:"emailAutolink",tokenize:kpe,previous:BR},is={};function wpe(){return{text:is}}let vc=48;for(;vc<123;)is[vc]=tl,vc++,vc===58?vc=65:vc===91&&(vc=97);is[43]=tl;is[45]=tl;is[46]=tl;is[95]=tl;is[72]=[tl,FR];is[104]=[tl,FR];is[87]=[tl,LR];is[119]=[tl,LR];function kpe(e,t,n){const r=this;let a,i;return o;function o(f){return!m1(f)||!BR.call(r,r.previous)||rj(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(f))}function s(f){return m1(f)?(e.consume(f),s):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(xpe,d,u)(f):f===45||f===95||$a(f)?(i=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),a=!0,l}function d(f){return i&&a&&Ka(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function Spe(e,t,n){const r=this;return a;function a(o){return o!==87&&o!==119||!RR.call(r,r.previous)||rj(r.events)?n(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(bpe,e.attempt(OR,e.attempt(IR,i),n),n)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function Npe(e,t,n){const r=this;let a="",i=!1;return o;function o(f){return(f===72||f===104)&&$R.call(r,r.previous)&&!rj(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(f),e.consume(f),s):n(f)}function s(f){if(Ka(f)&&a.length<5)return a+=String.fromCodePoint(f),e.consume(f),s;if(f===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),i?u:(i=!0,l)):n(f)}function u(f){return f===null||P0(f)||Xn(f)||ou(f)||lv(f)?n(f):e.attempt(OR,e.attempt(IR,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function jpe(e,t,n){let r=0;return a;function a(o){return(o===87||o===119)&&r<3?(r++,e.consume(o),a):o===46&&r===3?(e.consume(o),i):n(o)}function i(o){return o===null?n(o):t(o)}}function Cpe(e,t,n){let r,a,i;return o;function o(u){return u===46||u===95?e.check(_R,l,s)(u):u===null||Xn(u)||ou(u)||u!==45&&lv(u)?l(u):(i=!0,e.consume(u),o)}function s(u){return u===95?r=!0:(a=r,r=void 0),e.consume(u),o}function l(u){return a||r||!i?n(u):t(u)}}function Mpe(e,t){let n=0,r=0;return a;function a(o){return o===40?(n++,e.consume(o),a):o===41&&r<n?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(_R,t,i)(o):o===null||Xn(o)||ou(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&r++,e.consume(o),a}}function Ape(e,t,n){return r;function r(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),r):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||Xn(s)||ou(s)?t(s):n(s)}function a(s){return s===null||s===40||s===91||Xn(s)||ou(s)?t(s):r(s)}function i(s){return Ka(s)?o(s):n(s)}function o(s){return s===59?(e.consume(s),r):Ka(s)?(e.consume(s),o):n(s)}}function Epe(e,t,n){return r;function r(i){return e.consume(i),a}function a(i){return $a(i)?n(i):t(i)}}function RR(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Xn(e)}function $R(e){return!Ka(e)}function BR(e){return!(e===47||m1(e))}function m1(e){return e===43||e===45||e===46||e===95||$a(e)}function rj(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Dpe={tokenize:Rpe,partial:!0};function Ppe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:_pe,continuation:{tokenize:Lpe},exit:Fpe}},text:{91:{name:"gfmFootnoteCall",tokenize:Ipe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Tpe,resolveTo:Ope}}}}function Tpe(e,t,n){const r=this;let a=r.events.length;const i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let o;for(;a--;){const l=r.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return n(l);const u=No(r.sliceSerialize({start:o.end,end:r.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Ope(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...s),e}function Ipe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i=0,o;return s;function s(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(i>999||f===93&&!o||f===null||f===91||Xn(f))return n(f);if(f===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(No(r.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Xn(f)||(o=!0),i++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),i++,u):u(f)}}function _pe(e,t,n){const r=this,a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(h){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(h){return h===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(h)}function d(h){if(o>999||h===93&&!s||h===null||h===91||Xn(h))return n(h);if(h===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=No(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(h),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return Xn(h)||(s=!0),o++,e.consume(h),h===92?f:d}function f(h){return h===91||h===92||h===93?(e.consume(h),o++,d):d(h)}function p(h){return h===58?(e.enter("definitionMarker"),e.consume(h),e.exit("definitionMarker"),a.includes(i)||a.push(i),jn(e,m,"gfmFootnoteDefinitionWhitespace")):n(h)}function m(h){return t(h)}}function Lpe(e,t,n){return e.check(Cm,t,e.attempt(Dpe,t,n))}function Fpe(e){e.exit("gfmFootnoteDefinition")}function Rpe(e,t,n){const r=this;return jn(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=r.events[r.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):n(i)}}function $pe(e){let t=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:a,resolveAll:r};return t==null&&(t=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function r(i,o){let s=-1;for(;++s<i.length;)if(i[s][0]==="enter"&&i[s][1].type==="strikethroughSequenceTemporary"&&i[s][1]._close){let l=s;for(;l--;)if(i[l][0]==="exit"&&i[l][1].type==="strikethroughSequenceTemporary"&&i[l][1]._open&&i[s][1].end.offset-i[s][1].start.offset===i[l][1].end.offset-i[l][1].start.offset){i[s][1].type="strikethroughSequence",i[l][1].type="strikethroughSequence";const u={type:"strikethrough",start:Object.assign({},i[l][1].start),end:Object.assign({},i[s][1].end)},d={type:"strikethroughText",start:Object.assign({},i[l][1].end),end:Object.assign({},i[s][1].start)},f=[["enter",u,o],["enter",i[l][1],o],["exit",i[l][1],o],["enter",d,o]],p=o.parser.constructs.insideSpan.null;p&&Pi(f,f.length,0,cv(p,i.slice(l+1,s),o)),Pi(f,f.length,0,[["exit",d,o],["enter",i[s][1],o],["exit",i[s][1],o],["exit",u,o]]),Pi(i,l-1,s-l+3,f),s=l+f.length-2;break}}for(s=-1;++s<i.length;)i[s][1].type==="strikethroughSequenceTemporary"&&(i[s][1].type="data");return i}function a(i,o,s){const l=this.previous,u=this.events;let d=0;return f;function f(m){return l===126&&u[u.length-1][1].type!=="characterEscape"?s(m):(i.enter("strikethroughSequenceTemporary"),p(m))}function p(m){const h=Td(l);if(m===126)return d>1?s(m):(i.consume(m),d++,p);if(d<2&&!t)return s(m);const v=i.exit("strikethroughSequenceTemporary"),x=Td(m);return v._open=!x||x===2&&!!h,v._close=!h||h===2&&!!x,o(m)}}}class Bpe{constructor(){this.map=[]}add(t,n,r){zpe(this,t,n,r)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let a=r.pop();for(;a;){for(const i of a)t.push(i);a=r.pop()}this.map.length=0}}function zpe(e,t,n,r){let a=0;if(!(n===0&&r.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=n,e.map[a][2].push(...r);return}a+=1}e.map.push([t,n,r])}}function Upe(e,t){let n=!1;const r=[];for(;t<e.length;){const a=e[t];if(n){if(a[0]==="enter")a[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=r.length-1;r[i]=r[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function Vpe(){return{flow:{null:{name:"table",tokenize:Wpe,resolveAll:Hpe}}}}function Wpe(e,t,n){const r=this;let a=0,i=0,o;return s;function s(D){let I=r.events.length-1;for(;I>-1;){const J=r.events[I][1].type;if(J==="lineEnding"||J==="linePrefix")I--;else break}const O=I>-1?r.events[I][1].type:null,H=O==="tableHead"||O==="tableRow"?N:l;return H===N&&r.parser.lazy[r.now().line]?n(D):H(D)}function l(D){return e.enter("tableHead"),e.enter("tableRow"),u(D)}function u(D){return D===124||(o=!0,i+=1),d(D)}function d(D){return D===null?n(D):Kt(D)?i>1?(i=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(D),e.exit("lineEnding"),m):n(D):yn(D)?jn(e,d,"whitespace")(D):(i+=1,o&&(o=!1,a+=1),D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),o=!0,d):(e.enter("data"),f(D)))}function f(D){return D===null||D===124||Xn(D)?(e.exit("data"),d(D)):(e.consume(D),D===92?p:f)}function p(D){return D===92||D===124?(e.consume(D),f):f(D)}function m(D){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(D):(e.enter("tableDelimiterRow"),o=!1,yn(D)?jn(e,h,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):h(D))}function h(D){return D===45||D===58?x(D):D===124?(o=!0,e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),v):j(D)}function v(D){return yn(D)?jn(e,x,"whitespace")(D):x(D)}function x(D){return D===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),y):D===45?(i+=1,y(D)):D===null||Kt(D)?S(D):j(D)}function y(D){return D===45?(e.enter("tableDelimiterFiller"),b(D)):j(D)}function b(D){return D===45?(e.consume(D),b):D===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(D),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(D))}function w(D){return yn(D)?jn(e,S,"whitespace")(D):S(D)}function S(D){return D===124?h(D):D===null||Kt(D)?!o||a!==i?j(D):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(D)):j(D)}function j(D){return n(D)}function N(D){return e.enter("tableRow"),A(D)}function A(D){return D===124?(e.enter("tableCellDivider"),e.consume(D),e.exit("tableCellDivider"),A):D===null||Kt(D)?(e.exit("tableRow"),t(D)):yn(D)?jn(e,A,"whitespace")(D):(e.enter("data"),P(D))}function P(D){return D===null||D===124||Xn(D)?(e.exit("data"),A(D)):(e.consume(D),D===92?U:P)}function U(D){return D===92||D===124?(e.consume(D),P):P(D)}}function Hpe(e,t){let n=-1,r=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,d,f;const p=new Bpe;for(;++n<e.length;){const m=e[n],h=m[1];m[0]==="enter"?h.type==="tableHead"?(s=!1,l!==0&&(tD(p,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",u,t]])):h.type==="tableRow"||h.type==="tableDelimiterRow"?(r=!0,f=void 0,i=[0,0,0,0],o=[0,n+1,0,0],s&&(s=!1,d={type:"tableBody",start:Object.assign({},h.start),end:Object.assign({},h.end)},p.add(n,0,[["enter",d,t]])),a=h.type==="tableDelimiterRow"?2:d?3:1):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")?(r=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],f=Th(p,t,i,a,void 0,f),i=[0,0,0,0]),o[2]=n)):h.type==="tableCellDivider"&&(r?r=!1:(i[1]!==0&&(o[0]=o[1],f=Th(p,t,i,a,void 0,f)),i=o,o=[i[1],n,0,0])):h.type==="tableHead"?(s=!0,l=n):h.type==="tableRow"||h.type==="tableDelimiterRow"?(l=n,i[1]!==0?(o[0]=o[1],f=Th(p,t,i,a,n,f)):o[1]!==0&&(f=Th(p,t,o,a,n,f)),a=0):a&&(h.type==="data"||h.type==="tableDelimiterMarker"||h.type==="tableDelimiterFiller")&&(o[3]=n)}for(l!==0&&tD(p,t,l,u,d),p.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=Upe(t.events,n))}return e}function Th(e,t,n,r,a,i){const o=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",s="tableContent";n[0]!==0&&(i.end=Object.assign({},Fu(t.events,n[0])),e.add(n[0],0,[["exit",i,t]]));const l=Fu(t.events,n[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",i,t]]),n[2]!==0){const u=Fu(t.events,n[2]),d=Fu(t.events,n[3]),f={type:s,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const p=t.events[n[2]],m=t.events[n[3]];if(p[1].end=Object.assign({},m[1].end),p[1].type="chunkText",p[1].contentType="text",n[3]>n[2]+1){const h=n[2]+1,v=n[3]-n[2]-1;e.add(h,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return a!==void 0&&(i.end=Object.assign({},Fu(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function tD(e,t,n,r,a){const i=[],o=Fu(t.events,n);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),r.end=Object.assign({},o),i.push(["exit",r,t]),e.add(n+1,0,i)}function Fu(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const qpe={name:"tasklistCheck",tokenize:Gpe};function Kpe(){return{text:{91:qpe}}}function Gpe(e,t,n){const r=this;return a;function a(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return Xn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):n(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):n(l)}function s(l){return Kt(l)?t(l):yn(l)?e.check({tokenize:Ype},t,n)(l):n(l)}}function Ype(e,t,n){return jn(e,r,"whitespace");function r(a){return a===null?n(a):t(a)}}function Xpe(e){return XF([wpe(),Ppe(),$pe(e),Vpe(),Kpe()])}const Jpe={};function Zpe(e){const t=this,n=e||Jpe,r=t.data(),a=r.micromarkExtensions||(r.micromarkExtensions=[]),i=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),o=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);a.push(Xpe(n)),i.push(ype()),o.push(vpe(n))}const Kb='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output/uptime, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n### Boon Uptime (Defense)\n\nThe Boon Uptime section is derived from `players[*].buffUptimes[*].statesPerSource`\nfor boon-classified buffs and reports **stack state over time on the selected\nplayer**, not outgoing generation.\n\nSource/eligibility:\n- include only `players[*].buffUptimes[*]` entries where `buffMap[b{id}]` (or fallback)\n  has `classification === "Boon"` (or empty classification treated as boon-compatible)\n- use `buffMap` metadata for `name`, `icon`, and `stacking`\n\nPer-fight timeline buckets:\n- sample every 5 seconds (`t = 0, 5, 10, ...`) and read current state value from\n  each source timeline in `statesPerSource`\n- sum active source values for that sample into the player bucket\n\nStack semantics (enforced):\n- non-stacking boons: binary only\n  - `bucket = 1` when sampled value is `> 0`\n  - `bucket = 0` otherwise\n  - no fractional values are permitted\n- stacking boons: integer stack counts only\n  - sampled values are rounded to whole stacks\n  - stacks are clamped to a max cap\n\nUptime percentage semantics:\n- uptime% is **presence-based** for all boons:\n  - a 5s bucket counts as uptime when sampled bucket value is `> 0`\n  - otherwise that bucket counts as no uptime\n- this rule applies to both non-stacking and stacking boons (stack amount does\n  not scale uptime%)\n- denominator includes all 5s buckets across all fights for that player/boon\n  (including fights where that player has no states for the boon)\n\nStack caps:\n- `Might`: `25`\n- `Stability`: `25`\n- current implementation applies cap `25` for stacking boons\n\nUI behavior:\n- main chart:\n  - stacking boons: per-fight **average stacks**\n  - non-stacking boons: per-fight **uptime percentage** (active 5s buckets / total 5s buckets)\n- drilldown chart: selected fight 5-second stack buckets\n- for stacking boons, UI may render a reference line at stack cap (`25`)\n- player list and summary card use the same shared uptime% source, so selected\n  player row uptime% equals displayed overall uptime%\n\nAggregation notes:\n- uptime view is account-keyed per player and does not use an aggregated `__all__`\n  synthetic row for timeline values\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`, `src/renderer/stats/sections/BoonUptimeSection.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',zR=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),pv=g.createContext({}),aj=g.createContext(null),mv=typeof document<"u",Qpe=mv?g.useLayoutEffect:g.useEffect,UR=g.createContext({strict:!1}),ij=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),eme="framerAppearId",VR="data-"+ij(eme);function tme(e,t,n,r){const{visualElement:a}=g.useContext(pv),i=g.useContext(UR),o=g.useContext(aj),s=g.useContext(zR).reducedMotion,l=g.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:s}));const u=l.current;g.useInsertionEffect(()=>{u&&u.update(n,o)});const d=g.useRef(!!(n[VR]&&!window.HandoffComplete));return Qpe(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Zu(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function nme(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Zu(n)&&(n.current=r))},[t])}function Bp(e){return typeof e=="string"||Array.isArray(e)}function hv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const oj=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],sj=["initial",...oj];function gv(e){return hv(e.animate)||sj.some(t=>Bp(e[t]))}function WR(e){return!!(gv(e)||e.variants)}function rme(e,t){if(gv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||Bp(n)?n:void 0,animate:Bp(r)?r:void 0}}return e.inherit!==!1?t:{}}function ame(e){const{initial:t,animate:n}=rme(e,g.useContext(pv));return g.useMemo(()=>({initial:t,animate:n}),[nD(t),nD(n)])}function nD(e){return Array.isArray(e)?e.join(" "):e}const rD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},zp={};for(const e in rD)zp[e]={isEnabled:t=>rD[e].some(n=>!!t[n])};function ime(e){for(const t in e)zp[t]={...zp[t],...e[t]}}const HR=g.createContext({}),qR=g.createContext({}),ome=Symbol.for("motionComponentSymbol");function sme({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:a}){e&&ime(e);function i(s,l){let u;const d={...g.useContext(zR),...s,layoutId:lme(s)},{isStatic:f}=d,p=ame(s),m=r(s,f);if(!f&&mv){p.visualElement=tme(a,m,d,t);const h=g.useContext(qR),v=g.useContext(UR).strict;p.visualElement&&(u=p.visualElement.loadFeatures(d,v,e,h))}return g.createElement(pv.Provider,{value:p},u&&p.visualElement?g.createElement(u,{visualElement:p.visualElement,...d}):null,n(a,s,nme(m,p.visualElement,l),m,f,p.visualElement))}const o=g.forwardRef(i);return o[ome]=a,o}function lme({layoutId:e}){const t=g.useContext(HR).id;return t&&e!==void 0?t+"-"+e:e}function cme(e){function t(r,a={}){return sme(e(r,a))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,a)=>(n.has(a)||n.set(a,t(a)),n.get(a))})}const ume=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function lj(e){return typeof e!="string"||e.includes("-")?!1:!!(ume.indexOf(e)>-1||/[A-Z]/.test(e))}const _0={};function dme(e){Object.assign(_0,e)}const Am=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],pu=new Set(Am);function KR(e,{layout:t,layoutId:n}){return pu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!_0[e]||e==="opacity")}const mi=e=>!!(e&&e.getVelocity),fme={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},pme=Am.length;function mme(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,a){let i="";for(let o=0;o<pme;o++){const s=Am[o];if(e[s]!==void 0){const l=fme[s]||s;i+=`${l}(${e[s]}) `}}return t&&!e.z&&(i+="translateZ(0)"),i=i.trim(),a?i=a(e,r?"":i):n&&r&&(i="none"),i}const GR=e=>t=>typeof t=="string"&&t.startsWith(e),YR=GR("--"),h1=GR("var(--"),hme=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,gme=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Kl=(e,t,n)=>Math.min(Math.max(n,e),t),mu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Zf={...mu,transform:e=>Kl(0,1,e)},Oh={...mu,default:1},Qf=e=>Math.round(e*1e5)/1e5,yv=/(-)?([\d]*\.?[\d])+/g,XR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,yme=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Em(e){return typeof e=="string"}const Dm=e=>({test:t=>Em(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vl=Dm("deg"),es=Dm("%"),Jt=Dm("px"),vme=Dm("vh"),bme=Dm("vw"),aD={...es,parse:e=>es.parse(e)/100,transform:e=>es.transform(e*100)},iD={...mu,transform:Math.round},JR={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,size:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,rotate:vl,rotateX:vl,rotateY:vl,rotateZ:vl,scale:Oh,scaleX:Oh,scaleY:Oh,scaleZ:Oh,skew:vl,skewX:vl,skewY:vl,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:Zf,originX:aD,originY:aD,originZ:Jt,zIndex:iD,fillOpacity:Zf,strokeOpacity:Zf,numOctaves:iD};function cj(e,t,n,r){const{style:a,vars:i,transform:o,transformOrigin:s}=e;let l=!1,u=!1,d=!0;for(const f in t){const p=t[f];if(YR(f)){i[f]=p;continue}const m=JR[f],h=gme(p,m);if(pu.has(f)){if(l=!0,o[f]=h,!d)continue;p!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,s[f]=h):a[f]=h}if(t.transform||(l||r?a.transform=mme(e.transform,n,d,r):a.transform&&(a.transform="none")),u){const{originX:f="50%",originY:p="50%",originZ:m=0}=s;a.transformOrigin=`${f} ${p} ${m}`}}const uj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZR(e,t,n){for(const r in t)!mi(t[r])&&!KR(r,n)&&(e[r]=t[r])}function xme({transformTemplate:e},t,n){return g.useMemo(()=>{const r=uj();return cj(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function wme(e,t,n){const r=e.style||{},a={};return ZR(a,r,e),Object.assign(a,xme(e,t,n)),e.transformValues?e.transformValues(a):a}function kme(e,t,n){const r={},a=wme(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,a.userSelect=a.WebkitUserSelect=a.WebkitTouchCallout="none",a.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=a,r}const Sme=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function L0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Sme.has(e)}let QR=e=>!L0(e);function Nme(e){e&&(QR=t=>t.startsWith("on")?!L0(t):e(t))}try{Nme(require("@emotion/is-prop-valid").default)}catch{}function jme(e,t,n){const r={};for(const a in e)a==="values"&&typeof e.values=="object"||(QR(a)||n===!0&&L0(a)||!t&&!L0(a)||e.draggable&&a.startsWith("onDrag"))&&(r[a]=e[a]);return r}function oD(e,t,n){return typeof e=="string"?e:Jt.transform(t+n*e)}function Cme(e,t,n){const r=oD(t,e.x,e.width),a=oD(n,e.y,e.height);return`${r} ${a}`}const Mme={offset:"stroke-dashoffset",array:"stroke-dasharray"},Ame={offset:"strokeDashoffset",array:"strokeDasharray"};function Eme(e,t,n=1,r=0,a=!0){e.pathLength=1;const i=a?Mme:Ame;e[i.offset]=Jt.transform(-r);const o=Jt.transform(t),s=Jt.transform(n);e[i.array]=`${o} ${s}`}function dj(e,{attrX:t,attrY:n,attrScale:r,originX:a,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:l=0,...u},d,f,p){if(cj(e,u,d,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:h,dimensions:v}=e;m.transform&&(v&&(h.transform=m.transform),delete m.transform),v&&(a!==void 0||i!==void 0||h.transform)&&(h.transformOrigin=Cme(v,a!==void 0?a:.5,i!==void 0?i:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&Eme(m,o,s,l,!1)}const e6=()=>({...uj(),attrs:{}}),fj=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Dme(e,t,n,r){const a=g.useMemo(()=>{const i=e6();return dj(i,t,{enableHardwareAcceleration:!1},fj(r),e.transformTemplate),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};ZR(i,e.style,e),a.style={...i,...a.style}}return a}function Pme(e=!1){return(t,n,r,{latestValues:a},i)=>{const o=(lj(t)?Dme:kme)(n,a,i,t),s={...jme(n,typeof t=="string",e),...o,ref:r},{children:l}=n,u=g.useMemo(()=>mi(l)?l.get():l,[l]);return g.createElement(t,{...s,children:u})}}function t6(e,{style:t,vars:n},r,a){Object.assign(e.style,t,a&&a.getProjectionStyles(r));for(const i in n)e.style.setProperty(i,n[i])}const n6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r6(e,t,n,r){t6(e,t,void 0,r);for(const a in t.attrs)e.setAttribute(n6.has(a)?a:ij(a),t.attrs[a])}function pj(e,t){const{style:n}=e,r={};for(const a in n)(mi(n[a])||t.style&&mi(t.style[a])||KR(a,e))&&(r[a]=n[a]);return r}function a6(e,t){const n=pj(e,t);for(const r in e)if(mi(e[r])||mi(t[r])){const a=Am.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[a]=e[r]}return n}function mj(e,t,n,r={},a={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,a)),t}function Tme(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const F0=e=>Array.isArray(e),Ome=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Ime=e=>F0(e)?e[e.length-1]||0:e;function ig(e){const t=mi(e)?e.get():e;return Ome(t)?t.toValue():t}function _me({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,a,i){const o={latestValues:Lme(r,a,i,e),renderState:t()};return n&&(o.mount=s=>n(r,s,o)),o}const i6=e=>(t,n)=>{const r=g.useContext(pv),a=g.useContext(aj),i=()=>_me(e,t,r,a);return n?i():Tme(i)};function Lme(e,t,n,r){const a={},i=r(e,{});for(const p in i)a[p]=ig(i[p]);let{initial:o,animate:s}=e;const l=gv(e),u=WR(e);t&&u&&!l&&e.inherit!==!1&&(o===void 0&&(o=t.initial),s===void 0&&(s=t.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?s:o;return f&&typeof f!="boolean"&&!hv(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const m=mj(e,p);if(!m)return;const{transitionEnd:h,transition:v,...x}=m;for(const y in x){let b=x[y];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(a[y]=b)}for(const y in h)a[y]=h[y]}),a}const Lr=e=>e;class sD{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Fme(e){let t=new sD,n=new sD,r=0,a=!1,i=!1;const o=new WeakSet,s={schedule:(l,u=!1,d=!1)=>{const f=d&&a,p=f?t:n;return u&&o.add(l),p.add(l)&&f&&a&&(r=t.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(a){i=!0;return}if(a=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),o.has(d)&&(s.schedule(d),e())}a=!1,i&&(i=!1,s.process(l))}};return s}const Ih=["prepare","read","update","preRender","render","postRender"],Rme=40;function $me(e,t){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=Ih.reduce((u,d)=>(u[d]=Fme(()=>n=!0),u),{}),o=u=>i[u].process(a),s=()=>{const u=performance.now();n=!1,a.delta=r?1e3/60:Math.max(Math.min(u-a.timestamp,Rme),1),a.timestamp=u,a.isProcessing=!0,Ih.forEach(o),a.isProcessing=!1,n&&t&&(r=!1,e(s))},l=()=>{n=!0,r=!0,a.isProcessing||e(s)};return{schedule:Ih.reduce((u,d)=>{const f=i[d];return u[d]=(p,m=!1,h=!1)=>(n||l(),f.schedule(p,m,h)),u},{}),cancel:u=>Ih.forEach(d=>i[d].cancel(u)),state:a,steps:i}}const{schedule:ur,cancel:Gs,state:Oa,steps:Gb}=$me(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lr,!0),Bme={useVisualState:i6({scrapeMotionValuesFromProps:a6,createRenderState:e6,onMount:(e,t,{renderState:n,latestValues:r})=>{ur.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),ur.render(()=>{dj(n,r,{enableHardwareAcceleration:!1},fj(t.tagName),e.transformTemplate),r6(t,n)})}})},zme={useVisualState:i6({scrapeMotionValuesFromProps:pj,createRenderState:uj})};function Ume(e,{forwardMotionProps:t=!1},n,r){return{...lj(e)?Bme:zme,preloadedFeatures:n,useRender:Pme(t),createVisualElement:r,Component:e}}function As(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const o6=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function vv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Vme=e=>t=>o6(t)&&e(t,vv(t));function Os(e,t,n,r){return As(e,t,Vme(n),r)}const Wme=(e,t)=>n=>t(e(n)),zl=(...e)=>e.reduce(Wme);function s6(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const lD=s6("dragHorizontal"),cD=s6("dragVertical");function l6(e){let t=!1;if(e==="y")t=cD();else if(e==="x")t=lD();else{const n=lD(),r=cD();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function c6(){const e=l6(!0);return e?(e(),!1):!0}class rc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function uD(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),a=(i,o)=>{if(i.pointerType==="touch"||c6())return;const s=e.getProps();e.animationState&&s.whileHover&&e.animationState.setActive("whileHover",t),s[r]&&ur.update(()=>s[r](i,o))};return Os(e.current,n,a,{passive:!e.getProps()[r]})}class Hme extends rc{mount(){this.unmount=zl(uD(this.node,!0),uD(this.node,!1))}unmount(){}}class qme extends rc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zl(As(this.node.current,"focus",()=>this.onFocus()),As(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const u6=(e,t)=>t?e===t?!0:u6(e,t.parentElement):!1;function Yb(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,vv(n))}class Kme extends rc{constructor(){super(...arguments),this.removeStartListeners=Lr,this.removeEndListeners=Lr,this.removeAccessibleListeners=Lr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=Os(window,"pointerup",(o,s)=>{if(!this.checkPressEnd())return;const{onTap:l,onTapCancel:u,globalTapTarget:d}=this.node.getProps();ur.update(()=>{!d&&!u6(this.node.current,o.target)?u&&u(o,s):l&&l(o,s)})},{passive:!(r.onTap||r.onPointerUp)}),i=Os(window,"pointercancel",(o,s)=>this.cancelPress(o,s),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zl(a,i),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=s=>{s.key!=="Enter"||!this.checkPressEnd()||Yb("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&ur.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=As(this.node.current,"keyup",o),Yb("down",(s,l)=>{this.startPress(s,l)})},n=As(this.node.current,"keydown",t),r=()=>{this.isPressing&&Yb("cancel",(i,o)=>this.cancelPress(i,o))},a=As(this.node.current,"blur",r);this.removeAccessibleListeners=zl(n,a)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:a}=this.node.getProps();a&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&ur.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!c6()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&ur.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Os(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=As(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const g1=new WeakMap,Xb=new WeakMap,Gme=e=>{const t=g1.get(e.target);t&&t(e)},Yme=e=>{e.forEach(Gme)};function Xme({root:e,...t}){const n=e||document;Xb.has(n)||Xb.set(n,{});const r=Xb.get(n),a=JSON.stringify(t);return r[a]||(r[a]=new IntersectionObserver(Yme,{root:e,...t})),r[a]}function Jme(e,t,n){const r=Xme(t);return g1.set(e,n),r.observe(e),()=>{g1.delete(e),r.unobserve(e)}}const Zme={some:0,all:1};class Qme extends rc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:i}=t,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:Zme[a]},s=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),p=u?d:f;p&&p(l)};return Jme(this.node.current,o,s)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(ehe(t,n))&&this.startObserver()}unmount(){}}function ehe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const the={inView:{Feature:Qme},tap:{Feature:Kme},focus:{Feature:qme},hover:{Feature:Hme}};function d6(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function nhe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function rhe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function bv(e,t,n){const r=e.getProps();return mj(r,t,n!==void 0?n:r.custom,nhe(e),rhe(e))}let hj=Lr;const Hc=e=>e*1e3,Is=e=>e/1e3,ahe={current:!1},f6=e=>Array.isArray(e)&&typeof e[0]=="number";function p6(e){return!!(!e||typeof e=="string"&&m6[e]||f6(e)||Array.isArray(e)&&e.every(p6))}const _f=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,m6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_f([0,.65,.55,1]),circOut:_f([.55,0,1,.45]),backIn:_f([.31,.01,.66,-.59]),backOut:_f([.33,1.53,.69,.99])};function h6(e){if(e)return f6(e)?_f(e):Array.isArray(e)?e.map(h6):m6[e]}function ihe(e,t,n,{delay:r=0,duration:a,repeat:i=0,repeatType:o="loop",ease:s,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=h6(s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:a,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function ohe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const g6=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,she=1e-7,lhe=12;function che(e,t,n,r,a){let i,o,s=0;do o=t+(n-t)/2,i=g6(o,r,a)-e,i>0?n=o:t=o;while(Math.abs(i)>she&&++s<lhe);return o}function Pm(e,t,n,r){if(e===t&&n===r)return Lr;const a=i=>che(i,0,1,e,n);return i=>i===0||i===1?i:g6(a(i),t,r)}const uhe=Pm(.42,0,1,1),dhe=Pm(0,0,.58,1),y6=Pm(.42,0,.58,1),fhe=e=>Array.isArray(e)&&typeof e[0]!="number",v6=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,b6=e=>t=>1-e(1-t),gj=e=>1-Math.sin(Math.acos(e)),x6=b6(gj),phe=v6(gj),w6=Pm(.33,1.53,.69,.99),yj=b6(w6),mhe=v6(yj),hhe=e=>(e*=2)<1?.5*yj(e):.5*(2-Math.pow(2,-10*(e-1))),ghe={linear:Lr,easeIn:uhe,easeInOut:y6,easeOut:dhe,circIn:gj,circInOut:phe,circOut:x6,backIn:yj,backInOut:mhe,backOut:w6,anticipate:hhe},dD=e=>{if(Array.isArray(e)){hj(e.length===4);const[t,n,r,a]=e;return Pm(t,n,r,a)}else if(typeof e=="string")return ghe[e];return e},vj=(e,t)=>n=>!!(Em(n)&&yme.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),k6=(e,t,n)=>r=>{if(!Em(r))return r;const[a,i,o,s]=r.match(yv);return{[e]:parseFloat(a),[t]:parseFloat(i),[n]:parseFloat(o),alpha:s!==void 0?parseFloat(s):1}},yhe=e=>Kl(0,255,e),Jb={...mu,transform:e=>Math.round(yhe(e))},Fc={test:vj("rgb","red"),parse:k6("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Jb.transform(e)+", "+Jb.transform(t)+", "+Jb.transform(n)+", "+Qf(Zf.transform(r))+")"};function vhe(e){let t="",n="",r="",a="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),a=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),a=e.substring(4,5),t+=t,n+=n,r+=r,a+=a),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const y1={test:vj("#"),parse:vhe,transform:Fc.transform},Qu={test:vj("hsl","hue"),parse:k6("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+es.transform(Qf(t))+", "+es.transform(Qf(n))+", "+Qf(Zf.transform(r))+")"},Ha={test:e=>Fc.test(e)||y1.test(e)||Qu.test(e),parse:e=>Fc.test(e)?Fc.parse(e):Qu.test(e)?Qu.parse(e):y1.parse(e),transform:e=>Em(e)?e:e.hasOwnProperty("red")?Fc.transform(e):Qu.transform(e)},br=(e,t,n)=>-n*e+n*t+e;function Zb(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function bhe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let a=0,i=0,o=0;if(!t)a=i=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,l=2*n-s;a=Zb(l,s,e+1/3),i=Zb(l,s,e),o=Zb(l,s,e-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Qb=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},xhe=[y1,Fc,Qu],whe=e=>xhe.find(t=>t.test(e));function fD(e){const t=whe(e);let n=t.parse(e);return t===Qu&&(n=bhe(n)),n}const S6=(e,t)=>{const n=fD(e),r=fD(t),a={...n};return i=>(a.red=Qb(n.red,r.red,i),a.green=Qb(n.green,r.green,i),a.blue=Qb(n.blue,r.blue,i),a.alpha=br(n.alpha,r.alpha,i),Fc.transform(a))};function khe(e){var t,n;return isNaN(e)&&Em(e)&&(((t=e.match(yv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(XR))===null||n===void 0?void 0:n.length)||0)>0}const N6={regex:hme,countKey:"Vars",token:"${v}",parse:Lr},j6={regex:XR,countKey:"Colors",token:"${c}",parse:Ha.parse},C6={regex:yv,countKey:"Numbers",token:"${n}",parse:mu.parse};function ex(e,{regex:t,countKey:n,token:r,parse:a}){const i=e.tokenised.match(t);i&&(e["num"+n]=i.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...i.map(a)))}function R0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&ex(n,N6),ex(n,j6),ex(n,C6),n}function M6(e){return R0(e).values}function A6(e){const{values:t,numColors:n,numVars:r,tokenised:a}=R0(e),i=t.length;return o=>{let s=a;for(let l=0;l<i;l++)l<r?s=s.replace(N6.token,o[l]):l<r+n?s=s.replace(j6.token,Ha.transform(o[l])):s=s.replace(C6.token,Qf(o[l]));return s}}const She=e=>typeof e=="number"?0:e;function Nhe(e){const t=M6(e);return A6(e)(t.map(She))}const Gl={test:khe,parse:M6,createTransformer:A6,getAnimatableNone:Nhe},E6=(e,t)=>n=>`${n>0?t:e}`;function D6(e,t){return typeof e=="number"?n=>br(e,t,n):Ha.test(e)?S6(e,t):e.startsWith("var(")?E6(e,t):T6(e,t)}const P6=(e,t)=>{const n=[...e],r=n.length,a=e.map((i,o)=>D6(i,t[o]));return i=>{for(let o=0;o<r;o++)n[o]=a[o](i);return n}},jhe=(e,t)=>{const n={...e,...t},r={};for(const a in n)e[a]!==void 0&&t[a]!==void 0&&(r[a]=D6(e[a],t[a]));return a=>{for(const i in r)n[i]=r[i](a);return n}},T6=(e,t)=>{const n=Gl.createTransformer(t),r=R0(e),a=R0(t);return r.numVars===a.numVars&&r.numColors===a.numColors&&r.numNumbers>=a.numNumbers?zl(P6(r.values,a.values),n):E6(e,t)},Up=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},pD=(e,t)=>n=>br(e,t,n);function Che(e){return typeof e=="number"?pD:typeof e=="string"?Ha.test(e)?S6:T6:Array.isArray(e)?P6:typeof e=="object"?jhe:pD}function Mhe(e,t,n){const r=[],a=n||Che(e[0]),i=e.length-1;for(let o=0;o<i;o++){let s=a(e[o],e[o+1]);if(t){const l=Array.isArray(t)?t[o]||Lr:t;s=zl(l,s)}r.push(s)}return r}function O6(e,t,{clamp:n=!0,ease:r,mixer:a}={}){const i=e.length;if(hj(i===t.length),i===1)return()=>t[0];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const o=Mhe(t,r,a),s=o.length,l=u=>{let d=0;if(s>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Up(e[d],e[d+1],u);return o[d](f)};return n?u=>l(Kl(e[0],e[i-1],u)):l}function Ahe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const a=Up(0,t,r);e.push(br(n,1,a))}}function Ehe(e){const t=[0];return Ahe(t,e.length-1),t}function Dhe(e,t){return e.map(n=>n*t)}function Phe(e,t){return e.map(()=>t||y6).splice(0,e.length-1)}function $0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const a=fhe(r)?r.map(dD):dD(r),i={done:!1,value:t[0]},o=Dhe(n&&n.length===t.length?n:Ehe(t),e),s=O6(o,t,{ease:Array.isArray(a)?a:Phe(t,a)});return{calculatedDuration:e,next:l=>(i.value=s(l),i.done=l>=e,i)}}function I6(e,t){return t?e*(1e3/t):0}const The=5;function _6(e,t,n){const r=Math.max(t-The,0);return I6(n-e(r),t-r)}const tx=.001,Ohe=.01,Ihe=10,_he=.05,Lhe=1;function Fhe({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let a,i,o=1-t;o=Kl(_he,Lhe,o),e=Kl(Ohe,Ihe,Is(e)),o<1?(a=u=>{const d=u*o,f=d*e,p=d-n,m=v1(u,o),h=Math.exp(-f);return tx-p/m*h},i=u=>{const d=u*o*e,f=d*n+n,p=Math.pow(o,2)*Math.pow(u,2)*e,m=Math.exp(-d),h=v1(Math.pow(u,2),o);return(-a(u)+tx>0?-1:1)*((f-p)*m)/h}):(a=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-tx+d*f},i=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const s=5/e,l=$he(a,i,s);if(e=Hc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:e}}}const Rhe=12;function $he(e,t,n){let r=n;for(let a=1;a<Rhe;a++)r=r-e(r)/t(r);return r}function v1(e,t){return e*Math.sqrt(1-t*t)}const Bhe=["duration","bounce"],zhe=["stiffness","damping","mass"];function mD(e,t){return t.some(n=>e[n]!==void 0)}function Uhe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!mD(e,zhe)&&mD(e,Bhe)){const n=Fhe(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function L6({keyframes:e,restDelta:t,restSpeed:n,...r}){const a=e[0],i=e[e.length-1],o={done:!1,value:a},{stiffness:s,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:p}=Uhe({...r,velocity:-Is(r.velocity||0)}),m=f||0,h=l/(2*Math.sqrt(s*u)),v=i-a,x=Is(Math.sqrt(s/u)),y=Math.abs(v)<5;n||(n=y?.01:2),t||(t=y?.005:.5);let b;if(h<1){const w=v1(x,h);b=S=>{const j=Math.exp(-h*x*S);return i-j*((m+h*x*v)/w*Math.sin(w*S)+v*Math.cos(w*S))}}else if(h===1)b=w=>i-Math.exp(-x*w)*(v+(m+x*v)*w);else{const w=x*Math.sqrt(h*h-1);b=S=>{const j=Math.exp(-h*x*S),N=Math.min(w*S,300);return i-j*((m+h*x*v)*Math.sinh(N)+w*v*Math.cosh(N))/w}}return{calculatedDuration:p&&d||null,next:w=>{const S=b(w);if(p)o.done=w>=d;else{let j=m;w!==0&&(h<1?j=_6(b,w,S):j=0);const N=Math.abs(j)<=n,A=Math.abs(i-S)<=t;o.done=N&&A}return o.value=o.done?i:S,o}}}function hD({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:s,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],p={done:!1,value:f},m=P=>s!==void 0&&P<s||l!==void 0&&P>l,h=P=>s===void 0?l:l===void 0||Math.abs(s-P)<Math.abs(l-P)?s:l;let v=n*t;const x=f+v,y=o===void 0?x:o(x);y!==x&&(v=y-f);const b=P=>-v*Math.exp(-P/r),w=P=>y+b(P),S=P=>{const U=b(P),D=w(P);p.done=Math.abs(U)<=u,p.value=p.done?y:D};let j,N;const A=P=>{m(p.value)&&(j=P,N=L6({keyframes:[p.value,h(p.value)],velocity:_6(w,P,p.value),damping:a,stiffness:i,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:P=>{let U=!1;return!N&&j===void 0&&(U=!0,S(P),A(P)),j!==void 0&&P>j?N.next(P-j):(!U&&S(P),p)}}}const Vhe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>ur.update(t,!0),stop:()=>Gs(t),now:()=>Oa.isProcessing?Oa.timestamp:performance.now()}},gD=2e4;function yD(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<gD;)t+=n,r=e.next(t);return t>=gD?1/0:t}const Whe={decay:hD,inertia:hD,tween:$0,keyframes:$0,spring:L6};function B0({autoplay:e=!0,delay:t=0,driver:n=Vhe,keyframes:r,type:a="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:s="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...p}){let m=1,h=!1,v,x;const y=()=>{x=new Promise(F=>{v=F})};y();let b;const w=Whe[a]||$0;let S;w!==$0&&typeof r[0]!="number"&&(S=O6([0,100],r,{clamp:!1}),r=[0,100]);const j=w({...p,keyframes:r});let N;s==="mirror"&&(N=w({...p,keyframes:[...r].reverse(),velocity:-(p.velocity||0)}));let A="idle",P=null,U=null,D=null;j.calculatedDuration===null&&i&&(j.calculatedDuration=yD(j));const{calculatedDuration:I}=j;let O=1/0,H=1/0;I!==null&&(O=I+o,H=O*(i+1)-o);let J=0;const oe=F=>{if(U===null)return;m>0&&(U=Math.min(U,F)),m<0&&(U=Math.min(F-H/m,U)),P!==null?J=P:J=Math.round(F-U)*m;const T=J-t*(m>=0?1:-1),C=m>=0?T<0:T>H;J=Math.max(T,0),A==="finished"&&P===null&&(J=H);let B=J,R=j;if(i){const L=Math.min(J,H)/O;let z=Math.floor(L),ne=L%1;!ne&&L>=1&&(ne=1),ne===1&&z--,z=Math.min(z,i+1),z%2&&(s==="reverse"?(ne=1-ne,o&&(ne-=o/O)):s==="mirror"&&(R=N)),B=Kl(0,1,ne)*O}const G=C?{done:!1,value:r[0]}:R.next(B);S&&(G.value=S(G.value));let{done:se}=G;!C&&I!==null&&(se=m>=0?J>=H:J<=0);const K=P===null&&(A==="finished"||A==="running"&&se);return f&&f(G.value),K&&W(),G},je=()=>{b&&b.stop(),b=void 0},te=()=>{A="idle",je(),v(),y(),U=D=null},W=()=>{A="finished",d&&d(),je(),v()},le=()=>{if(h)return;b||(b=n(oe));const F=b.now();l&&l(),P!==null?U=F-P:(!U||A==="finished")&&(U=F),A==="finished"&&y(),D=U,P=null,A="running",b.start()};e&&le();const k={then(F,T){return x.then(F,T)},get time(){return Is(J)},set time(F){F=Hc(F),J=F,P!==null||!b||m===0?P=F:U=b.now()-F/m},get duration(){const F=j.calculatedDuration===null?yD(j):j.calculatedDuration;return Is(F)},get speed(){return m},set speed(F){F===m||!b||(m=F,k.time=Is(J))},get state(){return A},play:le,pause:()=>{A="paused",P=J},stop:()=>{h=!0,A!=="idle"&&(A="idle",u&&u(),te())},cancel:()=>{D!==null&&oe(D),te()},complete:()=>{A="finished"},sample:F=>(U=0,oe(F))};return k}function Hhe(e){let t;return()=>(t===void 0&&(t=e()),t)}const qhe=Hhe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Khe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),_h=10,Ghe=2e4,Yhe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!p6(t.ease);function Xhe(e,t,{onUpdate:n,onComplete:r,...a}){if(!(qhe()&&Khe.has(t)&&!a.repeatDelay&&a.repeatType!=="mirror"&&a.damping!==0&&a.type!=="inertia"))return!1;let i=!1,o,s,l=!1;const u=()=>{s=new Promise(y=>{o=y})};u();let{keyframes:d,duration:f=300,ease:p,times:m}=a;if(Yhe(t,a)){const y=B0({...a,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let S=0;for(;!b.done&&S<Ghe;)b=y.sample(S),w.push(b.value),S+=_h;m=void 0,d=w,f=S-_h,p="linear"}const h=ihe(e.owner.current,t,d,{...a,duration:f,ease:p,times:m}),v=()=>{l=!1,h.cancel()},x=()=>{l=!0,ur.update(v),o(),u()};return h.onfinish=()=>{l||(e.set(ohe(d,a)),r&&r(),x())},{then(y,b){return s.then(y,b)},attachTimeline(y){return h.timeline=y,h.onfinish=null,Lr},get time(){return Is(h.currentTime||0)},set time(y){h.currentTime=Hc(y)},get speed(){return h.playbackRate},set speed(y){h.playbackRate=y},get duration(){return Is(f)},play:()=>{i||(h.play(),Gs(v))},pause:()=>h.pause(),stop:()=>{if(i=!0,h.playState==="idle")return;const{currentTime:y}=h;if(y){const b=B0({...a,autoplay:!1});e.setWithVelocity(b.sample(y-_h).value,b.sample(y).value,_h)}x()},complete:()=>{l||h.finish()},cancel:x}}function Jhe({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const a=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Lr,pause:Lr,stop:Lr,then:i=>(i(),Promise.resolve()),cancel:Lr,complete:Lr});return t?B0({keyframes:[0,1],duration:0,delay:t,onComplete:a}):a()}const Zhe={type:"spring",stiffness:500,damping:25,restSpeed:10},Qhe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ege={type:"keyframes",duration:.8},tge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},nge=(e,{keyframes:t})=>t.length>2?ege:pu.has(e)?e.startsWith("scale")?Qhe(t[1]):Zhe:tge,b1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Gl.test(t)||t==="0")&&!t.startsWith("url(")),rge=new Set(["brightness","contrast","saturate","opacity"]);function age(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(yv)||[];if(!r)return e;const a=n.replace(r,"");let i=rge.has(t)?1:0;return r!==n&&(i*=100),t+"("+i+a+")"}const ige=/([a-z-]*)\(.*?\)/g,x1={...Gl,getAnimatableNone:e=>{const t=e.match(ige);return t?t.map(age).join(" "):e}},oge={...JR,color:Ha,backgroundColor:Ha,outlineColor:Ha,fill:Ha,stroke:Ha,borderColor:Ha,borderTopColor:Ha,borderRightColor:Ha,borderBottomColor:Ha,borderLeftColor:Ha,filter:x1,WebkitFilter:x1},bj=e=>oge[e];function F6(e,t){let n=bj(e);return n!==x1&&(n=Gl),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const R6=e=>/^0[^.\s]+$/.test(e);function sge(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||R6(e)}function lge(e,t,n,r){const a=b1(t,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:e.get();let s;const l=[];for(let u=0;u<i.length;u++)i[u]===null&&(i[u]=u===0?o:i[u-1]),sge(i[u])&&l.push(u),typeof i[u]=="string"&&i[u]!=="none"&&i[u]!=="0"&&(s=i[u]);if(a&&l.length&&s)for(let u=0;u<l.length;u++){const d=l[u];i[d]=F6(t,s)}return i}function cge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:s,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function xj(e,t){return e[t]||e.default||e}const uge={skipAnimations:!1},wj=(e,t,n,r={})=>a=>{const i=xj(r,e)||{},o=i.delay||r.delay||0;let{elapsed:s=0}=r;s=s-Hc(o);const l=lge(t,e,n,i),u=l[0],d=l[l.length-1],f=b1(e,u),p=b1(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...i,delay:-s,onUpdate:h=>{t.set(h),i.onUpdate&&i.onUpdate(h)},onComplete:()=>{a(),i.onComplete&&i.onComplete()}};if(cge(i)||(m={...m,...nge(e,m)}),m.duration&&(m.duration=Hc(m.duration)),m.repeatDelay&&(m.repeatDelay=Hc(m.repeatDelay)),!f||!p||ahe.current||i.type===!1||uge.skipAnimations)return Jhe(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const h=Xhe(t,e,m);if(h)return h}return B0(m)};function z0(e){return!!(mi(e)&&e.add)}const $6=e=>/^\-?\d*\.?\d+$/.test(e);function kj(e,t){e.indexOf(t)===-1&&e.push(t)}function Sj(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Nj{constructor(){this.subscriptions=[]}add(t){return kj(this.subscriptions,t),()=>Sj(this.subscriptions,t)}notify(t,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,n,r);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dge=e=>!isNaN(parseFloat(e));class fge{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,a=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=Oa;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,ur.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>ur.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=dge(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new Nj);const r=this.events[t].add(n);return t==="change"?()=>{r(),ur.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?I6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Od(e,t){return new fge(e,t)}const B6=e=>t=>t.test(e),pge={test:e=>e==="auto",parse:e=>e},z6=[mu,Jt,es,vl,bme,vme,pge],jf=e=>z6.find(B6(e)),mge=[...z6,Ha,Gl],hge=e=>mge.find(B6(e));function gge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Od(n))}function yge(e,t){const n=bv(e,t);let{transitionEnd:r={},transition:a={},...i}=n?e.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const s=Ime(i[o]);gge(e,o,s)}}function vge(e,t,n){var r,a;const i=Object.keys(t).filter(s=>!e.hasValue(s)),o=i.length;if(o)for(let s=0;s<o;s++){const l=i[s],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(a=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&a!==void 0?a:t[l]),d!=null&&(typeof d=="string"&&($6(d)||R6(d))?d=parseFloat(d):!hge(d)&&Gl.test(u)&&(d=F6(l,u)),e.addValue(l,Od(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function bge(e,t){return t?(t[e]||t.default||t).from:void 0}function xge(e,t,n){const r={};for(const a in e){const i=bge(a,t);if(i!==void 0)r[a]=i;else{const o=n.getValue(a);o&&(r[a]=o.get())}}return r}function wge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function kge(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function U6(e,t,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:o,...s}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(i=r);const u=[],d=a&&e.animationState&&e.animationState.getState()[a];for(const f in s){const p=e.getValue(f),m=s[f];if(!p||m===void 0||d&&wge(d,f))continue;const h={delay:n,elapsed:0,...xj(i||{},f)};if(window.HandoffAppearAnimations){const y=e.getProps()[VR];if(y){const b=window.HandoffAppearAnimations(y,f,p,ur);b!==null&&(h.elapsed=b,h.isHandoff=!0)}}let v=!h.isHandoff&&!kge(p,m);if(h.type==="spring"&&(p.getVelocity()||h.velocity)&&(v=!1),p.animation&&(v=!1),v)continue;p.start(wj(f,p,m,e.shouldReduceMotion&&pu.has(f)?{type:!1}:h));const x=p.animation;z0(l)&&(l.add(f),x.then(()=>l.remove(f))),u.push(x)}return o&&Promise.all(u).then(()=>{o&&yge(e,o)}),u}function w1(e,t,n={}){const r=bv(e,t,n.custom);let{transition:a=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const i=r?()=>Promise.all(U6(e,r,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=a;return Sge(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:s}=a;if(s){const[l,u]=s==="beforeChildren"?[i,o]:[o,i];return l().then(()=>u())}else return Promise.all([i(),o(n.delay)])}function Sge(e,t,n=0,r=0,a=1,i){const o=[],s=(e.variantChildren.size-1)*r,l=a===1?(u=0)=>u*r:(u=0)=>s-u*r;return Array.from(e.variantChildren).sort(Nge).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(w1(u,t,{...i,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Nge(e,t){return e.sortNodePosition(t)}function jge(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const a=t.map(i=>w1(e,i,n));r=Promise.all(a)}else if(typeof t=="string")r=w1(e,t,n);else{const a=typeof t=="function"?bv(e,t,n.custom):t;r=Promise.all(U6(e,a,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Cge=[...oj].reverse(),Mge=oj.length;function Age(e){return t=>Promise.all(t.map(({animation:n,options:r})=>jge(e,n,r)))}function Ege(e){let t=Age(e);const n=Pge();let r=!0;const a=(l,u)=>{const d=bv(e,u);if(d){const{transition:f,transitionEnd:p,...m}=d;l={...l,...m,...p}}return l};function i(l){t=l(e)}function o(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},p=[],m=new Set;let h={},v=1/0;for(let y=0;y<Mge;y++){const b=Cge[y],w=n[b],S=d[b]!==void 0?d[b]:f[b],j=Bp(S),N=b===u?w.isActive:null;N===!1&&(v=y);let A=S===f[b]&&S!==d[b]&&j;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...h},!w.isActive&&N===null||!S&&!w.prevProp||hv(S)||typeof S=="boolean")continue;let P=Dge(w.prevProp,S)||b===u&&w.isActive&&!A&&j||y>v&&j,U=!1;const D=Array.isArray(S)?S:[S];let I=D.reduce(a,{});N===!1&&(I={});const{prevResolvedValues:O={}}=w,H={...O,...I},J=oe=>{P=!0,m.has(oe)&&(U=!0,m.delete(oe)),w.needsAnimating[oe]=!0};for(const oe in H){const je=I[oe],te=O[oe];if(h.hasOwnProperty(oe))continue;let W=!1;F0(je)&&F0(te)?W=!d6(je,te):W=je!==te,W?je!==void 0?J(oe):m.add(oe):je!==void 0&&m.has(oe)?J(oe):w.protectedKeys[oe]=!0}w.prevProp=S,w.prevResolvedValues=I,w.isActive&&(h={...h,...I}),r&&e.blockInitialAnimation&&(P=!1),P&&(!A||U)&&p.push(...D.map(oe=>({animation:oe,options:{type:b,...l}})))}if(m.size){const y={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(y[b]=w)}),p.push({animation:y})}let x=!!p.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(x=!1),r=!1,x?t(p):Promise.resolve()}function s(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var h;return(h=m.animationState)===null||h===void 0?void 0:h.setActive(l,u)}),n[l].isActive=u;const p=o(d,l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:s,setAnimateFunction:i,getState:()=>n}}function Dge(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!d6(t,e):!1}function bc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Pge(){return{animate:bc(!0),whileInView:bc(),whileHover:bc(),whileTap:bc(),whileDrag:bc(),whileFocus:bc(),exit:bc()}}class Tge extends rc{constructor(t){super(t),t.animationState||(t.animationState=Ege(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),hv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Oge=0;class Ige extends rc{constructor(){super(...arguments),this.id=Oge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:a}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===a)return;const i=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const _ge={animation:{Feature:Tge},exit:{Feature:Ige}},vD=(e,t)=>Math.abs(e-t);function Lge(e,t){const n=vD(e.x,t.x),r=vD(e.y,t.y);return Math.sqrt(n**2+r**2)}class V6{constructor(t,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=rx(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,m=Lge(f.offset,{x:0,y:0})>=3;if(!p&&!m)return;const{point:h}=f,{timestamp:v}=Oa;this.history.push({...h,timestamp:v});const{onStart:x,onMove:y}=this.handlers;p||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,p)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=nx(p,this.transformPagePoint),ur.update(this.updatePoint,!0)},this.handlePointerUp=(f,p)=>{this.end();const{onEnd:m,onSessionEnd:h,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=rx(f.type==="pointercancel"?this.lastMoveEventInfo:nx(p,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,x),h&&h(f,x)},!o6(t))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const o=vv(t),s=nx(o,this.transformPagePoint),{point:l}=s,{timestamp:u}=Oa;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,rx(s,this.history)),this.removeListeners=zl(Os(this.contextWindow,"pointermove",this.handlePointerMove),Os(this.contextWindow,"pointerup",this.handlePointerUp),Os(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Gs(this.updatePoint)}}function nx(e,t){return t?{point:t(e.point)}:e}function bD(e,t){return{x:e.x-t.x,y:e.y-t.y}}function rx({point:e},t){return{point:e,delta:bD(e,W6(t)),offset:bD(e,Fge(t)),velocity:Rge(t,.1)}}function Fge(e){return e[0]}function W6(e){return e[e.length-1]}function Rge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const a=W6(e);for(;n>=0&&(r=e[n],!(a.timestamp-r.timestamp>Hc(t)));)n--;if(!r)return{x:0,y:0};const i=Is(a.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-r.x)/i,y:(a.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Ii(e){return e.max-e.min}function k1(e,t=0,n=.01){return Math.abs(e-t)<=n}function xD(e,t,n,r=.5){e.origin=r,e.originPoint=br(t.min,t.max,e.origin),e.scale=Ii(n)/Ii(t),(k1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=br(n.min,n.max,e.origin)-e.originPoint,(k1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function ep(e,t,n,r){xD(e.x,t.x,n.x,r?r.originX:void 0),xD(e.y,t.y,n.y,r?r.originY:void 0)}function wD(e,t,n){e.min=n.min+t.min,e.max=e.min+Ii(t)}function $ge(e,t,n){wD(e.x,t.x,n.x),wD(e.y,t.y,n.y)}function kD(e,t,n){e.min=t.min-n.min,e.max=e.min+Ii(t)}function tp(e,t,n){kD(e.x,t.x,n.x),kD(e.y,t.y,n.y)}function Bge(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?br(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?br(n,e,r.max):Math.min(e,n)),e}function SD(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function zge(e,{top:t,left:n,bottom:r,right:a}){return{x:SD(e.x,n,a),y:SD(e.y,t,r)}}function ND(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function Uge(e,t){return{x:ND(e.x,t.x),y:ND(e.y,t.y)}}function Vge(e,t){let n=.5;const r=Ii(e),a=Ii(t);return a>r?n=Up(t.min,t.max-r,e.min):r>a&&(n=Up(e.min,e.max-a,t.min)),Kl(0,1,n)}function Wge(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const S1=.35;function Hge(e=S1){return e===!1?e=0:e===!0&&(e=S1),{x:jD(e,"left","right"),y:jD(e,"top","bottom")}}function jD(e,t,n){return{min:CD(e,t),max:CD(e,n)}}function CD(e,t){return typeof e=="number"?e:e[t]||0}const MD=()=>({translate:0,scale:1,origin:0,originPoint:0}),ed=()=>({x:MD(),y:MD()}),AD=()=>({min:0,max:0}),Br=()=>({x:AD(),y:AD()});function Hi(e){return[e("x"),e("y")]}function H6({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function qge({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Kge(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ax(e){return e===void 0||e===1}function N1({scale:e,scaleX:t,scaleY:n}){return!ax(e)||!ax(t)||!ax(n)}function Cc(e){return N1(e)||q6(e)||e.z||e.rotate||e.rotateX||e.rotateY}function q6(e){return ED(e.x)||ED(e.y)}function ED(e){return e&&e!=="0%"}function U0(e,t,n){const r=e-n,a=t*r;return n+a}function DD(e,t,n,r,a){return a!==void 0&&(e=U0(e,a,r)),U0(e,n,r)+t}function j1(e,t=0,n=1,r,a){e.min=DD(e.min,t,n,r,a),e.max=DD(e.max,t,n,r,a)}function K6(e,{x:t,y:n}){j1(e.x,t.translate,t.scale,t.originPoint),j1(e.y,n.translate,n.scale,n.originPoint)}function Gge(e,t,n,r=!1){const a=n.length;if(!a)return;t.x=t.y=1;let i,o;for(let s=0;s<a;s++){i=n[s],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&td(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,K6(e,o)),r&&Cc(i.latestValues)&&td(e,i.latestValues))}t.x=PD(t.x),t.y=PD(t.y)}function PD(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Sl(e,t){e.min=e.min+t,e.max=e.max+t}function TD(e,t,[n,r,a]){const i=t[a]!==void 0?t[a]:.5,o=br(e.min,e.max,i);j1(e,t[n],t[r],o,t.scale)}const Yge=["x","scaleX","originX"],Xge=["y","scaleY","originY"];function td(e,t){TD(e.x,t,Yge),TD(e.y,t,Xge)}function G6(e,t){return H6(Kge(e.getBoundingClientRect(),t))}function Jge(e,t,n){const r=G6(e,n),{scroll:a}=t;return a&&(Sl(r.x,a.offset.x),Sl(r.y,a.offset.y)),r}const Y6=({current:e})=>e?e.ownerDocument.defaultView:null,Zge=new WeakMap;class Qge{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Br(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vv(d,"page").point)},i=(d,f)=>{const{drag:p,dragPropagation:m,onDragStart:h}=this.getProps();if(p&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=l6(p),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Hi(x=>{let y=this.getAxisMotionValue(x).get()||0;if(es.test(y)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[x];w&&(y=Ii(w)*(parseFloat(y)/100))}}this.originPoint[x]=y}),h&&ur.update(()=>h(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:p,dragDirectionLock:m,onDirectionLock:h,onDrag:v}=this.getProps();if(!p&&!this.openGlobalLock)return;const{offset:x}=f;if(m&&this.currentDirection===null){this.currentDirection=e0e(x),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),v&&v(d,f)},s=(d,f)=>this.stop(d,f),l=()=>Hi(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new V6(t,{onSessionStart:a,onStart:i,onMove:o,onSessionEnd:s,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Y6(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:i}=this.getProps();i&&ur.update(()=>i(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:a}=this.getProps();if(!r||!Lh(t,a,this.currentDirection))return;const i=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=Bge(o,this.constraints[t],this.elastic[t])),i.set(o)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),a=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,i=this.constraints;n&&Zu(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&a?this.constraints=zge(a.layoutBox,n):this.constraints=!1,this.elastic=Hge(r),i!==this.constraints&&a&&this.constraints&&!this.hasMutatedConstraints&&Hi(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Wge(a.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!Zu(t))return!1;const r=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=Jge(r,a.root,this.visualElement.getTransformPagePoint());let o=Uge(a.layout.layoutBox,i);if(n){const s=n(qge(o));this.hasMutatedConstraints=!!s,s&&(o=H6(s))}return o}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:s}=this.getProps(),l=this.constraints||{},u=Hi(d=>{if(!Lh(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const p=a?200:1e6,m=a?40:1e7,h={type:"inertia",velocity:r?t[d]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,h)});return Promise.all(u).then(s)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(wj(t,r,0,n))}stopAnimation(){Hi(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Hi(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps();return r[n]||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Hi(n=>{const{drag:r}=this.getProps();if(!Lh(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(n);if(a&&a.layout){const{min:o,max:s}=a.layout.layoutBox[n];i.set(t[n]-br(o,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Zu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Hi(o=>{const s=this.getAxisMotionValue(o);if(s){const l=s.get();a[o]=Vge({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Hi(o=>{if(!Lh(o,t,null))return;const s=this.getAxisMotionValue(o),{min:l,max:u}=this.constraints[o];s.set(br(l,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;Zge.set(this.visualElement,this);const t=this.visualElement.current,n=Os(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Zu(l)&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),r();const o=As(window,"resize",()=>this.scalePositionWithinConstraints()),s=a.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Hi(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),s&&s()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=S1,dragMomentum:s=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:s}}}function Lh(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function e0e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class t0e extends rc{constructor(t){super(t),this.removeGroupControls=Lr,this.removeListeners=Lr,this.controls=new Qge(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lr}unmount(){this.removeGroupControls(),this.removeListeners()}}const OD=e=>(t,n)=>{e&&ur.update(()=>e(t,n))};class n0e extends rc{constructor(){super(...arguments),this.removePointerDownListener=Lr}onPointerDown(t){this.session=new V6(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Y6(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:OD(t),onStart:OD(n),onMove:r,onEnd:(i,o)=>{delete this.session,a&&ur.update(()=>a(i,o))}}}mount(){this.removePointerDownListener=Os(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function r0e(){const e=g.useContext(aj);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,a=g.useId();return g.useEffect(()=>r(a),[]),!t&&n?[!1,()=>n&&n(a)]:[!0]}const og={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ID(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Jt.test(e))e=parseFloat(e);else return e;const n=ID(e,t.target.x),r=ID(e,t.target.y);return`${n}% ${r}%`}},a0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,a=Gl.parse(e);if(a.length>5)return r;const i=Gl.createTransformer(e),o=typeof a[0]!="number"?1:0,s=n.x.scale*t.x,l=n.y.scale*t.y;a[0+o]/=s,a[1+o]/=l;const u=br(s,l,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),i(a)}};class i0e extends W0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:i}=t;dme(o0e),i&&(n.group&&n.group.add(i),r&&r.register&&a&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),og.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:a,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,a||t.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?o.promote():o.relegate()||ur.postRender(()=>{const s=o.getStack();(!s||!s.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function X6(e){const[t,n]=r0e(),r=g.useContext(HR);return W0.createElement(i0e,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(qR),isPresent:t,safeToRemove:n})}const o0e={borderRadius:{...Cf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cf,borderTopRightRadius:Cf,borderBottomLeftRadius:Cf,borderBottomRightRadius:Cf,boxShadow:a0e},J6=["TopLeft","TopRight","BottomLeft","BottomRight"],s0e=J6.length,_D=e=>typeof e=="string"?parseFloat(e):e,LD=e=>typeof e=="number"||Jt.test(e);function l0e(e,t,n,r,a,i){a?(e.opacity=br(0,n.opacity!==void 0?n.opacity:1,c0e(r)),e.opacityExit=br(t.opacity!==void 0?t.opacity:1,0,u0e(r))):i&&(e.opacity=br(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<s0e;o++){const s=`border${J6[o]}Radius`;let l=FD(t,s),u=FD(n,s);l===void 0&&u===void 0||(l||(l=0),u||(u=0),l===0||u===0||LD(l)===LD(u)?(e[s]=Math.max(br(_D(l),_D(u),r),0),(es.test(u)||es.test(l))&&(e[s]+="%")):e[s]=u)}(t.rotate||n.rotate)&&(e.rotate=br(t.rotate||0,n.rotate||0,r))}function FD(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const c0e=Z6(0,.5,x6),u0e=Z6(.5,.95,Lr);function Z6(e,t,n){return r=>r<e?0:r>t?1:n(Up(e,t,r))}function RD(e,t){e.min=t.min,e.max=t.max}function Ui(e,t){RD(e.x,t.x),RD(e.y,t.y)}function $D(e,t,n,r,a){return e-=t,e=U0(e,1/n,r),a!==void 0&&(e=U0(e,1/a,r)),e}function d0e(e,t=0,n=1,r=.5,a,i=e,o=e){if(es.test(t)&&(t=parseFloat(t),t=br(o.min,o.max,t/100)-o.min),typeof t!="number")return;let s=br(i.min,i.max,r);e===i&&(s-=t),e.min=$D(e.min,t,n,s,a),e.max=$D(e.max,t,n,s,a)}function BD(e,t,[n,r,a],i,o){d0e(e,t[n],t[r],t[a],t.scale,i,o)}const f0e=["x","scaleX","originX"],p0e=["y","scaleY","originY"];function zD(e,t,n,r){BD(e.x,t,f0e,n?n.x:void 0,r?r.x:void 0),BD(e.y,t,p0e,n?n.y:void 0,r?r.y:void 0)}function UD(e){return e.translate===0&&e.scale===1}function Q6(e){return UD(e.x)&&UD(e.y)}function m0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function e$(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function VD(e){return Ii(e.x)/Ii(e.y)}class h0e{constructor(){this.members=[]}add(t){kj(this.members,t),t.scheduleRender()}remove(t){if(Sj(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(a=>t===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function WD(e,t,n){let r="";const a=e.x.translate/t.x,i=e.y.translate/t.y;if((a||i)&&(r=`translate3d(${a}px, ${i}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=e.x.scale*t.x,s=e.y.scale*t.y;return(o!==1||s!==1)&&(r+=`scale(${o}, ${s})`),r||"none"}const g0e=(e,t)=>e.depth-t.depth;class y0e{constructor(){this.children=[],this.isDirty=!1}add(t){kj(this.children,t),this.isDirty=!0}remove(t){Sj(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(g0e),this.isDirty=!1,this.children.forEach(t)}}function v0e(e,t){const n=performance.now(),r=({timestamp:a})=>{const i=a-n;i>=t&&(Gs(r),e(i-t))};return ur.read(r,!0),()=>Gs(r)}function b0e(e){window.MotionDebug&&window.MotionDebug.record(e)}function x0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function w0e(e,t,n){const r=mi(e)?e:Od(e);return r.start(wj("",r,t,n)),r.animation}const HD=["","X","Y","Z"],k0e={visibility:"hidden"},qD=1e3;let S0e=0;const Mc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function t$({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(i={},o=t==null?void 0:t()){this.id=S0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mc.totalNodes=Mc.resolvedTargetDeltas=Mc.recalculatedProjection=0,this.nodes.forEach(C0e),this.nodes.forEach(P0e),this.nodes.forEach(T0e),this.nodes.forEach(M0e),b0e(Mc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=i,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let s=0;s<this.path.length;s++)this.path[s].shouldResetTransform=!0;this.root===this&&(this.nodes=new y0e)}addEventListener(i,o){return this.eventHandlers.has(i)||this.eventHandlers.set(i,new Nj),this.eventHandlers.get(i).add(o)}notifyListeners(i,...o){const s=this.eventHandlers.get(i);s&&s.notify(...o)}hasListeners(i){return this.eventHandlers.has(i)}mount(i,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=x0e(i),this.instance=i;const{layoutId:s,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(i),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(l||s)&&(this.isLayoutDirty=!0),e){let d;const f=()=>this.root.updateBlockedByResize=!1;e(i,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=v0e(f,250),og.hasAnimatedSinceResize&&(og.hasAnimatedSinceResize=!1,this.nodes.forEach(GD))})}s&&this.root.registerSharedNode(s,this),this.options.animate!==!1&&u&&(s||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const h=this.options.transition||u.getDefaultTransition()||F0e,{onLayoutAnimationStart:v,onLayoutAnimationComplete:x}=u.getProps(),y=!this.targetLayout||!e$(this.targetLayout,m)||p,b=!f&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||b||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,b);const w={...xj(h,"layout"),onPlay:v,onComplete:x};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||GD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const i=this.getStack();i&&i.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Gs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(O0e),this.animationId++)}getTransformTemplate(){const{visualElement:i}=this.options;return i&&i.getProps().transformTemplate}willUpdate(i=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:s}=this.options;if(o===void 0&&!s)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),i&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(KD);return}this.isUpdating||this.nodes.forEach(E0e),this.isUpdating=!1,this.nodes.forEach(D0e),this.nodes.forEach(N0e),this.nodes.forEach(j0e),this.clearAllSnapshots();const i=performance.now();Oa.delta=Kl(0,1e3/60,i-Oa.timestamp),Oa.timestamp=i,Oa.isProcessing=!0,Gb.update.process(Oa),Gb.preRender.process(Oa),Gb.render.process(Oa),Oa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(A0e),this.sharedNodes.forEach(I0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let s=0;s<this.path.length;s++)this.path[s].updateScroll();const i=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Br(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,i?i.layoutBox:void 0)}updateScroll(i="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===i&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:i,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!a)return;const i=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!Q6(this.projectionDelta),s=this.getTransformTemplate(),l=s?s(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;i&&(o||Cc(this.latestValues)||u)&&(a(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(i=!0){const o=this.measurePageBox();let s=this.removeElementScroll(o);return i&&(s=this.removeTransform(s)),R0e(s),{animationId:this.root.animationId,measuredBox:o,layoutBox:s,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:i}=this.options;if(!i)return Br();const o=i.measureViewportBox(),{scroll:s}=this.root;return s&&(Sl(o.x,s.offset.x),Sl(o.y,s.offset.y)),o}removeElementScroll(i){const o=Br();Ui(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s],{scroll:u,options:d}=l;if(l!==this.root&&u&&d.layoutScroll){if(u.isRoot){Ui(o,i);const{scroll:f}=this.root;f&&(Sl(o.x,-f.offset.x),Sl(o.y,-f.offset.y))}Sl(o.x,u.offset.x),Sl(o.y,u.offset.y)}}return o}applyTransform(i,o=!1){const s=Br();Ui(s,i);for(let l=0;l<this.path.length;l++){const u=this.path[l];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&td(s,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Cc(u.latestValues)&&td(s,u.latestValues)}return Cc(this.latestValues)&&td(s,this.latestValues),s}removeTransform(i){const o=Br();Ui(o,i);for(let s=0;s<this.path.length;s++){const l=this.path[s];if(!l.instance||!Cc(l.latestValues))continue;N1(l.latestValues)&&l.updateSnapshot();const u=Br(),d=l.measurePageBox();Ui(u,d),zD(o,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return Cc(this.latestValues)&&zD(o,this.latestValues),o}setTargetDelta(i){this.targetDelta=i,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(i){this.options={...this.options,...i,crossfade:i.crossfade!==void 0?i.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(i=!1){var o;const s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==s;if(!(i||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=Oa.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Br(),this.relativeTargetOrigin=Br(),tp(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Br(),this.targetWithTransforms=Br()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),$ge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ui(this.target,this.layout.layoutBox),K6(this.target,this.targetDelta)):Ui(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Br(),this.relativeTargetOrigin=Br(),tp(this.relativeTargetOrigin,this.target,f.target),Ui(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||N1(this.parent.latestValues)||q6(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var i;const o=this.getLead(),s=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||!((i=this.parent)===null||i===void 0)&&i.isProjectionDirty)&&(l=!1),s&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Oa.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ui(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;Gge(this.layoutCorrected,this.treeScale,this.path,s),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:m}=o;if(!m){this.projectionTransform&&(this.projectionDelta=ed(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=ed(),this.projectionDeltaWithTransform=ed());const h=this.projectionTransform;ep(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=WD(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Mc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(i=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),i){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(i,o=!1){const s=this.snapshot,l=s?s.latestValues:{},u={...this.latestValues},d=ed();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=Br(),p=s?s.source:void 0,m=this.layout?this.layout.source:void 0,h=p!==m,v=this.getStack(),x=!v||v.members.length<=1,y=!!(h&&!x&&this.options.crossfade===!0&&!this.path.some(L0e));this.animationProgress=0;let b;this.mixTargetDelta=w=>{const S=w/1e3;YD(d.x,i.x,S),YD(d.y,i.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tp(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),_0e(this.relativeTarget,this.relativeTargetOrigin,f,S),b&&m0e(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Br()),Ui(b,this.relativeTarget)),h&&(this.animationValues=u,l0e(u,l,this.latestValues,S,y,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(i){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Gs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ur.update(()=>{og.hasAnimatedSinceResize=!0,this.currentAnimation=w0e(0,qD,{...i,onUpdate:o=>{this.mixTargetDelta(o),i.onUpdate&&i.onUpdate(o)},onComplete:()=>{i.onComplete&&i.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const i=this.getStack();i&&i.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qD),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const i=this.getLead();let{targetWithTransforms:o,target:s,layout:l,latestValues:u}=i;if(!(!o||!s||!l)){if(this!==i&&this.layout&&l&&n$(this.options.animationType,this.layout.layoutBox,l.layoutBox)){s=this.target||Br();const d=Ii(this.layout.layoutBox.x);s.x.min=i.target.x.min,s.x.max=s.x.min+d;const f=Ii(this.layout.layoutBox.y);s.y.min=i.target.y.min,s.y.max=s.y.min+f}Ui(o,s),td(o,u),ep(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(i,o){this.sharedNodes.has(i)||this.sharedNodes.set(i,new h0e),this.sharedNodes.get(i).add(o);const s=o.options.initialPromotionConfig;o.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(o):void 0})}isLead(){const i=this.getStack();return i?i.lead===this:!0}getLead(){var i;const{layoutId:o}=this.options;return o?((i=this.getStack())===null||i===void 0?void 0:i.lead)||this:this}getPrevLead(){var i;const{layoutId:o}=this.options;return o?(i=this.getStack())===null||i===void 0?void 0:i.prevLead:void 0}getStack(){const{layoutId:i}=this.options;if(i)return this.root.sharedNodes.get(i)}promote({needsReset:i,transition:o,preserveFollowOpacity:s}={}){const l=this.getStack();l&&l.promote(this,s),i&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const i=this.getStack();return i?i.relegate(this):!1}resetRotation(){const{visualElement:i}=this.options;if(!i)return;let o=!1;const{latestValues:s}=i;if((s.rotate||s.rotateX||s.rotateY||s.rotateZ)&&(o=!0),!o)return;const l={};for(let u=0;u<HD.length;u++){const d="rotate"+HD[u];s[d]&&(l[d]=s[d],i.setStaticValue(d,0))}i.render();for(const u in l)i.setStaticValue(u,l[u]);i.scheduleRender()}getProjectionStyles(i){var o,s;if(!this.instance||this.isSVG)return;if(!this.isVisible)return k0e;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=ig(i==null?void 0:i.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=ig(i==null?void 0:i.pointerEvents)||""),this.hasProjected&&!Cc(this.latestValues)&&(h.transform=u?u({},""):"none",this.hasProjected=!1),h}const f=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=WD(this.projectionDeltaWithTransform,this.treeScale,f),u&&(l.transform=u(f,l.transform));const{x:p,y:m}=this.projectionDelta;l.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(s=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&s!==void 0?s:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:l.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const h in _0){if(f[h]===void 0)continue;const{correct:v,applyTo:x}=_0[h],y=l.transform==="none"?f[h]:v(f[h],d);if(x){const b=x.length;for(let w=0;w<b;w++)l[x[w]]=y}else l[h]=y}return this.options.layoutId&&(l.pointerEvents=d===this?ig(i==null?void 0:i.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(i=>{var o;return(o=i.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(KD),this.root.sharedNodes.clear()}}}function N0e(e){e.updateLayout()}function j0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=e.layout,{animationType:i}=e.options,o=n.source!==e.layout.source;i==="size"?Hi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ii(p);p.min=r[f].min,p.max=p.min+m}):n$(i,n.layoutBox,r)&&Hi(f=>{const p=o?n.measuredBox[f]:n.layoutBox[f],m=Ii(r[f]);p.max=p.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const s=ed();ep(s,r,n.layoutBox);const l=ed();o?ep(l,e.applyTransform(a,!0),n.measuredBox):ep(l,r,n.layoutBox);const u=!Q6(s);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const h=Br();tp(h,n.layoutBox,p.layoutBox);const v=Br();tp(v,r,m.layoutBox),e$(h,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=h,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:s,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function C0e(e){Mc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function M0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function A0e(e){e.clearSnapshot()}function KD(e){e.clearMeasurements()}function E0e(e){e.isLayoutDirty=!1}function D0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function GD(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function P0e(e){e.resolveTargetDelta()}function T0e(e){e.calcProjection()}function O0e(e){e.resetRotation()}function I0e(e){e.removeLeadSnapshot()}function YD(e,t,n){e.translate=br(t.translate,0,n),e.scale=br(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function XD(e,t,n,r){e.min=br(t.min,n.min,r),e.max=br(t.max,n.max,r)}function _0e(e,t,n,r){XD(e.x,t.x,n.x,r),XD(e.y,t.y,n.y,r)}function L0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const F0e={duration:.45,ease:[.4,0,.1,1]},JD=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),ZD=JD("applewebkit/")&&!JD("chrome/")?Math.round:Lr;function QD(e){e.min=ZD(e.min),e.max=ZD(e.max)}function R0e(e){QD(e.x),QD(e.y)}function n$(e,t,n){return e==="position"||e==="preserve-aspect"&&!k1(VD(t),VD(n),.2)}const $0e=t$({attachResizeListener:(e,t)=>As(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ix={current:void 0},r$=t$({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!ix.current){const e=new $0e({});e.mount(window),e.setOptions({layoutScroll:!0}),ix.current=e}return ix.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),B0e={pan:{Feature:n0e},drag:{Feature:t0e,ProjectionNode:r$,MeasureLayout:X6}},z0e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function U0e(e){const t=z0e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function C1(e,t,n=1){const[r,a]=U0e(e);if(!r)return;const i=window.getComputedStyle(t).getPropertyValue(r);if(i){const o=i.trim();return $6(o)?parseFloat(o):o}else return h1(a)?C1(a,t,n+1):a}function V0e(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(a=>{const i=a.get();if(!h1(i))return;const o=C1(i,r);o&&a.set(o)});for(const a in t){const i=t[a];if(!h1(i))continue;const o=C1(i,r);o&&(t[a]=o,n||(n={}),n[a]===void 0&&(n[a]=i))}return{target:t,transitionEnd:n}}const W0e=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),a$=e=>W0e.has(e),H0e=e=>Object.keys(e).some(a$),eP=e=>e===mu||e===Jt,tP=(e,t)=>parseFloat(e.split(", ")[t]),nP=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const a=r.match(/^matrix3d\((.+)\)$/);if(a)return tP(a[1],t);{const i=r.match(/^matrix\((.+)\)$/);return i?tP(i[1],e):0}},q0e=new Set(["x","y","z"]),K0e=Am.filter(e=>!q0e.has(e));function G0e(e){const t=[];return K0e.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Id={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:nP(4,13),y:nP(5,14)};Id.translateX=Id.x;Id.translateY=Id.y;const Y0e=(e,t,n)=>{const r=t.measureViewportBox(),a=t.current,i=getComputedStyle(a),{display:o}=i,s={};o==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{s[u]=Id[u](r,i)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(s[u]),e[u]=Id[u](l,i)}),e},X0e=(e,t,n={},r={})=>{t={...t},r={...r};const a=Object.keys(t).filter(a$);let i=[],o=!1;const s=[];if(a.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=jf(d);const p=t[l];let m;if(F0(p)){const h=p.length,v=p[0]===null?1:0;d=p[v],f=jf(d);for(let x=v;x<h&&p[x]!==null;x++)m?hj(jf(p[x])===m):m=jf(p[x])}else m=jf(p);if(f!==m)if(eP(f)&&eP(m)){const h=u.get();typeof h=="string"&&u.set(parseFloat(h)),typeof p=="string"?t[l]=parseFloat(p):Array.isArray(p)&&m===Jt&&(t[l]=p.map(parseFloat))}else f!=null&&f.transform&&m!=null&&m.transform&&(d===0||p===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(p):(o||(i=G0e(e),o=!0),s.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(p))}),s.length){const l=s.indexOf("height")>=0?window.pageYOffset:null,u=Y0e(t,e,s);return i.length&&i.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),mv&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function J0e(e,t,n,r){return H0e(t)?X0e(e,t,n,r):{target:t,transitionEnd:r}}const Z0e=(e,t,n,r)=>{const a=V0e(e,t,r);return t=a.target,r=a.transitionEnd,J0e(e,t,n,r)},M1={current:null},i$={current:!1};function Q0e(){if(i$.current=!0,!!mv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>M1.current=e.matches;e.addListener(t),t()}else M1.current=!1}function eye(e,t,n){const{willChange:r}=t;for(const a in t){const i=t[a],o=n[a];if(mi(i))e.addValue(a,i),z0(r)&&r.add(a);else if(mi(o))e.addValue(a,Od(i,{owner:e})),z0(r)&&r.remove(a);else if(o!==i)if(e.hasValue(a)){const s=e.getValue(a);!s.hasAnimated&&s.set(i)}else{const s=e.getStaticValue(a);e.addValue(a,Od(s!==void 0?s:i,{owner:e}))}}for(const a in n)t[a]===void 0&&e.removeValue(a);return t}const rP=new WeakMap,o$=Object.keys(zp),tye=o$.length,aP=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],nye=sj.length;class rye{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:a,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>ur.render(this.render,!1,!0);const{latestValues:s,renderState:l}=i;this.latestValues=s,this.baseTarget={...s},this.initialValues=n.initial?{...s}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=o,this.isControllingVariants=gv(n),this.isVariantNode=WR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const p=d[f];s[f]!==void 0&&mi(p)&&(p.set(s[f],!1),z0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,rP.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),i$.current||Q0e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:M1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rP.delete(this.current),this.projection&&this.projection.unmount(),Gs(this.notifyUpdate),Gs(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=pu.has(t),a=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&ur.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{a(),i()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,a,i){let o,s;for(let l=0;l<tye;l++){const u=o$[l],{isEnabled:d,Feature:f,ProjectionNode:p,MeasureLayout:m}=zp[u];p&&(o=p),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(s=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:p,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&Zu(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}return s}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Br()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<aP.length;r++){const a=aP[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i=t["on"+a];i&&(this.propEventSubscriptions[a]=this.on(a,i))}this.prevMotionValues=eye(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<nye;r++){const a=sj[r],i=this.props[a];(Bp(i)||i===!1)&&(n[a]=i)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Od(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,a=typeof r=="string"||typeof r=="object"?(n=mj(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&a!==void 0)return a;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!mi(i)?i:this.initialValues[t]!==void 0&&a===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new Nj),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class s$ extends rye{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:a},i){let o=xge(r,t||{},this);if(a&&(n&&(n=a(n)),r&&(r=a(r)),o&&(o=a(o))),i){vge(this,r,o);const s=Z0e(this,r,o,n);n=s.transitionEnd,r=s.target}return{transition:t,transitionEnd:n,...r}}}function aye(e){return window.getComputedStyle(e)}class iye extends s${constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(pu.has(n)){const r=bj(n);return r&&r.default||0}else{const r=aye(t),a=(YR(n)?r.getPropertyValue(n):r[n])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:n}){return G6(t,n)}build(t,n,r,a){cj(t,n,r,a.transformTemplate)}scrapeMotionValuesFromProps(t,n){return pj(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;mi(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,a){t6(t,n,r,a)}}class oye extends s${constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(pu.has(n)){const r=bj(n);return r&&r.default||0}return n=n6.has(n)?n:ij(n),t.getAttribute(n)}measureInstanceViewportBox(){return Br()}scrapeMotionValuesFromProps(t,n){return a6(t,n)}build(t,n,r,a){dj(t,n,r,this.isSVGTag,a.transformTemplate)}renderInstance(t,n,r,a){r6(t,n,r,a)}mount(t){this.isSVGTag=fj(t.tagName),super.mount(t)}}const sye=(e,t)=>lj(e)?new oye(t,{enableHardwareAcceleration:!1}):new iye(t,{enableHardwareAcceleration:!0}),lye={layout:{ProjectionNode:r$,MeasureLayout:X6}},cye={..._ge,...the,...B0e,...lye},Ho=cme((e,t)=>Ume(e,t,cye,sye));function uye({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:a,onSearchChange:i,onSearchFocus:o,onSearchBlur:s,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:p,activeTocId:m,onTocClick:h,contentRef:v,children:x}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:y=>y.target===y.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative isolate w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 z-0 opacity-60","aria-hidden":"true",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:y=>i(y.target.value),onFocus:o,onBlur:y=>s(y.relatedTarget),onKeyDown:y=>{y.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&a.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:a.map((y,b)=>c.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),u(y)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:y.section}),c.jsx("div",{className:"truncate",children:d(y.text,n)})]},`${y.hitId}-${b}-${y.text}`))})]}),c.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(ta,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[p.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),p.map((y,b)=>{const w=y.id===m;return c.jsxs("button",{type:"button","data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${y.level===1?"proof-of-work-toc-item--l1":y.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":y.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>h(y),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:y.text})]},`${y.id}-${y.level}-${b}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:x})})]})})]})]})}):null}const xc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",A1="arcbridge_web_theme_override",iP="arcbridge_web_kinetic_font_override",oP="__default__",l$=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},sP=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},dye=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},fye=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},pye=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},E1=e=>e?e===RN?!0:If.some(t=>t.id===e):!1,mye=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&E1(t))return t;const n=l$(A1);if(!n)return null;try{const r=JSON.parse(n),a=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return a&&E1(a)?a:null}catch{return null}},lP=(e,t)=>e?e===E0?"matte":e===D0||e===Gf?"kinetic":e===RN?"crt":t==="modern"||t==="classic"?t:"classic":t,cP=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},hye=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),a=t.getHours();let i="Night";return a>=5&&a<12?i="Morning":a>=12&&a<17?i="Afternoon":a>=17&&a<21&&(i="Evening"),`${n} - ${r} ${i} Raid`},uP=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),gye=({slices:e})=>{const t=2*Math.PI*18,n=e.reduce((a,i)=>a+(i.value||0),0);let r=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,i)=>{const o=a.value||0,s=n>0?o/n*t:0,l=`${s} ${t-s}`,u=t-r;return r+=s,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:l,strokeDashoffset:u,transform:"rotate(-90 24 24)"},`${i}-${a.color}`)})]})},yye=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,a=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:a,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function vye(){var e;const t=mye(),[n,r]=g.useState(null),[a,i]=g.useState(null),[o,s]=g.useState(null),[l,u]=g.useState(null),[d,f]=g.useState(""),[p,m]=g.useState(null),[h,v]=g.useState(null),[x,y]=g.useState(!1),[b,w]=g.useState(!1),[S,j]=g.useState(()=>lP(t,"classic")),[N,A]=g.useState("classic"),[P,U]=g.useState(ng.id),[D,I]=g.useState(t),O=g.useMemo(()=>{const X=new URLSearchParams(window.location.search),Ne=X.get("themeId")||X.get("theme");return Ne&&E1(Ne)?Ne:null},[]),[H,J]=g.useState("default"),[oe,je]=g.useState(!1),[te,W]=g.useState(!1),[le,k]=g.useState(!1),[F,T]=g.useState(""),[C,B]=g.useState(""),[R,G]=g.useState([]),[se,K]=g.useState(!1),[L,z]=g.useState("overview"),[ne,$]=g.useState("kdr"),[ie,ge]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),Y=g.useRef(null),he=g.useRef(null),Pe=g.useRef(null),mt=g.useRef(null),Yt=g.useRef(null),ye=g.useRef(null),fe=g.useRef(new Map),ke=g.useRef(null),Xe=g.useRef(null),Nt=g.useMemo(()=>{let X=window.location.pathname||"/";const Ne=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return X.endsWith("/index.html")&&(X=X.slice(0,-11)),X.includes("/reports/")&&(X=X.replace(/\/reports\/[^/]+\/?$/,"")),Ne&&(X=X.replace(/^\/web\/web(?=\/|$)/,"/web")),X.endsWith("/")||(X=`${X}/`),X},[]),pn=g.useMemo(()=>new URL(Nt,window.location.origin).toString(),[Nt]),q=g.useMemo(()=>O?fye(pn,O):pn,[O,pn]),Qe=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),Pt=g.useMemo(()=>{const X=[Nt,"./","/"],Ne=[];return X.forEach(Je=>{let yt=Je||"/";yt!=="./"&&!yt.endsWith("/")&&(yt=`${yt}/`),Ne.includes(yt)||Ne.push(yt)}),Ne},[Nt,Qe]),[Zt,Sn]=g.useState(Pt[0]||"/"),Qn=X=>{var Ne;return typeof X=="string"||typeof X=="number"?String(X):Array.isArray(X)?X.map(Qn).join(""):X&&typeof X=="object"&&"props"in X?Qn((Ne=X.props)==null?void 0:Ne.children):""},bn=X=>{const Ne=uP(X||"section")||"section",Je=fe.current,yt=(Je.get(Ne)??0)+1;return Je.set(Ne,yt),yt===1?Ne:`${Ne}-${yt}`},un=g.useMemo(()=>{const X=Kb.split(`
`),Ne=new Map,Je=[],yt=Et=>{const Ft=uP(Et||"section")||"section",wt=(Ne.get(Ft)??0)+1;return Ne.set(Ft,wt),wt===1?Ft:`${Ft}-${wt}`};for(const Et of X){const Ft=/^(#{1,3})\s+(.*)\s*$/.exec(Et);if(!Ft)continue;const wt=Ft[1].length,dn=Ft[2].trim();dn&&Je.push({level:wt,text:dn,id:yt(dn)})}return Je},[Kb]),Aa=(X,Ne)=>{const Je=X==="./"?"./":X.endsWith("/")?X:`${X}/`,yt=String(Ne||"").replace(/^\/+/,"");return`${Je}${yt}`};g.useEffect(()=>{const X=l$(iP);(X==="original"||X==="default")&&J(X)},[]),g.useEffect(()=>{const X=D||P,Ne=If.find(Je=>Je.id===X)||ng;m(Ne)},[D,P]),g.useEffect(()=>{if(!D){j(N);return}j(lP(D,N))},[D,N]),g.useEffect(()=>{Sn(Pt[0]||"/");let X=!0;return(async()=>{for(const Ne of Pt)try{if((await fetch(Aa(Ne,"ui-theme.json"),{cache:"no-store"})).ok){X&&Sn(Ne);return}}catch{}})(),()=>{X=!1}},[Pt]);const mn=(X,Ne)=>{const Je=Ne.trim();if(!Je)return X;const yt=X.toLowerCase(),Et=Je.toLowerCase(),Ft=yt.indexOf(Et);if(Ft===-1)return X;const wt=X.slice(0,Ft),dn=X.slice(Ft,Ft+Je.length),fn=X.slice(Ft+Je.length);return c.jsxs(c.Fragment,{children:[wt,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:dn}),fn]})},Ln=(X,Ne)=>{const Je=he.current;if(!Je)return;let yt=Je.querySelector(`[data-search-hit="${X}"]`);if(!yt&&Ne){const Et=Ne.trim().replace(/\s+/g," "),Ft=Array.from(Je.querySelectorAll("h1, h2, h3, p, li, code"));yt=Ft.find(wt=>(wt.textContent||"").trim().replace(/\s+/g," ")===Et)||null,yt||(yt=Ft.find(wt=>(wt.textContent||"").toLowerCase().includes(Et.toLowerCase()))||null)}yt&&requestAnimationFrame(()=>{const Et=Je.getBoundingClientRect(),Ft=yt.getBoundingClientRect(),wt=Math.max(0,Je.scrollTop+(Ft.top-Et.top)-12);Je.scrollTop=wt,yt.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),ye.current&&window.clearTimeout(ye.current),ye.current=window.setTimeout(()=>{yt.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},yr=X=>{const Ne=he.current,Je=X.trim().toLowerCase();if(!Ne||Je.length<2){G([]);return}const yt=Array.from(Ne.querySelectorAll("h1, h2, h3, p, li, code"));yt.forEach(wt=>wt.removeAttribute("data-search-hit"));const Et=[];let Ft=0;yt.forEach((wt,dn)=>{const fn=(wt.textContent||"").trim();if(fn&&fn.toLowerCase().includes(Je)){let jr="";for(let rr=dn;rr>=0;rr-=1){const ct=yt[rr];if(ct&&["H1","H2","H3"].includes(ct.tagName)){jr=(ct.textContent||"").trim();break}}wt.setAttribute("data-search-hit",String(Ft)),Et.push({index:dn,text:fn,section:jr||"Unlabeled Section",hitId:Ft}),Ft+=1}}),G(Et.slice(0,12))};g.useEffect(()=>{var X;if(!le)return;T(((X=un[0])==null?void 0:X.id)||"");const Ne=Je=>{var yt;const Et=Je.target;Et&&((yt=Pe.current)!=null&&yt.contains(Et)||(K(!1),G([])))};return window.addEventListener("mousedown",Ne),()=>{window.removeEventListener("mousedown",Ne)}},[le,un]),g.useEffect(()=>{if(!le){T("");return}const X=he.current;if(!X)return;let Ne=0;const Je=()=>{var Et;const Ft=Array.from(X.querySelectorAll("[data-heading-id]"));if(Ft.length===0)return;const wt=X.getBoundingClientRect().top+18,dn=Ft.map((V,Z)=>({index:Z,id:V.dataset.headingId||V.id||"",top:V.getBoundingClientRect().top})).filter(V=>!!V.id);if(dn.length===0)return;let fn=0,jr=!1;for(const V of dn){if(V.top<=wt){fn=V.index,jr=!0;continue}jr||(fn=V.index);break}X.scrollTop+X.clientHeight>=X.scrollHeight-2&&(fn=Math.max(0,dn.length-1));const rr=un[fn],ct=((Et=dn[fn])==null?void 0:Et.id)||"",E=(rr==null?void 0:rr.id)||ct;E&&T(E)};Je();const yt=()=>{Ne&&cancelAnimationFrame(Ne),Ne=requestAnimationFrame(Je)};return X.addEventListener("scroll",yt,{passive:!0}),window.addEventListener("resize",yt),()=>{Ne&&cancelAnimationFrame(Ne),X.removeEventListener("scroll",yt),window.removeEventListener("resize",yt)}},[le,un]);const er=g.useMemo(()=>[{id:"overview",label:"Overview",icon:v8,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Bc},{id:"fight-breakdown",label:"Fight Breakdown",icon:El},{id:"top-players",label:"Top Players",icon:Bc},{id:"top-skills-outgoing",label:"Top Skills",icon:Nk},{id:"squad-composition",label:"Classes",icon:Er},{id:"timeline",label:"Squad vs Enemy Size",icon:Er},{id:"map-distribution",label:"Map Distribution",icon:Ek}]},{id:"roster",label:"Roster Intel",icon:bp,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:bp},{id:"squad-comp-fight",label:"Squad Comp",icon:Er},{id:"fight-comp",label:"Fight Comp",icon:El}]},{id:"offense",label:"Offensive Stats",icon:El,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:_F},{id:"player-breakdown",label:"Player Breakdown",icon:Ak},{id:"damage-breakdown",label:"Damage Breakdown",icon:jk},{id:"spike-damage",label:"Spike Damage",icon:xp},{id:"conditions-outgoing",label:"Conditions",icon:oy}]},{id:"defense",label:"Defensive Stats",icon:xd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:xd},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:xp},{id:"defense-mitigation",label:"Damage Mitigation",icon:Ok},{id:"boon-output",label:"Boon Output",icon:zc},{id:"boon-timeline",label:"Boon Timeline",icon:Tk},{id:"boon-uptime",label:"Boon Uptime",icon:Hf},{id:"support-detailed",label:"Support Detailed",icon:Dk},{id:"healing-stats",label:"Healing Stats",icon:T3}]},{id:"other",label:"Other Metrics",icon:sy,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Ck},{id:"special-buffs",label:"Special Buffs",icon:Tg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Ik},{id:"skill-usage",label:"Skill Usage",icon:Mk},{id:"apm-stats",label:"APM Breakdown",icon:Pk}]}],[]),hu=g.useMemo(()=>{const X=new Map;return er.forEach(Ne=>{X.set(Ne.id.toLowerCase(),Ne.id),(Ne.sectionIds||[]).forEach(Je=>X.set(String(Je).toLowerCase(),Ne.id)),(Ne.items||[]).forEach(Je=>X.set(String(Je.id).toLowerCase(),Ne.id))}),X.set("report-top","overview"),X.set("overview","overview"),X.set("kdr","overview"),X},[er]),ya=g.useMemo(()=>er.find(X=>X.id===L)||er[0],[er,L]),Fr=S==="kinetic",Fi=g.useMemo(()=>{const X=((ya==null?void 0:ya.sectionIds)||((ya==null?void 0:ya.items)||[]).map(Ne=>Ne.id)).map(Ne=>Ne==="kdr"?"overview":Ne);return new Set(X)},[ya]),nl=X=>{if(X==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const Ne=X==="kdr"?"overview":X,Je=Ne==="overview"&&X!=="kdr"?"report-top":Ne,yt=document.getElementById(Je);if(!yt||yt.getAttribute("data-section-visible")==="false"||!yt.offsetParent)return!1;const Et=yt.getBoundingClientRect();if(Et.height<=0)return!1;let Ft=0;if(Je==="stats-view-top"){const dn=document.getElementById("report-top");dn&&(Ft=dn.getBoundingClientRect().height+12)}const wt=Et.top+window.scrollY-12-Ft;return window.scrollTo({top:Math.max(0,wt),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${Je}`),!0},rl=(X,Ne=0)=>{nl(X)||Ne>=12||window.setTimeout(()=>{requestAnimationFrame(()=>rl(X,Ne+1))},40)};g.useEffect(()=>{if(!n)return;const X=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(Ne=>{Ne.scrollHeight})});return()=>cancelAnimationFrame(X)},[n]),g.useEffect(()=>{const X=ke.current;if(!X)return;let Ne=0;const Je=()=>{if(nl(X)){ke.current=null;return}if(Ne+=1,Ne>=20){ke.current=null;return}window.setTimeout(()=>requestAnimationFrame(Je),40)};requestAnimationFrame(Je)},[L]),g.useEffect(()=>{const X=()=>{var Ne,Je;const yt=(window.location.hash||"").replace(/^#/,"").trim();if(!yt)return;let Et=yt;try{Et=decodeURIComponent(yt)}catch{Et=yt}const Ft=Et.toLowerCase(),wt=hu.get(Ft);if(wt){if(z(wt),ge(()=>{const dn={};return er.forEach(fn=>{dn[fn.id]=fn.id===wt}),dn}),Ft==="report-top")$("kdr");else{const dn=er.find(fn=>fn.id.toLowerCase()===Ft);$(((Je=(Ne=dn==null?void 0:dn.items)==null?void 0:Ne[0])==null?void 0:Je.id)||Ft)}ke.current=Ft==="report-top"?"kdr":Ft}};return X(),window.addEventListener("hashchange",X),()=>{window.removeEventListener("hashchange",X)}},[hu,er]);const Ea=S==="matte",os=p??ng,va=Fr&&os.id===Gf,yi=Fr?va?"142, 155, 214":"90, 80, 68":os.rgb,ti=Ea?"#d8e1eb":Fr?va?"#f0d8a9":"#24211d":"var(--accent)",al={"--accent":`rgb(${yi})`,"--accent-rgb":yi,"--accent-soft":`rgba(${yi}, ${Fr?va?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${yi}, ${Fr?va?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${yi}, ${Fr?va?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${yi}, ${Fr?va?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${yi}, ${Fr?va?"0.08":"0.04":"0.08"})`},il=S==="modern"||S==="matte"||S==="kinetic",Va=os.pattern?Ea||Fr?void 0:il?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${os.pattern}`:os.pattern:void 0,ni=Fr?{backgroundImage:"none",backgroundColor:va?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:va?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:Ea?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:il?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};g.useEffect(()=>{var X;let Ne=!0;const Je=new URLSearchParams(window.location.search).get("report")||((X=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:X[1])||null,yt=Je?`${Nt}reports/${Je}/report.json`:`${Nt}report.json`;Je&&u(yt);const Et=wt=>{var dn,fn,jr;const rr=new Set((((dn=wt==null?void 0:wt.meta)==null?void 0:dn.commanders)||[]).map(E=>String(E)));if(rr.size===0)return wt;const ct=wt.stats;return(fn=ct==null?void 0:ct.leaderboards)!=null&&fn.closestToTag&&(ct.leaderboards.closestToTag=ct.leaderboards.closestToTag.map(E=>rr.has(String(E==null?void 0:E.account))?{...E,value:0}:E)),(jr=ct==null?void 0:ct.closestToTag)!=null&&jr.player&&rr.has(String(ct.closestToTag.player))&&(ct.closestToTag={...ct.closestToTag,value:0}),wt},Ft=wt=>{var dn,fn,jr,rr,ct;const E=wt==null?void 0:wt.stats;if(!E||typeof E!="object")return wt;const V=Array.isArray((dn=E==null?void 0:E.leaderboards)==null?void 0:dn.downContrib)?E.leaderboards.downContrib:[];if(!V.length)return wt;const Z=V.map(ae=>({...ae,value:Number((ae==null?void 0:ae.value)??0)})).filter(ae=>Number.isFinite(ae.value)).sort((ae,ue)=>ue.value-ae.value||String((ae==null?void 0:ae.account)||"").localeCompare(String((ue==null?void 0:ue.account)||"")))[0];return Z&&(E.maxDownContrib={...E.maxDownContrib||{},value:Number(Z.value||0),player:String(Z.account||((fn=E.maxDownContrib)==null?void 0:fn.player)||"-"),count:Number(Z.count||((jr=E.maxDownContrib)==null?void 0:jr.count)||0),profession:String(Z.profession||((rr=E.maxDownContrib)==null?void 0:rr.profession)||"Unknown"),professionList:Array.isArray(Z.professionList)?Z.professionList:((ct=E.maxDownContrib)==null?void 0:ct.professionList)||[]}),wt};return fetch(yt,{cache:"no-store"}).then(wt=>wt.ok?wt.json():Promise.reject()).then(wt=>{var dn,fn,jr,rr,ct;if(!Ne)return;const E=Ft(Et(wt));if(r(E),!D){const V=(dn=E==null?void 0:E.stats)==null?void 0:dn.uiTheme;V==="modern"||V==="classic"||V==="crt"||V==="matte"||V==="kinetic"?A(V):((fn=E==null?void 0:E.stats)==null?void 0:fn.webThemeId)===E0?A("matte"):(((jr=E==null?void 0:E.stats)==null?void 0:jr.webThemeId)===D0||((rr=E==null?void 0:E.stats)==null?void 0:rr.webThemeId)===Gf)&&A("kinetic"),typeof((ct=E==null?void 0:E.stats)==null?void 0:ct.webThemeId)=="string"&&E.stats.webThemeId&&U(E.stats.webThemeId)}}).catch(()=>{if(Je){if(!Ne)return;s("Report not found yet. It may still be deploying.")}fetch(`${Nt}reports/index.json`,{cache:"no-store"}).then(wt=>wt.ok?wt.json():Promise.reject()).then(wt=>{Ne&&i(Array.isArray(wt)?wt:[])}).catch(()=>{Ne&&s("No report data found.")})}),()=>{Ne=!1}},[Nt,D]),g.useEffect(()=>{if(n){const X=n.meta.dateLabel||cP(n.meta.dateStart,n.meta.dateEnd);document.title=X?`ArcBridge  ${n.meta.title}  ${X}`:`ArcBridge  ${n.meta.title}`;return}document.title="ArcBridge Reports"},[n]),g.useEffect(()=>{var X;if(D)return;const Ne=(X=n==null?void 0:n.stats)==null?void 0:X.webThemeId;typeof Ne=="string"&&Ne&&U(Ne)},[n,D]),g.useEffect(()=>{const X=document.body;X.classList.add("web-report"),X.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),Ea?X.classList.add("theme-matte"):S==="modern"?X.classList.add("theme-modern"):S==="crt"?X.classList.add("theme-crt"):S==="kinetic"?(X.classList.add("theme-kinetic"),va&&X.classList.add("theme-kinetic-dark"),H==="original"&&X.classList.add("theme-kinetic-font-original")):X.classList.add("theme-classic")},[S,Ea,va,H]),g.useEffect(()=>{var X;if(D||Qe&&(X=n==null?void 0:n.stats)!=null&&X.webThemeId)return;let Ne=!0;return fetch(Aa(Zt,"theme.json"),{cache:"no-store"}).then(Je=>Je.ok?Je.json():Promise.reject()).then(Je=>{Ne&&typeof(Je==null?void 0:Je.id)=="string"&&Je.id&&U(Je.id)}).catch(()=>{}),()=>{Ne=!1}},[Zt,Qe,n,D]),g.useEffect(()=>{var X,Ne;if(D)return;const Je=(X=n==null?void 0:n.stats)==null?void 0:X.webThemeId,yt=(Ne=n==null?void 0:n.stats)==null?void 0:Ne.uiTheme;if((yt==="modern"||yt==="classic"||yt==="crt"||yt==="matte"||yt==="kinetic")&&!(Je===E0&&yt!=="matte"||(Je===D0||Je===Gf)&&yt!=="kinetic"||Je==="CRT"&&yt!=="crt"))return;let Et=!0;return fetch(Aa(Zt,"ui-theme.json"),{cache:"no-store"}).then(Ft=>Ft.ok?Ft.json():Promise.reject()).then(Ft=>{if(!Et)return;const wt=Ft==null?void 0:Ft.theme;(wt==="modern"||wt==="classic"||wt==="crt"||wt==="matte"||wt==="kinetic")&&A(wt)}).catch(()=>{}),()=>{Et=!1}},[Zt,n,D]),g.useEffect(()=>{let X=!0;return fetch(Aa(Zt,"logo.json"),{cache:"no-store"}).then(Ne=>Ne.ok?Ne.json():Promise.reject()).then(Ne=>{if(!X)return;const Je="svg/ArcBridge.svg",yt=Ne!=null&&Ne.path?String(Ne.path):Je,Et=Ne!=null&&Ne.updatedAt?String(Ne.updatedAt):"",Ft=Aa(Zt,yt),wt=Et?`${Ft}?v=${encodeURIComponent(Et)}`:Ft;v(wt),y(!(Ne!=null&&Ne.path)||yt===Je)}).catch(()=>{X&&(v(null),y(!1))}),()=>{X=!1}},[Zt]);const dr=g.useMemo(()=>a?[...a].sort((X,Ne)=>{const Je=new Date(X.dateEnd||X.dateStart).getTime();return new Date(Ne.dateEnd||Ne.dateStart).getTime()-Je}):[],[a]),ss=g.useMemo(()=>{if(!dr.length)return[];const X=d.trim().toLowerCase();return X?dr.filter(Ne=>{var Je;const yt=((Je=Ne.commanders)==null?void 0:Je.join(" "))||"";return`${Ne.title} ${yt} ${Ne.dateLabel}`.toLowerCase().includes(X)}):dr},[dr,d]),ls=X=>{if(!X){dye(A1);return}sP(A1,JSON.stringify({themeId:X}))},gu=X=>{const Ne=X===oP?null:X;Ne&&!If.some(Je=>Je.id===Ne)||(I(Ne),ls(Ne),je(!1))},Kr=X=>{J(X),sP(iP,X),W(!1)};g.useEffect(()=>{const X=Je=>{if(!mt.current)return;const yt=Je.target;mt.current.contains(yt)||Yt.current&&Yt.current.contains(yt)||(je(!1),W(!1))},Ne=Je=>{Je.key==="Escape"&&(je(!1),W(!1))};return window.addEventListener("mousedown",X),window.addEventListener("keydown",Ne),()=>{window.removeEventListener("mousedown",X),window.removeEventListener("keydown",Ne)}},[]),g.useEffect(()=>()=>{Xe.current!==null&&(cancelAnimationFrame(Xe.current),Xe.current=null)},[]);const ac=g.useMemo(()=>{if(!D)return"Default";const X=If.find(Ne=>Ne.id===D);return(X==null?void 0:X.label)||"Default"},[D]),ol=c.jsxs("div",{className:"relative flex items-center gap-2",ref:mt,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>je(X=>!X),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:ac}),c.jsx("span",{className:`transition-transform ${oe?"rotate-180":""}`,children:""})]}),oe&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>gu(oP),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),If.map(X=>c.jsx("button",{type:"button",onClick:()=>gu(X.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${D===X.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:X.label},X.id))]})]}),ic=Fr?c.jsxs("div",{className:"relative flex items-center gap-2",ref:Yt,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>W(X=>!X),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:H==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${te?"rotate-180":""}`,children:""})]}),te&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>Kr("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${H==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>Kr("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${H==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,_o=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:ol}),ic&&c.jsx("div",{className:"min-w-[160px]",children:ic}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:X=>{X.preventDefault(),k(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),yu=c.jsxs(uye,{isOpen:le,onClose:()=>k(!1),searchValue:C,searchFocused:se,searchResults:R,onSearchChange:X=>{B(X),requestAnimationFrame(()=>yr(X))},onSearchFocus:()=>{K(!0),requestAnimationFrame(()=>yr(C))},onSearchBlur:X=>{var Ne;X&&(Ne=Pe.current)!=null&&Ne.contains(X)||K(!1)},onSearchEnter:()=>{R.length>0&&Ln(R[0].hitId,R[0].text)},onSearchResultMouseDown:X=>{K(!0),Ln(X.hitId,X.text)},renderHighlightedMatch:mn,searchRef:Pe,tocItems:un,activeTocId:F,onTocClick:X=>{const Ne=he.current;if(!Ne)return;let Je=Ne.querySelector(`[data-heading-id="${X.id}"]`);if(!Je){const yt=X.text.trim().replace(/\s+/g," ");Je=Array.from(Ne.querySelectorAll("h1, h2, h3")).find(Et=>(Et.textContent||"").trim().replace(/\s+/g," ")===yt)||null}Je&&(T(X.id),requestAnimationFrame(()=>{const yt=Ne.getBoundingClientRect(),Et=Je.getBoundingClientRect(),Ft=Ne.scrollTop+(Et.top-yt.top)-12;Ne.scrollTop=Math.max(0,Ft)}))},contentRef:he,children:[(fe.current=new Map,null),c.jsx($de,{remarkPlugins:[Zpe],components:{h1:({children:X})=>{const Ne=Qn(X),Je=bn(Ne);return c.jsx("h1",{id:Je,"data-heading-id":Je,className:"text-2xl font-bold text-white scroll-mt-6",children:X})},h2:({children:X})=>{const Ne=Qn(X),Je=bn(Ne);return c.jsx("h2",{id:Je,"data-heading-id":Je,className:"text-xl font-semibold text-white scroll-mt-6",children:X})},h3:({children:X})=>{const Ne=Qn(X),Je=bn(Ne);return c.jsx("h3",{id:Je,"data-heading-id":Je,className:"text-lg font-semibold text-white scroll-mt-6",children:X})},p:({children:X})=>c.jsx("p",{className:"leading-6 text-gray-200",children:X}),ul:({children:X})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:X}),ol:({children:X})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:X}),li:({children:X})=>c.jsx("li",{className:"leading-6",children:X}),blockquote:({children:X})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:X}),a:({href:X,children:Ne})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:X,target:"_blank",rel:"noreferrer",children:Ne}),table:({children:X})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:X})}),th:({children:X})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:X}),td:({children:X})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:X}),pre:({children:X})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:X}),code:X=>{const{inline:Ne,children:Je}=X;return Ne===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:Je}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:Je})}},children:Kb})]});if(n){const X=Aa(Zt,"svg/ArcBridge.svg"),Ne=()=>{Xe.current!==null&&(cancelAnimationFrame(Xe.current),Xe.current=null);const ct=window.scrollY||window.pageYOffset||0;if(ct<=1){window.scrollTo({top:0,behavior:"auto"});return}const E=320,V=performance.now(),Z=ae=>{const ue=ae-V,Le=Math.min(1,ue/E),Ie=1-Math.pow(1-Le,3),vt=Math.max(0,Math.round(ct*(1-Ie)));window.scrollTo({top:vt,behavior:"auto"}),Le<1?Xe.current=requestAnimationFrame(Z):(Xe.current=null,window.scrollTo({top:0,behavior:"auto"}))};Xe.current=requestAnimationFrame(Z)},Je=ct=>{ge(()=>{const E={};return er.forEach(V=>{E[V.id]=V.id===ct}),E})},yt=ct=>{var E,V;ke.current=null,z(ct);const Z=er.find(ae=>ae.id===ct);$(((V=(E=Z==null?void 0:Z.items)==null?void 0:E[0])==null?void 0:V.id)||"kdr"),Ne()},Et=ct=>{if(!ie[ct]){Je(ct),yt(ct);return}if(ct!==L){yt(ct);return}ge(E=>({...E,[ct]:!1}))},Ft=(ct,E)=>{ie[ct]||Je(ct),$(E);const V=ct===L;V||(ke.current=E,z(ct),requestAnimationFrame(()=>rl(E))),V&&requestAnimationFrame(()=>rl(E))},wt=ct=>{const E=ct.currentTarget;if(!(E.scrollHeight>E.clientHeight)){window.scrollBy({top:ct.deltaY,behavior:"auto"}),ct.preventDefault();return}const V=E.scrollTop<=0,Z=E.scrollTop+E.clientHeight>=E.scrollHeight-1;(V&&ct.deltaY<0||Z&&ct.deltaY>0)&&(window.scrollBy({top:ct.deltaY,behavior:"auto"}),ct.preventDefault())},dn=ct=>{const E=Y.current;if(!E)return;const V=ct.target;if(!V||!E.contains(V))return;let Z=V;for(;Z&&Z!==E;){const ae=window.getComputedStyle(Z).overflowY;if((ae==="auto"||ae==="scroll")&&Z.scrollHeight>Z.clientHeight+1){const ue=Z.scrollTop<=0,Le=Z.scrollTop+Z.clientHeight>=Z.scrollHeight-1;(ct.deltaY<0&&ue||ct.deltaY>0&&Le)&&(window.scrollBy({top:ct.deltaY,behavior:"auto"}),ct.preventDefault());return}Z=Z.parentElement}},fn=ct=>{const E=Math.max(0,6-ct);return{accordionDuration:.5+E*.07,itemDuration:.34+E*.035,stagger:.05+E*.01,delayChildren:.06+E*.015}},jr=ct=>{const E=fn(ct);return{open:{transition:{staggerChildren:E.stagger,delayChildren:E.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,E.stagger*.7),staggerDirection:-1}}}},rr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ea?"var(--bg-base)":Fr?va?"#2b3048":"#d8d1c5":il?"#0f141c":"#0f172a",backgroundImage:Ea?"none":Va,...al},children:[!Ea&&!Fr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${b?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>w(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${b?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:q,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-2 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:wt,children:er.map(ct=>{const E=ct.icon,V=ct.id===L,Z=!!ie[ct.id],ae=fn(ct.items.length),ue=jr(ct.items.length);return c.jsxs(Ho.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-1",children:[c.jsxs("button",{onClick:()=>Et(ct.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${V?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(E,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:ct.label}),c.jsx(Ho.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:Z?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Zx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Ho.div,{initial:!1,animate:Z?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ae.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Ho.div,{variants:ue,initial:!1,animate:Z?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:ct.items.map(Le=>{const Ie=Le.icon;return c.jsxs(Ho.button,{variants:rr,transition:{duration:ae.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Ft(ct.id,Le.id),w(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${ne===Le.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Ie,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Le.label]},Le.id)})})},`${ct.id}-submenu-mobile`)]},ct.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:ti,maskImage:`url(${X})`,WebkitMaskImage:`url(${X})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-2 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:wt,children:er.map(ct=>{const E=ct.icon,V=ct.id===L,Z=!!ie[ct.id],ae=fn(ct.items.length),ue=jr(ct.items.length);return c.jsxs(Ho.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-1",children:[c.jsxs("button",{onClick:()=>Et(ct.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${V?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(E,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:ct.label}),c.jsx(Ho.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:Z?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(Zx,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(Ho.div,{initial:!1,animate:Z?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:ae.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(Ho.div,{variants:ue,initial:!1,animate:Z?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:ct.items.map(Le=>{const Ie=Le.icon;return c.jsxs(Ho.button,{variants:rr,transition:{duration:ae.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Ft(ct.id,Le.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${ne===Le.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Ie,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),Le.label]},Le.id)})})},`${ct.id}-submenu-desktop`)]},ct.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:q,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${xc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:ni,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[h&&(x?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ti,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:n.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:n.meta.dateLabel||cP(n.meta.dateStart,n.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>w(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(Z2,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(c8,{className:"w-4 h-4 text-[color:var(--accent)]"}),n.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(Er,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:n.meta.commanders.length?n.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(O3,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",n.meta.appVersion?`v${n.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((ya==null?void 0:ya.items)||[]).map(ct=>{const E=ct.icon;return c.jsxs("button",{onClick:()=>Ft((ya==null?void 0:ya.id)||"overview",ct.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${ne===ct.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(E,{className:"w-3 h-3 text-[color:var(--accent)]"})}),ct.label]},`chip-${ct.id}`)})})]}),c.jsx("div",{ref:Y,onWheelCapture:dn,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(tse,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:n.stats,statsViewSettings:(e=n.stats)==null?void 0:e.statsViewSettings,embedded:!0,uiTheme:S,sectionVisibility:ct=>Fi.has(ct),dashboardTitle:`Statistics Dashboard - ${(ya==null?void 0:ya.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:_o})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:q,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(D3,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>w(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(Z2,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(l8,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),yu]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ea?"var(--bg-base)":Fr?va?"#2b3048":"#d8d1c5":il?"#0f141c":"#0f172a",backgroundImage:Ea?"none":Va,...al},children:[!Ea&&!Fr&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${xc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:ni,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[h&&(x?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:ti,maskImage:`url(${h})`,WebkitMaskImage:`url(${h})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:h,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[ss.length," Reports"]})})]}),c.jsxs("div",{className:`${xc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:ni,children:[c.jsx("input",{type:"search",value:d,onChange:X=>f(X.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:ss.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:dr.length})]})]}),o&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:ni,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:o}),l&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:l})]})]}),!o&&!a&&c.jsx("div",{className:`${xc} p-6 text-gray-300`,style:ni,children:"Loading reports..."}),ss.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:ss.map(X=>{var Ne,Je,yt,Et;return c.jsx("a",{href:pye(pn,X.id,O),className:`${xc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:ni,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:X.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:hye(X.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(Er,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:X.commanders.length?X.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(Ne=X.summary)!=null&&Ne.mapSlices&&X.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(gye,{slices:X.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(yye,{value:(Je=X.summary)==null?void 0:Je.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((yt=X.summary)==null?void 0:yt.avgSquadSize)??"--"," / ",((Et=X.summary)==null?void 0:Et.avgEnemySize)??"--"]})]}),c.jsx(m8,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},X.id)})}),!o&&a&&dr.length===0&&c.jsx("div",{className:`${xc} p-6 text-gray-300`,style:ni,children:"No reports uploaded yet."}),!o&&a&&dr.length>0&&ss.length===0&&c.jsx("div",{className:`${xc} p-6 text-gray-300`,style:ni,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:_o})]}),yu]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");ox.createRoot(document.getElementById("root")).render(c.jsx(W0.StrictMode,{children:c.jsx(vye,{})}));
