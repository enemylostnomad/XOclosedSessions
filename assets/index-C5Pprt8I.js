var Az=Object.defineProperty;var Pz=(e,t,n)=>t in e?Az(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Iv=(e,t,n)=>Pz(e,typeof t!="symbol"?t+"":t,n);function Dz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var fg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ls(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var xE={exports:{}},Y0={},vE={exports:{}},Sn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=Symbol.for("react.element"),Tz=Symbol.for("react.portal"),Mz=Symbol.for("react.fragment"),Ez=Symbol.for("react.strict_mode"),Oz=Symbol.for("react.profiler"),Iz=Symbol.for("react.provider"),_z=Symbol.for("react.context"),Lz=Symbol.for("react.forward_ref"),$z=Symbol.for("react.suspense"),Fz=Symbol.for("react.memo"),Rz=Symbol.for("react.lazy"),QC=Symbol.iterator;function Bz(e){return e===null||typeof e!="object"?null:(e=QC&&e[QC]||e["@@iterator"],typeof e=="function"?e:null)}var bE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yE=Object.assign,wE={};function $d(e,t,n){this.props=e,this.context=t,this.refs=wE,this.updater=n||bE}$d.prototype.isReactComponent={};$d.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};$d.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kE(){}kE.prototype=$d.prototype;function L1(e,t,n){this.props=e,this.context=t,this.refs=wE,this.updater=n||bE}var $1=L1.prototype=new kE;$1.constructor=L1;yE($1,$d.prototype);$1.isPureReactComponent=!0;var ZC=Array.isArray,SE=Object.prototype.hasOwnProperty,F1={current:null},NE={key:!0,ref:!0,__self:!0,__source:!0};function CE(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)SE.call(t,r)&&!NE.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Vm,type:e,key:a,ref:s,props:i,_owner:F1.current}}function zz(e,t){return{$$typeof:Vm,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function R1(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vm}function Uz(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var JC=/\/+/g;function _v(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Uz(""+e.key):t.toString(36)}function Wp(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Vm:case Tz:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+_v(s,0):r,ZC(i)?(n="",e!=null&&(n=e.replace(JC,"$&/")+"/"),Wp(i,t,n,"",function(u){return u})):i!=null&&(R1(i)&&(i=zz(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(JC,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",ZC(e))for(var o=0;o<e.length;o++){a=e[o];var l=r+_v(a,o);s+=Wp(a,t,n,l,i)}else if(l=Bz(e),typeof l=="function")for(e=l.call(e),o=0;!(a=e.next()).done;)a=a.value,l=r+_v(a,o++),s+=Wp(a,t,n,l,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Zh(e,t,n){if(e==null)return e;var r=[],i=0;return Wp(e,r,"","",function(a){return t.call(n,a,i++)}),r}function Wz(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var na={current:null},Vp={transition:null},Vz={ReactCurrentDispatcher:na,ReactCurrentBatchConfig:Vp,ReactCurrentOwner:F1};function jE(){throw Error("act(...) is not supported in production builds of React.")}Sn.Children={map:Zh,forEach:function(e,t,n){Zh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zh(e,function(){t++}),t},toArray:function(e){return Zh(e,function(t){return t})||[]},only:function(e){if(!R1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Sn.Component=$d;Sn.Fragment=Mz;Sn.Profiler=Oz;Sn.PureComponent=L1;Sn.StrictMode=Ez;Sn.Suspense=$z;Sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vz;Sn.act=jE;Sn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yE({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=F1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)SE.call(t,l)&&!NE.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Vm,type:e.type,key:i,ref:a,props:r,_owner:s}};Sn.createContext=function(e){return e={$$typeof:_z,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Iz,_context:e},e.Consumer=e};Sn.createElement=CE;Sn.createFactory=function(e){var t=CE.bind(null,e);return t.type=e,t};Sn.createRef=function(){return{current:null}};Sn.forwardRef=function(e){return{$$typeof:Lz,render:e}};Sn.isValidElement=R1;Sn.lazy=function(e){return{$$typeof:Rz,_payload:{_status:-1,_result:e},_init:Wz}};Sn.memo=function(e,t){return{$$typeof:Fz,type:e,compare:t===void 0?null:t}};Sn.startTransition=function(e){var t=Vp.transition;Vp.transition={};try{e()}finally{Vp.transition=t}};Sn.unstable_act=jE;Sn.useCallback=function(e,t){return na.current.useCallback(e,t)};Sn.useContext=function(e){return na.current.useContext(e)};Sn.useDebugValue=function(){};Sn.useDeferredValue=function(e){return na.current.useDeferredValue(e)};Sn.useEffect=function(e,t){return na.current.useEffect(e,t)};Sn.useId=function(){return na.current.useId()};Sn.useImperativeHandle=function(e,t,n){return na.current.useImperativeHandle(e,t,n)};Sn.useInsertionEffect=function(e,t){return na.current.useInsertionEffect(e,t)};Sn.useLayoutEffect=function(e,t){return na.current.useLayoutEffect(e,t)};Sn.useMemo=function(e,t){return na.current.useMemo(e,t)};Sn.useReducer=function(e,t,n){return na.current.useReducer(e,t,n)};Sn.useRef=function(e){return na.current.useRef(e)};Sn.useState=function(e){return na.current.useState(e)};Sn.useSyncExternalStore=function(e,t,n){return na.current.useSyncExternalStore(e,t,n)};Sn.useTransition=function(){return na.current.useTransition()};Sn.version="18.3.1";vE.exports=Sn;var g=vE.exports;const X0=Ls(g),Hz=Dz({__proto__:null,default:X0},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qz=g,Kz=Symbol.for("react.element"),Gz=Symbol.for("react.fragment"),Yz=Object.prototype.hasOwnProperty,Xz=qz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qz={key:!0,ref:!0,__self:!0,__source:!0};function AE(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Yz.call(t,r)&&!Qz.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Kz,type:e,key:a,ref:s,props:i,_owner:Xz.current}}Y0.Fragment=Gz;Y0.jsx=AE;Y0.jsxs=AE;xE.exports=Y0;var c=xE.exports,dy={},PE={exports:{}},Ra={},DE={exports:{}},TE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(H,se){var I=H.length;H.push(se);e:for(;0<I;){var P=I-1>>>1,Z=H[P];if(0<i(Z,se))H[P]=se,H[I]=Z,I=P;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var se=H[0],I=H.pop();if(I!==se){H[0]=I;e:for(var P=0,Z=H.length,S=Z>>>1;P<S;){var W=2*(P+1)-1,R=H[W],q=W+1,ne=H[q];if(0>i(R,I))q<Z&&0>i(ne,R)?(H[P]=ne,H[q]=I,P=q):(H[P]=R,H[W]=I,P=W);else if(q<Z&&0>i(ne,I))H[P]=ne,H[q]=I,P=q;else break e}}return se}function i(H,se){var I=H.sortIndex-se.sortIndex;return I!==0?I:H.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var l=[],u=[],d=1,f=null,h=3,m=!1,p=!1,v=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(H){for(var se=n(u);se!==null;){if(se.callback===null)r(u);else if(se.startTime<=H)r(u),se.sortIndex=se.expirationTime,t(l,se);else break;se=n(u)}}function N(H){if(v=!1,w(H),!p)if(n(l)!==null)p=!0,ke(j);else{var se=n(u);se!==null&&re(N,se.startTime-H)}}function j(H,se){p=!1,v&&(v=!1,x(E),E=-1),m=!0;var I=h;try{for(w(se),f=n(l);f!==null&&(!(f.expirationTime>se)||H&&!L());){var P=f.callback;if(typeof P=="function"){f.callback=null,h=f.priorityLevel;var Z=P(f.expirationTime<=se);se=e.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),w(se)}else r(l);f=n(l)}if(f!==null)var S=!0;else{var W=n(u);W!==null&&re(N,W.startTime-se),S=!1}return S}finally{f=null,h=I,m=!1}}var k=!1,A=null,E=-1,F=5,T=-1;function L(){return!(e.unstable_now()-T<F)}function _(){if(A!==null){var H=e.unstable_now();T=H;var se=!0;try{se=A(!0,H)}finally{se?K():(k=!1,A=null)}}else k=!1}var K;if(typeof b=="function")K=function(){b(_)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,le=ee.port2;ee.port1.onmessage=_,K=function(){le.postMessage(null)}}else K=function(){y(_,0)};function ke(H){A=H,k||(k=!0,K())}function re(H,se){E=y(function(){H(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(H){H.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,ke(j))},e.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<H?Math.floor(1e3/H):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(H){switch(h){case 1:case 2:case 3:var se=3;break;default:se=h}var I=h;h=se;try{return H()}finally{h=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(H,se){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var I=h;h=H;try{return se()}finally{h=I}},e.unstable_scheduleCallback=function(H,se,I){var P=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?P+I:P):I=P,H){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=I+Z,H={id:d++,callback:se,priorityLevel:H,startTime:I,expirationTime:Z,sortIndex:-1},I>P?(H.sortIndex=I,t(u,H),n(l)===null&&H===n(u)&&(v?(x(E),E=-1):v=!0,re(N,I-P))):(H.sortIndex=Z,t(l,H),p||m||(p=!0,ke(j))),H},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(H){var se=h;return function(){var I=h;h=se;try{return H.apply(this,arguments)}finally{h=I}}}})(TE);DE.exports=TE;var Zz=DE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jz=g,La=Zz;function dt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ME=new Set,rm={};function uu(e,t){pd(e,t),pd(e+"Capture",t)}function pd(e,t){for(rm[e]=t,e=0;e<t.length;e++)ME.add(t[e])}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fy=Object.prototype.hasOwnProperty,e6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e2={},t2={};function t6(e){return fy.call(t2,e)?!0:fy.call(e2,e)?!1:e6.test(e)?t2[e]=!0:(e2[e]=!0,!1)}function n6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r6(e,t,n,r){if(t===null||typeof t>"u"||n6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function ra(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ai[e]=new ra(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ai[t]=new ra(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ai[e]=new ra(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ai[e]=new ra(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ai[e]=new ra(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ai[e]=new ra(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ai[e]=new ra(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ai[e]=new ra(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ai[e]=new ra(e,5,!1,e.toLowerCase(),null,!1,!1)});var B1=/[\-:]([a-z])/g;function z1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(B1,z1);Ai[t]=new ra(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(B1,z1);Ai[t]=new ra(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(B1,z1);Ai[t]=new ra(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ai[e]=new ra(e,1,!1,e.toLowerCase(),null,!1,!1)});Ai.xlinkHref=new ra("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ai[e]=new ra(e,1,!1,e.toLowerCase(),null,!0,!0)});function U1(e,t,n,r){var i=Ai.hasOwnProperty(t)?Ai[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r6(t,n,i,r)&&(n=null),r||i===null?t6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jo=Jz.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jh=Symbol.for("react.element"),Bu=Symbol.for("react.portal"),zu=Symbol.for("react.fragment"),W1=Symbol.for("react.strict_mode"),my=Symbol.for("react.profiler"),EE=Symbol.for("react.provider"),OE=Symbol.for("react.context"),V1=Symbol.for("react.forward_ref"),hy=Symbol.for("react.suspense"),py=Symbol.for("react.suspense_list"),H1=Symbol.for("react.memo"),Cl=Symbol.for("react.lazy"),IE=Symbol.for("react.offscreen"),n2=Symbol.iterator;function lf(e){return e===null||typeof e!="object"?null:(e=n2&&e[n2]||e["@@iterator"],typeof e=="function"?e:null)}var Pr=Object.assign,Lv;function Pf(e){if(Lv===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Lv=t&&t[1]||""}return`
`+Lv+e}var $v=!1;function Fv(e,t){if(!e||$v)return"";$v=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=o);break}}}finally{$v=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Pf(e):""}function i6(e){switch(e.tag){case 5:return Pf(e.type);case 16:return Pf("Lazy");case 13:return Pf("Suspense");case 19:return Pf("SuspenseList");case 0:case 2:case 15:return e=Fv(e.type,!1),e;case 11:return e=Fv(e.type.render,!1),e;case 1:return e=Fv(e.type,!0),e;default:return""}}function gy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zu:return"Fragment";case Bu:return"Portal";case my:return"Profiler";case W1:return"StrictMode";case hy:return"Suspense";case py:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case OE:return(e.displayName||"Context")+".Consumer";case EE:return(e._context.displayName||"Context")+".Provider";case V1:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case H1:return t=e.displayName||null,t!==null?t:gy(e.type)||"Memo";case Cl:t=e._payload,e=e._init;try{return gy(e(t))}catch{}}return null}function a6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gy(t);case 8:return t===W1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Gl(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _E(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function s6(e){var t=_E(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ep(e){e._valueTracker||(e._valueTracker=s6(e))}function LE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_E(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function xy(e,t){var n=t.checked;return Pr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function r2(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Gl(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $E(e,t){t=t.checked,t!=null&&U1(e,"checked",t,!1)}function vy(e,t){$E(e,t);var n=Gl(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?by(e,t.type,n):t.hasOwnProperty("defaultValue")&&by(e,t.type,Gl(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function i2(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function by(e,t,n){(t!=="number"||mg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Df=Array.isArray;function id(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Gl(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function yy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(dt(91));return Pr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function a2(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(dt(92));if(Df(n)){if(1<n.length)throw Error(dt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Gl(n)}}function FE(e,t){var n=Gl(t.value),r=Gl(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function s2(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function RE(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?RE(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tp,BE=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tp=tp||document.createElement("div"),tp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function im(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ff={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},o6=["Webkit","ms","Moz","O"];Object.keys(Ff).forEach(function(e){o6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ff[t]=Ff[e]})});function zE(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ff.hasOwnProperty(e)&&Ff[e]?(""+t).trim():t+"px"}function UE(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zE(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var l6=Pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ky(e,t){if(t){if(l6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(dt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(dt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(dt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(dt(62))}}function Sy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ny=null;function q1(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cy=null,ad=null,sd=null;function o2(e){if(e=Km(e)){if(typeof Cy!="function")throw Error(dt(280));var t=e.stateNode;t&&(t=tx(t),Cy(e.stateNode,e.type,t))}}function WE(e){ad?sd?sd.push(e):sd=[e]:ad=e}function VE(){if(ad){var e=ad,t=sd;if(sd=ad=null,o2(e),t)for(e=0;e<t.length;e++)o2(t[e])}}function HE(e,t){return e(t)}function qE(){}var Rv=!1;function KE(e,t,n){if(Rv)return e(t,n);Rv=!0;try{return HE(e,t,n)}finally{Rv=!1,(ad!==null||sd!==null)&&(qE(),VE())}}function am(e,t){var n=e.stateNode;if(n===null)return null;var r=tx(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(dt(231,t,typeof n));return n}var jy=!1;if(Ro)try{var cf={};Object.defineProperty(cf,"passive",{get:function(){jy=!0}}),window.addEventListener("test",cf,cf),window.removeEventListener("test",cf,cf)}catch{jy=!1}function c6(e,t,n,r,i,a,s,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Rf=!1,hg=null,pg=!1,Ay=null,u6={onError:function(e){Rf=!0,hg=e}};function d6(e,t,n,r,i,a,s,o,l){Rf=!1,hg=null,c6.apply(u6,arguments)}function f6(e,t,n,r,i,a,s,o,l){if(d6.apply(this,arguments),Rf){if(Rf){var u=hg;Rf=!1,hg=null}else throw Error(dt(198));pg||(pg=!0,Ay=u)}}function du(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function GE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l2(e){if(du(e)!==e)throw Error(dt(188))}function m6(e){var t=e.alternate;if(!t){if(t=du(e),t===null)throw Error(dt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return l2(i),e;if(a===r)return l2(i),t;a=a.sibling}throw Error(dt(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(dt(189))}}if(n.alternate!==r)throw Error(dt(190))}if(n.tag!==3)throw Error(dt(188));return n.stateNode.current===n?e:t}function YE(e){return e=m6(e),e!==null?XE(e):null}function XE(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=XE(e);if(t!==null)return t;e=e.sibling}return null}var QE=La.unstable_scheduleCallback,c2=La.unstable_cancelCallback,h6=La.unstable_shouldYield,p6=La.unstable_requestPaint,Br=La.unstable_now,g6=La.unstable_getCurrentPriorityLevel,K1=La.unstable_ImmediatePriority,ZE=La.unstable_UserBlockingPriority,gg=La.unstable_NormalPriority,x6=La.unstable_LowPriority,JE=La.unstable_IdlePriority,Q0=null,Zs=null;function v6(e){if(Zs&&typeof Zs.onCommitFiberRoot=="function")try{Zs.onCommitFiberRoot(Q0,e,void 0,(e.current.flags&128)===128)}catch{}}var Cs=Math.clz32?Math.clz32:w6,b6=Math.log,y6=Math.LN2;function w6(e){return e>>>=0,e===0?32:31-(b6(e)/y6|0)|0}var np=64,rp=4194304;function Tf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=Tf(o):(a&=s,a!==0&&(r=Tf(a)))}else s=n&~i,s!==0?r=Tf(s):a!==0&&(r=Tf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Cs(t),i=1<<n,r|=e[n],t&=~i;return r}function k6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function S6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Cs(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=k6(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}function Py(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function e5(){var e=np;return np<<=1,!(np&4194240)&&(np=64),e}function Bv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hm(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cs(t),e[t]=n}function N6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Cs(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function G1(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Cs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Wn=0;function t5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var n5,Y1,r5,i5,a5,Dy=!1,ip=[],$l=null,Fl=null,Rl=null,sm=new Map,om=new Map,Tl=[],C6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function u2(e,t){switch(e){case"focusin":case"focusout":$l=null;break;case"dragenter":case"dragleave":Fl=null;break;case"mouseover":case"mouseout":Rl=null;break;case"pointerover":case"pointerout":sm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":om.delete(t.pointerId)}}function uf(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=Km(t),t!==null&&Y1(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function j6(e,t,n,r,i){switch(t){case"focusin":return $l=uf($l,e,t,n,r,i),!0;case"dragenter":return Fl=uf(Fl,e,t,n,r,i),!0;case"mouseover":return Rl=uf(Rl,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return sm.set(a,uf(sm.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,om.set(a,uf(om.get(a)||null,e,t,n,r,i)),!0}return!1}function s5(e){var t=Ec(e.target);if(t!==null){var n=du(t);if(n!==null){if(t=n.tag,t===13){if(t=GE(n),t!==null){e.blockedOn=t,a5(e.priority,function(){r5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ty(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ny=r,n.target.dispatchEvent(r),Ny=null}else return t=Km(n),t!==null&&Y1(t),e.blockedOn=n,!1;t.shift()}return!0}function d2(e,t,n){Hp(e)&&n.delete(t)}function A6(){Dy=!1,$l!==null&&Hp($l)&&($l=null),Fl!==null&&Hp(Fl)&&(Fl=null),Rl!==null&&Hp(Rl)&&(Rl=null),sm.forEach(d2),om.forEach(d2)}function df(e,t){e.blockedOn===t&&(e.blockedOn=null,Dy||(Dy=!0,La.unstable_scheduleCallback(La.unstable_NormalPriority,A6)))}function lm(e){function t(i){return df(i,e)}if(0<ip.length){df(ip[0],e);for(var n=1;n<ip.length;n++){var r=ip[n];r.blockedOn===e&&(r.blockedOn=null)}}for($l!==null&&df($l,e),Fl!==null&&df(Fl,e),Rl!==null&&df(Rl,e),sm.forEach(t),om.forEach(t),n=0;n<Tl.length;n++)r=Tl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Tl.length&&(n=Tl[0],n.blockedOn===null);)s5(n),n.blockedOn===null&&Tl.shift()}var od=Jo.ReactCurrentBatchConfig,vg=!0;function P6(e,t,n,r){var i=Wn,a=od.transition;od.transition=null;try{Wn=1,X1(e,t,n,r)}finally{Wn=i,od.transition=a}}function D6(e,t,n,r){var i=Wn,a=od.transition;od.transition=null;try{Wn=4,X1(e,t,n,r)}finally{Wn=i,od.transition=a}}function X1(e,t,n,r){if(vg){var i=Ty(e,t,n,r);if(i===null)Xv(e,t,r,bg,n),u2(e,r);else if(j6(i,e,t,n,r))r.stopPropagation();else if(u2(e,r),t&4&&-1<C6.indexOf(e)){for(;i!==null;){var a=Km(i);if(a!==null&&n5(a),a=Ty(e,t,n,r),a===null&&Xv(e,t,r,bg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Xv(e,t,r,null,n)}}var bg=null;function Ty(e,t,n,r){if(bg=null,e=q1(r),e=Ec(e),e!==null)if(t=du(e),t===null)e=null;else if(n=t.tag,n===13){if(e=GE(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return bg=e,null}function o5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g6()){case K1:return 1;case ZE:return 4;case gg:case x6:return 16;case JE:return 536870912;default:return 16}default:return 16}}var Ol=null,Q1=null,qp=null;function l5(){if(qp)return qp;var e,t=Q1,n=t.length,r,i="value"in Ol?Ol.value:Ol.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return qp=i.slice(e,1<r?1-r:void 0)}function Kp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ap(){return!0}function f2(){return!1}function Ba(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ap:f2,this.isPropagationStopped=f2,this}return Pr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ap)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ap)},persist:function(){},isPersistent:ap}),t}var Fd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z1=Ba(Fd),qm=Pr({},Fd,{view:0,detail:0}),T6=Ba(qm),zv,Uv,ff,Z0=Pr({},qm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J1,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ff&&(ff&&e.type==="mousemove"?(zv=e.screenX-ff.screenX,Uv=e.screenY-ff.screenY):Uv=zv=0,ff=e),zv)},movementY:function(e){return"movementY"in e?e.movementY:Uv}}),m2=Ba(Z0),M6=Pr({},Z0,{dataTransfer:0}),E6=Ba(M6),O6=Pr({},qm,{relatedTarget:0}),Wv=Ba(O6),I6=Pr({},Fd,{animationName:0,elapsedTime:0,pseudoElement:0}),_6=Ba(I6),L6=Pr({},Fd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),$6=Ba(L6),F6=Pr({},Fd,{data:0}),h2=Ba(F6),R6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},B6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U6(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=z6[e])?!!t[e]:!1}function J1(){return U6}var W6=Pr({},qm,{key:function(e){if(e.key){var t=R6[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Kp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?B6[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J1,charCode:function(e){return e.type==="keypress"?Kp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Kp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),V6=Ba(W6),H6=Pr({},Z0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),p2=Ba(H6),q6=Pr({},qm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J1}),K6=Ba(q6),G6=Pr({},Fd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y6=Ba(G6),X6=Pr({},Z0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q6=Ba(X6),Z6=[9,13,27,32],ek=Ro&&"CompositionEvent"in window,Bf=null;Ro&&"documentMode"in document&&(Bf=document.documentMode);var J6=Ro&&"TextEvent"in window&&!Bf,c5=Ro&&(!ek||Bf&&8<Bf&&11>=Bf),g2=" ",x2=!1;function u5(e,t){switch(e){case"keyup":return Z6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function d5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Uu=!1;function eU(e,t){switch(e){case"compositionend":return d5(t);case"keypress":return t.which!==32?null:(x2=!0,g2);case"textInput":return e=t.data,e===g2&&x2?null:e;default:return null}}function tU(e,t){if(Uu)return e==="compositionend"||!ek&&u5(e,t)?(e=l5(),qp=Q1=Ol=null,Uu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return c5&&t.locale!=="ko"?null:t.data;default:return null}}var nU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!nU[e.type]:t==="textarea"}function f5(e,t,n,r){WE(r),t=yg(t,"onChange"),0<t.length&&(n=new Z1("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var zf=null,cm=null;function rU(e){S5(e,0)}function J0(e){var t=Hu(e);if(LE(t))return e}function iU(e,t){if(e==="change")return t}var m5=!1;if(Ro){var Vv;if(Ro){var Hv="oninput"in document;if(!Hv){var b2=document.createElement("div");b2.setAttribute("oninput","return;"),Hv=typeof b2.oninput=="function"}Vv=Hv}else Vv=!1;m5=Vv&&(!document.documentMode||9<document.documentMode)}function y2(){zf&&(zf.detachEvent("onpropertychange",h5),cm=zf=null)}function h5(e){if(e.propertyName==="value"&&J0(cm)){var t=[];f5(t,cm,e,q1(e)),KE(rU,t)}}function aU(e,t,n){e==="focusin"?(y2(),zf=t,cm=n,zf.attachEvent("onpropertychange",h5)):e==="focusout"&&y2()}function sU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return J0(cm)}function oU(e,t){if(e==="click")return J0(t)}function lU(e,t){if(e==="input"||e==="change")return J0(t)}function cU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ds=typeof Object.is=="function"?Object.is:cU;function um(e,t){if(Ds(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fy.call(t,i)||!Ds(e[i],t[i]))return!1}return!0}function w2(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function k2(e,t){var n=w2(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w2(n)}}function p5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?p5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function g5(){for(var e=window,t=mg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mg(e.document)}return t}function tk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function uU(e){var t=g5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&p5(n.ownerDocument.documentElement,n)){if(r!==null&&tk(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=k2(n,a);var s=k2(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dU=Ro&&"documentMode"in document&&11>=document.documentMode,Wu=null,My=null,Uf=null,Ey=!1;function S2(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ey||Wu==null||Wu!==mg(r)||(r=Wu,"selectionStart"in r&&tk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uf&&um(Uf,r)||(Uf=r,r=yg(My,"onSelect"),0<r.length&&(t=new Z1("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wu)))}function sp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Vu={animationend:sp("Animation","AnimationEnd"),animationiteration:sp("Animation","AnimationIteration"),animationstart:sp("Animation","AnimationStart"),transitionend:sp("Transition","TransitionEnd")},qv={},x5={};Ro&&(x5=document.createElement("div").style,"AnimationEvent"in window||(delete Vu.animationend.animation,delete Vu.animationiteration.animation,delete Vu.animationstart.animation),"TransitionEvent"in window||delete Vu.transitionend.transition);function ex(e){if(qv[e])return qv[e];if(!Vu[e])return e;var t=Vu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in x5)return qv[e]=t[n];return e}var v5=ex("animationend"),b5=ex("animationiteration"),y5=ex("animationstart"),w5=ex("transitionend"),k5=new Map,N2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function tc(e,t){k5.set(e,t),uu(t,[e])}for(var Kv=0;Kv<N2.length;Kv++){var Gv=N2[Kv],fU=Gv.toLowerCase(),mU=Gv[0].toUpperCase()+Gv.slice(1);tc(fU,"on"+mU)}tc(v5,"onAnimationEnd");tc(b5,"onAnimationIteration");tc(y5,"onAnimationStart");tc("dblclick","onDoubleClick");tc("focusin","onFocus");tc("focusout","onBlur");tc(w5,"onTransitionEnd");pd("onMouseEnter",["mouseout","mouseover"]);pd("onMouseLeave",["mouseout","mouseover"]);pd("onPointerEnter",["pointerout","pointerover"]);pd("onPointerLeave",["pointerout","pointerover"]);uu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uu("onBeforeInput",["compositionend","keypress","textInput","paste"]);uu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mf));function C2(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,f6(r,t,void 0,e),e.currentTarget=null}function S5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;C2(i,o,u),a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;C2(i,o,u),a=l}}}if(pg)throw e=Ay,pg=!1,Ay=null,e}function lr(e,t){var n=t[$y];n===void 0&&(n=t[$y]=new Set);var r=e+"__bubble";n.has(r)||(N5(t,e,2,!1),n.add(r))}function Yv(e,t,n){var r=0;t&&(r|=4),N5(n,e,r,t)}var op="_reactListening"+Math.random().toString(36).slice(2);function dm(e){if(!e[op]){e[op]=!0,ME.forEach(function(n){n!=="selectionchange"&&(hU.has(n)||Yv(n,!1,e),Yv(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[op]||(t[op]=!0,Yv("selectionchange",!1,t))}}function N5(e,t,n,r){switch(o5(t)){case 1:var i=P6;break;case 4:i=D6;break;default:i=X1}n=i.bind(null,t,n,e),i=void 0,!jy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Xv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Ec(o),s===null)return;if(l=s.tag,l===5||l===6){r=a=s;continue e}o=o.parentNode}}r=r.return}KE(function(){var u=a,d=q1(n),f=[];e:{var h=k5.get(e);if(h!==void 0){var m=Z1,p=e;switch(e){case"keypress":if(Kp(n)===0)break e;case"keydown":case"keyup":m=V6;break;case"focusin":p="focus",m=Wv;break;case"focusout":p="blur",m=Wv;break;case"beforeblur":case"afterblur":m=Wv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=m2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=E6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=K6;break;case v5:case b5:case y5:m=_6;break;case w5:m=Y6;break;case"scroll":m=T6;break;case"wheel":m=Q6;break;case"copy":case"cut":case"paste":m=$6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=p2}var v=(t&4)!==0,y=!v&&e==="scroll",x=v?h!==null?h+"Capture":null:h;v=[];for(var b=u,w;b!==null;){w=b;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,x!==null&&(N=am(b,x),N!=null&&v.push(fm(b,N,w)))),y)break;b=b.return}0<v.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:v}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Ny&&(p=n.relatedTarget||n.fromElement)&&(Ec(p)||p[Bo]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Ec(p):null,p!==null&&(y=du(p),p!==y||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(v=m2,N="onMouseLeave",x="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(v=p2,N="onPointerLeave",x="onPointerEnter",b="pointer"),y=m==null?h:Hu(m),w=p==null?h:Hu(p),h=new v(N,b+"leave",m,n,d),h.target=y,h.relatedTarget=w,N=null,Ec(d)===u&&(v=new v(x,b+"enter",p,n,d),v.target=w,v.relatedTarget=y,N=v),y=N,m&&p)t:{for(v=m,x=p,b=0,w=v;w;w=Du(w))b++;for(w=0,N=x;N;N=Du(N))w++;for(;0<b-w;)v=Du(v),b--;for(;0<w-b;)x=Du(x),w--;for(;b--;){if(v===x||x!==null&&v===x.alternate)break t;v=Du(v),x=Du(x)}v=null}else v=null;m!==null&&j2(f,h,m,v,!1),p!==null&&y!==null&&j2(f,y,p,v,!0)}}e:{if(h=u?Hu(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=iU;else if(v2(h))if(m5)j=lU;else{j=sU;var k=aU}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=oU);if(j&&(j=j(e,u))){f5(f,j,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&by(h,"number",h.value)}switch(k=u?Hu(u):window,e){case"focusin":(v2(k)||k.contentEditable==="true")&&(Wu=k,My=u,Uf=null);break;case"focusout":Uf=My=Wu=null;break;case"mousedown":Ey=!0;break;case"contextmenu":case"mouseup":case"dragend":Ey=!1,S2(f,n,d);break;case"selectionchange":if(dU)break;case"keydown":case"keyup":S2(f,n,d)}var A;if(ek)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Uu?u5(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(c5&&n.locale!=="ko"&&(Uu||E!=="onCompositionStart"?E==="onCompositionEnd"&&Uu&&(A=l5()):(Ol=d,Q1="value"in Ol?Ol.value:Ol.textContent,Uu=!0)),k=yg(u,E),0<k.length&&(E=new h2(E,e,null,n,d),f.push({event:E,listeners:k}),A?E.data=A:(A=d5(n),A!==null&&(E.data=A)))),(A=J6?eU(e,n):tU(e,n))&&(u=yg(u,"onBeforeInput"),0<u.length&&(d=new h2("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=A))}S5(f,t)})}function fm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function yg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=am(e,n),a!=null&&r.unshift(fm(e,a,i)),a=am(e,t),a!=null&&r.push(fm(e,a,i))),e=e.return}return r}function Du(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function j2(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,i?(l=am(n,a),l!=null&&s.unshift(fm(n,l,o))):i||(l=am(n,a),l!=null&&s.push(fm(n,l,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var pU=/\r\n?/g,gU=/\u0000|\uFFFD/g;function A2(e){return(typeof e=="string"?e:""+e).replace(pU,`
`).replace(gU,"")}function lp(e,t,n){if(t=A2(t),A2(e)!==t&&n)throw Error(dt(425))}function wg(){}var Oy=null,Iy=null;function _y(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ly=typeof setTimeout=="function"?setTimeout:void 0,xU=typeof clearTimeout=="function"?clearTimeout:void 0,P2=typeof Promise=="function"?Promise:void 0,vU=typeof queueMicrotask=="function"?queueMicrotask:typeof P2<"u"?function(e){return P2.resolve(null).then(e).catch(bU)}:Ly;function bU(e){setTimeout(function(){throw e})}function Qv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),lm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);lm(t)}function Bl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function D2(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Rd=Math.random().toString(36).slice(2),Xs="__reactFiber$"+Rd,mm="__reactProps$"+Rd,Bo="__reactContainer$"+Rd,$y="__reactEvents$"+Rd,yU="__reactListeners$"+Rd,wU="__reactHandles$"+Rd;function Ec(e){var t=e[Xs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Bo]||n[Xs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=D2(e);e!==null;){if(n=e[Xs])return n;e=D2(e)}return t}e=n,n=e.parentNode}return null}function Km(e){return e=e[Xs]||e[Bo],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(dt(33))}function tx(e){return e[mm]||null}var Fy=[],qu=-1;function nc(e){return{current:e}}function ur(e){0>qu||(e.current=Fy[qu],Fy[qu]=null,qu--)}function ar(e,t){qu++,Fy[qu]=e.current,e.current=t}var Yl={},Ui=nc(Yl),ma=nc(!1),Yc=Yl;function gd(e,t){var n=e.type.contextTypes;if(!n)return Yl;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ha(e){return e=e.childContextTypes,e!=null}function kg(){ur(ma),ur(Ui)}function T2(e,t,n){if(Ui.current!==Yl)throw Error(dt(168));ar(Ui,t),ar(ma,n)}function C5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(dt(108,a6(e)||"Unknown",i));return Pr({},n,r)}function Sg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Yl,Yc=Ui.current,ar(Ui,e),ar(ma,ma.current),!0}function M2(e,t,n){var r=e.stateNode;if(!r)throw Error(dt(169));n?(e=C5(e,t,Yc),r.__reactInternalMemoizedMergedChildContext=e,ur(ma),ur(Ui),ar(Ui,e)):ur(ma),ar(ma,n)}var No=null,nx=!1,Zv=!1;function j5(e){No===null?No=[e]:No.push(e)}function kU(e){nx=!0,j5(e)}function rc(){if(!Zv&&No!==null){Zv=!0;var e=0,t=Wn;try{var n=No;for(Wn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}No=null,nx=!1}catch(i){throw No!==null&&(No=No.slice(e+1)),QE(K1,rc),i}finally{Wn=t,Zv=!1}}return null}var Ku=[],Gu=0,Ng=null,Cg=0,Xa=[],Qa=0,Xc=null,Po=1,Do="";function Sc(e,t){Ku[Gu++]=Cg,Ku[Gu++]=Ng,Ng=e,Cg=t}function A5(e,t,n){Xa[Qa++]=Po,Xa[Qa++]=Do,Xa[Qa++]=Xc,Xc=e;var r=Po;e=Do;var i=32-Cs(r)-1;r&=~(1<<i),n+=1;var a=32-Cs(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Po=1<<32-Cs(t)+i|n<<i|r,Do=a+e}else Po=1<<a|n<<i|r,Do=e}function nk(e){e.return!==null&&(Sc(e,1),A5(e,1,0))}function rk(e){for(;e===Ng;)Ng=Ku[--Gu],Ku[Gu]=null,Cg=Ku[--Gu],Ku[Gu]=null;for(;e===Xc;)Xc=Xa[--Qa],Xa[Qa]=null,Do=Xa[--Qa],Xa[Qa]=null,Po=Xa[--Qa],Xa[Qa]=null}var Ea=null,Ta=null,vr=!1,ws=null;function P5(e,t){var n=Ja(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function E2(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ea=e,Ta=Bl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ea=e,Ta=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Xc!==null?{id:Po,overflow:Do}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ja(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ea=e,Ta=null,!0):!1;default:return!1}}function Ry(e){return(e.mode&1)!==0&&(e.flags&128)===0}function By(e){if(vr){var t=Ta;if(t){var n=t;if(!E2(e,t)){if(Ry(e))throw Error(dt(418));t=Bl(n.nextSibling);var r=Ea;t&&E2(e,t)?P5(r,n):(e.flags=e.flags&-4097|2,vr=!1,Ea=e)}}else{if(Ry(e))throw Error(dt(418));e.flags=e.flags&-4097|2,vr=!1,Ea=e}}}function O2(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ea=e}function cp(e){if(e!==Ea)return!1;if(!vr)return O2(e),vr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_y(e.type,e.memoizedProps)),t&&(t=Ta)){if(Ry(e))throw D5(),Error(dt(418));for(;t;)P5(e,t),t=Bl(t.nextSibling)}if(O2(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(dt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ta=Bl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ta=null}}else Ta=Ea?Bl(e.stateNode.nextSibling):null;return!0}function D5(){for(var e=Ta;e;)e=Bl(e.nextSibling)}function xd(){Ta=Ea=null,vr=!1}function ik(e){ws===null?ws=[e]:ws.push(e)}var SU=Jo.ReactCurrentBatchConfig;function mf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(dt(309));var r=n.stateNode}if(!r)throw Error(dt(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(dt(284));if(!n._owner)throw Error(dt(290,e))}return e}function up(e,t){throw e=Object.prototype.toString.call(t),Error(dt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function I2(e){var t=e._init;return t(e._payload)}function T5(e){function t(x,b){if(e){var w=x.deletions;w===null?(x.deletions=[b],x.flags|=16):w.push(b)}}function n(x,b){if(!e)return null;for(;b!==null;)t(x,b),b=b.sibling;return null}function r(x,b){for(x=new Map;b!==null;)b.key!==null?x.set(b.key,b):x.set(b.index,b),b=b.sibling;return x}function i(x,b){return x=Vl(x,b),x.index=0,x.sibling=null,x}function a(x,b,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<b?(x.flags|=2,b):w):(x.flags|=2,b)):(x.flags|=1048576,b)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function o(x,b,w,N){return b===null||b.tag!==6?(b=ab(w,x.mode,N),b.return=x,b):(b=i(b,w),b.return=x,b)}function l(x,b,w,N){var j=w.type;return j===zu?d(x,b,w.props.children,N,w.key):b!==null&&(b.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Cl&&I2(j)===b.type)?(N=i(b,w.props),N.ref=mf(x,b,w),N.return=x,N):(N=eg(w.type,w.key,w.props,null,x.mode,N),N.ref=mf(x,b,w),N.return=x,N)}function u(x,b,w,N){return b===null||b.tag!==4||b.stateNode.containerInfo!==w.containerInfo||b.stateNode.implementation!==w.implementation?(b=sb(w,x.mode,N),b.return=x,b):(b=i(b,w.children||[]),b.return=x,b)}function d(x,b,w,N,j){return b===null||b.tag!==7?(b=Uc(w,x.mode,N,j),b.return=x,b):(b=i(b,w),b.return=x,b)}function f(x,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return b=ab(""+b,x.mode,w),b.return=x,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Jh:return w=eg(b.type,b.key,b.props,null,x.mode,w),w.ref=mf(x,null,b),w.return=x,w;case Bu:return b=sb(b,x.mode,w),b.return=x,b;case Cl:var N=b._init;return f(x,N(b._payload),w)}if(Df(b)||lf(b))return b=Uc(b,x.mode,w,null),b.return=x,b;up(x,b)}return null}function h(x,b,w,N){var j=b!==null?b.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:o(x,b,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jh:return w.key===j?l(x,b,w,N):null;case Bu:return w.key===j?u(x,b,w,N):null;case Cl:return j=w._init,h(x,b,j(w._payload),N)}if(Df(w)||lf(w))return j!==null?null:d(x,b,w,N,null);up(x,w)}return null}function m(x,b,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return x=x.get(w)||null,o(b,x,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Jh:return x=x.get(N.key===null?w:N.key)||null,l(b,x,N,j);case Bu:return x=x.get(N.key===null?w:N.key)||null,u(b,x,N,j);case Cl:var k=N._init;return m(x,b,w,k(N._payload),j)}if(Df(N)||lf(N))return x=x.get(w)||null,d(b,x,N,j,null);up(b,N)}return null}function p(x,b,w,N){for(var j=null,k=null,A=b,E=b=0,F=null;A!==null&&E<w.length;E++){A.index>E?(F=A,A=null):F=A.sibling;var T=h(x,A,w[E],N);if(T===null){A===null&&(A=F);break}e&&A&&T.alternate===null&&t(x,A),b=a(T,b,E),k===null?j=T:k.sibling=T,k=T,A=F}if(E===w.length)return n(x,A),vr&&Sc(x,E),j;if(A===null){for(;E<w.length;E++)A=f(x,w[E],N),A!==null&&(b=a(A,b,E),k===null?j=A:k.sibling=A,k=A);return vr&&Sc(x,E),j}for(A=r(x,A);E<w.length;E++)F=m(A,x,E,w[E],N),F!==null&&(e&&F.alternate!==null&&A.delete(F.key===null?E:F.key),b=a(F,b,E),k===null?j=F:k.sibling=F,k=F);return e&&A.forEach(function(L){return t(x,L)}),vr&&Sc(x,E),j}function v(x,b,w,N){var j=lf(w);if(typeof j!="function")throw Error(dt(150));if(w=j.call(w),w==null)throw Error(dt(151));for(var k=j=null,A=b,E=b=0,F=null,T=w.next();A!==null&&!T.done;E++,T=w.next()){A.index>E?(F=A,A=null):F=A.sibling;var L=h(x,A,T.value,N);if(L===null){A===null&&(A=F);break}e&&A&&L.alternate===null&&t(x,A),b=a(L,b,E),k===null?j=L:k.sibling=L,k=L,A=F}if(T.done)return n(x,A),vr&&Sc(x,E),j;if(A===null){for(;!T.done;E++,T=w.next())T=f(x,T.value,N),T!==null&&(b=a(T,b,E),k===null?j=T:k.sibling=T,k=T);return vr&&Sc(x,E),j}for(A=r(x,A);!T.done;E++,T=w.next())T=m(A,x,E,T.value,N),T!==null&&(e&&T.alternate!==null&&A.delete(T.key===null?E:T.key),b=a(T,b,E),k===null?j=T:k.sibling=T,k=T);return e&&A.forEach(function(_){return t(x,_)}),vr&&Sc(x,E),j}function y(x,b,w,N){if(typeof w=="object"&&w!==null&&w.type===zu&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Jh:e:{for(var j=w.key,k=b;k!==null;){if(k.key===j){if(j=w.type,j===zu){if(k.tag===7){n(x,k.sibling),b=i(k,w.props.children),b.return=x,x=b;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Cl&&I2(j)===k.type){n(x,k.sibling),b=i(k,w.props),b.ref=mf(x,k,w),b.return=x,x=b;break e}n(x,k);break}else t(x,k);k=k.sibling}w.type===zu?(b=Uc(w.props.children,x.mode,N,w.key),b.return=x,x=b):(N=eg(w.type,w.key,w.props,null,x.mode,N),N.ref=mf(x,b,w),N.return=x,x=N)}return s(x);case Bu:e:{for(k=w.key;b!==null;){if(b.key===k)if(b.tag===4&&b.stateNode.containerInfo===w.containerInfo&&b.stateNode.implementation===w.implementation){n(x,b.sibling),b=i(b,w.children||[]),b.return=x,x=b;break e}else{n(x,b);break}else t(x,b);b=b.sibling}b=sb(w,x.mode,N),b.return=x,x=b}return s(x);case Cl:return k=w._init,y(x,b,k(w._payload),N)}if(Df(w))return p(x,b,w,N);if(lf(w))return v(x,b,w,N);up(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,b!==null&&b.tag===6?(n(x,b.sibling),b=i(b,w),b.return=x,x=b):(n(x,b),b=ab(w,x.mode,N),b.return=x,x=b),s(x)):n(x,b)}return y}var vd=T5(!0),M5=T5(!1),jg=nc(null),Ag=null,Yu=null,ak=null;function sk(){ak=Yu=Ag=null}function ok(e){var t=jg.current;ur(jg),e._currentValue=t}function zy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ld(e,t){Ag=e,ak=Yu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(da=!0),e.firstContext=null)}function ns(e){var t=e._currentValue;if(ak!==e)if(e={context:e,memoizedValue:t,next:null},Yu===null){if(Ag===null)throw Error(dt(308));Yu=e,Ag.dependencies={lanes:0,firstContext:e}}else Yu=Yu.next=e;return t}var Oc=null;function lk(e){Oc===null?Oc=[e]:Oc.push(e)}function E5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,lk(t)):(n.next=i.next,i.next=n),t.interleaved=n,zo(e,r)}function zo(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var jl=!1;function ck(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function O5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function zl(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,En&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zo(e,n)}return i=r.interleaved,i===null?(t.next=t,lk(r)):(t.next=i.next,i.next=t),r.interleaved=t,zo(e,n)}function Gp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,G1(e,n)}}function _2(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Pg(e,t,n,r){var i=e.updateQueue;jl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,d=u=l=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(h=t,m=n,v.tag){case 1:if(p=v.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=v.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Pr({},f,h);break e;case 2:jl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);Zc|=s,e.lanes=s,e.memoizedState=f}}function L2(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(dt(191,i));i.call(r)}}}var Gm={},Js=nc(Gm),hm=nc(Gm),pm=nc(Gm);function Ic(e){if(e===Gm)throw Error(dt(174));return e}function uk(e,t){switch(ar(pm,t),ar(hm,e),ar(Js,Gm),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:wy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=wy(t,e)}ur(Js),ar(Js,t)}function bd(){ur(Js),ur(hm),ur(pm)}function I5(e){Ic(pm.current);var t=Ic(Js.current),n=wy(t,e.type);t!==n&&(ar(hm,e),ar(Js,n))}function dk(e){hm.current===e&&(ur(Js),ur(hm))}var Sr=nc(0);function Dg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Jv=[];function fk(){for(var e=0;e<Jv.length;e++)Jv[e]._workInProgressVersionPrimary=null;Jv.length=0}var Yp=Jo.ReactCurrentDispatcher,eb=Jo.ReactCurrentBatchConfig,Qc=0,Ar=null,Jr=null,pi=null,Tg=!1,Wf=!1,gm=0,NU=0;function Oi(){throw Error(dt(321))}function mk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ds(e[n],t[n]))return!1;return!0}function hk(e,t,n,r,i,a){if(Qc=a,Ar=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yp.current=e===null||e.memoizedState===null?PU:DU,e=n(r,i),Wf){a=0;do{if(Wf=!1,gm=0,25<=a)throw Error(dt(301));a+=1,pi=Jr=null,t.updateQueue=null,Yp.current=TU,e=n(r,i)}while(Wf)}if(Yp.current=Mg,t=Jr!==null&&Jr.next!==null,Qc=0,pi=Jr=Ar=null,Tg=!1,t)throw Error(dt(300));return e}function pk(){var e=gm!==0;return gm=0,e}function Ks(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?Ar.memoizedState=pi=e:pi=pi.next=e,pi}function rs(){if(Jr===null){var e=Ar.alternate;e=e!==null?e.memoizedState:null}else e=Jr.next;var t=pi===null?Ar.memoizedState:pi.next;if(t!==null)pi=t,Jr=e;else{if(e===null)throw Error(dt(310));Jr=e,e={memoizedState:Jr.memoizedState,baseState:Jr.baseState,baseQueue:Jr.baseQueue,queue:Jr.queue,next:null},pi===null?Ar.memoizedState=pi=e:pi=pi.next=e}return pi}function xm(e,t){return typeof t=="function"?t(e):t}function tb(e){var t=rs(),n=t.queue;if(n===null)throw Error(dt(311));n.lastRenderedReducer=e;var r=Jr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,l=null,u=a;do{var d=u.lane;if((Qc&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,s=r):l=l.next=f,Ar.lanes|=d,Zc|=d}u=u.next}while(u!==null&&u!==a);l===null?s=r:l.next=o,Ds(r,t.memoizedState)||(da=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,Ar.lanes|=a,Zc|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nb(e){var t=rs(),n=t.queue;if(n===null)throw Error(dt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Ds(a,t.memoizedState)||(da=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function _5(){}function L5(e,t){var n=Ar,r=rs(),i=t(),a=!Ds(r.memoizedState,i);if(a&&(r.memoizedState=i,da=!0),r=r.queue,gk(R5.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||pi!==null&&pi.memoizedState.tag&1){if(n.flags|=2048,vm(9,F5.bind(null,n,r,i,t),void 0,null),xi===null)throw Error(dt(349));Qc&30||$5(n,t,i)}return i}function $5(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ar.updateQueue,t===null?(t={lastEffect:null,stores:null},Ar.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function F5(e,t,n,r){t.value=n,t.getSnapshot=r,B5(t)&&z5(e)}function R5(e,t,n){return n(function(){B5(t)&&z5(e)})}function B5(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ds(e,n)}catch{return!0}}function z5(e){var t=zo(e,1);t!==null&&js(t,e,1,-1)}function $2(e){var t=Ks();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:e},t.queue=e,e=e.dispatch=AU.bind(null,Ar,e),[t.memoizedState,e]}function vm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ar.updateQueue,t===null?(t={lastEffect:null,stores:null},Ar.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function U5(){return rs().memoizedState}function Xp(e,t,n,r){var i=Ks();Ar.flags|=e,i.memoizedState=vm(1|t,n,void 0,r===void 0?null:r)}function rx(e,t,n,r){var i=rs();r=r===void 0?null:r;var a=void 0;if(Jr!==null){var s=Jr.memoizedState;if(a=s.destroy,r!==null&&mk(r,s.deps)){i.memoizedState=vm(t,n,a,r);return}}Ar.flags|=e,i.memoizedState=vm(1|t,n,a,r)}function F2(e,t){return Xp(8390656,8,e,t)}function gk(e,t){return rx(2048,8,e,t)}function W5(e,t){return rx(4,2,e,t)}function V5(e,t){return rx(4,4,e,t)}function H5(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function q5(e,t,n){return n=n!=null?n.concat([e]):null,rx(4,4,H5.bind(null,t,e),n)}function xk(){}function K5(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function G5(e,t){var n=rs();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Y5(e,t,n){return Qc&21?(Ds(n,t)||(n=e5(),Ar.lanes|=n,Zc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,da=!0),e.memoizedState=n)}function CU(e,t){var n=Wn;Wn=n!==0&&4>n?n:4,e(!0);var r=eb.transition;eb.transition={};try{e(!1),t()}finally{Wn=n,eb.transition=r}}function X5(){return rs().memoizedState}function jU(e,t,n){var r=Wl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Q5(e))Z5(t,n);else if(n=E5(e,t,n,r),n!==null){var i=Ji();js(n,e,r,i),J5(n,t,r)}}function AU(e,t,n){var r=Wl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Q5(e))Z5(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Ds(o,s)){var l=t.interleaved;l===null?(i.next=i,lk(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=E5(e,t,i,r),n!==null&&(i=Ji(),js(n,e,r,i),J5(n,t,r))}}function Q5(e){var t=e.alternate;return e===Ar||t!==null&&t===Ar}function Z5(e,t){Wf=Tg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function J5(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,G1(e,n)}}var Mg={readContext:ns,useCallback:Oi,useContext:Oi,useEffect:Oi,useImperativeHandle:Oi,useInsertionEffect:Oi,useLayoutEffect:Oi,useMemo:Oi,useReducer:Oi,useRef:Oi,useState:Oi,useDebugValue:Oi,useDeferredValue:Oi,useTransition:Oi,useMutableSource:Oi,useSyncExternalStore:Oi,useId:Oi,unstable_isNewReconciler:!1},PU={readContext:ns,useCallback:function(e,t){return Ks().memoizedState=[e,t===void 0?null:t],e},useContext:ns,useEffect:F2,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Xp(4194308,4,H5.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Xp(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xp(4,2,e,t)},useMemo:function(e,t){var n=Ks();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ks();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=jU.bind(null,Ar,e),[r.memoizedState,e]},useRef:function(e){var t=Ks();return e={current:e},t.memoizedState=e},useState:$2,useDebugValue:xk,useDeferredValue:function(e){return Ks().memoizedState=e},useTransition:function(){var e=$2(!1),t=e[0];return e=CU.bind(null,e[1]),Ks().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ar,i=Ks();if(vr){if(n===void 0)throw Error(dt(407));n=n()}else{if(n=t(),xi===null)throw Error(dt(349));Qc&30||$5(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,F2(R5.bind(null,r,a,e),[e]),r.flags|=2048,vm(9,F5.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ks(),t=xi.identifierPrefix;if(vr){var n=Do,r=Po;n=(r&~(1<<32-Cs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=gm++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=NU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},DU={readContext:ns,useCallback:K5,useContext:ns,useEffect:gk,useImperativeHandle:q5,useInsertionEffect:W5,useLayoutEffect:V5,useMemo:G5,useReducer:tb,useRef:U5,useState:function(){return tb(xm)},useDebugValue:xk,useDeferredValue:function(e){var t=rs();return Y5(t,Jr.memoizedState,e)},useTransition:function(){var e=tb(xm)[0],t=rs().memoizedState;return[e,t]},useMutableSource:_5,useSyncExternalStore:L5,useId:X5,unstable_isNewReconciler:!1},TU={readContext:ns,useCallback:K5,useContext:ns,useEffect:gk,useImperativeHandle:q5,useInsertionEffect:W5,useLayoutEffect:V5,useMemo:G5,useReducer:nb,useRef:U5,useState:function(){return nb(xm)},useDebugValue:xk,useDeferredValue:function(e){var t=rs();return Jr===null?t.memoizedState=e:Y5(t,Jr.memoizedState,e)},useTransition:function(){var e=nb(xm)[0],t=rs().memoizedState;return[e,t]},useMutableSource:_5,useSyncExternalStore:L5,useId:X5,unstable_isNewReconciler:!1};function bs(e,t){if(e&&e.defaultProps){t=Pr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Uy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Pr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ix={isMounted:function(e){return(e=e._reactInternals)?du(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ji(),i=Wl(e),a=Oo(r,i);a.payload=t,n!=null&&(a.callback=n),t=zl(e,a,i),t!==null&&(js(t,e,i,r),Gp(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ji(),i=Wl(e),a=Oo(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=zl(e,a,i),t!==null&&(js(t,e,i,r),Gp(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ji(),r=Wl(e),i=Oo(n,r);i.tag=2,t!=null&&(i.callback=t),t=zl(e,i,r),t!==null&&(js(t,e,r,n),Gp(t,e,r))}};function R2(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!um(n,r)||!um(i,a):!0}function eO(e,t,n){var r=!1,i=Yl,a=t.contextType;return typeof a=="object"&&a!==null?a=ns(a):(i=ha(t)?Yc:Ui.current,r=t.contextTypes,a=(r=r!=null)?gd(e,i):Yl),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ix,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function B2(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ix.enqueueReplaceState(t,t.state,null)}function Wy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ck(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=ns(a):(a=ha(t)?Yc:Ui.current,i.context=gd(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Uy(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ix.enqueueReplaceState(i,i.state,null),Pg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function yd(e,t){try{var n="",r=t;do n+=i6(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function rb(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Vy(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var MU=typeof WeakMap=="function"?WeakMap:Map;function tO(e,t,n){n=Oo(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Og||(Og=!0,ew=r),Vy(e,t)},n}function nO(e,t,n){n=Oo(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Vy(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Vy(e,t),typeof r!="function"&&(Ul===null?Ul=new Set([this]):Ul.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function z2(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new MU;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=HU.bind(null,e,t,n),t.then(e,e))}function U2(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function W2(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Oo(-1,1),t.tag=2,zl(n,t,1))),n.lanes|=1),e)}var EU=Jo.ReactCurrentOwner,da=!1;function Xi(e,t,n,r){t.child=e===null?M5(t,null,n,r):vd(t,e.child,n,r)}function V2(e,t,n,r,i){n=n.render;var a=t.ref;return ld(t,i),r=hk(e,t,n,r,a,i),n=pk(),e!==null&&!da?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uo(e,t,i)):(vr&&n&&nk(t),t.flags|=1,Xi(e,t,r,i),t.child)}function H2(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!Ck(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,rO(e,t,a,r,i)):(e=eg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:um,n(s,r)&&e.ref===t.ref)return Uo(e,t,i)}return t.flags|=1,e=Vl(a,r),e.ref=t.ref,e.return=t,t.child=e}function rO(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(um(a,r)&&e.ref===t.ref)if(da=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(da=!0);else return t.lanes=e.lanes,Uo(e,t,i)}return Hy(e,t,n,r,i)}function iO(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ar(Qu,Aa),Aa|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ar(Qu,Aa),Aa|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,ar(Qu,Aa),Aa|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,ar(Qu,Aa),Aa|=r;return Xi(e,t,i,n),t.child}function aO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Hy(e,t,n,r,i){var a=ha(n)?Yc:Ui.current;return a=gd(t,a),ld(t,i),n=hk(e,t,n,r,a,i),r=pk(),e!==null&&!da?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uo(e,t,i)):(vr&&r&&nk(t),t.flags|=1,Xi(e,t,n,i),t.child)}function q2(e,t,n,r,i){if(ha(n)){var a=!0;Sg(t)}else a=!1;if(ld(t,i),t.stateNode===null)Qp(e,t),eO(t,n,r),Wy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=ns(u):(u=ha(n)?Yc:Ui.current,u=gd(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||l!==u)&&B2(t,s,r,u),jl=!1;var h=t.memoizedState;s.state=h,Pg(t,r,s,i),l=t.memoizedState,o!==r||h!==l||ma.current||jl?(typeof d=="function"&&(Uy(t,n,d,r),l=t.memoizedState),(o=jl||R2(t,n,o,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,O5(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:bs(t.type,o),s.props=u,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ns(l):(l=ha(n)?Yc:Ui.current,l=gd(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==l)&&B2(t,s,r,l),jl=!1,h=t.memoizedState,s.state=h,Pg(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||ma.current||jl?(typeof m=="function"&&(Uy(t,n,m,r),p=t.memoizedState),(u=jl||R2(t,n,u,r,h,p,l)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return qy(e,t,n,r,a,i)}function qy(e,t,n,r,i,a){aO(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&M2(t,n,!1),Uo(e,t,a);r=t.stateNode,EU.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=vd(t,e.child,null,a),t.child=vd(t,null,o,a)):Xi(e,t,o,a),t.memoizedState=r.state,i&&M2(t,n,!0),t.child}function sO(e){var t=e.stateNode;t.pendingContext?T2(e,t.pendingContext,t.pendingContext!==t.context):t.context&&T2(e,t.context,!1),uk(e,t.containerInfo)}function K2(e,t,n,r,i){return xd(),ik(i),t.flags|=256,Xi(e,t,n,r),t.child}var Ky={dehydrated:null,treeContext:null,retryLane:0};function Gy(e){return{baseLanes:e,cachePool:null,transitions:null}}function oO(e,t,n){var r=t.pendingProps,i=Sr.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),ar(Sr,i&1),e===null)return By(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=ox(s,r,0,null),e=Uc(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Gy(n),t.memoizedState=Ky,e):vk(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return OU(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Vl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=Vl(o,a):(a=Uc(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?Gy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=Ky,r}return a=e.child,e=a.sibling,r=Vl(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function vk(e,t){return t=ox({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function dp(e,t,n,r){return r!==null&&ik(r),vd(t,e.child,null,n),e=vk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function OU(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=rb(Error(dt(422))),dp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=ox({mode:"visible",children:r.children},i,0,null),a=Uc(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&vd(t,e.child,null,s),t.child.memoizedState=Gy(s),t.memoizedState=Ky,a);if(!(t.mode&1))return dp(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(dt(419)),r=rb(a,r,void 0),dp(e,t,s,r)}if(o=(s&e.childLanes)!==0,da||o){if(r=xi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,zo(e,i),js(r,e,i,-1))}return Nk(),r=rb(Error(dt(421))),dp(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qU.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,Ta=Bl(i.nextSibling),Ea=t,vr=!0,ws=null,e!==null&&(Xa[Qa++]=Po,Xa[Qa++]=Do,Xa[Qa++]=Xc,Po=e.id,Do=e.overflow,Xc=t),t=vk(t,r.children),t.flags|=4096,t)}function G2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zy(e.return,t,n)}function ib(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function lO(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Xi(e,t,r.children,n),r=Sr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&G2(e,n,t);else if(e.tag===19)G2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ar(Sr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ib(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ib(t,!0,n,null,a);break;case"together":ib(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Uo(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Zc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(dt(153));if(t.child!==null){for(e=t.child,n=Vl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Vl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function IU(e,t,n){switch(t.tag){case 3:sO(t),xd();break;case 5:I5(t);break;case 1:ha(t.type)&&Sg(t);break;case 4:uk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ar(jg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ar(Sr,Sr.current&1),t.flags|=128,null):n&t.child.childLanes?oO(e,t,n):(ar(Sr,Sr.current&1),e=Uo(e,t,n),e!==null?e.sibling:null);ar(Sr,Sr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return lO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ar(Sr,Sr.current),r)break;return null;case 22:case 23:return t.lanes=0,iO(e,t,n)}return Uo(e,t,n)}var cO,Yy,uO,dO;cO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yy=function(){};uO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ic(Js.current);var a=null;switch(n){case"input":i=xy(e,i),r=xy(e,r),a=[];break;case"select":i=Pr({},i,{value:void 0}),r=Pr({},r,{value:void 0}),a=[];break;case"textarea":i=yy(e,i),r=yy(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wg)}ky(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rm.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lr("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};dO=function(e,t,n,r){n!==r&&(t.flags|=4)};function hf(e,t){if(!vr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ii(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _U(e,t,n){var r=t.pendingProps;switch(rk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(t),null;case 1:return ha(t.type)&&kg(),Ii(t),null;case 3:return r=t.stateNode,bd(),ur(ma),ur(Ui),fk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ws!==null&&(rw(ws),ws=null))),Yy(e,t),Ii(t),null;case 5:dk(t);var i=Ic(pm.current);if(n=t.type,e!==null&&t.stateNode!=null)uO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(dt(166));return Ii(t),null}if(e=Ic(Js.current),cp(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[Xs]=t,r[mm]=a,e=(t.mode&1)!==0,n){case"dialog":lr("cancel",r),lr("close",r);break;case"iframe":case"object":case"embed":lr("load",r);break;case"video":case"audio":for(i=0;i<Mf.length;i++)lr(Mf[i],r);break;case"source":lr("error",r);break;case"img":case"image":case"link":lr("error",r),lr("load",r);break;case"details":lr("toggle",r);break;case"input":r2(r,a),lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},lr("invalid",r);break;case"textarea":a2(r,a),lr("invalid",r)}ky(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&lp(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&lp(r.textContent,o,e),i=["children",""+o]):rm.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&lr("scroll",r)}switch(n){case"input":ep(r),i2(r,a,!0);break;case"textarea":ep(r),s2(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=wg)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=RE(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Xs]=t,e[mm]=r,cO(e,t,!1,!1),t.stateNode=e;e:{switch(s=Sy(n,r),n){case"dialog":lr("cancel",e),lr("close",e),i=r;break;case"iframe":case"object":case"embed":lr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mf.length;i++)lr(Mf[i],e);i=r;break;case"source":lr("error",e),i=r;break;case"img":case"image":case"link":lr("error",e),lr("load",e),i=r;break;case"details":lr("toggle",e),i=r;break;case"input":r2(e,r),i=xy(e,r),lr("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Pr({},r,{value:void 0}),lr("invalid",e);break;case"textarea":a2(e,r),i=yy(e,r),lr("invalid",e);break;default:i=r}ky(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="style"?UE(e,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&BE(e,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&im(e,l):typeof l=="number"&&im(e,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(rm.hasOwnProperty(a)?l!=null&&a==="onScroll"&&lr("scroll",e):l!=null&&U1(e,a,l,s))}switch(n){case"input":ep(e),i2(e,r,!1);break;case"textarea":ep(e),s2(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Gl(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?id(e,!!r.multiple,a,!1):r.defaultValue!=null&&id(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wg)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ii(t),null;case 6:if(e&&t.stateNode!=null)dO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(dt(166));if(n=Ic(pm.current),Ic(Js.current),cp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Xs]=t,(a=r.nodeValue!==n)&&(e=Ea,e!==null))switch(e.tag){case 3:lp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lp(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xs]=t,t.stateNode=r}return Ii(t),null;case 13:if(ur(Sr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(vr&&Ta!==null&&t.mode&1&&!(t.flags&128))D5(),xd(),t.flags|=98560,a=!1;else if(a=cp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(dt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(dt(317));a[Xs]=t}else xd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ii(t),a=!1}else ws!==null&&(rw(ws),ws=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Sr.current&1?ti===0&&(ti=3):Nk())),t.updateQueue!==null&&(t.flags|=4),Ii(t),null);case 4:return bd(),Yy(e,t),e===null&&dm(t.stateNode.containerInfo),Ii(t),null;case 10:return ok(t.type._context),Ii(t),null;case 17:return ha(t.type)&&kg(),Ii(t),null;case 19:if(ur(Sr),a=t.memoizedState,a===null)return Ii(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)hf(a,!1);else{if(ti!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Dg(e),s!==null){for(t.flags|=128,hf(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ar(Sr,Sr.current&1|2),t.child}e=e.sibling}a.tail!==null&&Br()>wd&&(t.flags|=128,r=!0,hf(a,!1),t.lanes=4194304)}else{if(!r)if(e=Dg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!vr)return Ii(t),null}else 2*Br()-a.renderingStartTime>wd&&n!==1073741824&&(t.flags|=128,r=!0,hf(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Br(),t.sibling=null,n=Sr.current,ar(Sr,r?n&1|2:n&1),t):(Ii(t),null);case 22:case 23:return Sk(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Aa&1073741824&&(Ii(t),t.subtreeFlags&6&&(t.flags|=8192)):Ii(t),null;case 24:return null;case 25:return null}throw Error(dt(156,t.tag))}function LU(e,t){switch(rk(t),t.tag){case 1:return ha(t.type)&&kg(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return bd(),ur(ma),ur(Ui),fk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dk(t),null;case 13:if(ur(Sr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(dt(340));xd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ur(Sr),null;case 4:return bd(),null;case 10:return ok(t.type._context),null;case 22:case 23:return Sk(),null;case 24:return null;default:return null}}var fp=!1,$i=!1,$U=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function Xu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Or(e,t,r)}else n.current=null}function Xy(e,t,n){try{n()}catch(r){Or(e,t,r)}}var Y2=!1;function FU(e,t){if(Oy=vg,e=g5(),tk(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Iy={focusedElem:e,selectionRange:n},vg=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){t=Mt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var v=p.memoizedProps,y=p.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?v:bs(t.type,v),y);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(N){Or(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}return p=Y2,Y2=!1,p}function Vf(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&Xy(t,n,a)}i=i.next}while(i!==r)}}function ax(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Qy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function fO(e){var t=e.alternate;t!==null&&(e.alternate=null,fO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Xs],delete t[mm],delete t[$y],delete t[yU],delete t[wU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function mO(e){return e.tag===5||e.tag===3||e.tag===4}function X2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||mO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wg));else if(r!==4&&(e=e.child,e!==null))for(Zy(e,t,n),e=e.sibling;e!==null;)Zy(e,t,n),e=e.sibling}function Jy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Jy(e,t,n),e=e.sibling;e!==null;)Jy(e,t,n),e=e.sibling}var Ni=null,ys=!1;function wl(e,t,n){for(n=n.child;n!==null;)hO(e,t,n),n=n.sibling}function hO(e,t,n){if(Zs&&typeof Zs.onCommitFiberUnmount=="function")try{Zs.onCommitFiberUnmount(Q0,n)}catch{}switch(n.tag){case 5:$i||Xu(n,t);case 6:var r=Ni,i=ys;Ni=null,wl(e,t,n),Ni=r,ys=i,Ni!==null&&(ys?(e=Ni,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ni.removeChild(n.stateNode));break;case 18:Ni!==null&&(ys?(e=Ni,n=n.stateNode,e.nodeType===8?Qv(e.parentNode,n):e.nodeType===1&&Qv(e,n),lm(e)):Qv(Ni,n.stateNode));break;case 4:r=Ni,i=ys,Ni=n.stateNode.containerInfo,ys=!0,wl(e,t,n),Ni=r,ys=i;break;case 0:case 11:case 14:case 15:if(!$i&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&Xy(n,t,s),i=i.next}while(i!==r)}wl(e,t,n);break;case 1:if(!$i&&(Xu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Or(n,t,o)}wl(e,t,n);break;case 21:wl(e,t,n);break;case 22:n.mode&1?($i=(r=$i)||n.memoizedState!==null,wl(e,t,n),$i=r):wl(e,t,n);break;default:wl(e,t,n)}}function Q2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new $U),t.forEach(function(r){var i=KU.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Ni=o.stateNode,ys=!1;break e;case 3:Ni=o.stateNode.containerInfo,ys=!0;break e;case 4:Ni=o.stateNode.containerInfo,ys=!0;break e}o=o.return}if(Ni===null)throw Error(dt(160));hO(a,s,i),Ni=null,ys=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Or(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pO(t,e),t=t.sibling}function pO(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vs(t,e),Ws(e),r&4){try{Vf(3,e,e.return),ax(3,e)}catch(v){Or(e,e.return,v)}try{Vf(5,e,e.return)}catch(v){Or(e,e.return,v)}}break;case 1:vs(t,e),Ws(e),r&512&&n!==null&&Xu(n,n.return);break;case 5:if(vs(t,e),Ws(e),r&512&&n!==null&&Xu(n,n.return),e.flags&32){var i=e.stateNode;try{im(i,"")}catch(v){Or(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&$E(i,a),Sy(o,s);var u=Sy(o,a);for(s=0;s<l.length;s+=2){var d=l[s],f=l[s+1];d==="style"?UE(i,f):d==="dangerouslySetInnerHTML"?BE(i,f):d==="children"?im(i,f):U1(i,d,f,u)}switch(o){case"input":vy(i,a);break;case"textarea":FE(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?id(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?id(i,!!a.multiple,a.defaultValue,!0):id(i,!!a.multiple,a.multiple?[]:"",!1))}i[mm]=a}catch(v){Or(e,e.return,v)}}break;case 6:if(vs(t,e),Ws(e),r&4){if(e.stateNode===null)throw Error(dt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(v){Or(e,e.return,v)}}break;case 3:if(vs(t,e),Ws(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lm(t.containerInfo)}catch(v){Or(e,e.return,v)}break;case 4:vs(t,e),Ws(e);break;case 13:vs(t,e),Ws(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(wk=Br())),r&4&&Q2(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?($i=(u=$i)||d,vs(t,e),$i=u):vs(t,e),Ws(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Mt=e,d=e.child;d!==null;){for(f=Mt=d;Mt!==null;){switch(h=Mt,m=h.child,h.tag){case 0:case 11:case 14:case 15:Vf(4,h,h.return);break;case 1:Xu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(v){Or(r,n,v)}}break;case 5:Xu(h,h.return);break;case 22:if(h.memoizedState!==null){J2(f);continue}}m!==null?(m.return=h,Mt=m):J2(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=zE("display",s))}catch(v){Or(e,e.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){Or(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vs(t,e),Ws(e),r&4&&Q2(e);break;case 21:break;default:vs(t,e),Ws(e)}}function Ws(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(mO(n)){var r=n;break e}n=n.return}throw Error(dt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(im(i,""),r.flags&=-33);var a=X2(e);Jy(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=X2(e);Zy(e,o,s);break;default:throw Error(dt(161))}}catch(l){Or(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function RU(e,t,n){Mt=e,gO(e)}function gO(e,t,n){for(var r=(e.mode&1)!==0;Mt!==null;){var i=Mt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||fp;if(!s){var o=i.alternate,l=o!==null&&o.memoizedState!==null||$i;o=fp;var u=$i;if(fp=s,($i=l)&&!u)for(Mt=i;Mt!==null;)s=Mt,l=s.child,s.tag===22&&s.memoizedState!==null?ej(i):l!==null?(l.return=s,Mt=l):ej(i);for(;a!==null;)Mt=a,gO(a),a=a.sibling;Mt=i,fp=o,$i=u}Z2(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Mt=a):Z2(e)}}function Z2(e){for(;Mt!==null;){var t=Mt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:$i||ax(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!$i)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:bs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&L2(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}L2(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&lm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}$i||t.flags&512&&Qy(t)}catch(h){Or(t,t.return,h)}}if(t===e){Mt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Mt=n;break}Mt=t.return}}function J2(e){for(;Mt!==null;){var t=Mt;if(t===e){Mt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Mt=n;break}Mt=t.return}}function ej(e){for(;Mt!==null;){var t=Mt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ax(4,t)}catch(l){Or(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){Or(t,i,l)}}var a=t.return;try{Qy(t)}catch(l){Or(t,a,l)}break;case 5:var s=t.return;try{Qy(t)}catch(l){Or(t,s,l)}}}catch(l){Or(t,t.return,l)}if(t===e){Mt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Mt=o;break}Mt=t.return}}var BU=Math.ceil,Eg=Jo.ReactCurrentDispatcher,bk=Jo.ReactCurrentOwner,ts=Jo.ReactCurrentBatchConfig,En=0,xi=null,qr=null,ji=0,Aa=0,Qu=nc(0),ti=0,bm=null,Zc=0,sx=0,yk=0,Hf=null,ca=null,wk=0,wd=1/0,So=null,Og=!1,ew=null,Ul=null,mp=!1,Il=null,Ig=0,qf=0,tw=null,Zp=-1,Jp=0;function Ji(){return En&6?Br():Zp!==-1?Zp:Zp=Br()}function Wl(e){return e.mode&1?En&2&&ji!==0?ji&-ji:SU.transition!==null?(Jp===0&&(Jp=e5()),Jp):(e=Wn,e!==0||(e=window.event,e=e===void 0?16:o5(e.type)),e):1}function js(e,t,n,r){if(50<qf)throw qf=0,tw=null,Error(dt(185));Hm(e,n,r),(!(En&2)||e!==xi)&&(e===xi&&(!(En&2)&&(sx|=n),ti===4&&Ml(e,ji)),pa(e,r),n===1&&En===0&&!(t.mode&1)&&(wd=Br()+500,nx&&rc()))}function pa(e,t){var n=e.callbackNode;S6(e,t);var r=xg(e,e===xi?ji:0);if(r===0)n!==null&&c2(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&c2(n),t===1)e.tag===0?kU(tj.bind(null,e)):j5(tj.bind(null,e)),vU(function(){!(En&6)&&rc()}),n=null;else{switch(t5(r)){case 1:n=K1;break;case 4:n=ZE;break;case 16:n=gg;break;case 536870912:n=JE;break;default:n=gg}n=NO(n,xO.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function xO(e,t){if(Zp=-1,Jp=0,En&6)throw Error(dt(327));var n=e.callbackNode;if(cd()&&e.callbackNode!==n)return null;var r=xg(e,e===xi?ji:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_g(e,r);else{t=r;var i=En;En|=2;var a=bO();(xi!==e||ji!==t)&&(So=null,wd=Br()+500,zc(e,t));do try{WU();break}catch(o){vO(e,o)}while(!0);sk(),Eg.current=a,En=i,qr!==null?t=0:(xi=null,ji=0,t=ti)}if(t!==0){if(t===2&&(i=Py(e),i!==0&&(r=i,t=nw(e,i))),t===1)throw n=bm,zc(e,0),Ml(e,r),pa(e,Br()),n;if(t===6)Ml(e,r);else{if(i=e.current.alternate,!(r&30)&&!zU(i)&&(t=_g(e,r),t===2&&(a=Py(e),a!==0&&(r=a,t=nw(e,a))),t===1))throw n=bm,zc(e,0),Ml(e,r),pa(e,Br()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(dt(345));case 2:Nc(e,ca,So);break;case 3:if(Ml(e,r),(r&130023424)===r&&(t=wk+500-Br(),10<t)){if(xg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ji(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ly(Nc.bind(null,e,ca,So),t);break}Nc(e,ca,So);break;case 4:if(Ml(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Cs(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Br()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*BU(r/1960))-r,10<r){e.timeoutHandle=Ly(Nc.bind(null,e,ca,So),r);break}Nc(e,ca,So);break;case 5:Nc(e,ca,So);break;default:throw Error(dt(329))}}}return pa(e,Br()),e.callbackNode===n?xO.bind(null,e):null}function nw(e,t){var n=Hf;return e.current.memoizedState.isDehydrated&&(zc(e,t).flags|=256),e=_g(e,t),e!==2&&(t=ca,ca=n,t!==null&&rw(t)),e}function rw(e){ca===null?ca=e:ca.push.apply(ca,e)}function zU(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ds(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ml(e,t){for(t&=~yk,t&=~sx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Cs(t),r=1<<n;e[n]=-1,t&=~r}}function tj(e){if(En&6)throw Error(dt(327));cd();var t=xg(e,0);if(!(t&1))return pa(e,Br()),null;var n=_g(e,t);if(e.tag!==0&&n===2){var r=Py(e);r!==0&&(t=r,n=nw(e,r))}if(n===1)throw n=bm,zc(e,0),Ml(e,t),pa(e,Br()),n;if(n===6)throw Error(dt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,ca,So),pa(e,Br()),null}function kk(e,t){var n=En;En|=1;try{return e(t)}finally{En=n,En===0&&(wd=Br()+500,nx&&rc())}}function Jc(e){Il!==null&&Il.tag===0&&!(En&6)&&cd();var t=En;En|=1;var n=ts.transition,r=Wn;try{if(ts.transition=null,Wn=1,e)return e()}finally{Wn=r,ts.transition=n,En=t,!(En&6)&&rc()}}function Sk(){Aa=Qu.current,ur(Qu)}function zc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xU(n)),qr!==null)for(n=qr.return;n!==null;){var r=n;switch(rk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kg();break;case 3:bd(),ur(ma),ur(Ui),fk();break;case 5:dk(r);break;case 4:bd();break;case 13:ur(Sr);break;case 19:ur(Sr);break;case 10:ok(r.type._context);break;case 22:case 23:Sk()}n=n.return}if(xi=e,qr=e=Vl(e.current,null),ji=Aa=t,ti=0,bm=null,yk=sx=Zc=0,ca=Hf=null,Oc!==null){for(t=0;t<Oc.length;t++)if(n=Oc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Oc=null}return e}function vO(e,t){do{var n=qr;try{if(sk(),Yp.current=Mg,Tg){for(var r=Ar.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Tg=!1}if(Qc=0,pi=Jr=Ar=null,Wf=!1,gm=0,bk.current=null,n===null||n.return===null){ti=1,bm=t,qr=null;break}e:{var a=e,s=n.return,o=n,l=t;if(t=ji,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=U2(s);if(m!==null){m.flags&=-257,W2(m,s,o,a,t),m.mode&1&&z2(a,u,t),t=m,l=u;var p=t.updateQueue;if(p===null){var v=new Set;v.add(l),t.updateQueue=v}else p.add(l);break e}else{if(!(t&1)){z2(a,u,t),Nk();break e}l=Error(dt(426))}}else if(vr&&o.mode&1){var y=U2(s);if(y!==null){!(y.flags&65536)&&(y.flags|=256),W2(y,s,o,a,t),ik(yd(l,o));break e}}a=l=yd(l,o),ti!==4&&(ti=2),Hf===null?Hf=[a]:Hf.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=tO(a,l,t);_2(a,x);break e;case 1:o=l;var b=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof b.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ul===null||!Ul.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=nO(a,o,t);_2(a,N);break e}}a=a.return}while(a!==null)}wO(n)}catch(j){t=j,qr===n&&n!==null&&(qr=n=n.return);continue}break}while(!0)}function bO(){var e=Eg.current;return Eg.current=Mg,e===null?Mg:e}function Nk(){(ti===0||ti===3||ti===2)&&(ti=4),xi===null||!(Zc&268435455)&&!(sx&268435455)||Ml(xi,ji)}function _g(e,t){var n=En;En|=2;var r=bO();(xi!==e||ji!==t)&&(So=null,zc(e,t));do try{UU();break}catch(i){vO(e,i)}while(!0);if(sk(),En=n,Eg.current=r,qr!==null)throw Error(dt(261));return xi=null,ji=0,ti}function UU(){for(;qr!==null;)yO(qr)}function WU(){for(;qr!==null&&!h6();)yO(qr)}function yO(e){var t=SO(e.alternate,e,Aa);e.memoizedProps=e.pendingProps,t===null?wO(e):qr=t,bk.current=null}function wO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=LU(n,t),n!==null){n.flags&=32767,qr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ti=6,qr=null;return}}else if(n=_U(n,t,Aa),n!==null){qr=n;return}if(t=t.sibling,t!==null){qr=t;return}qr=t=e}while(t!==null);ti===0&&(ti=5)}function Nc(e,t,n){var r=Wn,i=ts.transition;try{ts.transition=null,Wn=1,VU(e,t,n,r)}finally{ts.transition=i,Wn=r}return null}function VU(e,t,n,r){do cd();while(Il!==null);if(En&6)throw Error(dt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(dt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(N6(e,a),e===xi&&(qr=xi=null,ji=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||mp||(mp=!0,NO(gg,function(){return cd(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ts.transition,ts.transition=null;var s=Wn;Wn=1;var o=En;En|=4,bk.current=null,FU(e,n),pO(n,e),uU(Iy),vg=!!Oy,Iy=Oy=null,e.current=n,RU(n),p6(),En=o,Wn=s,ts.transition=a}else e.current=n;if(mp&&(mp=!1,Il=e,Ig=i),a=e.pendingLanes,a===0&&(Ul=null),v6(n.stateNode),pa(e,Br()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Og)throw Og=!1,e=ew,ew=null,e;return Ig&1&&e.tag!==0&&cd(),a=e.pendingLanes,a&1?e===tw?qf++:(qf=0,tw=e):qf=0,rc(),null}function cd(){if(Il!==null){var e=t5(Ig),t=ts.transition,n=Wn;try{if(ts.transition=null,Wn=16>e?16:e,Il===null)var r=!1;else{if(e=Il,Il=null,Ig=0,En&6)throw Error(dt(331));var i=En;for(En|=4,Mt=e.current;Mt!==null;){var a=Mt,s=a.child;if(Mt.flags&16){var o=a.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(Mt=u;Mt!==null;){var d=Mt;switch(d.tag){case 0:case 11:case 15:Vf(8,d,a)}var f=d.child;if(f!==null)f.return=d,Mt=f;else for(;Mt!==null;){d=Mt;var h=d.sibling,m=d.return;if(fO(d),d===u){Mt=null;break}if(h!==null){h.return=m,Mt=h;break}Mt=m}}}var p=a.alternate;if(p!==null){var v=p.child;if(v!==null){p.child=null;do{var y=v.sibling;v.sibling=null,v=y}while(v!==null)}}Mt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Mt=s;else e:for(;Mt!==null;){if(a=Mt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Vf(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,Mt=x;break e}Mt=a.return}}var b=e.current;for(Mt=b;Mt!==null;){s=Mt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Mt=w;else e:for(s=b;Mt!==null;){if(o=Mt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:ax(9,o)}}catch(j){Or(o,o.return,j)}if(o===s){Mt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Mt=N;break e}Mt=o.return}}if(En=i,rc(),Zs&&typeof Zs.onPostCommitFiberRoot=="function")try{Zs.onPostCommitFiberRoot(Q0,e)}catch{}r=!0}return r}finally{Wn=n,ts.transition=t}}return!1}function nj(e,t,n){t=yd(n,t),t=tO(e,t,1),e=zl(e,t,1),t=Ji(),e!==null&&(Hm(e,1,t),pa(e,t))}function Or(e,t,n){if(e.tag===3)nj(e,e,n);else for(;t!==null;){if(t.tag===3){nj(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ul===null||!Ul.has(r))){e=yd(n,e),e=nO(t,e,1),t=zl(t,e,1),e=Ji(),t!==null&&(Hm(t,1,e),pa(t,e));break}}t=t.return}}function HU(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ji(),e.pingedLanes|=e.suspendedLanes&n,xi===e&&(ji&n)===n&&(ti===4||ti===3&&(ji&130023424)===ji&&500>Br()-wk?zc(e,0):yk|=n),pa(e,t)}function kO(e,t){t===0&&(e.mode&1?(t=rp,rp<<=1,!(rp&130023424)&&(rp=4194304)):t=1);var n=Ji();e=zo(e,t),e!==null&&(Hm(e,t,n),pa(e,n))}function qU(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),kO(e,n)}function KU(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(dt(314))}r!==null&&r.delete(t),kO(e,n)}var SO;SO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ma.current)da=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return da=!1,IU(e,t,n);da=!!(e.flags&131072)}else da=!1,vr&&t.flags&1048576&&A5(t,Cg,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qp(e,t),e=t.pendingProps;var i=gd(t,Ui.current);ld(t,n),i=hk(null,t,r,e,i,n);var a=pk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ha(r)?(a=!0,Sg(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ck(t),i.updater=ix,t.stateNode=i,i._reactInternals=t,Wy(t,r,e,n),t=qy(null,t,r,!0,a,n)):(t.tag=0,vr&&a&&nk(t),Xi(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qp(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=YU(r),e=bs(r,e),i){case 0:t=Hy(null,t,r,e,n);break e;case 1:t=q2(null,t,r,e,n);break e;case 11:t=V2(null,t,r,e,n);break e;case 14:t=H2(null,t,r,bs(r.type,e),n);break e}throw Error(dt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),Hy(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),q2(e,t,r,i,n);case 3:e:{if(sO(t),e===null)throw Error(dt(387));r=t.pendingProps,a=t.memoizedState,i=a.element,O5(e,t),Pg(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=yd(Error(dt(423)),t),t=K2(e,t,r,n,i);break e}else if(r!==i){i=yd(Error(dt(424)),t),t=K2(e,t,r,n,i);break e}else for(Ta=Bl(t.stateNode.containerInfo.firstChild),Ea=t,vr=!0,ws=null,n=M5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xd(),r===i){t=Uo(e,t,n);break e}Xi(e,t,r,n)}t=t.child}return t;case 5:return I5(t),e===null&&By(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,_y(r,i)?s=null:a!==null&&_y(r,a)&&(t.flags|=32),aO(e,t),Xi(e,t,s,n),t.child;case 6:return e===null&&By(t),null;case 13:return oO(e,t,n);case 4:return uk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vd(t,null,r,n):Xi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),V2(e,t,r,i,n);case 7:return Xi(e,t,t.pendingProps,n),t.child;case 8:return Xi(e,t,t.pendingProps.children,n),t.child;case 12:return Xi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ar(jg,r._currentValue),r._currentValue=s,a!==null)if(Ds(a.value,s)){if(a.children===i.children&&!ma.current){t=Uo(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=Oo(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),zy(a.return,n,t),o.lanes|=n;break}l=l.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(dt(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),zy(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}Xi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ld(t,n),i=ns(i),r=r(i),t.flags|=1,Xi(e,t,r,n),t.child;case 14:return r=t.type,i=bs(r,t.pendingProps),i=bs(r.type,i),H2(e,t,r,i,n);case 15:return rO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:bs(r,i),Qp(e,t),t.tag=1,ha(r)?(e=!0,Sg(t)):e=!1,ld(t,n),eO(t,r,i),Wy(t,r,i,n),qy(null,t,r,!0,e,n);case 19:return lO(e,t,n);case 22:return iO(e,t,n)}throw Error(dt(156,t.tag))};function NO(e,t){return QE(e,t)}function GU(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ja(e,t,n,r){return new GU(e,t,n,r)}function Ck(e){return e=e.prototype,!(!e||!e.isReactComponent)}function YU(e){if(typeof e=="function")return Ck(e)?1:0;if(e!=null){if(e=e.$$typeof,e===V1)return 11;if(e===H1)return 14}return 2}function Vl(e,t){var n=e.alternate;return n===null?(n=Ja(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function eg(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")Ck(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case zu:return Uc(n.children,i,a,t);case W1:s=8,i|=8;break;case my:return e=Ja(12,n,t,i|2),e.elementType=my,e.lanes=a,e;case hy:return e=Ja(13,n,t,i),e.elementType=hy,e.lanes=a,e;case py:return e=Ja(19,n,t,i),e.elementType=py,e.lanes=a,e;case IE:return ox(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case EE:s=10;break e;case OE:s=9;break e;case V1:s=11;break e;case H1:s=14;break e;case Cl:s=16,r=null;break e}throw Error(dt(130,e==null?e:typeof e,""))}return t=Ja(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function Uc(e,t,n,r){return e=Ja(7,e,r,t),e.lanes=n,e}function ox(e,t,n,r){return e=Ja(22,e,r,t),e.elementType=IE,e.lanes=n,e.stateNode={isHidden:!1},e}function ab(e,t,n){return e=Ja(6,e,null,t),e.lanes=n,e}function sb(e,t,n){return t=Ja(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function XU(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bv(0),this.expirationTimes=Bv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function jk(e,t,n,r,i,a,s,o,l){return e=new XU(e,t,n,o,l),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Ja(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ck(a),e}function QU(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function CO(e){if(!e)return Yl;e=e._reactInternals;e:{if(du(e)!==e||e.tag!==1)throw Error(dt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ha(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(dt(171))}if(e.tag===1){var n=e.type;if(ha(n))return C5(e,n,t)}return t}function jO(e,t,n,r,i,a,s,o,l){return e=jk(n,r,!0,e,i,a,s,o,l),e.context=CO(null),n=e.current,r=Ji(),i=Wl(n),a=Oo(r,i),a.callback=t??null,zl(n,a,i),e.current.lanes=i,Hm(e,i,r),pa(e,r),e}function lx(e,t,n,r){var i=t.current,a=Ji(),s=Wl(i);return n=CO(n),t.context===null?t.context=n:t.pendingContext=n,t=Oo(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=zl(i,t,s),e!==null&&(js(e,i,s,a),Gp(e,i,s)),s}function Lg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ak(e,t){rj(e,t),(e=e.alternate)&&rj(e,t)}function ZU(){return null}var AO=typeof reportError=="function"?reportError:function(e){console.error(e)};function Pk(e){this._internalRoot=e}cx.prototype.render=Pk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(dt(409));lx(e,t,null,null)};cx.prototype.unmount=Pk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Jc(function(){lx(null,e,null,null)}),t[Bo]=null}};function cx(e){this._internalRoot=e}cx.prototype.unstable_scheduleHydration=function(e){if(e){var t=i5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Tl.length&&t!==0&&t<Tl[n].priority;n++);Tl.splice(n,0,e),n===0&&s5(e)}};function Dk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ux(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ij(){}function JU(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Lg(s);a.call(u)}}var s=jO(t,r,e,0,null,!1,!1,"",ij);return e._reactRootContainer=s,e[Bo]=s.current,dm(e.nodeType===8?e.parentNode:e),Jc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Lg(l);o.call(u)}}var l=jk(e,0,!1,null,null,!1,!1,"",ij);return e._reactRootContainer=l,e[Bo]=l.current,dm(e.nodeType===8?e.parentNode:e),Jc(function(){lx(t,l,n,r)}),l}function dx(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var l=Lg(s);o.call(l)}}lx(t,s,e,i)}else s=JU(n,t,e,i,r);return Lg(s)}n5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Tf(t.pendingLanes);n!==0&&(G1(t,n|1),pa(t,Br()),!(En&6)&&(wd=Br()+500,rc()))}break;case 13:Jc(function(){var r=zo(e,1);if(r!==null){var i=Ji();js(r,e,1,i)}}),Ak(e,1)}};Y1=function(e){if(e.tag===13){var t=zo(e,134217728);if(t!==null){var n=Ji();js(t,e,134217728,n)}Ak(e,134217728)}};r5=function(e){if(e.tag===13){var t=Wl(e),n=zo(e,t);if(n!==null){var r=Ji();js(n,e,t,r)}Ak(e,t)}};i5=function(){return Wn};a5=function(e,t){var n=Wn;try{return Wn=e,t()}finally{Wn=n}};Cy=function(e,t,n){switch(t){case"input":if(vy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=tx(r);if(!i)throw Error(dt(90));LE(r),vy(r,i)}}}break;case"textarea":FE(e,n);break;case"select":t=n.value,t!=null&&id(e,!!n.multiple,t,!1)}};HE=kk;qE=Jc;var e8={usingClientEntryPoint:!1,Events:[Km,Hu,tx,WE,VE,kk]},pf={findFiberByHostInstance:Ec,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t8={bundleType:pf.bundleType,version:pf.version,rendererPackageName:pf.rendererPackageName,rendererConfig:pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jo.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=YE(e),e===null?null:e.stateNode},findFiberByHostInstance:pf.findFiberByHostInstance||ZU,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hp.isDisabled&&hp.supportsFiber)try{Q0=hp.inject(t8),Zs=hp}catch{}}Ra.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e8;Ra.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dk(t))throw Error(dt(200));return QU(e,t,null,n)};Ra.createRoot=function(e,t){if(!Dk(e))throw Error(dt(299));var n=!1,r="",i=AO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=jk(e,1,!1,null,null,n,!1,r,i),e[Bo]=t.current,dm(e.nodeType===8?e.parentNode:e),new Pk(t)};Ra.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(dt(188)):(e=Object.keys(e).join(","),Error(dt(268,e)));return e=YE(t),e=e===null?null:e.stateNode,e};Ra.flushSync=function(e){return Jc(e)};Ra.hydrate=function(e,t,n){if(!ux(t))throw Error(dt(200));return dx(null,e,t,!0,n)};Ra.hydrateRoot=function(e,t,n){if(!Dk(e))throw Error(dt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=AO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=jO(t,null,e,1,n??null,i,!1,a,s),e[Bo]=t.current,dm(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new cx(t)};Ra.render=function(e,t,n){if(!ux(t))throw Error(dt(200));return dx(null,e,t,!1,n)};Ra.unmountComponentAtNode=function(e){if(!ux(e))throw Error(dt(40));return e._reactRootContainer?(Jc(function(){dx(null,null,e,!1,function(){e._reactRootContainer=null,e[Bo]=null})}),!0):!1};Ra.unstable_batchedUpdates=kk;Ra.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ux(n))throw Error(dt(200));if(e==null||e._reactInternals===void 0)throw Error(dt(38));return dx(e,t,n,!1,r)};Ra.version="18.3.1-next-f1338f8080-20240426";function PO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PO)}catch(e){console.error(e)}}PO(),PE.exports=Ra;var Bd=PE.exports,aj=Bd;dy.createRoot=aj.createRoot,dy.hydrateRoot=aj.hydrateRoot;const n8=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),DO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],TO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],r8=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],MO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],i8=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],a8=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],s8=new Set([10244]),o8=(e,t)=>{var i;if(s8.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return a8.some(a=>r.includes(a))},l8=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},pp=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},EO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,OO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},mi=(e,t=2)=>Number.isFinite(e)?EO()&&Math.abs(e)>=1e4?OO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",Sl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return EO()&&t>=1e4?OO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var c8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),on=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...l},u)=>g.createElement("svg",{ref:u,...c8,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${u8(e)}`,...l},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},IO=on("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),d8=on("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),Tk=on("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),_O=on("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),f8=on("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Mk=on("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),m8=on("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),LO=on("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),iw=on("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),h8=on("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ts=on("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),p8=on("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),g8=on("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),x8=on("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),v8=on("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),ym=on("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),b8=on("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Ek=on("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),y8=on("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),$O=on("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),w8=on("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),Ok=on("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),k8=on("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Ik=on("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),S8=on("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),_k=on("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),vi=on("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),sj=on("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),N8=on("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),C8=on("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),j8=on("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),FO=on("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),kd=on("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),fx=on("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),mx=on("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),$g=on("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),A8=on("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),_l=on("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Wc=on("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),P8=on("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),_r=on("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),D8=on("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),RO=on("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ri=on("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),wm=on("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Lk=({className:e})=>c.jsx(N8,{className:e,strokeWidth:3.2}),fu=e=>{const t=e.replace(/^\/+/,"");if(typeof window<"u"){const i=window.location.pathname||"";if(i.includes("/reports/"))return`../../${t}`;if(i.includes("/web/web/"))return`../${t}`}const n="./";return`${n.endsWith("/")?n:`${n}/`}${t}`},$k=({className:e=""})=>{const t=fu("svg/custom-icons/mouse.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Fk=({className:e=""})=>{const t=fu("svg/custom-icons/gw2_aegis.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Vc=({className:e=""})=>{const t=fu("svg/custom-icons/gw2_boon.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Rk=({className:e=""})=>{const t=fu("svg/custom-icons/dam_mit.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Kf=({className:e=""})=>{const t=fu("svg/custom-icons/gw2_fury.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Bk=({className:e=""})=>{const t=fu("svg/custom-icons/gw2_sigil.svg");return c.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},T8=[{id:"overview",label:"Overview",icon:Wc,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:Wc},{id:"fight-breakdown",label:"Fight Breakdown",icon:_l},{id:"top-players",label:"Top Players",icon:Wc},{id:"top-skills-outgoing",label:"Top Skills",icon:Tk},{id:"squad-composition",label:"Classes",icon:_r},{id:"timeline",label:"Squad vs Enemy",icon:_r},{id:"map-distribution",label:"Map Distribution",icon:_k}]},{id:"roster",label:"Roster Intel",icon:ym,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:ym},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:_r},{id:"fight-comp",label:"Fight Comp",icon:_l}]},{id:"offense",label:"Offensive Stats",icon:_l,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:_l},{id:"player-breakdown",label:"Player Breakdown",icon:Ik},{id:"damage-breakdown",label:"Damage Breakdown",icon:Mk},{id:"spike-damage",label:"Spike Damage",icon:wm},{id:"conditions-outgoing",label:"Conditions",icon:fx}]},{id:"defense",label:"Defensive Stats",icon:kd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:j8},{id:"defense-detailed",label:"Defense Detailed",icon:kd},{id:"defense-mitigation",label:"Damage Mitigation",icon:Rk},{id:"boon-output",label:"Boon Output",icon:Vc},{id:"boon-timeline",label:"Boon Timeline",icon:Fk},{id:"boon-uptime",label:"Boon Uptime",icon:Kf},{id:"support-detailed",label:"Support Detailed",icon:Lk},{id:"healing-stats",label:"Healing Stats",icon:$O}]},{id:"other",label:"Other Metrics",icon:$g,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Ek},{id:"special-buffs",label:"Special Buffs",icon:$g},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Bk},{id:"skill-usage",label:"Skill Usage",icon:Ok},{id:"apm-stats",label:"APM Breakdown",icon:$k}]}],M8=(e,t=!0,n=!1)=>{const[r,i]=g.useState(!1),[a,s]=g.useState("overview"),o=g.useRef(null),l=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>T8,[]),f=g.useMemo(()=>d.flatMap(p=>p.items),[d]),h=p=>{const v=p==="kdr"?"overview":p,y=o.current,x=document.getElementById(v);if(y&&x){const b=y.getBoundingClientRect(),N=x.getBoundingClientRect().top-b.top+y.scrollTop,j=Math.max(0,y.scrollHeight-y.clientHeight),k=Math.min(Math.max(N-16,0),j);y.scrollTo({top:k,behavior:"smooth"}),s(v)}else x&&(x.scrollIntoView({behavior:"smooth",block:"start"}),s(v));i(!1)};g.useEffect(()=>{if(e||n)return;const p=v=>{if(n)return;const y=o.current;if(!y)return;const x=v.target;if(!(x instanceof Element&&x.closest("[data-stats-mobile-nav]"))&&!(x instanceof Node&&y.contains(x))&&v.deltaY!==0&&!(y.scrollHeight<=y.clientHeight)){if(u.current+=v.deltaY,l.current===null){const b=()=>{const w=u.current;if(Math.abs(w)<.5){u.current=0,l.current=null;return}const N=w*.2;u.current=w-N,y.scrollBy({top:N,behavior:"auto"}),l.current=requestAnimationFrame(b)};l.current=requestAnimationFrame(b)}v.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),l.current!==null&&(cancelAnimationFrame(l.current),l.current=null),u.current=0}},[e,n]);const m=p=>{var b;const v=Math.max(0,f.findIndex(w=>w.id===a)),y=Math.min(Math.max(v+p,0),f.length-1),x=(b=f[y])==null?void 0:b.id;x&&h(x)};return g.useEffect(()=>{if(!t||n)return;const p=o.current;if(!p)return;let v=0;const y=()=>{var N;const b=p.getBoundingClientRect().top;let w=((N=f[0])==null?void 0:N.id)||"overview";f.forEach(j=>{const k=document.getElementById(j.id);if(!k)return;k.getBoundingClientRect().top-b<=24&&(w=j.id)}),s(j=>j===w?j:w)},x=()=>{v&&cancelAnimationFrame(v),v=requestAnimationFrame(y)};return y(),p.addEventListener("scroll",x,{passive:!0}),window.addEventListener("resize",x),()=>{v&&cancelAnimationFrame(v),p.removeEventListener("scroll",x),window.removeEventListener("resize",x)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:i,activeNavId:a,setActiveNavId:s,scrollContainerRef:o,tocGroups:d,tocItems:f,scrollToSection:h,stepSection:m}},oj=["selfBuffs","groupBuffs","squadBuffs"],ko=(e,t,n=0)=>t?e/t:n,lj=e=>e!=null&&e.classification?e.classification==="Boon":!0,BO=e=>`b${e}`,E8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},zO=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},O8=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,l=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:o.generationMs+l.generationMs,wastedMs:o.wastedMs+l.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let h=1;t==="groupBuffs"?h=ko(a-i,i,1):t==="squadBuffs"?h=ko(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?ko(d,r):ko(d,r)*100,p=n?ko(f,r):ko(f,r)*100;else{const v=ko(d,r)/(h||1),y=ko(f,r)/(h||1);m=n?v:v*100,p=n?y:y*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},UO=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=O8(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?ko(i,s):a},I8=(e,t,n,r,i)=>{const a=UO(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",l=i!=null&&i.roundCountStats&&!s&&!o?0:2,u=a.toLocaleString(void 0,{minimumFractionDigits:l,maximumFractionDigits:l});return s?`${u}%`:u},_8=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,l=s.buffMap||{};Object.entries(l).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const v=t.get(m)||{},y={name:v.name||p.name,stacking:v.stacking??p.stacking,icon:v.icon||p.icon,classification:v.classification||p.classification};t.set(m,y)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",v=m.profession||"Unknown",y=m.group??0,x=h.get(y)||1,b=E8(m,o);n.has(p)||n.set(p,{account:p,profession:v,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=v,v!=="Unknown"&&(w.professions.add(v),w.professionTimeMs[v]=(w.professionTimeMs[v]||0)+b),w.activeTimeMs+=b,w.numFights+=1,w.groupSupported+=x,w.squadSupported+=f,oj.forEach(N=>{(m[N]||[]).forEach(k=>{var ee,le,ke,re;if(typeof(k==null?void 0:k.id)!="number")return;const A=BO(k.id),E=l[A];if(!lj(E))return;const F=(E==null?void 0:E.stacking)??!1,T=((le=(ee=k.buffData)==null?void 0:ee[0])==null?void 0:le.generation)??0,L=((re=(ke=k.buffData)==null?void 0:ke[0])==null?void 0:re.wasted)??0,{generationMs:_,wastedMs:K}=zO(N,F,T,L,o,x,f);!_&&!K||(t.has(A)||t.set(A,E||{}),w.boons[A]||(w.boons[A]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[A][N].generationMs+=_,w.boons[A][N].wastedMs+=K)})})})}),{boonTables:Array.from(t.keys()).filter(a=>lj(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(l=>{var m;const u=l.boons[a];if(!u||!oj.some(p=>u[p].generationMs>0||u[p].wastedMs>0))return;const f=Array.from(l.professions||[]).filter(p=>p&&p!=="Unknown");let h=l.profession;if(f.length>0){h=f[0];let p=((m=l.professionTimeMs)==null?void 0:m[h])||0;f.forEach(v=>{var x;const y=((x=l.professionTimeMs)==null?void 0:x[v])||0;y>p&&(p=y,h=v)})}o.push({account:l.account,profession:h||"Unknown",professionList:f,activeTimeMs:l.activeTimeMs||1,numFights:l.numFights||1,groupSupported:l.groupSupported||1,squadSupported:l.squadSupported||1,categories:{selfBuffs:{...u.selfBuffs},groupBuffs:{...u.groupBuffs},squadBuffs:{...u.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},aw=(e,t,n,r,i,a,s={})=>{var m,p,v,y;const l=((e==null?void 0:e[t])||[]).find(x=>x.id===n);if(!l)return{generationMs:0,wastedMs:0};const u=s[BO(n)],d=(u==null?void 0:u.stacking)??!1,f=((p=(m=l.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((y=(v=l.buffData)==null?void 0:v[0])==null?void 0:y.wasted)??0;return zO(t,d,f,h,r,i,a)},L8={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},$8={methods:L8},F8=$8,zk="count",R8=e=>(e||0)/1e3,B8=(e,t)=>{var i;if(!e)return 0;const n=(i=F8.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},WO=(e,t,n)=>n==="duration"?R8(t):n==="tiered"?B8(e,t):e;function z8(e,t=zk){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return WO(r,i,t)}function U8(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const l=o.group??0;s.set(l,(s.get(l)||0)+1)}),i.forEach(o=>{const l=s.get(o.group??0)||1,u=aw(o,"selfBuffs",1122,n,l,a,r),d=aw(o,"squadBuffs",1122,n,l,a,r);o.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function W8(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function V8(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function H8(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const cj=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},uj=(e,t=zk)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return WO(r,i,t)},dj=e=>W8(e),fj=e=>H8(e),mj=e=>V8(e),hj=(e,t=zk)=>z8(e,t),q8=(e,t)=>U8(e,t),K8="count",VO={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},sw={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},G8={uploading:!1,message:null,url:null,buildStatus:"idle"},pj=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),HO={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},gp=e=>{if(e)return HO[e]},ud=(e,t)=>{if(!e||t===void 0||t===null)return;const n=Number(t);return Number.isFinite(n)?e[`b${n}`]||e[String(n)]:e[String(t)]},km=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=pj.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=pj.get(i);if(a)return a}return null},$u=e=>km(e),qO=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=km(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(HO).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},tg=(e,t,n)=>{var r;if(t&&n){const i=(r=ud(n,t))==null?void 0:r.name,a=km(i);if(a)return a}return e?km(e):null},Y8=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},X8=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},Q8=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},Z8=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||Y8,s=qO(i),o={},l={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(v=>{v&&v.forEach(y=>{if(!y.id)return;let x=`Skill ${y.id}`,b;r&&(r[`s${y.id}`]?(x=r[`s${y.id}`].name||x,b=r[`s${y.id}`].icon||b):r[`${y.id}`]&&(x=r[`${y.id}`].name||x,b=r[`${y.id}`].icon||b));const w=ud(i,y.id);x.startsWith("Skill ")&&(w!=null&&w.name)&&(x=w.name,b=w.icon||b);const N=tg(x,y.id,i);if(!N)return;const j=w==null?void 0:w.name,k=s.get(N)||(w==null?void 0:w.icon),A=x.startsWith("Skill ")?j||N:x,E=b||(w==null?void 0:w.icon),F=Number(y.connectedHits??0),T=Number(y.hits??0),L=F>0?F:T,_=Number(y.totalDamage??0);if(!Number.isFinite(L)&&!Number.isFinite(_))return;const K=l[N]||{name:N,icon:k,applications:0,damage:0};K.applications+=Number.isFinite(L)?L:0,K.damage+=Number.isFinite(_)?_:0,!K.icon&&k&&(K.icon=k),l[N]=K;const ee=o[p][N]||{icon:k,applications:0,damage:0,skills:{}};ee.applications+=Number.isFinite(L)?L:0,ee.damage+=Number.isFinite(_)?_:0;const le=ee.skills[A]||{name:A,hits:0,damage:0,icon:E};le.hits+=Number.isFinite(L)?L:0,le.damage+=Number.isFinite(_)?_:0,!le.icon&&E&&(le.icon=E),ee.skills[A]=le,!ee.icon&&k&&(ee.icon=k),o[p][N]=ee})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&u.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const v=Number(p==null?void 0:p.id);if(!Number.isFinite(v))return;const y=ud(i,v),x=km(y==null?void 0:y.name);if(!x||y!=null&&y.classification&&y.classification!=="Condition")return;const b=x;if(!b)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([N,j])=>{var L;const k=u.get(N);if(!k)return;f+=1;const A=X8(j),E=Q8(j);d+=A;const F=((L=o[k])==null?void 0:L[b])||{applications:0,damage:0,skills:{}};F.applicationsFromBuffs=(F.applicationsFromBuffs||0)+A,F.applicationsFromBuffsActive=(F.applicationsFromBuffsActive||0)+E,o[k]=o[k]||{},o[k][b]=F;const T=l[b]||{name:b,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+A,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+E,l[b]=T})})}),Object.values(o).forEach(m=>{Object.values(m).forEach(p=>{typeof p.applicationsFromBuffs=="number"&&(p.applications=p.applicationsFromBuffs)})}),Object.values(l).forEach(m=>{typeof m.applicationsFromBuffs=="number"&&(m.applications=m.applicationsFromBuffs)}),{playerConditions:o,summary:l,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},eu={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},J8={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function Io(e){return eu[e]||eu.Unknown}function eW(e){return e?J8[e]||e:"Unknown"}function _c(e){if(!e)return null;let t="./svg/class-icons";if(typeof window<"u"){const i=window.location.host||"",a=window.location.pathname||"",s=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(i)&&a.startsWith("/web/");a.includes("/reports/")?t="../../svg/class-icons":a.includes("/web/web/")?t="../svg/class-icons":s&&(t="/svg/class-icons")}const n=eu[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=eW(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const tW=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Zr=(e,t)=>tW((e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)??(e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)),Ef=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i,includePlayerSkillMap:a})=>{const s=m=>{var v;return(Array.isArray((v=m==null?void 0:m.details)==null?void 0:v.players)?m.details.players:[]).length>0},o=e.filter(m=>s(m)),l=r||sw,u=n||VO,d=m=>{if(!m||typeof m!="object")return m;const p=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!p||p.length===0)return m;const v=k=>Array.isArray(k)&&k.some(A=>A&&Number(A.count)>0),y=new Map,x=new Map;e.forEach(k=>{var F;const A=(k==null?void 0:k.filePath)||(k==null?void 0:k.id);A&&y.set(String(A),k);const E=(k==null?void 0:k.permalink)||((F=k==null?void 0:k.details)==null?void 0:F.permalink);typeof E=="string"&&E.trim()&&x.set(E.trim(),k)});const b=p.map(k=>{var _;if(!k||typeof k!="object")return k;const A=k.id?String(k.id):"",E=typeof k.permalink=="string"?k.permalink.trim():"",F=(A?y.get(A):void 0)||(E?x.get(E):void 0);if(!F)return k;let T=k;if(Number(k.timestamp)<=0){const K=Zr(F==null?void 0:F.details,F);K&&(T={...T,timestamp:K})}const L=(_=F==null?void 0:F.details)==null?void 0:_.teamBreakdown;return v(L)&&(T={...T,teamBreakdown:L}),T}),w=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],j=w.some(k=>Array.isArray(k==null?void 0:k.targetFocus)&&k.targetFocus.some(A=>Number((A==null?void 0:A.damage)||0)>0||Number((A==null?void 0:A.hits)||0)>0))?w:b.map((k,A)=>{const E=k&&typeof k.enemyClassCounts=="object"&&k.enemyClassCounts?k.enemyClassCounts:{},F=Object.entries(E).map(([se,I])=>({label:String(se||"Unknown"),count:Number(I||0)})).filter(se=>se.count>0).sort((se,I)=>I.count-se.count||se.label.localeCompare(I.label)),T=F.reduce((se,I)=>se+I.count,0),L=F.map(se=>({label:se.label,damage:se.count,hits:0,share:T>0?se.count/T:0})),_=Number((k==null?void 0:k.enemyDowns)||0),K=Number((k==null?void 0:k.enemyDeaths)||0),ee=Number((k==null?void 0:k.alliesDown)||0),le=Number((k==null?void 0:k.alliesDead)||0),ke=Number((k==null?void 0:k.totalOutgoingDamage)||0),re=Number((k==null?void 0:k.totalIncomingDamage)||0),H=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:k!=null&&k.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((k==null?void 0:k.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((k==null?void 0:k.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:le>0?K/le:K},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:K},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:_},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:le},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:ee},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:ke-re},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:ke},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:re},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((k==null?void 0:k.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((k==null?void 0:k.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((k==null?void 0:k.alliesRevived)||0)}];return{id:String((k==null?void 0:k.id)||`fight-${A+1}`),shortLabel:`F${A+1}`,fullLabel:`${String((k==null?void 0:k.mapName)||(k==null?void 0:k.label)||"Unknown Map")}  ${String((k==null?void 0:k.duration)||"--:--")}`,mapName:String((k==null?void 0:k.mapName)||""),timestamp:Number((k==null?void 0:k.timestamp)||0),duration:String((k==null?void 0:k.duration)||"--:--"),isWin:!!(k!=null&&k.isWin),targetFocus:L,squadMetrics:H}});return{...m,fightBreakdown:b,fightDiffMode:j}},f=(()=>{if(t)return d(t);const m=i||K8,p=a!==!1,v=l.topSkillDamageSource||"target",y=l.topSkillsMetric||"damage",x=o.length;let b=0,w=0,N=0,j=0,k=0,A=0,E=0,F=0;const T=D=>{const J=((D==null?void 0:D.players)||[]).filter(yt=>!yt.notInSquad);let Ne=0,ue=0,We=0,Ie=0;return J.forEach(yt=>{var fe;const vt=(fe=yt.defenses)==null?void 0:fe[0];if(!vt)return;const zt=Number(vt.downCount||0),qe=Number(vt.deadCount||0);Ne+=zt+qe,We+=qe}),J.forEach(yt=>{!yt.statsTargets||yt.statsTargets.length===0||yt.statsTargets.forEach(vt=>{const zt=vt==null?void 0:vt[0];if(!zt)return;const qe=Number(zt.downed||0),fe=Number(zt.killed||0);ue+=qe+fe,Ie+=fe})}),{squadDownsDeaths:Ne,enemyDownsDeaths:ue,squadDeaths:We,enemyDeaths:Ie}},L=D=>{const{squadDownsDeaths:$,enemyDownsDeaths:J}=T(D);return $>0||J>0?J>$:typeof(D==null?void 0:D.success)=="boolean"?D.success:!1},_=new Map,K=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),ee={},le={},ke=new Map,re={},H={},se={},I=new Map,P=new Map,Z=new Set(Object.keys(eu)),S=Object.keys(eu).filter(D=>D&&D!=="Unknown").sort((D,$)=>$.length-D.length),W=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],R=D=>{if(!D)return"Unknown";const $=String(D).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(Z.has($))return $;const J=$.toLowerCase();for(const ue of S)if(J.includes(ue.toLowerCase()))return ue;return W.find(ue=>J.includes(ue.toLowerCase()))||$||"Unknown"},q=D=>D!=null&&D.classification?D.classification==="Boon":!0,ne=new Map,Y=new Map,z=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),U=D=>{const $=Number(D);return Number.isFinite($)?$:0},V=D=>{const $=String(D).split("|"),J=$[0]||"Unknown",Ne=R($[1]||"Unknown"),ue=$[2]||J||"Unknown";return{name:J,profession:Ne,account:ue}},G=(D,$,J)=>{let Ne=D.get($);return Ne?J.profession&&!Ne.professionList.includes(J.profession)&&Ne.professionList.push(J.profession):(Ne={account:J.account,name:J.name,profession:J.profession,professionList:J.profession?[J.profession]:[],activeMs:0,mitigationTotals:z()},D.set($,Ne)),Ne},B=(D,$,J)=>{let Ne=D.get($);return Ne?J.profession&&!Ne.professionList.includes(J.profession)&&Ne.professionList.push(J.profession):(Ne={account:J.account,name:J.name,profession:J.profession,professionList:J.profession?[J.profession]:[],activeMs:0,mitigationTotals:z(),minion:J.minion},D.set($,Ne)),Ne},de=(D,$)=>{D.totalHits+=U(($==null?void 0:$.skill_hits)??($==null?void 0:$.skillHits)),D.blocked+=U($==null?void 0:$.blocked),D.evaded+=U($==null?void 0:$.evaded),D.glanced+=U($==null?void 0:$.glanced),D.missed+=U($==null?void 0:$.missed),D.invulned+=U($==null?void 0:$.invulned),D.interrupted+=U($==null?void 0:$.interrupted),D.totalMitigation+=U(($==null?void 0:$.avoided_damage)??($==null?void 0:$.avoidedDamage)),D.minMitigation+=U(($==null?void 0:$.min_avoided_damage)??($==null?void 0:$.minAvoidedDamage))},X=D=>Object.values(D).some($=>$>0),ie=new Map,Ve=D=>{const $=ie.get(D);if(!$)return{hasSkill:!1,avg:1,min:1,hits:0};const J=$.connectedHits||0,Ne=J>0?$.totalDamage/J:0,ue=$.minCount>0?$.minTotal/$.minCount:0;return{hasSkill:!0,avg:Ne,min:ue,hits:J}},Ge=new Map,kt=new Map,Ae=(D,$,J)=>{const Ne=D.get($)||z();return Ne.totalHits+=J.totalHits,Ne.blocked+=J.blocked,Ne.evaded+=J.evaded,Ne.glanced+=J.glanced,Ne.missed+=J.missed,Ne.invulned+=J.invulned,Ne.interrupted+=J.interrupted,D.set($,Ne),Ne};o.forEach(D=>{const $=D.details;if(!$)return;($.targets||[]).forEach(Ne=>{const ue=(Ne==null?void 0:Ne.totalDamageDist)||[],We=Array.isArray(ue)?ue[0]:null;We==null||We.forEach(Ie=>{if(!(Ie!=null&&Ie.id))return;const yt=Number(Ie.id),vt=ie.get(yt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};vt.totalDamage+=Number(Ie.totalDamage||0),vt.connectedHits+=Number(Ie.connectedHits||0);const zt=Number.isFinite(Number(Ie.min))?Number(Ie.min):0;vt.minTotal+=zt,vt.minCount+=1,ie.set(yt,vt)})})}),o.forEach(D=>{var tt,it;const $=D.details;if(!$)return;const J=$.players,Ne=$.targets||[],ue=$.combatReplayMetaData||{},We=(ue==null?void 0:ue.inchToPixel)>0?ue.inchToPixel:1,Ie=(ue==null?void 0:ue.pollingRate)>0?ue.pollingRate:1,yt=5e3,vt=ce=>Array.isArray(ce)?ce.map(ge=>Array.isArray(ge)?[Number(ge[0]),Number(ge[1])]:null).filter(ge=>!!ge&&Number.isFinite(ge[0])):[];let zt=[],qe=$.durationMS||0,fe=!1;const he=J.find(ce=>(ce==null?void 0:ce.hasCommanderTag)&&!(ce!=null&&ce.notInSquad));(tt=he==null?void 0:he.combatReplayData)!=null&&tt.positions&&(zt=he.combatReplayData.positions,vt(he.combatReplayData.dead).forEach(([ge])=>{ge>0&&(fe=!0,qe=Math.min(qe,ge))}));const nt=ce=>{var Ee;const ge=(Ee=ce.statsAll)==null?void 0:Ee[0];if((ge==null?void 0:ge.distToCom)!==void 0&&(ge==null?void 0:ge.distToCom)!=="Infinity")return Math.round(Number(ge.distToCom));if((ge==null?void 0:ge.stackDist)!==void 0)return Math.round(Number(ge.stackDist))||0;if(ce.hasCommanderTag)return 0;const ot=ce.combatReplayData;if(!(ot!=null&&ot.positions)||!zt.length)return 0;const bt=ot.positions,je=vt(ot.dead),oe=vt(ot.down),Rt=Math.floor((ot.start||0)/Ie);let Te=0;if(je.length&&oe.length)for(const[gt]of je){if(gt<0)continue;const ut=Math.max(0,Math.floor(gt/Ie))-Rt;for(const[ct,He]of oe){if(gt!==He)continue;const mt=fe&&ct>qe?Math.max(1,Math.floor(qe/Ie)):ut,xt=Math.max(0,Math.min(mt,bt.length,zt.length));if(xt<=0)continue;let Bt=0;for(let Jt=0;Jt<xt;Jt++){const[gn,jn]=bt[Jt],[Fn,Tr]=zt[Jt];Bt+=Math.hypot(gn-Fn,jn-Tr)}Te=Math.round(Bt/xt/We)}}return Te},Ce=J.filter(ce=>!ce.notInSquad);N+=Ce.length,j+=Ne.filter(ce=>!ce.isFake).length,q8(J,{durationMS:$.durationMS,buffMap:$.buffMap});const{squadDeaths:rt,enemyDeaths:st}=T($);k+=rt,A+=st,F+=rt,E+=st,L($)?b++:w++;const Pe=$.skillMap?Number((it=Object.keys($.skillMap).find(ce=>{var ge,ot;return((ot=(ge=$.skillMap)==null?void 0:ge[ce])==null?void 0:ot.name)==="Battle Standard"}))==null?void 0:it.replace(/^s/,"")):null;J.forEach((ce,ge)=>{var wi,kr,oi,fl,ps,yu,Hi,za,Ei,fc,Rn,lo,qi;if(ce.notInSquad)return;const ot=ce.account||"Unknown",bt=ot!=="Unknown"?ot:ce.name||"Unknown",je=ce.name||"Unknown";_.has(bt)||_.set(bt,{name:je,account:bt,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:ce.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const oe=_.get(bt);if(ce.hasCommanderTag&&(oe.isCommander=!0),je!=="Unknown"&&oe.characterNames.add(String(je)),ce.profession&&ce.profession!=="Unknown"){oe.profession=ce.profession,oe.professions.add(ce.profession);const Qe=Array.isArray(ce.activeTimes)&&typeof ce.activeTimes[0]=="number"?ce.activeTimes[0]:$.durationMS||0;oe.professionTimeMs[ce.profession]=(oe.professionTimeMs[ce.profession]||0)+Qe}oe.logsJoined++,oe.downContrib+=dj(ce),oe.cleanses+=cj(ce),oe.strips+=uj(ce,m),oe.healing+=fj(ce),oe.barrier+=mj(ce),oe.cc+=hj(ce,m),oe.stab+=ce.stabGeneration||0;const Rt=nt(ce);Rt<=yt&&(oe.totalDist+=Rt,oe.distCount++),(wi=ce.defenses)!=null&&wi[0]&&(oe.dodges+=ce.defenses[0].dodgeCount||0,oe.downs+=ce.defenses[0].downCount||0,oe.deaths+=ce.defenses[0].deadCount||0),$.durationMS&&(oe.totalFightMs+=$.durationMS);const Te=Array.isArray(ce.activeTimes)&&typeof ce.activeTimes[0]=="number"?ce.activeTimes[0]:$.durationMS||0;oe.squadActiveMs+=Te;const Ee=Zr($,D),gt=Number(($==null?void 0:$.durationMS)||0);if(Ee>0&&((oe.firstSeenFightTs<=0||Ee<oe.firstSeenFightTs)&&(oe.firstSeenFightTs=Ee),oe.lastSeenFightTs<=0||Ee>oe.lastSeenFightTs?(oe.lastSeenFightTs=Ee,oe.lastSeenFightDurationMs=gt):Ee===oe.lastSeenFightTs&&gt>oe.lastSeenFightDurationMs&&(oe.lastSeenFightDurationMs=gt)),oe.defenseActiveMs+=Te,oe.supportActiveMs+=Te,oe.healingActiveMs+=Te,Array.isArray(ce.buffUptimes)&&ce.buffUptimes.length>0&&ce.buffUptimes.forEach(Qe=>{var Oh,Ih,co,_h,Lh,$h;if(typeof(Qe==null?void 0:Qe.id)!="number")return;const Fe=`b${Qe.id}`,$e=((Oh=$.buffMap)==null?void 0:Oh[Fe])||((Ih=$.buffMap)==null?void 0:Ih[String(Qe.id)]);if(!$e||q($e))return;const Le=Number(((_h=(co=Qe.buffData)==null?void 0:co[0])==null?void 0:_h.uptime)??0),ht=Number((($h=(Lh=Qe.buffData)==null?void 0:Lh[0])==null?void 0:$h.presence)??0);if((!Number.isFinite(Le)||Le<=0)&&(!Number.isFinite(ht)||ht<=0))return;const At=($e==null?void 0:$e.stacking)??!1,wn=(At?Number.isFinite(Le)?Le:0:Number.isFinite(Le)?Le/100:0)*Te,Yn=At?ht:Le,li=Math.min(Math.max(Number.isFinite(Yn)?Yn:0,0),100)/100*Te,Ki=Number.isFinite(wn)&&wn>0,mc=Number.isFinite(li)&&li>0;if(!Ki&&!mc)return;const vn=$u($e==null?void 0:$e.name);if(vn&&n8.has(vn)&&(!($e!=null&&$e.classification)||$e.classification==="Condition")){const wu=wn/1e3,oa=$e==null?void 0:$e.icon,hc=re[vn]||{name:vn,icon:oa,applications:0,damage:0};hc.applicationsFromUptime=(hc.applicationsFromUptime||0)+wu,!hc.icon&&oa&&(hc.icon=oa),re[vn]=hc;const ka=oe.outgoingConditions[vn]||{applications:0,damage:0,skills:{},icon:oa};ka.applicationsFromUptime=(ka.applicationsFromUptime||0)+wu,!ka.icon&&oa&&(ka.icon=oa),oe.outgoingConditions[vn]=ka;const uo=H[vn]||{name:vn,icon:oa,applications:0,damage:0};uo.applicationsFromUptime=(uo.applicationsFromUptime||0)+wu,!uo.icon&&oa&&(uo.icon=oa),H[vn]=uo;const fo=oe.incomingConditions[vn]||{applications:0,damage:0,skills:{},icon:oa};fo.applicationsFromUptime=(fo.applicationsFromUptime||0)+wu,!fo.icon&&oa&&(fo.icon=oa),oe.incomingConditions[vn]=fo}I.has(Fe)||I.set(Fe,{name:$e==null?void 0:$e.name,stacking:At,icon:$e==null?void 0:$e.icon}),P.has(Fe)||P.set(Fe,new Map);const Jd=P.get(Fe),gr=oe.account||ce.account||ce.name||"Unknown";let aa=Jd.get(gr);aa||(aa={account:gr,profession:oe.profession||ce.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},Jd.set(gr,aa));const sa=ce.profession||oe.profession;sa&&sa!=="Unknown"&&(aa.professions.add(sa),aa.professionTimeMs[sa]=(aa.professionTimeMs[sa]||0)+Te,aa.profession=sa),aa.totalMs+=Ki?wn:0,aa.uptimeMs+=mc?li:0,aa.durationMs+=Te}),(kr=ce.defenses)!=null&&kr[0]){const Qe=Le=>{let ht=String(Le||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return ht.toUpperCase().includes("UNKNOWN")&&(ht="Unknown"),ht},$e=(()=>{const Le=Array.isArray(ce==null?void 0:ce.minions)?ce.minions:[];if(Le.length===0)return{total:0,byMinion:{}};let ht=0;const At={};return Le.forEach(xn=>{const wn=Array.isArray(xn==null?void 0:xn.totalDamageTakenDist)?xn.totalDamageTakenDist:[],Yn=Array.isArray(wn[0])?wn[0]:[],Xn=Qe(xn==null?void 0:xn.name);Yn.forEach(li=>{const Ki=Number((li==null?void 0:li.totalDamage)??(li==null?void 0:li.damageTaken)??0);Number.isFinite(Ki)&&(ht+=Ki,At[Xn]=(At[Xn]||0)+Ki)})}),{total:ht,byMinion:At}})();$e.byMinion&&typeof $e.byMinion=="object"&&Object.entries($e.byMinion).forEach(([Le,ht])=>{const At=Number(ht||0);!Number.isFinite(At)||At<=0||(oe.defenseMinionDamageTaken[Le]=(oe.defenseMinionDamageTaken[Le]||0)+At)}),TO.forEach(Le=>{const ht=Le.id==="minionDamageTaken"?$e.total:Number(ce.defenses[0][Le.field]??0);Number.isFinite(ht)&&(oe.defenseTotals[Le.id]=(oe.defenseTotals[Le.id]||0)+ht)})}(oi=ce.support)!=null&&oi[0]&&MO.forEach(Qe=>{let Fe=Number(ce.support[0][Qe.field]??0);Number.isFinite(Fe)&&(K.has(Qe.field)&&Fe>999999&&(Fe=0),oe.supportTotals[Qe.id]=(oe.supportTotals[Qe.id]||0)+Fe)});const ut=(Qe,Fe)=>{Number.isFinite(Fe)&&(oe.healingTotals[Qe]=(oe.healingTotals[Qe]||0)+Fe)},ct=(Qe,Fe)=>Array.isArray(Qe)?Qe.reduce(($e,Le)=>$e+Number((Le==null?void 0:Le[Fe])??0),0):0,He=(Qe,Fe,$e)=>{if(!Number.isFinite($e)||$e<=0)return;const Le=J[Fe],ht=Fe===ge,At=Le==null?void 0:Le.notInSquad,xn=!At,wn=xn&&(Le==null?void 0:Le.group)!=null&&Le.group===ce.group;ut(Qe,$e),xn&&ut(`squad${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),wn&&ut(`group${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),ht&&ut(`self${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e),At&&ut(`offSquad${Qe[0].toUpperCase()}${Qe.slice(1)}`,$e)};if(Array.isArray(ce.rotation)){let Qe=0;ce.rotation.forEach(Fe=>{var Le;if(!(Fe!=null&&Fe.id)||!o8(Fe.id,$.skillMap))return;const $e=((Le=Fe.skills)==null?void 0:Le.length)||0;$e>0&&(Qe+=$e,ut(`resUtility_s${Fe.id}`,$e))}),Qe>0&&ut("resUtility",Qe)}const mt=(fl=ce.extHealingStats)==null?void 0:fl.outgoingHealingAllies;Array.isArray(mt)&&mt.forEach((Qe,Fe)=>{const $e=ct(Qe,"healing"),Le=ct(Qe,"downedHealing");He("healing",Fe,$e),He("downedHealing",Fe,Le)});const xt=(ps=ce.extBarrierStats)==null?void 0:ps.outgoingBarrierAllies;Array.isArray(xt)&&xt.forEach((Qe,Fe)=>{const $e=ct(Qe,"barrier");He("barrier",Fe,$e)});const Bt=(yu=ce.statsAll)==null?void 0:yu[0],Jt=(Hi=ce.dpsAll)==null?void 0:Hi[0],gn=(za=ce.support)==null?void 0:za[0];if(DO.forEach(Qe=>{if(Qe.id==="downContributionPercent"||!Qe.field)return;let Fe=0,$e=0;Qe.source==="dpsAll"&&Jt?Fe=Number(Jt[Qe.field]??0):Qe.source==="statsAll"&&Bt?(Fe=Number(Bt[Qe.field]??0),$e=Number(Bt[Qe.denomField||Qe.weightField||"connectedDamageCount"]??0)):Qe.source==="support"&&gn?Fe=Number(gn[Qe.field]??0):ce.statsTargets&&ce.statsTargets.forEach(Le=>{Le!=null&&Le[0]&&(Fe+=Number(Le[0][Qe.field]??0),$e+=Number(Le[0][Qe.denomField||Qe.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Fe)&&(oe.offenseTotals[Qe.id]=(oe.offenseTotals[Qe.id]||0)+Fe,Qe.isRate&&$e>0&&(oe.offenseRateWeights[Qe.id]=(oe.offenseRateWeights[Qe.id]||0)+$e))}),ce.targetDamageDist&&Number.isFinite(Pe)){const Qe=ce.targetDamageDist.flatMap(Fe=>Fe||[]).flatMap(Fe=>Fe||[]).reduce((Fe,$e)=>$e!=null&&$e.id&&$e.id===Pe?Fe+(($e==null?void 0:$e.connectedHits)||0):Fe,0);oe.offenseTotals.battleStandardHits=(oe.offenseTotals.battleStandardHits||0)+Qe}oe.revives+=((fc=(Ei=ce.support)==null?void 0:Ei[0])==null?void 0:fc.resurrects)||0,Jt&&(oe.damage+=Jt.damage||0,oe.dps+=Jt.dps||0);const jn=Qe=>{var At,xn;let Fe=`Skill ${Qe.id}`;const $e=((At=$.skillMap)==null?void 0:At[`s${Qe.id}`])||((xn=$.skillMap)==null?void 0:xn[`${Qe.id}`]);let Le=$e==null?void 0:$e.icon;$e!=null&&$e.name&&(Fe=$e.name);const ht=ud($.buffMap,Qe.id);if(Fe.startsWith("Skill ")&&(ht!=null&&ht.name)&&(Fe=ht.name,Le=ht.icon||Le),Fe.startsWith("Skill ")){const wn=tg(Fe,Qe.id,$.buffMap);wn&&(Fe=wn,Le=(ht==null?void 0:ht.icon)||Le)}return{name:Fe,icon:Le}},Fn=Qe=>{if(!(Qe!=null&&Qe.id))return;const{name:Fe,icon:$e}=jn(Qe);ee[Qe.id]||(ee[Qe.id]={name:Fe,icon:$e,damage:0,hits:0,downContribution:0}),ee[Qe.id].name.startsWith("Skill ")&&!Fe.startsWith("Skill ")&&(ee[Qe.id].name=Fe),!ee[Qe.id].icon&&$e&&(ee[Qe.id].icon=$e),ee[Qe.id].damage+=Qe.totalDamage,ee[Qe.id].hits+=Qe.connectedHits,ee[Qe.id].downContribution+=Number(Qe.downContribution||0)},Tr=ce.account||ce.name||"Unknown",zn=ce.profession||"Unknown",Mr=`${Tr}|${zn}`;let pr=ke.get(Mr);pr||(pr={key:Mr,account:Tr,displayName:Tr,profession:zn,professionList:[zn],totalFightMs:0,skills:new Map},ke.set(Mr,pr)),pr.professionList.includes(zn)||pr.professionList.push(zn),pr.totalFightMs+=$.durationMS||0;const Gn=Qe=>{if(!(Qe!=null&&Qe.id))return;const{name:Fe,icon:$e}=jn(Qe),Le=`s${Qe.id}`;let ht=pr.skills.get(Le);ht||(ht={id:Le,name:Fe,icon:$e,damage:0,downContribution:0},pr.skills.set(Le,ht)),ht.name.startsWith("Skill ")&&!Fe.startsWith("Skill ")&&(ht.name=Fe),!ht.icon&&$e&&(ht.icon=$e),ht.damage+=Number(Qe.totalDamage||0),ht.downContribution+=Number(Qe.downContribution||0)};if(v==="total")(Rn=ce.totalDamageDist)==null||Rn.forEach(Qe=>{Qe==null||Qe.forEach(Fe=>{Fn(Fe),Gn(Fe)})});else{const Qe=new Map;(lo=ce.targetDamageDist)==null||lo.forEach($e=>{$e==null||$e.forEach(Le=>{Le==null||Le.forEach(ht=>{const At=Number(ht==null?void 0:ht.id);if(Number.isFinite(At)){const xn=Qe.get(At)||{damage:0,hits:0,downContribution:0};xn.damage+=Number((ht==null?void 0:ht.totalDamage)||0),xn.hits+=Number((ht==null?void 0:ht.connectedHits)||0),xn.downContribution+=Number((ht==null?void 0:ht.downContribution)||0),Qe.set(At,xn)}Fn(ht),Gn(ht)})})}),!($!=null&&$.detailedWvW)&&((qi=ce.totalDamageDist)==null||qi.forEach($e=>{$e==null||$e.forEach(Le=>{const ht=Number(Le==null?void 0:Le.id);if(!Number.isFinite(ht))return;const At=Qe.get(ht);if(!At){Fn(Le),Gn(Le);return}const xn=Number((Le==null?void 0:Le.totalDamage)||0),wn=Number((Le==null?void 0:Le.connectedHits)||0),Yn=Number((Le==null?void 0:Le.downContribution)||0),Xn=xn-Number(At.damage||0),li=wn-Number(At.hits||0),Ki=Yn-Number(At.downContribution||0);if(Xn<=0&&li<=0&&Ki<=0)return;const mc={...Le,totalDamage:Math.max(0,Xn),connectedHits:Math.max(0,li),downContribution:Math.max(0,Ki)};Fn(mc),Gn(mc)})}))}ce.totalDamageTaken&&ce.totalDamageTaken.forEach(Qe=>{Qe==null||Qe.forEach(Fe=>{var xn,wn;if(!(Fe!=null&&Fe.id))return;let $e=`Skill ${Fe.id}`;const Le=((xn=$.skillMap)==null?void 0:xn[`s${Fe.id}`])||((wn=$.skillMap)==null?void 0:wn[`${Fe.id}`]);let ht=Le==null?void 0:Le.icon;Le!=null&&Le.name&&($e=Le.name);const At=ud($.buffMap,Fe.id);if($e.startsWith("Skill ")&&(At!=null&&At.name)&&($e=At.name,ht=At.icon||ht),$e.startsWith("Skill ")){const Yn=tg($e,Fe.id,$.buffMap);Yn&&($e=Yn,ht=(At==null?void 0:At.icon)||ht)}le[Fe.id]||(le[Fe.id]={name:$e,icon:ht,damage:0,hits:0}),(!le[Fe.id].name.startsWith("Skill ")||$e.startsWith("Skill "))&&(le[Fe.id].name=$e),!le[Fe.id].icon&&ht&&(le[Fe.id].icon=ht),le[Fe.id].damage+=Fe.totalDamage,le[Fe.id].hits+=Fe.hits})})}),Ne.forEach(ce=>{if(ce!=null&&ce.isFake)return;const ge=R((ce==null?void 0:ce.profession)||(ce==null?void 0:ce.name)||(ce==null?void 0:ce.id));ge&&(se[ge]=(se[ge]||0)+1)});const _e=Z8({players:J,targets:Ne,skillMap:$.skillMap,buffMap:$.buffMap,getPlayerKey:ce=>ce.account&&ce.account!=="Unknown"?ce.account:ce.name||null}),Re=qO($.buffMap);Object.entries(_e.playerConditions).forEach(([ce,ge])=>{const ot=_.get(ce);ot&&Object.entries(ge).forEach(([bt,je])=>{const oe=ot.outgoingConditions[bt]||{applications:0,damage:0,skills:{},icon:je.icon};oe.applications+=Number(je.applications||0),oe.damage+=Number(je.damage||0),je.applicationsFromBuffs&&(oe.applicationsFromBuffs=(oe.applicationsFromBuffs||0)+je.applicationsFromBuffs),je.applicationsFromBuffsActive&&(oe.applicationsFromBuffsActive=(oe.applicationsFromBuffsActive||0)+je.applicationsFromBuffsActive),Object.entries(je.skills||{}).forEach(([Rt,Te])=>{const Ee=oe.skills[Rt]||{name:Te.name,hits:0,damage:0,icon:Te.icon};Ee.hits+=Number(Te.hits||0),Ee.damage+=Number(Te.damage||0),!Ee.icon&&Te.icon&&(Ee.icon=Te.icon),oe.skills[Rt]=Ee}),!oe.icon&&je.icon&&(oe.icon=je.icon),ot.outgoingConditions[bt]=oe})}),Object.entries(_e.summary).forEach(([ce,ge])=>{const ot=re[ce]||{name:ge.name||ce,icon:ge.icon,applications:0,damage:0};ot.applications+=Number(ge.applications||0),ot.damage+=Number(ge.damage||0),ge.applicationsFromBuffs&&(ot.applicationsFromBuffs=(ot.applicationsFromBuffs||0)+ge.applicationsFromBuffs),ge.applicationsFromBuffsActive&&(ot.applicationsFromBuffsActive=(ot.applicationsFromBuffsActive||0)+ge.applicationsFromBuffsActive),!ot.icon&&ge.icon&&(ot.icon=ge.icon),re[ce]=ot}),Ce.forEach(ce=>{const ge=ce.account&&ce.account!=="Unknown"?ce.account:ce.name||"Unknown",ot=_.get(ge);!ot||!ce.totalDamageTaken||ce.totalDamageTaken.forEach(bt=>bt==null?void 0:bt.forEach(je=>{var gn,jn;if(!(je!=null&&je.id))return;let oe=`Skill ${je.id}`;const Rt=((gn=$.skillMap)==null?void 0:gn[`s${je.id}`])||((jn=$.skillMap)==null?void 0:jn[`${je.id}`]);Rt!=null&&Rt.name&&(oe=Rt.name);const Te=ud($.buffMap,je.id);oe.startsWith("Skill ")&&(Te!=null&&Te.name)&&(oe=Te.name);const Ee=tg(oe,je.id,$.buffMap);if(!Ee)return;const gt=Te==null?void 0:Te.name,ut=Re.get(Ee)||(Te==null?void 0:Te.icon),ct=(Rt==null?void 0:Rt.icon)||(Te==null?void 0:Te.icon)||ut;oe.startsWith("Skill ")&&(gt||Ee)&&(oe=gt||Ee);const He=Number(je.hits??0),mt=Number(je.totalDamage??0),xt=H[Ee]||{name:Ee,icon:ut,applications:0,damage:0};xt.applications+=Number.isFinite(He)?He:0,xt.damage+=Number.isFinite(mt)?mt:0,!xt.icon&&ut&&(xt.icon=ut),H[Ee]=xt;const Bt=ot.incomingConditions[Ee]||{applications:0,damage:0,skills:{},icon:ut};Bt.applications+=Number.isFinite(He)?He:0,Bt.damage+=Number.isFinite(mt)?mt:0;const Jt=Bt.skills[oe]||{name:oe,hits:0,damage:0,icon:ct};Jt.hits+=Number.isFinite(He)?He:0,Jt.damage+=Number.isFinite(mt)?mt:0,!Jt.icon&&ct&&(Jt.icon=ct),Bt.skills[oe]=Jt,!Bt.icon&&ut&&(Bt.icon=ut),ot.incomingConditions[Ee]=Bt}))});const Ke=$.player_damage_mitigation||$.playerDamageMitigation,Ye=Ke&&typeof Ke=="object"&&Object.keys(Ke).length>0;Ye&&Object.entries(Ke).forEach(([ce,ge])=>{if(!ge||typeof ge!="object")return;const ot=V(ce),bt=G(ne,ot.account,ot);Object.values(ge).forEach(je=>{U((je==null?void 0:je.avoided_damage)??(je==null?void 0:je.avoidedDamage))<=0||de(bt.mitigationTotals,je)})});const Ue=$.player_minion_damage_mitigation||$.playerMinionDamageMitigation,we=Ue&&typeof Ue=="object"&&Object.keys(Ue).length>0;we&&Object.entries(Ue).forEach(([ce,ge])=>{if(!ge||typeof ge!="object")return;const ot=V(ce);Object.entries(ge).forEach(([bt,je])=>{if(!je||typeof je!="object")return;const oe=`${ot.account}::${bt}`,Rt=B(Y,oe,{...ot,minion:String(bt||"Unknown")});Object.values(je).forEach(Te=>{de(Rt.mitigationTotals,Te)})})}),(!Ye||!we)&&(Ye||Ce.forEach(ce=>{const ge=(ce==null?void 0:ce.totalDamageTaken)||[];if(!Array.isArray(ge)||ge.length===0)return;const ot=ce.account||ce.name||"Unknown",bt={account:ot,name:ce.name||ot,profession:R(ce.profession||"Unknown")};G(ne,ot,bt);const je=Array.isArray(ge)?ge[0]:null;je==null||je.forEach(oe=>{if(!(oe!=null&&oe.id))return;const Rt=U(oe.blocked),Te=U(oe.evaded),Ee=U(oe.glance??oe.glanced),gt=U(oe.missed),ut=U(oe.invulned),ct=U(oe.interrupted),He=U(oe.hits??oe.connectedHits),mt=Number(oe.id);Ae(Ge,`${ot}::${mt}`,{totalHits:He,blocked:Rt,evaded:Te,glanced:Ee,missed:gt,invulned:ut,interrupted:ct})})}),we||Ce.forEach(ce=>{const ge=(ce==null?void 0:ce.minions)||[];if(!Array.isArray(ge)||ge.length===0)return;const ot=ce.account||ce.name||"Unknown",bt={account:ot,name:ce.name||ot,profession:R(ce.profession||"Unknown")};ge.forEach(je=>{const oe=(je==null?void 0:je.totalDamageTakenDist)||[];if(!Array.isArray(oe)||oe.length===0)return;let Rt=String((je==null?void 0:je.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Rt.toUpperCase().includes("UNKNOWN")&&(Rt="Unknown");const Te=`${ot}::${Rt}`;B(Y,Te,{...bt,minion:Rt});const Ee=Array.isArray(oe)?oe[0]:null;Ee==null||Ee.forEach(gt=>{if(!(gt!=null&&gt.id))return;const ut=U(gt.blocked),ct=U(gt.evaded),He=U(gt.glance??gt.glanced),mt=U(gt.missed),xt=U(gt.invulned),Bt=U(gt.interrupted),Jt=U(gt.hits??gt.connectedHits),gn=Number(gt.id);Ae(kt,`${Te}::${gn}`,{totalHits:Jt,blocked:ut,evaded:ct,glanced:He,missed:mt,invulned:xt,interrupted:Bt})})})}))});const me=(D,$)=>{const J=new Map,Ne=ue=>{let We=J.get(ue);return We||(We=z(),J.set(ue,We)),We};$.forEach((ue,We)=>{const Ie=We.lastIndexOf("::"),yt=Ie>-1?We.slice(0,Ie):We,vt=Ie>-1?Number(We.slice(Ie+2)):Number.NaN,zt=Number.isFinite(vt)?Ve(vt):{hasSkill:!1,avg:0,min:0,hits:0};if(!zt.hasSkill||zt.hits<=0)return;const qe=zt.avg,fe=zt.min,he=ue.glanced*qe/2+(ue.blocked+ue.evaded+ue.missed+ue.invulned+ue.interrupted)*qe,nt=ue.glanced*fe/2+(ue.blocked+ue.evaded+ue.missed+ue.invulned+ue.interrupted)*fe;if(he<=0)return;const Ce=Ne(yt);Ce.totalHits+=ue.totalHits,Ce.blocked+=ue.blocked,Ce.evaded+=ue.evaded,Ce.glanced+=ue.glanced,Ce.missed+=ue.missed,Ce.invulned+=ue.invulned,Ce.interrupted+=ue.interrupted,Ce.totalMitigation+=he,Ce.minMitigation+=nt}),D.forEach((ue,We)=>{const Ie=J.get(We)||z();ue.mitigationTotals.totalHits=Ie.totalHits,ue.mitigationTotals.blocked=Ie.blocked,ue.mitigationTotals.evaded=Ie.evaded,ue.mitigationTotals.glanced=Ie.glanced,ue.mitigationTotals.missed=Ie.missed,ue.mitigationTotals.invulned=Ie.invulned,ue.mitigationTotals.interrupted=Ie.interrupted,ue.mitigationTotals.totalMitigation=Ie.totalMitigation,ue.mitigationTotals.minMitigation=Ie.minMitigation})};me(ne,Ge),me(Y,kt);const be=x>0?Math.round(N/x):0,Xe=x>0?Math.round(j/x):0,pe=k>0?(A/k).toFixed(2):A>0?"":"0.00",tn=E>0?(F/E).toFixed(2):F>0?"":"0.00",Se=(D,$)=>{const Ne=D.filter(Ie=>Number.isFinite(Ie.value)&&($?Ie.value>0:Ie.value>=0)).sort((Ie,yt)=>{const vt=$?yt.value-Ie.value:Ie.value-yt.value;return vt!==0?vt:Ie.account.localeCompare(yt.account)});let ue=null,We=0;return Ne.map((Ie,yt)=>((ue===null||Ie.value!==ue)&&(We=yt+1,ue=Ie.value),{rank:We,...Ie}))},at=Array.from(_.values()).map(D=>{const $=Array.from(D.professions).filter(J=>J!=="Unknown");if(D.professionList=$,$.length>0){let J=$[0],Ne=D.professionTimeMs[J]||0;$.forEach(ue=>{const We=D.professionTimeMs[ue]||0;We>Ne&&(Ne=We,J=ue)}),D.profession=J}return{key:D.account,stat:D}}),Ft=D=>{const $=_.get(D.account);if(!$){const ue=D.professionList.length>0?D.professionList:D.profession?[D.profession]:[];return{...D,professionList:ue}}const J=$.professionList&&$.professionList.length>0?$.professionList:Array.from($.professions||[]).filter(ue=>ue&&ue!=="Unknown"),Ne=$.profession||D.profession;return{...D,profession:Ne,professionList:J.length>0?J:Ne?[Ne]:[],activeMs:$.defenseActiveMs||$.totalFightMs||D.activeMs}},nn=Array.from(ne.values()).map(Ft).filter(D=>X(D.mitigationTotals)).sort((D,$)=>D.account.localeCompare($.account)),hn=Array.from(Y.values()).map(Ft).filter(D=>D.mitigationTotals.totalMitigation>0).sort((D,$)=>{const J=D.account.localeCompare($.account);return J!==0?J:String(D.minion||"").localeCompare(String($.minion||""))}),mr=(D,$)=>{switch($){case"downContrib":return D.downContrib;case"barrier":return D.barrier;case"healing":return D.healing;case"dodges":return D.dodges;case"strips":return D.strips;case"cleanses":return D.cleanses;case"cc":return D.cc;case"stability":return D.stab;case"revives":return D.revives;case"dps":return D.dps;case"damage":return D.damage;case"participation":return D.logsJoined;case"closestToTag":return!D.isCommander&&D.distCount>0?D.totalDist/D.distCount:Number.POSITIVE_INFINITY;default:return 0}},mn=(D,$)=>Se(at.map(({stat:J})=>({account:J.account,profession:J.profession,professionList:J.professionList,value:mr(J,D),count:J.logsJoined})),$),un={downContrib:mn("downContrib",!0),barrier:mn("barrier",!0),healing:mn("healing",!0),dodges:mn("dodges",!0),strips:mn("strips",!0),cleanses:mn("cleanses",!0),cc:mn("cc",!0),stability:mn("stability",!0),revives:mn("revives",!0),participation:mn("participation",!0),dps:mn("dps",!0),damage:mn("damage",!0),closestToTag:mn("closestToTag",!1).filter(D=>Number.isFinite(D.value))},fs={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},pn=D=>{const $=D==null?void 0:D[0];return{value:($==null?void 0:$.value)??0,player:($==null?void 0:$.account)??"-",count:($==null?void 0:$.count)??0,profession:($==null?void 0:$.profession)??"Unknown",professionList:($==null?void 0:$.professionList)??[]}},Bn={maxDownContrib:pn([]),maxBarrier:pn([]),maxHealing:pn([]),maxDodges:pn([]),maxStrips:pn([]),maxCleanses:pn([]),maxCC:pn([]),maxStab:pn([]),closestToTag:pn([])},Mn={},Pi=(D,$)=>{if($==="closestToTag")return mr(D,$);const J=Math.max(1,(D.totalFightMs||0)/1e3);return mr(D,$)/J};Object.values(fs).forEach(D=>{const $=D!=="closestToTag";Mn[D]=Se(at.map(({stat:J})=>({account:J.account,profession:J.profession,professionList:J.professionList,value:Pi(J,D),count:J.logsJoined})),$)}),Bn.maxDownContrib=pn(Mn.downContrib),Bn.maxBarrier=pn(Mn.barrier),Bn.maxHealing=pn(Mn.healing),Bn.maxDodges=pn(Mn.dodges),Bn.maxStrips=pn(Mn.strips),Bn.maxCleanses=pn(Mn.cleanses),Bn.maxCC=pn(Mn.cc),Bn.maxStab=pn(Mn.stability),Bn.closestToTag=pn(Mn.closestToTag);const Ur={maxDownContrib:pn(un.downContrib),maxBarrier:pn(un.barrier),maxHealing:pn(un.healing),maxDodges:pn(un.dodges),maxStrips:pn(un.strips),maxCleanses:pn(un.cleanses),maxCC:pn(un.cc),maxStab:pn(un.stability),closestToTag:pn(un.closestToTag)};let Kn={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},uc,dc,sl=0;if(l!=null&&l.showMvp){const D={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},$=We=>{const Ie=D[We];return Ie?Number(u[Ie]||0)>0:!1},J=[],Ne=We=>[...We||[]].filter(Ie=>$(Ie==null?void 0:Ie.name)).sort((Ie,yt)=>yt.ratio-Ie.ratio||Ie.rank-yt.rank||Ie.name.localeCompare(yt.name)).slice(0,3),ue=We=>{var yt;if(!We)return;const Ie=Ne(We.contribs);return{...We,player:We.name,reason:((yt=Ie[0])==null?void 0:yt.name)||"Top Performance",topStats:Ie}};at.forEach(({stat:We})=>{let Ie=0;const yt=[],vt=(zt,qe,fe,he,nt=!0)=>{var rt,st;if(fe<=0)return;const Ce=((rt=qe[0])==null?void 0:rt.value)||0;if(Ce&&Number.isFinite(zt)&&(nt?zt>0:zt<Number.POSITIVE_INFINITY)){const St=nt?zt/Ce:Ce/zt;Ie+=St*fe;const Pe=((st=qe.find(_e=>_e.account===We.account))==null?void 0:st.rank)||0;yt.push({name:he,ratio:St,val:zt.toLocaleString(),rank:Pe})}};vt(We.downContrib,un.downContrib,u.downContribution,"Down Contribution"),vt(We.healing,un.healing,u.healing,"Healing"),vt(We.cleanses,un.cleanses,u.cleanses,"Cleanses"),vt(We.strips,un.strips,u.strips,"Strips"),vt(We.stab,un.stability,u.stability,"Stability"),vt(We.cc,un.cc,u.cc,"CC"),vt(We.revives,un.revives,u.revives,"Revives"),vt(mr(We,"closestToTag"),un.closestToTag,u.distanceToTag,"Distance to Tag",!1),vt(We.logsJoined,un.participation,u.participation,"Participation"),vt(We.dodges,un.dodges,u.dodging,"Dodging"),vt(We.dps,un.dps,u.dps,"DPS"),vt(We.damage,un.damage,u.damage,"Damage"),J.push({...We,score:Ie,contribs:yt.filter(zt=>$(zt.name))})}),J.sort((We,Ie)=>Ie.score-We.score),J[0]&&J[0].score>0&&(Kn=ue(J[0])||Kn),uc=ue(J[1]),dc=ue(J[2]),sl=J.length>0?J.reduce((We,Ie)=>We+Ie.score,0)/J.length:0}const Di=Object.values(ee).sort((D,$)=>$.damage-D.damage||$.hits-D.hits||String(D.name||"").localeCompare(String($.name||""))).slice(0,25),Rs=Object.values(ee).sort((D,$)=>$.downContribution-D.downContribution||$.hits-D.hits||String(D.name||"").localeCompare(String($.name||""))).slice(0,25),Xr=y==="downContribution"?Rs:Di,ms=Object.values(le).sort((D,$)=>$.damage-D.damage).slice(0,25),oo=D=>{const $=String(D).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),J=$.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return J?`${J[1]} Borderlands`:$||"Unknown"},ya=(D,$)=>oo((D==null?void 0:D.zone)||(D==null?void 0:D.mapName)||(D==null?void 0:D.map)||(D==null?void 0:D.location)||(D==null?void 0:D.fightName)||($==null?void 0:$.fightName)||($==null?void 0:$.encounterName)||"Unknown"),Ti=(D,$)=>{const J=($==null?void 0:$.permalink)||(D==null?void 0:D.permalink);if(typeof J=="string"&&J.trim().length>0)return J.trim();const Ne=D==null?void 0:D.uploadLinks;if(!Array.isArray(Ne))return"";for(const ue of Ne){if(typeof ue=="string"&&ue.trim().length>0)return ue.trim();if(ue&&typeof ue=="object"){const We=ue.permalink||ue.link||ue.url||ue.reportLink;if(typeof We=="string"&&We.trim().length>0)return We.trim()}}return""},ol=(D,$)=>{const J=Number((D==null?void 0:D.durationMS)||0);return J>0?pp(J):(typeof($==null?void 0:$.encounterDuration)=="string"?$.encounterDuration.trim():"")||"--:--"},hr=(D,$)=>{if((Array.isArray(D==null?void 0:D.players)?D.players:[]).length>0)return L(D);if(typeof(D==null?void 0:D.success)=="boolean")return D.success;const Ne=$==null?void 0:$.dashboardSummary;if(Ne&&typeof Ne=="object"){if(Ne.isWin===!0)return!0;if(Ne.isWin===!1)return!1}return null},hs=(D,$)=>{var Ie,yt;const J=Zr((Ie=D.log)==null?void 0:Ie.details,D.log),Ne=Zr((yt=$.log)==null?void 0:yt.details,$.log),ue=J>0,We=Ne>0;return ue&&We&&J!==Ne?J-Ne:ue!==We?ue?-1:1:D.originalIndex-$.originalIndex},wa=e.map((D,$)=>({log:D,originalIndex:$})).sort(hs),Zd=wa.filter(({log:D})=>s(D)),Lr={};o.forEach(D=>{const $=ya(D==null?void 0:D.details,D);Lr[$]=(Lr[$]||0)+1});const ll=Object.entries(Lr).map(([D,$])=>{const J=String(D).trim(),Ne=/eternal battlegrounds|^ebg$/i.test(J);let ue="#64748b";return Ne?ue="#ffffff":/red/i.test(J)?ue="#ef4444":/blue/i.test(J)?ue="#3b82f6":/green/i.test(J)&&(ue="#22c55e"),{name:D,value:$,color:ue}}).sort((D,$)=>$.value-D.value),{boonTables:cl}=_8(o),vu=(()=>{const D=fe=>String(fe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=fe=>D(fe).toLowerCase().split(/[^a-z0-9]+/i).map(he=>he.trim()).filter(Boolean).map(he=>he.length>3&&he.endsWith("s")?he.slice(0,-1):he),J=(fe,he)=>{const nt=D(fe),Ce=D(he);if(!Ce)return nt;if(!nt)return Ce;const rt=$(nt),st=$(Ce),St=new Set(rt),Pe=new Set(st),_e=st.length>0&&st.every(Ke=>St.has(Ke)),Re=rt.length>0&&rt.every(Ke=>Pe.has(Ke));return _e||Re?nt:`${nt} - ${Ce}`},Ne=new Map,ue=(fe,he)=>{if(!Ne.has(fe))Ne.set(fe,{id:fe,name:String((he==null?void 0:he.name)||fe),icon:he==null?void 0:he.icon,stacking:!!(he!=null&&he.stacking),players:new Map,fights:[]});else if(he){const nt=Ne.get(fe);(!nt.name||nt.name===fe)&&(he!=null&&he.name)&&(nt.name=String(he.name)),!nt.icon&&(he!=null&&he.icon)&&(nt.icon=String(he.icon)),!nt.stacking&&(he!=null&&he.stacking)&&(nt.stacking=!0)}return Ne.get(fe)},We=fe=>Array.isArray(fe)?fe.map(he=>Array.isArray(he)?[Number(he[0]),Number(he[1])]:he&&typeof he=="object"?[Number(he.time),Number(he.value)]:null).filter(he=>!!he&&Number.isFinite(he[0])&&Number.isFinite(he[1])&&he[0]>=0).sort((he,nt)=>he[0]-nt[0]):[],Ie=(fe,he,nt)=>{const Ce=fe.get(he)||[];Ce.length<nt&&(Ce.length=nt);for(let rt=0;rt<nt;rt+=1)Number.isFinite(Ce[rt])||(Ce[rt]=0);return fe.set(he,Ce),Ce},yt=(fe,he,nt,Ce,rt)=>{if(!he||he==="__all__"||Ce<=0)return;const st=We(nt);if(st.length===0)return;const St=Ie(fe,he,Ce),Pe=Math.max(1,Number(rt||0),Ce*5e3),_e=Ue=>Math.max(0,Math.min(Pe,Number(Ue||0))),Re=(Ue,we,tt)=>{if(!Number.isFinite(tt)||tt<=0)return;let it=_e(Ue);const ce=_e(we);if(!(ce<=it))for(;it<ce;){const ge=Math.max(0,Math.min(Ce-1,Math.floor(it/5e3))),ot=Math.min(ce,(ge+1)*5e3),bt=Math.max(0,ot-it);bt>0&&(St[ge]=Number(St[ge]||0)+bt*tt),it=ot}};let Ke=_e(st[0][0]),Ye=Math.max(0,Number(st[0][1]||0));for(let Ue=1;Ue<st.length;Ue+=1){const[we,tt]=st[Ue],it=_e(we);Re(Ke,it,Ye),Ke=it,Ye=Math.max(0,Number(tt||0))}Re(Ke,Pe,Ye)},vt=(fe,he,nt)=>{const Ce=Array.from({length:nt},(St,Pe)=>Number((fe==null?void 0:fe[Pe])||0)),rt=Ce.reduce((St,Pe)=>St+Number(Pe||0),0);if(!Number.isFinite(he)||he<=0)return Ce.map(()=>0);if(!Number.isFinite(rt)||rt<=0){const St=he/Math.max(1,nt);return Ce.map(()=>St)}const st=he/rt;return Ce.map(St=>Number(St||0)*st)},zt=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),qe=(fe,he,nt)=>{const Ce=Math.max(0,Number(nt||0));Ce&&(fe[he]=Number(fe[he]||0)+Ce,(he==="selfBuffs"||he==="squadBuffs")&&(fe.totalBuffs=Number(fe.totalBuffs||0)+Ce))};return o.map(fe=>({log:fe,ts:Zr(fe==null?void 0:fe.details,fe)})).sort((fe,he)=>fe.ts-he.ts).forEach(({log:fe},he)=>{const nt=fe==null?void 0:fe.details;if(!nt)return;const rt=(Array.isArray(nt.players)?nt.players:[]).filter(ge=>!(ge!=null&&ge.notInSquad)),st=rt.length;if(st<=0)return;const St=Math.max(0,Number((nt==null?void 0:nt.durationMS)||0)),Pe=Math.max(1,Math.ceil(Math.max(1,St)/5e3)),_e=nt!=null&&nt.buffMap&&typeof nt.buffMap=="object"?nt.buffMap:{},Re=new Map,Ke=new Map;rt.forEach(ge=>{const ot=Number((ge==null?void 0:ge.group)??0);Ke.set(ot,(Ke.get(ot)||0)+1);const je=String((ge==null?void 0:ge.account)||(ge==null?void 0:ge.name)||"Unknown");[ge==null?void 0:ge.name,ge==null?void 0:ge.display_name,ge==null?void 0:ge.character_name,ge==null?void 0:ge.account].map(oe=>String(oe||"").trim()).filter(Boolean).forEach(oe=>Re.set(oe,je))});const Ye=D(nt.fightName||fe.fightName||`Fight ${he+1}`),Ue=ya(nt,fe),we=J(Ye,String(Ue||"")),tt=new Map,it=new Map,ce=new Map;rt.forEach(ge=>{const ot=String((ge==null?void 0:ge.account)||(ge==null?void 0:ge.name)||"Unknown"),bt=String((ge==null?void 0:ge.profession)||"Unknown"),je=ot,oe=Number((ge==null?void 0:ge.group)??0),Rt=Math.max(1,Number(Ke.get(oe)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(Ee=>{(Array.isArray(ge==null?void 0:ge[Ee])?ge[Ee]:[]).forEach(ut=>{var wi;const ct=Number(ut==null?void 0:ut.id);if(!Number.isFinite(ct))return;const He=`b${ct}`,mt=_e[He]||{},xt=String((mt==null?void 0:mt.classification)||"");if(xt&&xt!=="Boon")return;const Bt=Number(((wi=aw(ge,Ee,ct,St,Rt,st,_e))==null?void 0:wi.generationMs)||0);if(!Number.isFinite(Bt)||Bt<=0)return;const Jt=ue(He,mt),gn=Jt.players.get(je)||{key:je,account:ot,displayName:ot,profession:bt,professionList:bt&&bt!=="Unknown"?[bt]:[],logs:0,totals:zt()};bt&&bt!=="Unknown"&&!gn.professionList.includes(bt)&&gn.professionList.push(bt),(!gn.profession||gn.profession==="Unknown")&&bt&&bt!=="Unknown"&&(gn.profession=bt);const jn=ce.get(He)||new Set;jn.has(je)||(jn.add(je),gn.logs+=1,ce.set(He,jn)),qe(gn.totals,Ee,Bt),Jt.players.set(je,gn);const Fn=Jt.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:zt()};qe(Fn.totals,Ee,Bt),Jt.players.set("__all__",Fn);const Tr=tt.get(He)||new Map,zn=Tr.get(je)||zt();qe(zn,Ee,Bt),Tr.set(je,zn);const Mr=Tr.get("__all__")||zt();qe(Mr,Ee,Bt),Tr.set("__all__",Mr),tt.set(He,Tr);const pr=Array.isArray(ge==null?void 0:ge.buffUptimes)?ge.buffUptimes.find(kr=>Number(kr==null?void 0:kr.id)===ct):null,Gn=pr!=null&&pr.statesPerSource&&typeof pr.statesPerSource=="object"?pr.statesPerSource:null;if(Gn){const kr=it.get(He)||new Map;Object.entries(Gn).forEach(([oi,fl])=>{const ps=Re.get(String(oi||"").trim());ps&&yt(kr,ps,fl,Pe,St)}),it.set(He,kr)}})})}),tt.forEach((ge,ot)=>{const bt=Ne.get(ot);if(!bt)return;const je=it.get(ot)||new Map,oe={};let Rt=Array.from({length:Pe},()=>0),Te=0;ge.forEach((ct,He)=>{const mt={selfBuffs:Number((ct==null?void 0:ct.selfBuffs)||0),groupBuffs:Number((ct==null?void 0:ct.groupBuffs)||0),squadBuffs:Number((ct==null?void 0:ct.squadBuffs)||0),totalBuffs:Number((ct==null?void 0:ct.totalBuffs)||0)},xt=Math.max(0,Number(mt.totalBuffs||0));if(!Number.isFinite(xt)||xt<=0)return;const Bt=je.get(He)||[],Jt=vt(Bt,xt,Pe);oe[He]={total:xt,totals:mt,bucketWeights5s:Array.from({length:Pe},(gn,jn)=>Number(Bt[jn]||0)),buckets5s:Jt},He!=="__all__"&&(xt>Te&&(Te=xt),Rt=Rt.map((gn,jn)=>Number(gn||0)+Number(Jt[jn]||0)))});const Ee=ge.get("__all__"),gt=Number((Ee==null?void 0:Ee.totalBuffs)||0);if(gt>0&&(oe.__all__={total:gt,totals:{selfBuffs:Number((Ee==null?void 0:Ee.selfBuffs)||0),groupBuffs:Number((Ee==null?void 0:Ee.groupBuffs)||0),squadBuffs:Number((Ee==null?void 0:Ee.squadBuffs)||0),totalBuffs:Number((Ee==null?void 0:Ee.totalBuffs)||0)},bucketWeights5s:Array.from({length:Pe},(ct,He)=>Number((je.get("__all__")||[])[He]||0)),buckets5s:Rt.some(ct=>Number(ct||0)>0)?Rt:vt(je.get("__all__")||[],gt,Pe)}),Object.keys(oe).length===0)return;const ut=bt.players.get("__all__");ut&&(ut.logs+=1,bt.players.set("__all__",ut)),bt.fights.push({id:fe.filePath||fe.id||`fight-${he+1}`,shortLabel:`F${he+1}`,fullLabel:we,timestamp:Zr(nt,fe),durationMs:St,values:oe,maxTotal:Te})})}),Array.from(Ne.values()).map(fe=>({id:fe.id,name:fe.name||fe.id,icon:fe.icon,stacking:fe.stacking,players:Array.from(fe.players.values()).sort((he,nt)=>{var rt,st;if(he.key==="__all__")return-1;if(nt.key==="__all__")return 1;const Ce=Number(((rt=nt.totals)==null?void 0:rt.totalBuffs)||0)-Number(((st=he.totals)==null?void 0:st.totalBuffs)||0);return Ce!==0?Ce:String(he.displayName||"").localeCompare(String(nt.displayName||""))}),fights:[...fe.fights].sort((he,nt)=>he.timestamp>0&&nt.timestamp>0&&he.timestamp!==nt.timestamp?he.timestamp-nt.timestamp:he.shortLabel.localeCompare(nt.shortLabel,void 0,{numeric:!0}))})).filter(fe=>fe.players.length>0&&fe.fights.length>0).sort((fe,he)=>String(fe.name||"").localeCompare(String(he.name||"")))})(),ul=(()=>{const D=qe=>String(qe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=qe=>D(qe).toLowerCase().split(/[^a-z0-9]+/i).map(fe=>fe.trim()).filter(Boolean).map(fe=>fe.length>3&&fe.endsWith("s")?fe.slice(0,-1):fe),J=(qe,fe)=>{const he=D(qe),nt=D(fe);if(!nt)return he;if(!he)return nt;const Ce=$(he),rt=$(nt),st=new Set(Ce),St=new Set(rt),Pe=rt.length>0&&rt.every(Re=>st.has(Re)),_e=Ce.length>0&&Ce.every(Re=>St.has(Re));return Pe||_e?he:`${he} - ${nt}`},Ne=new Map,ue=(qe,fe)=>{if(!Ne.has(qe))Ne.set(qe,{id:qe,name:String((fe==null?void 0:fe.name)||qe),icon:fe==null?void 0:fe.icon,stacking:!!(fe!=null&&fe.stacking),players:new Map,fights:[]});else if(fe){const he=Ne.get(qe);(!he.name||he.name===qe)&&(fe!=null&&fe.name)&&(he.name=String(fe.name)),!he.icon&&(fe!=null&&fe.icon)&&(he.icon=String(fe.icon)),!he.stacking&&(fe!=null&&fe.stacking)&&(he.stacking=!0)}return Ne.get(qe)},We=qe=>Array.isArray(qe)?qe.map(fe=>Array.isArray(fe)?[Number(fe[0]),Number(fe[1])]:fe&&typeof fe=="object"?[Number(fe.time),Number(fe.value)]:null).filter(fe=>!!fe&&Number.isFinite(fe[0])&&Number.isFinite(fe[1])&&fe[0]>=0).sort((fe,he)=>fe[0]-he[0]):[],Ie=(qe,fe)=>{if(!fe)return 1;const he=String(qe||"").trim().toLowerCase();return 25},yt=(qe,fe,he)=>{const nt=Number.isFinite(qe)?Math.max(0,qe):0;return fe?Math.max(0,Math.min(he,Math.round(nt))):nt>0?1:0},vt=(qe,fe,he,nt)=>{const Ce=Array.from({length:fe},()=>0);if(!qe||typeof qe!="object"||fe<=0)return Ce;Object.values(qe).forEach(st=>{const St=We(st);if(St.length===0)return;let Pe=0,_e=0;for(let Re=0;Re<fe;Re+=1){const Ke=Re*5e3;for(;Pe<St.length&&St[Pe][0]<=Ke;)_e=Math.max(0,Number(St[Pe][1]||0)),Pe+=1;Ce[Re]+=Math.max(0,Number(_e||0))}});const rt=Ie(nt,he);return Ce.map(st=>yt(st,he,rt))},zt=qe=>{const fe=qe.reduce((nt,Ce)=>nt+Math.max(0,Number(Ce||0)),0),he=qe.reduce((nt,Ce)=>Math.max(nt,Math.max(0,Number(Ce||0))),0);return{total:fe,peak:he,buckets5s:qe}};return o.map(qe=>({log:qe,ts:Zr(qe==null?void 0:qe.details,qe)})).sort((qe,fe)=>qe.ts-fe.ts).forEach(({log:qe},fe)=>{const he=qe==null?void 0:qe.details;if(!he)return;const Ce=(Array.isArray(he.players)?he.players:[]).filter(Ue=>!(Ue!=null&&Ue.notInSquad));if(Ce.length<=0)return;const rt=Math.max(0,Number((he==null?void 0:he.durationMS)||0)),st=Math.max(1,Math.ceil(Math.max(1,rt)/5e3)),St=he!=null&&he.buffMap&&typeof he.buffMap=="object"?he.buffMap:{},Pe=D(he.fightName||qe.fightName||`Fight ${fe+1}`),_e=ya(he,qe),Re=J(Pe,String(_e||"")),Ke=new Map,Ye=new Map;Ce.forEach(Ue=>{const we=String((Ue==null?void 0:Ue.account)||(Ue==null?void 0:Ue.name)||"Unknown"),tt=we,it=String((Ue==null?void 0:Ue.profession)||"Unknown");(Array.isArray(Ue==null?void 0:Ue.buffUptimes)?Ue.buffUptimes:[]).forEach(ge=>{const ot=Number(ge==null?void 0:ge.id);if(!Number.isFinite(ot))return;const bt=`b${ot}`,je=St[bt]||{},oe=String((je==null?void 0:je.classification)||"");if(oe&&oe!=="Boon")return;const Rt=ge!=null&&ge.statesPerSource&&typeof ge.statesPerSource=="object"?ge.statesPerSource:null;if(!Rt)return;const Te=vt(Rt,st,!!(je!=null&&je.stacking),String((je==null?void 0:je.name)||"")),Ee=zt(Te);if(Ee.total<=0&&Ee.peak<=0)return;const gt=ue(bt,je),ut=gt.players.get(tt)||{key:tt,account:we,displayName:we,profession:it,professionList:it&&it!=="Unknown"?[it]:[],logs:0,total:0,peak:0};it&&it!=="Unknown"&&!ut.professionList.includes(it)&&ut.professionList.push(it),(!ut.profession||ut.profession==="Unknown")&&it&&it!=="Unknown"&&(ut.profession=it);const ct=Ye.get(bt)||new Set;ct.has(tt)||(ct.add(tt),ut.logs+=1,Ye.set(bt,ct)),ut.total+=Ee.total,ut.peak=Math.max(ut.peak,Ee.peak),gt.players.set(tt,ut);const He=Ke.get(bt)||new Map;He.set(tt,Ee),Ke.set(bt,He)})}),Ke.forEach((Ue,we)=>{const tt=Ne.get(we);if(!tt)return;const it={};let ce=0;Ue.forEach((ge,ot)=>{it[ot]={total:Number(ge.total||0),peak:Number(ge.peak||0),buckets5s:Array.isArray(ge.buckets5s)?ge.buckets5s.map(bt=>Number(bt||0)):[]},ce=Math.max(ce,Number(ge.peak||0))}),Object.keys(it).length!==0&&tt.fights.push({id:qe.filePath||qe.id||`fight-${fe+1}`,shortLabel:`F${fe+1}`,fullLabel:Re,timestamp:Zr(he,qe),durationMs:rt,values:it,maxTotal:ce})})}),Array.from(Ne.values()).map(qe=>({id:qe.id,name:qe.name||qe.id,icon:qe.icon,stacking:qe.stacking,players:Array.from(qe.players.values()).sort((fe,he)=>{const nt=Number(he.peak||0)-Number(fe.peak||0);if(nt!==0)return nt;const Ce=Number(he.total||0)-Number(fe.total||0);return Ce!==0?Ce:String(fe.displayName||"").localeCompare(String(he.displayName||""))}),fights:[...qe.fights].sort((fe,he)=>fe.timestamp>0&&he.timestamp>0&&fe.timestamp!==he.timestamp?fe.timestamp-he.timestamp:fe.shortLabel.localeCompare(he.shortLabel,void 0,{numeric:!0}))})).filter(qe=>qe.players.length>0&&qe.fights.length>0).sort((qe,fe)=>String(qe.name||"").localeCompare(String(fe.name||"")))})(),bu=wa.map(({log:D})=>{const $=D==null?void 0:D.details,J=Array.isArray($==null?void 0:$.players)?$.players:[],Ne=Array.isArray($==null?void 0:$.targets)?$.targets:[],ue=D!=null&&D.dashboardSummary&&typeof D.dashboardSummary=="object"?D.dashboardSummary:null,We=J.filter(he=>!he.notInSquad),Ie=Ne.filter(he=>!he.isFake),yt=Math.max(0,Number((ue==null?void 0:ue.squadCount)||0)),vt=Math.max(0,Number((ue==null?void 0:ue.enemyCount)||0)),zt=We.length>0?We.length:yt,qe=Ie.length>0?Ie.length:vt,fe=J.length>0?J.length:zt;return{timestamp:Zr($,D),squadCount:zt,friendlyCount:fe,enemies:qe,isWin:hr($,D)}}).map((D,$)=>({...D,index:$+1,label:`Log ${$+1}`})),Mi={};Array.from(_.values()).forEach(D=>{D.profession&&D.profession!=="Unknown"&&(Mi[D.profession]=(Mi[D.profession]||0)+1)});const dl=Object.entries(Mi).map(([D,$])=>({name:D,value:$,color:Io(D)})).sort((D,$)=>$.value-D.value),te={};Object.keys(se).length===0&&o.forEach(D=>{var $,J;(J=($=D.details)==null?void 0:$.targets)==null||J.forEach(Ne=>{if(Ne.isFake)return;const ue=Ne.profession&&Ne.profession!=="Unknown"?Ne.profession:Ne.name||Ne.id||"Unknown",We=R(ue);te[We]=(te[We]||0)+1})});const Oe=Object.keys(se).length>0?se:te,ze=Object.entries(Oe).map(([D,$])=>({name:D,value:$,color:Io(D)})).sort((D,$)=>$.value-D.value),Ct=wa.map(({log:D},$)=>{const J=D==null?void 0:D.details,Ne=Array.isArray(J==null?void 0:J.players)?J.players:[],ue=Ne.filter(we=>!we.notInSquad),We=Ne.filter(we=>we.notInSquad),yt=(Array.isArray(J==null?void 0:J.targets)?J.targets:[]).filter(we=>!we.isFake),vt=D!=null&&D.dashboardSummary&&typeof D.dashboardSummary=="object"?D.dashboardSummary:null,zt=ue.reduce((we,tt)=>{var it,ce;return we+(((ce=(it=tt.dpsAll)==null?void 0:it[0])==null?void 0:ce.damage)||0)},0),qe=ue.reduce((we,tt)=>{var it,ce;return we+(((ce=(it=tt.defenses)==null?void 0:it[0])==null?void 0:ce.damageTaken)||0)},0),{enemyDeaths:fe,enemyDownsDeaths:he}=T(J),nt=hr(J,D),Ce=Zr(J,D),rt=ya(J,D),st=we=>{if(!we||typeof we!="object")return;const tt=we.teamID??we.teamId??we.team??we.teamColor??we.team_color;if(tt!=null)return tt;const it=Object.keys(we).find(ce=>/^team/i.test(ce));return it?we[it]:void 0},St=(we,tt)=>{const it={};return we.forEach(ce=>{const ge=tt(ce),ot=R(ge);ot&&(it[ot]=(it[ot]||0)+1)}),it},Pe=St(ue,we=>(we==null?void 0:we.profession)||(we==null?void 0:we.name)),_e=St(We,we=>(we==null?void 0:we.profession)||(we==null?void 0:we.name)),Re=St(yt,we=>(we==null?void 0:we.profession)||(we==null?void 0:we.name)||(we==null?void 0:we.id)),Ke=new Set;ue.forEach(we=>{const tt=st(we);tt!=null&&Ke.add(String(tt))});const Ye=new Map;yt.forEach(we=>{if((we==null?void 0:we.enemyPlayer)===!1)return;const tt=st(we);if(tt==null)return;const it=String(tt);Ke.has(it)||Ye.set(it,(Ye.get(it)||0)+1)});const Ue=Array.from(Ye.entries()).sort((we,tt)=>{const it=tt[1]-we[1];return it!==0?it:we[0].localeCompare(tt[0],void 0,{numeric:!0})}).slice(0,3).map(([we,tt])=>({teamId:we,count:tt}));return{id:D.filePath||`fight-${$}`,label:D.encounterName||`Fight ${$+1}`,permalink:Ti(J,D),timestamp:Ce,mapName:rt,duration:ol(J,D),isWin:nt,squadCount:ue.length>0?ue.length:Math.max(0,Number((vt==null?void 0:vt.squadCount)||0)),allyCount:We.length,enemyCount:yt.length>0?yt.length:Math.max(0,Number((vt==null?void 0:vt.enemyCount)||0)),teamBreakdown:Ue,alliesDown:ue.reduce((we,tt)=>{var it,ce;return we+(((ce=(it=tt.defenses)==null?void 0:it[0])==null?void 0:ce.downCount)||0)},0),alliesDead:ue.length>0?ue.reduce((we,tt)=>{var it,ce;return we+(((ce=(it=tt.defenses)==null?void 0:it[0])==null?void 0:ce.deadCount)||0)},0):Math.max(0,Number((vt==null?void 0:vt.squadDeaths)||0)),alliesRevived:ue.reduce((we,tt)=>{var it,ce;return Number(((ce=(it=tt.statsAll)==null?void 0:it[0])==null?void 0:ce.saved)||0)>0?we+1:we},0),rallies:0,enemyDeaths:yt.length>0||ue.length>0?fe:Math.max(0,Number((vt==null?void 0:vt.enemyDeaths)||0)),enemyDowns:Math.max(0,he-fe),totalOutgoingDamage:zt,totalIncomingDamage:qe,incomingBarrierAbsorbed:ue.reduce((we,tt)=>{var it,ce;return we+(((ce=(it=tt.defenses)==null?void 0:it[0])==null?void 0:ce.damageBarrier)||0)},0),outgoingBarrierAbsorbed:ue.reduce((we,tt)=>{var ge;const it=(ge=tt.extBarrierStats)==null?void 0:ge.outgoingBarrier;if(!Array.isArray(it))return we;let ce=0;return it.forEach(ot=>{if(Array.isArray(ot)){ot.forEach(bt=>{ce+=Number((bt==null?void 0:bt.barrier)||0)});return}ce+=Number((ot==null?void 0:ot.barrier)||0)}),we+ce},0),squadClassCountsFight:Pe,allyClassCountsFight:_e,enemyClassCounts:Re}}),Lt=Zd.map(({log:D},$)=>{const J=D.details;if(!J)return null;const ue=(Array.isArray(J.players)?J.players:[]).filter(Te=>!Te.notInSquad),We=Array.isArray(J.targets)?J.targets:[],Ie=Zr(J,D),yt=ya(J,D),vt=Number(J.durationMS||0),{squadDownsDeaths:zt,enemyDownsDeaths:qe,squadDeaths:fe,enemyDeaths:he}=T(J),nt=new Map,Ce=(Te,Ee,gt)=>{const ut=nt.get(Te)||{label:Te,damage:0,hits:0};ut.damage+=Ee,ut.hits+=gt,nt.set(Te,ut)};if(ue.forEach(Te=>{(Array.isArray(Te==null?void 0:Te.statsTargets)?Te.statsTargets:[]).forEach((gt,ut)=>{const ct=Array.isArray(gt)?gt[0]:gt,He=Number((ct==null?void 0:ct.damage)??(ct==null?void 0:ct.totalDmg)??(ct==null?void 0:ct.connectedDmg)??0),mt=Number((ct==null?void 0:ct.connectedHits)??(ct==null?void 0:ct.connectedDamageCount)??(ct==null?void 0:ct.hits)??0);if(He<=0&&mt<=0)return;const xt=We[ut];if(xt!=null&&xt.isFake)return;const Bt=(xt==null?void 0:xt.profession)||(xt==null?void 0:xt.name)||(xt==null?void 0:xt.id)||`Target ${ut+1}`,Jt=R(Bt);Ce(Jt||String(Bt),He,mt)})}),nt.size===0){const Te=new Map,Ee=gt=>{if(!Array.isArray(gt)||gt.length===0)return[];const ut=gt[0];if(Array.isArray(ut)&&Array.isArray(ut[0])){if(typeof ut[0][0]=="number")return ut;if(Array.isArray(ut[0])&&typeof ut[0][0]=="number")return gt.map(ct=>Array.isArray(ct)?ct[0]||[]:[])}return[]};ue.forEach(gt=>{Ee(gt==null?void 0:gt.targetDamage1S).forEach((ct,He)=>{if(!Array.isArray(ct)||ct.length===0)return;const mt=ct.map(Bt=>Number(Bt)).filter(Bt=>Number.isFinite(Bt)&&Bt>=0);if(mt.length===0)return;const xt=Math.max(0,mt[mt.length-1]||0);xt<=0||Te.set(He,(Te.get(He)||0)+xt)})}),Te.forEach((gt,ut)=>{if(gt<=0)return;const ct=We[ut];if(ct!=null&&ct.isFake)return;const He=(ct==null?void 0:ct.profession)||(ct==null?void 0:ct.name)||(ct==null?void 0:ct.id)||`Target ${ut+1}`,mt=R(He);Ce(mt||String(He),gt,0)})}if(nt.size===0&&We.forEach((Te,Ee)=>{if(Te!=null&&Te.isFake)return;const gt=Array.isArray(Te==null?void 0:Te.totalDamageTaken)?Te.totalDamageTaken:Array.isArray(Te==null?void 0:Te.totalDamageDist)?Te.totalDamageDist:[];let ut=0,ct=0;if(gt.forEach(xt=>{ut+=Number((xt==null?void 0:xt.totalDamage)||(xt==null?void 0:xt.damage)||0),ct+=Number((xt==null?void 0:xt.connectedHits)||(xt==null?void 0:xt.hits)||0)}),ut<=0&&Number((Te==null?void 0:Te.damageTaken)||0)>0&&(ut=Number(Te.damageTaken||0)),ut<=0&&ct<=0)return;const He=(Te==null?void 0:Te.profession)||(Te==null?void 0:Te.name)||(Te==null?void 0:Te.id)||`Target ${Ee+1}`,mt=R(He);Ce(mt||String(He),ut,ct)}),nt.size===0){const Te=new Map;We.forEach((Ee,gt)=>{if(Ee!=null&&Ee.isFake)return;const ut=(Ee==null?void 0:Ee.profession)||(Ee==null?void 0:Ee.name)||(Ee==null?void 0:Ee.id)||`Target ${gt+1}`,ct=R(ut)||String(ut);Te.set(ct,(Te.get(ct)||0)+1)}),Te.forEach((Ee,gt)=>{Ee>0&&Ce(gt,Ee,0)})}const rt=Array.from(nt.values()).sort((Te,Ee)=>Ee.damage-Te.damage||Ee.hits-Te.hits||Te.label.localeCompare(Ee.label)),st=rt.reduce((Te,Ee)=>Te+Ee.damage,0),St=rt.map(Te=>({label:Te.label,damage:Te.damage,hits:Te.hits,share:st>0?Te.damage/st:0})),Pe=We.filter(Te=>!(Te!=null&&Te.isFake)).length,_e=ue.length,Re=ue.reduce((Te,Ee)=>{var gt,ut;return Te+Number(((ut=(gt=Ee==null?void 0:Ee.dpsAll)==null?void 0:gt[0])==null?void 0:ut.damage)||0)},0),Ke=ue.reduce((Te,Ee)=>{var gt,ut;return Te+Number(((ut=(gt=Ee==null?void 0:Ee.defenses)==null?void 0:gt[0])==null?void 0:ut.damageTaken)||0)},0),Ye=ue.reduce((Te,Ee)=>{var gt,ut;return Te+Number(((ut=(gt=Ee==null?void 0:Ee.defenses)==null?void 0:gt[0])==null?void 0:ut.damageBarrier)||0)},0),Ue=ue.reduce((Te,Ee)=>{var ct;const gt=(ct=Ee==null?void 0:Ee.extBarrierStats)==null?void 0:ct.outgoingBarrier;if(!Array.isArray(gt))return Te;let ut=0;return gt.forEach(He=>{Array.isArray(He)?He.forEach(mt=>{ut+=Number((mt==null?void 0:mt.barrier)||0)}):ut+=Number((He==null?void 0:He.barrier)||0)}),Te+ut},0),we=ue.reduce((Te,Ee)=>{var gt,ut;return Number(((ut=(gt=Ee==null?void 0:Ee.statsAll)==null?void 0:gt[0])==null?void 0:ut.saved)||0)>0?Te+1:Te},0),tt=ue.reduce((Te,Ee)=>Te+Number(cj(Ee)||0),0),it=ue.reduce((Te,Ee)=>Te+Number(uj(Ee)||0),0),ce=ue.reduce((Te,Ee)=>Te+Number((Ee==null?void 0:Ee.stabGeneration)||0),0),ge=ue.reduce((Te,Ee)=>Te+Number(fj(Ee)||0),0),ot=ue.reduce((Te,Ee)=>Te+Number(mj(Ee)||0),0),bt=ue.reduce((Te,Ee)=>Te+Number(hj(Ee)||0),0),je=ue.reduce((Te,Ee)=>Te+Number(dj(Ee)||0),0),oe=fe>0?he/fe:he,Rt=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:L(J)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:_e},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Pe},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:oe},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:he},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,qe-he)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:fe},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,zt-fe)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Re-Ke},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Re},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:Ke},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:tt},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:it},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:ce},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:ge},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:ot},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Ye},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Ue},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:bt},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:je},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:we}];return{id:D.filePath||D.id||`fight-${$+1}`,shortLabel:`F${$+1}`,fullLabel:`${yt||D.encounterName||"Unknown Map"}  ${pp(vt)}`,mapName:yt,timestamp:Ie,duration:pp(vt),isWin:L(J),targetFocus:St,squadMetrics:Rt}}).filter(Boolean),Kt=Array.from(_.values()).map(D=>{const $=Object.entries(D.professionTimeMs||{}).map(([J,Ne])=>({profession:J,timeMs:Number(Ne||0)})).filter(J=>J.profession&&J.profession!=="Unknown"&&J.timeMs>0).sort((J,Ne)=>{const ue=Ne.timeMs-J.timeMs;return ue!==0?ue:J.profession.localeCompare(Ne.profession)});return{account:D.account||"Unknown",characterNames:Array.from(D.characterNames||[]).filter(Boolean).sort((J,Ne)=>J.localeCompare(Ne)),classTimes:$,combatTimeMs:Number(D.squadActiveMs||D.totalFightMs||0),squadTimeMs:(()=>{const J=Number(D.firstSeenFightTs||0),Ne=Number(D.lastSeenFightTs||0),ue=Math.max(0,Number(D.lastSeenFightDurationMs||0));return J>0&&Ne>0?Math.max(0,Ne+ue-J):Number(D.squadActiveMs||D.totalFightMs||0)})()}}).filter(D=>D.account&&D.account!=="Unknown").sort((D,$)=>{const J=$.squadTimeMs-D.squadTimeMs;return J!==0?J:String(D.account).localeCompare(String($.account))}),rn=o.map(D=>D).sort((D,$)=>Zr(D.details,D)-Zr($.details,$)).map((D,$)=>{const J=D==null?void 0:D.details,Ne=Array.isArray(J==null?void 0:J.players)?J.players.filter(Ie=>!(Ie!=null&&Ie.notInSquad)):[],ue=new Map;Ne.forEach(Ie=>{const yt=Number(Ie==null?void 0:Ie.group),vt=Number.isFinite(yt)&&yt>0?yt:0;ue.has(vt)||ue.set(vt,{party:vt,players:[],classCounts:{}});const zt=R((Ie==null?void 0:Ie.profession)||(Ie==null?void 0:Ie.name)||"Unknown"),qe=String((Ie==null?void 0:Ie.account)||"Unknown"),fe=String((Ie==null?void 0:Ie.name)||(Ie==null?void 0:Ie.character_name)||""),he=!!(Ie!=null&&Ie.hasCommanderTag),nt=ue.get(vt);nt.players.push({account:qe,characterName:fe,profession:zt,isCommander:he}),nt.classCounts[zt]=(nt.classCounts[zt]||0)+1});const We=Array.from(ue.values()).map(Ie=>({...Ie,players:Ie.players.sort((yt,vt)=>{const zt=+!!vt.isCommander-+!!yt.isCommander;if(zt!==0)return zt;const qe=String(yt.profession).localeCompare(String(vt.profession));return qe!==0?qe:String(yt.account).localeCompare(String(vt.account))})})).sort((Ie,yt)=>Ie.party===0&&yt.party!==0?1:yt.party===0&&Ie.party!==0?-1:Ie.party-yt.party);return{id:String((D==null?void 0:D.filePath)||(D==null?void 0:D.id)||`fight-${$+1}`),label:`F${$+1}`,timestamp:Zr(J,D),mapName:ya(J,D),duration:pp(Number((J==null?void 0:J.durationMS)||0)),parties:We}}),$t=(D,$)=>{const J=($==null?void 0:$.skillMap)||{},Ne=($==null?void 0:$.buffMap)||{};let ue=0,We=0,Ie="";const yt=qe=>{const fe=Number(qe);if(!Number.isFinite(fe))return String(qe||"Unknown Skill");const he=(J==null?void 0:J[`s${fe}`])||(J==null?void 0:J[`${fe}`]);if(he!=null&&he.name)return String(he.name);const nt=(Ne==null?void 0:Ne[`b${fe}`])||(Ne==null?void 0:Ne[`${fe}`]);return nt!=null&&nt.name?String(nt.name):`Skill ${fe}`},vt=qe=>{if(!qe||typeof qe!="object")return;const fe=[Number(qe.max),Number(qe.maxDamage),Number(qe.maxHit)].filter(Ce=>Number.isFinite(Ce)),he=fe.length>0?Math.max(...fe):0;he>ue&&(ue=he,Ie=yt(qe.id));const nt=Number(qe.downContribution||0);nt>We&&(We=nt)};let zt=!1;return Array.isArray(D==null?void 0:D.targetDamageDist)&&D.targetDamageDist.forEach(qe=>{Array.isArray(qe)&&qe.forEach(fe=>{Array.isArray(fe)&&fe.forEach(he=>{zt=!0,vt(he)})})}),(!zt||ue<=0)&&Array.isArray(D==null?void 0:D.totalDamageDist)&&D.totalDamageDist.forEach(qe=>{Array.isArray(qe)&&qe.forEach(fe=>vt(fe))}),{peak:ue,peakDownContribution:We,skillName:Ie||"Unknown Skill"}},jt=(()=>{const D=Ce=>String(Ce||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=Ce=>D(Ce).toLowerCase().split(/[^a-z0-9]+/i).map(rt=>rt.trim()).filter(Boolean).map(rt=>rt.length>3&&rt.endsWith("s")?rt.slice(0,-1):rt),J=(Ce,rt)=>{const st=D(Ce),St=D(rt);if(!St)return st;if(!st)return St;const Pe=$(st),_e=$(St),Re=new Set(Pe),Ke=new Set(_e),Ye=_e.length>0&&_e.every(we=>Re.has(we)),Ue=Pe.length>0&&Pe.every(we=>Ke.has(we));return Ye||Ue?st:`${st} - ${St}`},Ne=[],ue=new Map,We=Ce=>{const rt=Ye=>{if(!Array.isArray(Ye)||Ye.length===0)return[];const Ue=[];for(let we=0;we<Ye.length;we+=1){const tt=Number(Ye[we]||0),it=we>0?Number(Ye[we-1]||0):0;Ue.push(Math.max(0,tt-it))}return Ue},st=Ye=>{if(!Array.isArray(Ye))return[];const Ue=Ye.reduce((tt,it)=>Math.max(tt,Array.isArray(it)?it.length:0),0);if(Ue<=0)return[];const we=new Array(Ue).fill(0);return Ye.forEach(tt=>{if(Array.isArray(tt))for(let it=0;it<Ue;it+=1)we[it]+=Number(tt[it]||0)}),we},St=Ye=>Array.isArray(Ye)?Ye.map(Ue=>Number(Ue||0)):null,_e=(Ye=>{if(!Array.isArray(Ye)||Ye.length===0)return null;const Ue=Ye[0];if(!Array.isArray(Ue))return null;if(Array.isArray(Ue[0])&&Array.isArray(Ue[0][0]))return st(Ue);if(Array.isArray(Ue[0])&&!Array.isArray(Ue[0][0])){const we=Ye.map(tt=>St(Array.isArray(tt)?tt[0]:null)).filter(tt=>Array.isArray(tt)&&tt.length>0);if(we.length>0)return st(we)}return null})(Ce==null?void 0:Ce.targetDamage1S),Re=Array.isArray(Ce==null?void 0:Ce.damage1S)&&Array.isArray(Ce.damage1S[0])?Ce.damage1S[0]:null,Ke=_e||(Array.isArray(Re)?Re.map(Ye=>Number(Ye||0)):[]);return rt(Ke)},Ie=(Ce,rt)=>{if(!Array.isArray(Ce)||Ce.length===0||rt<=0)return 0;let st=0,St=0;for(let Pe=0;Pe<Ce.length;Pe+=1)st+=Number(Ce[Pe]||0),Pe>=rt&&(st-=Number(Ce[Pe-rt]||0)),Pe>=rt-1&&st>St&&(St=st);return Math.max(0,St)},yt=(Ce,rt)=>{if(!Array.isArray(Ce)||Ce.length===0||rt<=0)return[];const st=[];for(let St=0;St<Ce.length;St+=rt){const Pe=Math.min(St+rt,Ce.length),_e=Ce.slice(St,Pe).reduce((Re,Ke)=>Re+Number(Ke||0),0);st.push(_e)}return st},vt=(Ce,rt)=>{let st=0,St=0;const Pe=new Map,_e=Ke=>{if(!Ke||typeof Ke!="object"||Ke.indirectDamage)return;const Ye=Number(Ke.totalDamage||0),Ue=Number(Ke.downContribution||0);!Number.isFinite(Ye)&&!Number.isFinite(Ue)||(st+=Number.isFinite(Ye)?Ye:0,St+=Number.isFinite(Ue)?Ue:0)};return Array.isArray(Ce==null?void 0:Ce.targetDamageDist)&&Ce.targetDamageDist.forEach(Ke=>{Array.isArray(Ke)&&Ke.forEach(Ye=>{Array.isArray(Ye)&&Ye.forEach(Ue=>{const we=Number(Ue==null?void 0:Ue.id);if(Number.isFinite(we)){const tt=Pe.get(we)||{damage:0,downContribution:0};tt.damage+=Number((Ue==null?void 0:Ue.totalDamage)||0),tt.downContribution+=Number((Ue==null?void 0:Ue.downContribution)||0),Pe.set(we,tt)}_e(Ue)})})}),!(rt!=null&&rt.detailedWvW)&&Array.isArray(Ce==null?void 0:Ce.totalDamageDist)&&Ce.totalDamageDist.forEach(Ke=>{Array.isArray(Ke)&&Ke.forEach(Ye=>{const Ue=Number(Ye==null?void 0:Ye.id);if(!Number.isFinite(Ue)){_e(Ye);return}const we=Pe.get(Ue);if(!we){_e(Ye);return}const tt=Number((Ye==null?void 0:Ye.totalDamage)||0)-Number(we.damage||0),it=Number((Ye==null?void 0:Ye.downContribution)||0)-Number(we.downContribution||0);tt<=0&&it<=0||_e({...Ye,totalDamage:Math.max(0,tt),downContribution:Math.max(0,it)})})}),{damageTotal:Math.max(0,st),downContributionTotal:Math.max(0,St)}},zt=(Ce,rt)=>{const st=Number(Ce);if(!Number.isFinite(st))return{name:String(Ce||"Unknown Skill"),icon:void 0};const St=(rt==null?void 0:rt.skillMap)||{},Pe=(rt==null?void 0:rt.buffMap)||{},_e=(St==null?void 0:St[`s${st}`])||(St==null?void 0:St[`${st}`]);if(_e!=null&&_e.name)return{name:String(_e.name),icon:_e==null?void 0:_e.icon};const Re=(Pe==null?void 0:Pe[`b${st}`])||(Pe==null?void 0:Pe[`${st}`]);return Re!=null&&Re.name?{name:String(Re.name),icon:Re==null?void 0:Re.icon}:{name:`Skill ${st}`,icon:void 0}},qe=Ce=>Array.isArray(Ce)?Ce.map(rt=>Array.isArray(rt)?[Number(rt[0]),Number(rt[1])]:rt&&typeof rt=="object"?[Number(rt.time),Number(rt.value)]:null).filter(rt=>!!rt&&Number.isFinite(rt[0])&&rt[0]>=0):[],fe=(Ce,rt,st,St,Pe)=>{if(!Ce.length||St<=0)return[];const _e=Math.max(St*5e3,Pe||0),Re=ge=>ge.reduce((ot,bt)=>bt>=0&&bt<=_e+2e3?ot+1:ot,0),Ke=Ce.map(ge=>Number(ge||0)).filter(ge=>Number.isFinite(ge)&&ge>=0);if(!Ke.length)return[];const Ye=[Ke],Ue=Ke.reduce((ge,ot)=>Math.max(ge,ot),0),we=Ke.reduce((ge,ot)=>Math.min(ge,ot),Number.POSITIVE_INFINITY);Ue>_e*20&&Ye.push(Ke.map(ge=>ge/1e3)),Ue<=_e*2&&we>=0&&Ue>0&&Ue<Math.max(120,St*5+10)&&Ye.push(Ke.map(ge=>ge*1e3));let tt=Ke,it=0,ce=-1;return Ye.forEach(ge=>{const ot=ge.reduce((je,oe)=>Math.min(je,oe),Number.POSITIVE_INFINITY),bt=new Set([0,...rt,...st]);if(Number.isFinite(ot)&&_e>0&&ot>_e){const je=Math.floor(ot/_e)*_e;bt.add(je),bt.add(Math.max(0,je-_e))}bt.forEach(je=>{const oe=ge.map(Te=>Te-je),Rt=Re(oe);Rt>ce&&(ce=Rt,it=je,tt=ge)})}),tt.map(ge=>ge-it).filter(ge=>Number.isFinite(ge)&&ge>=0)},he=(Ce,rt,st,St,Pe)=>{const _e=fe(Ce,rt,st,St,Pe);return Array.from(new Set(_e.map(Re=>Math.floor(Re/5e3)).filter(Re=>Number.isFinite(Re)&&Re>=0&&Re<St)))};o.map(Ce=>({log:Ce,ts:Zr(Ce==null?void 0:Ce.details,Ce)})).sort((Ce,rt)=>Ce.ts-rt.ts).forEach(({log:Ce},rt)=>{const st=Ce==null?void 0:Ce.details;if(!st)return;const St=D(st.fightName||Ce.fightName||`Fight ${rt+1}`),Pe=ya(st,Ce),_e=J(St,String(Pe||"")),Re={},Ke=Array.isArray(st.players)?st.players:[],Ye=Ke.flatMap(je=>{const oe=je==null?void 0:je.combatReplayData;return Array.isArray(oe)?oe.map(Rt=>Number(Rt==null?void 0:Rt.start)):[Number(oe==null?void 0:oe.start)]}).filter(je=>Number.isFinite(je)&&je>=0);Ke.forEach(je=>{if(je!=null&&je.notInSquad)return;const oe=String((je==null?void 0:je.account)||(je==null?void 0:je.name)||"Unknown"),Rt=String((je==null?void 0:je.character_name)||(je==null?void 0:je.display_name)||(je==null?void 0:je.name)||""),Te=String((je==null?void 0:je.profession)||"Unknown"),Ee=`${oe}|${Te}`,gt=$t(je,st),ut=Number(gt.peak||0),ct=Number(gt.peakDownContribution||0),He=We(je),{damageTotal:mt,downContributionTotal:xt}=vt(je,st),Bt=mt>0?Math.min(1,Math.max(0,xt/mt)):0,Jt=He.map($e=>Number($e||0)*Bt),gn=Number(Ie(He,1)||0),jn=Number(Ie(He,5)||0),Fn=Number(Ie(He,30)||0),Tr=Number(Ie(Jt,1)||0),zn=Number(Ie(Jt,5)||0),Mr=Number(Ie(Jt,30)||0),pr=Math.max(0,Math.ceil(Number((st==null?void 0:st.durationMS)||0)/5e3)),Gn=Math.max(0,Math.ceil(He.length/5)),wi=Math.max(0,Math.ceil(Jt.length/5)),kr=Math.max(pr,Gn,wi),oi=yt(He,5),fl=yt(Jt,5),ps=Array.from({length:kr},($e,Le)=>Number(oi[Le]||0)),yu=Array.from({length:kr},($e,Le)=>Number(fl[Le]||0)),Hi=new Map,za=$e=>{if(!$e||typeof $e!="object"||$e.indirectDamage)return;const Le=Number($e.totalDamage||0),ht=Number($e.downContribution||0);if((!Number.isFinite(Le)||Le<=0)&&(!Number.isFinite(ht)||ht<=0))return;const At=Number($e.connectedHits||$e.hits||0),xn=zt($e.id,st),wn=xn.name,Yn=Hi.get(wn)||{skillName:wn,damage:0,downContribution:0,hits:0,icon:xn.icon};Yn.damage+=Number.isFinite(Le)?Le:0,Yn.downContribution+=Number.isFinite(ht)?ht:0,Yn.hits+=Number.isFinite(At)?At:0,!Yn.icon&&xn.icon&&(Yn.icon=xn.icon),Hi.set(wn,Yn)},Ei=new Map;Array.isArray(je==null?void 0:je.targetDamageDist)&&je.targetDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(Le=>{Array.isArray(Le)&&Le.forEach(ht=>{const At=Number(ht==null?void 0:ht.id),xn=Number((ht==null?void 0:ht.totalDamage)||0),wn=Number((ht==null?void 0:ht.downContribution)||0);if(Number.isFinite(At)){const Yn=Ei.get(At)||{damage:0,downContribution:0,hits:0};Yn.damage+=Number.isFinite(xn)?xn:0,Yn.downContribution+=Number.isFinite(wn)?wn:0,Yn.hits+=Number((ht==null?void 0:ht.connectedHits)||(ht==null?void 0:ht.hits)||0),Ei.set(At,Yn)}za(ht)})})}),!(st!=null&&st.detailedWvW)&&Array.isArray(je==null?void 0:je.totalDamageDist)&&je.totalDamageDist.forEach($e=>{Array.isArray($e)&&$e.forEach(Le=>{const ht=Number(Le==null?void 0:Le.id);if(!Number.isFinite(ht)){za(Le);return}const At=Ei.get(ht);if(!At){za(Le);return}const xn=Number((Le==null?void 0:Le.totalDamage)||0),wn=Number((Le==null?void 0:Le.downContribution)||0),Yn=Number((Le==null?void 0:Le.connectedHits)||(Le==null?void 0:Le.hits)||0),Xn=xn-Number(At.damage||0),li=wn-Number(At.downContribution||0),Ki=Yn-Number(At.hits||0);Xn<=0&&li<=0&&Ki<=0||za({...Le,totalDamage:Math.max(0,Xn),downContribution:Math.max(0,li),connectedHits:Math.max(0,Ki),hits:Math.max(0,Ki)})})});const Rn=(()=>{const $e=je==null?void 0:je.combatReplayData;return Array.isArray($e)?$e.filter(Le=>Le&&typeof Le=="object"):$e&&typeof $e=="object"?[$e]:[]})(),lo=Rn.map($e=>Number($e==null?void 0:$e.start)).filter($e=>Number.isFinite($e)&&$e>=0),qi=Rn.flatMap($e=>qe($e==null?void 0:$e.down).map(([Le])=>Number(Le||0))),Qe=Rn.flatMap($e=>qe($e==null?void 0:$e.dead).map(([Le])=>Number(Le||0)));Re[Ee]={hit:ut,burst1s:gn,burst5s:jn,burst30s:Fn,hitDown:ct,burst1sDown:Tr,burst5sDown:zn,burst30sDown:Mr,skillName:gt.skillName,buckets5s:ps,buckets5sDown:yu,downIndices5s:he(qi,lo,Ye,kr,Number((st==null?void 0:st.durationMS)||0)),deathIndices5s:he(Qe,lo,Ye,kr,Number((st==null?void 0:st.durationMS)||0)),skillRows:Array.from(Hi.values()).sort(($e,Le)=>Le.damage-$e.damage).slice(0,50)};const Fe=ue.get(Ee)||{key:Ee,account:oe,displayName:oe,characterName:Rt,profession:Te,professionList:[Te],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Fe.logs+=1,Fe.professionList.includes(Te)||Fe.professionList.push(Te),!Fe.characterName&&Rt&&(Fe.characterName=Rt),ut>Fe.peakHit&&(Fe.peakHit=ut,Fe.peakFightLabel=_e,Fe.peakSkillName=gt.skillName),gn>Fe.peak1s&&(Fe.peak1s=gn),jn>Fe.peak5s&&(Fe.peak5s=jn),Fn>Fe.peak30s&&(Fe.peak30s=Fn),ct>Fe.peakHitDown&&(Fe.peakHitDown=ct),Tr>Fe.peak1sDown&&(Fe.peak1sDown=Tr),zn>Fe.peak5sDown&&(Fe.peak5sDown=zn),Mr>Fe.peak30sDown&&(Fe.peak30sDown=Mr),ue.set(Ee,Fe)});const Ue=Object.values(Re).reduce((je,oe)=>Math.max(je,Number((oe==null?void 0:oe.hit)||0)),0),we=Object.values(Re).reduce((je,oe)=>Math.max(je,Number((oe==null?void 0:oe.burst1s)||0)),0),tt=Object.values(Re).reduce((je,oe)=>Math.max(je,Number((oe==null?void 0:oe.burst5s)||0)),0),it=Object.values(Re).reduce((je,oe)=>Math.max(je,Number((oe==null?void 0:oe.burst30s)||0)),0),ce=Object.values(Re).reduce((je,oe)=>Math.max(je,Number((oe==null?void 0:oe.hitDown)||0)),0),ge=Object.values(Re).reduce((je,oe)=>Math.max(je,Number((oe==null?void 0:oe.burst1sDown)||0)),0),ot=Object.values(Re).reduce((je,oe)=>Math.max(je,Number((oe==null?void 0:oe.burst5sDown)||0)),0),bt=Object.values(Re).reduce((je,oe)=>Math.max(je,Number((oe==null?void 0:oe.burst30sDown)||0)),0);Ne.push({id:Ce.filePath||Ce.id||`fight-${rt+1}`,shortLabel:`F${rt+1}`,fullLabel:_e,timestamp:Zr(st,Ce),values:Re,maxHit:Ue,max1s:we,max5s:tt,max30s:it,maxHitDown:ce,max1sDown:ge,max5sDown:ot,max30sDown:bt})});const nt=Array.from(ue.values()).sort((Ce,rt)=>rt.peakHit!==Ce.peakHit?rt.peakHit-Ce.peakHit:Ce.displayName.localeCompare(rt.displayName));return{fights:Ne,players:nt}})(),$n=(()=>{const D=Pe=>String(Pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),$=Pe=>D(Pe).toLowerCase().split(/[^a-z0-9]+/i).map(_e=>_e.trim()).filter(Boolean).map(_e=>_e.length>3&&_e.endsWith("s")?_e.slice(0,-1):_e),J=(Pe,_e)=>{const Re=D(Pe),Ke=D(_e);if(!Ke)return Re;if(!Re)return Ke;const Ye=$(Re),Ue=$(Ke),we=new Set(Ye),tt=new Set(Ue),it=Ue.length>0&&Ue.every(ge=>we.has(ge)),ce=Ye.length>0&&Ye.every(ge=>tt.has(ge));return it||ce?Re:`${Re} - ${Ke}`},Ne=[],ue=new Map,We=(Pe,_e)=>{const Re=Number(Pe);if(!Number.isFinite(Re))return{name:String(Pe||"Unknown Skill"),icon:void 0};const Ke=(_e==null?void 0:_e.skillMap)||{},Ye=(_e==null?void 0:_e.buffMap)||{},Ue=(Ke==null?void 0:Ke[`s${Re}`])||(Ke==null?void 0:Ke[`${Re}`]);if(Ue!=null&&Ue.name)return{name:String(Ue.name),icon:Ue==null?void 0:Ue.icon};const we=(Ye==null?void 0:Ye[`b${Re}`])||(Ye==null?void 0:Ye[`${Re}`]);return we!=null&&we.name?{name:String(we.name),icon:we==null?void 0:we.icon}:{name:`Skill ${Re}`,icon:void 0}},Ie=(Pe,_e)=>{let Re=0,Ke="";const Ye=Ue=>{if(!Ue||typeof Ue!="object"||Ue.indirectDamage)return;const we=[Number(Ue.max),Number(Ue.maxDamage),Number(Ue.maxHit)].filter(it=>Number.isFinite(it)),tt=we.length>0?Math.max(...we):0;tt>Re&&(Re=tt,Ke=We(Ue.id,_e).name)};return Array.isArray(Pe==null?void 0:Pe.totalDamageDist)&&Pe.totalDamageDist.forEach(Ue=>{Array.isArray(Ue)&&Ue.forEach(we=>Ye(we))}),Array.isArray(Pe==null?void 0:Pe.targetDamageDist)&&Pe.targetDamageDist.forEach(Ue=>{Array.isArray(Ue)&&Ue.forEach(we=>{Array.isArray(we)&&we.forEach(tt=>Ye(tt))})}),{peak:Re,skillName:Ke||"Unknown Skill"}},yt=Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return[];const _e=[];for(let Re=0;Re<Pe.length;Re+=1){const Ke=Number(Pe[Re]||0),Ye=Re>0?Number(Pe[Re-1]||0):0;_e.push(Math.max(0,Ke-Ye))}return _e},vt=Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return[];const _e=Pe.reduce((Ke,Ye)=>Math.max(Ke,Array.isArray(Ye)?Ye.length:0),0);if(_e<=0)return[];const Re=new Array(_e).fill(0);return Pe.forEach(Ke=>{if(Array.isArray(Ke))for(let Ye=0;Ye<_e;Ye+=1)Re[Ye]+=Number(Ke[Ye]||0)}),Re},zt=Pe=>{if(!Array.isArray(Pe)||Pe.length===0)return[];const _e=Pe[0];if(typeof _e=="number")return Pe.map(Re=>Number(Re||0));if(Array.isArray(_e)&&_e.length>0){if(typeof _e[0]=="number")return _e.map(Re=>Number(Re||0));if(Array.isArray(_e[0])){const Re=_e.map(Ke=>Array.isArray(Ke)?Ke.map(Ye=>Number(Ye||0)):null).filter(Ke=>Array.isArray(Ke)&&Ke.length>0);if(Re.length>0)return vt(Re)}}return[]},qe=Pe=>{const _e=zt(Pe==null?void 0:Pe.powerDamage1S),Re=zt(Pe==null?void 0:Pe.damage1S),Ke=_e.length>0?_e:Re;return yt(Ke)},fe=(Pe,_e)=>{const Re=Pe==null?void 0:Pe.targetPowerDamage1S;if(!Array.isArray(Re)||!Array.isArray(Re[_e]))return[];const Ke=Re[_e];if(!Array.isArray(Ke)||Ke.length===0)return[];if(typeof Ke[0]=="number")return Ke.map(Ye=>Number(Ye||0));if(Array.isArray(Ke[0])&&!Array.isArray(Ke[0][0]))return Ke[0].map(Ye=>Number(Ye||0));if(Array.isArray(Ke[0])&&Array.isArray(Ke[0][0])){const Ue=Ke[0].map(we=>Array.isArray(we)?we.map(tt=>Number(tt||0)):null).filter(we=>Array.isArray(we)&&we.length>0);return vt(Ue)}return[]},he=(Pe,_e)=>{if(!Array.isArray(Pe)||Pe.length===0||_e<=0)return 0;let Re=0,Ke=0;for(let Ye=0;Ye<Pe.length;Ye+=1)Re+=Number(Pe[Ye]||0),Ye>=_e&&(Re-=Number(Pe[Ye-_e]||0)),Ye>=_e-1&&Re>Ke&&(Ke=Re);return Math.max(0,Ke)},nt=(Pe,_e)=>{if(!Array.isArray(Pe)||Pe.length===0||_e<=0)return[];const Re=[];for(let Ke=0;Ke<Pe.length;Ke+=_e){const Ye=Math.min(Ke+_e,Pe.length),Ue=Pe.slice(Ke,Ye).reduce((we,tt)=>we+Number(tt||0),0);Re.push(Ue)}return Re},Ce=Pe=>Array.isArray(Pe)?Pe.map(_e=>Array.isArray(_e)?[Number(_e[0]),Number(_e[1])]:_e&&typeof _e=="object"?[Number(_e.time),Number(_e.value)]:null).filter(_e=>!!_e&&Number.isFinite(_e[0])&&_e[0]>=0):[],rt=(Pe,_e,Re,Ke,Ye)=>{if(!Pe.length||Ke<=0)return[];const Ue=Math.max(Ke*5e3,Ye||0),we=oe=>oe.reduce((Rt,Te)=>Te>=0&&Te<=Ue+2e3?Rt+1:Rt,0),tt=Pe.map(oe=>Number(oe||0)).filter(oe=>Number.isFinite(oe)&&oe>=0);if(!tt.length)return[];const it=[tt],ce=tt.reduce((oe,Rt)=>Math.max(oe,Rt),0),ge=tt.reduce((oe,Rt)=>Math.min(oe,Rt),Number.POSITIVE_INFINITY);ce>Ue*20&&it.push(tt.map(oe=>oe/1e3)),ce<=Ue*2&&ge>=0&&ce>0&&ce<Math.max(120,Ke*5+10)&&it.push(tt.map(oe=>oe*1e3));let ot=tt,bt=0,je=-1;return it.forEach(oe=>{const Rt=oe.reduce((Ee,gt)=>Math.min(Ee,gt),Number.POSITIVE_INFINITY),Te=new Set([0,..._e,...Re]);if(Number.isFinite(Rt)&&Ue>0&&Rt>Ue){const Ee=Math.floor(Rt/Ue)*Ue;Te.add(Ee),Te.add(Math.max(0,Ee-Ue))}Te.forEach(Ee=>{const gt=oe.map(ct=>ct-Ee),ut=we(gt);ut>je&&(je=ut,bt=Ee,ot=oe)})}),ot.map(oe=>oe-bt).filter(oe=>Number.isFinite(oe)&&oe>=0)},st=(Pe,_e,Re,Ke,Ye)=>{const Ue=rt(Pe,_e,Re,Ke,Ye);return Array.from(new Set(Ue.map(we=>Math.floor(we/5e3)).filter(we=>Number.isFinite(we)&&we>=0&&we<Ke)))};o.map(Pe=>({log:Pe,ts:Zr(Pe==null?void 0:Pe.details,Pe)})).sort((Pe,_e)=>Pe.ts-_e.ts).forEach(({log:Pe},_e)=>{const Re=Pe==null?void 0:Pe.details;if(!Re)return;const Ke=D(Re.fightName||Pe.fightName||`Fight ${_e+1}`),Ye=ya(Re,Pe),Ue=J(Ke,String(Ye||"")),we={},it=(Array.isArray(Re.players)?Re.players:[]).filter(He=>!(He!=null&&He.notInSquad)),ce=it.flatMap(He=>{const mt=He==null?void 0:He.combatReplayData;return Array.isArray(mt)?mt.map(xt=>Number(xt==null?void 0:xt.start)):[Number(mt==null?void 0:mt.start)]}).filter(He=>Number.isFinite(He)&&He>=0),ge=it.flatMap(He=>{const mt=He==null?void 0:He.combatReplayData;return(Array.isArray(mt)?mt:mt?[mt]:[]).flatMap(Bt=>Ce(Bt==null?void 0:Bt.down).map(([Jt])=>Number(Jt||0)))}),ot=it.flatMap(He=>{const mt=He==null?void 0:He.combatReplayData;return(Array.isArray(mt)?mt:mt?[mt]:[]).flatMap(Bt=>Ce(Bt==null?void 0:Bt.dead).map(([Jt])=>Number(Jt||0)))}),bt=new Map,je=new Map,oe=new Map;(Array.isArray(Re.targets)?Re.targets:[]).forEach((He,mt)=>{if(!He||He.isFake||!He.enemyPlayer)return;const xt=R((He==null?void 0:He.profession)||(He==null?void 0:He.name)||(He==null?void 0:He.id))||"Unknown";oe.set(xt,(oe.get(xt)||0)+1);const Bt=je.get(xt)||new Map;Array.isArray(He==null?void 0:He.totalDamageDist)&&He.totalDamageDist.forEach(zn=>{Array.isArray(zn)&&zn.forEach(Mr=>{if(!Mr||typeof Mr!="object"||Mr.indirectDamage)return;const pr=Number(Mr.totalDamage||0);if(!Number.isFinite(pr)||pr<=0)return;const Gn=Number(Mr.connectedHits||Mr.hits||0),wi=We(Mr.id,Re),kr=wi.name,oi=Bt.get(kr)||{skillName:kr,damage:0,hits:0,icon:wi.icon};oi.damage+=pr,oi.hits+=Number.isFinite(Gn)?Gn:0,!oi.icon&&wi.icon&&(oi.icon=wi.icon),Bt.set(kr,oi)})}),je.set(xt,Bt);const Jt=vt(it.map(zn=>fe(zn,mt))),gn=Jt.length>0?yt(Jt):qe(He),jn=Ie(He,Re);let Fn=bt.get(xt);Fn||(Fn={perSecond:[],hit:0,skillName:""},bt.set(xt,Fn)),gn.length>Fn.perSecond.length&&(Fn.perSecond.length=gn.length);for(let zn=0;zn<gn.length;zn+=1)Fn.perSecond[zn]=Number(Fn.perSecond[zn]||0)+Number(gn[zn]||0);const Tr=Number(jn.peak||0);Tr>Fn.hit&&(Fn.hit=Tr,Fn.skillName=jn.skillName||"Unknown Skill")});const Te=Array.from(bt.values()).some(He=>Array.isArray(He.perSecond)&&He.perSecond.some(mt=>Number(mt||0)>0));if(bt.size===0||!Te){const He=vt(it.map(xt=>{const Bt=zt(xt==null?void 0:xt.powerDamageTaken1S);return yt(Bt)})),mt=Array.from(oe.values()).reduce((xt,Bt)=>xt+Number(Bt||0),0);He.length>0&&mt>0&&oe.forEach((xt,Bt)=>{const Jt=Number(xt||0)/mt,gn=He.map(Fn=>Number(Fn||0)*Jt),jn=bt.get(Bt);bt.set(Bt,{perSecond:gn,hit:Number((jn==null?void 0:jn.hit)||0),skillName:String((jn==null?void 0:jn.skillName)||"")})})}bt.forEach((He,mt)=>{var wi;const xt=mt,Bt=Number(He.hit||0),Jt=Number(he(He.perSecond,1)||0),gn=Number(he(He.perSecond,5)||0),jn=Number(he(He.perSecond,30)||0),Fn=Math.max(0,Math.ceil(Number((Re==null?void 0:Re.durationMS)||0)/5e3)),Tr=Math.max(0,Math.ceil(He.perSecond.length/5)),zn=Math.max(Fn,Tr),Mr=nt(He.perSecond,5),pr=Array.from({length:zn},(kr,oi)=>Number(Mr[oi]||0));we[xt]={hit:Bt,burst1s:Jt,burst5s:gn,burst30s:jn,skillName:He.skillName||"Unknown Skill",buckets5s:pr,downIndices5s:st(ge,[],ce,zn,Number((Re==null?void 0:Re.durationMS)||0)),deathIndices5s:st(ot,[],ce,zn,Number((Re==null?void 0:Re.durationMS)||0)),skillRows:Array.from(((wi=je.get(mt))==null?void 0:wi.values())||[]).sort((kr,oi)=>oi.damage-kr.damage).slice(0,50)};const Gn=ue.get(xt)||{key:xt,account:mt,displayName:mt,characterName:"",profession:mt,professionList:[mt],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Gn.logs+=1,Bt>Gn.peakHit&&(Gn.peakHit=Bt,Gn.peakFightLabel=Ue,Gn.peakSkillName=He.skillName||"Unknown Skill"),Jt>Gn.peak1s&&(Gn.peak1s=Jt),gn>Gn.peak5s&&(Gn.peak5s=gn),jn>Gn.peak30s&&(Gn.peak30s=jn),ue.set(xt,Gn)});const Ee=Object.values(we).reduce((He,mt)=>Math.max(He,Number((mt==null?void 0:mt.hit)||0)),0),gt=Object.values(we).reduce((He,mt)=>Math.max(He,Number((mt==null?void 0:mt.burst1s)||0)),0),ut=Object.values(we).reduce((He,mt)=>Math.max(He,Number((mt==null?void 0:mt.burst5s)||0)),0),ct=Object.values(we).reduce((He,mt)=>Math.max(He,Number((mt==null?void 0:mt.burst30s)||0)),0);Ne.push({id:Pe.filePath||Pe.id||`fight-${_e+1}`,shortLabel:`F${_e+1}`,fullLabel:Ue,timestamp:Zr(Re,Pe),values:we,maxHit:Ee,max1s:gt,max5s:ut,max30s:ct})});const St=Array.from(ue.values()).sort((Pe,_e)=>_e.peakHit!==Pe.peakHit?_e.peakHit-Pe.peakHit:Pe.displayName.localeCompare(_e.displayName));return{fights:Ne,players:St}})(),sr=Array.from(P.entries()).map(([D,$])=>{const J=I.get(D)||{},Ne=Array.from($.values()).map(ue=>{var he,nt;const We=Array.from(ue.professions||[]).filter(Ce=>Ce&&Ce!=="Unknown");let Ie=ue.profession||"Unknown";if(We.length>0){Ie=We[0];let Ce=((he=ue.professionTimeMs)==null?void 0:he[Ie])||0;We.forEach(rt=>{var St;const st=((St=ue.professionTimeMs)==null?void 0:St[rt])||0;st>Ce&&(Ce=st,Ie=rt)})}const yt=ue.durationMs||0,vt=ue.totalMs/1e3,zt=yt>0?ue.totalMs/yt:0,qe=((nt=_.get(ue.account))==null?void 0:nt.supportActiveMs)||yt,fe=qe>0?ue.uptimeMs/qe:0;return{account:ue.account,profession:Ie,professionList:We,total:vt,perSecond:zt,uptimePerSecond:fe,duration:yt/1e3}}).filter(ue=>ue.total>0||ue.perSecond>0);return{id:D,name:J.name||D,icon:J.icon,rows:Ne}}).filter(D=>D.rows.length>0),lt=Array.from(ke.values()).map(D=>{const $=Array.from(D.skills.values()).sort((Ne,ue)=>ue.damage-Ne.damage),J={key:D.key,account:D.account,displayName:D.displayName,profession:D.profession,professionList:D.professionList,totalFightMs:D.totalFightMs,skills:$};return p&&(J.skillMap=$.reduce((Ne,ue)=>(Ne[ue.id]=ue,Ne),{})),J}).sort((D,$)=>D.displayName.localeCompare($.displayName));return{total:x,wins:b,losses:w,avgSquadSize:be,avgEnemies:Xe,squadKDR:pe,enemyKDR:tn,totalSquadKills:A,totalSquadDeaths:k,totalEnemyKills:F,totalEnemyDeaths:E,leaderboards:un,...Ur,outgoingConditionSummary:Object.values(re).sort((D,$)=>$.damage-D.damage),incomingConditionSummary:Object.values(H).sort((D,$)=>$.damage-D.damage),outgoingConditionPlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.outgoingConditions})),incomingConditionPlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,conditions:D.incomingConditions})),topSkills:Xr,topIncomingSkills:ms,topSkillsByDamage:Di,topSkillsByDownContribution:Rs,playerSkillBreakdowns:lt,topSkillsMetric:y,mapData:ll,timelineData:bu,boonTables:cl,boonTimeline:vu,boonUptimeTimeline:ul,offensePlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,offenseTotals:D.offenseTotals,offenseRateWeights:D.offenseRateWeights,totalFightMs:D.totalFightMs})),defensePlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,defenseTotals:D.defenseTotals,activeMs:D.defenseActiveMs,minionDamageTakenByMinion:D.defenseMinionDamageTaken})),damageMitigationPlayers:nn,damageMitigationMinions:hn,supportPlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,supportTotals:D.supportTotals,activeMs:D.supportActiveMs})),healingPlayers:Array.from(_.values()).map(D=>({account:D.account,profession:D.profession,professionList:D.professionList,healingTotals:D.healingTotals,activeMs:D.healingActiveMs})),mvp:Kn,silver:uc,bronze:dc,squadClassData:dl,enemyClassData:ze,fightBreakdown:Ct,fightDiffMode:Lt,attendanceData:Kt,squadCompByFight:rn,spikeDamage:jt,incomingStrikeDamage:$n,specialTables:sr,topStatsPerSecond:Bn,topStatsLeaderboardsPerSecond:Mn,avgMvpScore:sl}})(),h=(()=>{const m=new Map,p=new Map,v=[],y=new Map,x=new Map;o.forEach(w=>{const N=w.details;if(!N)return;const j=N.skillMap||{},k=N.fightName||"Log",A=Zr(N,w)||Date.now(),E={id:w.filePath||w.id||k,label:k,timestamp:A,skillEntries:{},playerActiveSeconds:{},durationSeconds:N.durationMS?N.durationMS/1e3:0};(N.players||[]).forEach(T=>{if(T.notInSquad)return;const L=T.account||T.name||"Unknown",_=T.profession||"Unknown",K=`${L}|${_}`;let ee=p.get(K);ee||(ee={key:K,account:L,displayName:L,profession:_,professionList:[_],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(K,ee)),ee.logs++;const le=(Array.isArray(T.activeTimes)?T.activeTimes[0]:0)/1e3;ee.totalActiveSeconds=(ee.totalActiveSeconds||0)+le,E.playerActiveSeconds[K]=le,(T.rotation||[]).forEach(ke=>{var P,Z,S;if(!(ke!=null&&ke.id))return;const re=((P=ke.skills)==null?void 0:P.length)||0;if(re<=0)return;const H=`s${ke.id}`,se=((Z=j[H])==null?void 0:Z.name)||`Skill ${ke.id}`,I=(S=j[H])==null?void 0:S.icon;ee.skillTotals[H]=(ee.skillTotals[H]||0)+re,m.set(H,(m.get(H)||0)+re),y.set(H,se),I&&!x.has(H)&&x.set(H,I),E.skillEntries[H]||(E.skillEntries[H]={name:se,icon:I,players:{}}),!E.skillEntries[H].icon&&I&&(E.skillEntries[H].icon=I),E.skillEntries[H].players[K]=(E.skillEntries[H].players[K]||0)+re})}),v.push(E)});const b=Array.from(m.entries()).map(([w,N])=>({id:w,name:y.get(w)||w,total:N,icon:x.get(w)})).sort((w,N)=>N.total-w.total);return{logRecords:v,players:Array.from(p.values()),skillOptions:b,resUtilitySkills:[]}})();return{validLogs:o,stats:f,skillUsageData:h}},nW=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,l]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const v=new Set;let y=null,x=null;e.forEach(T=>{const L=T.details;if(!L)return;const _=L.timeStartStd||L.timeStart||L.uploadTime||T.uploadTime,K=L.timeEndStd||L.timeEnd||L.uploadTime||T.uploadTime,ee=_?new Date(_):null,le=K?new Date(K):null;ee&&!Number.isNaN(ee.getTime())&&(!y||ee<y)&&(y=ee),le&&!Number.isNaN(le.getTime())&&(!x||le>x)&&(x=le),(L.players||[]).forEach(re=>{if(!(re!=null&&re.notInSquad)&&re!=null&&re.hasCommanderTag){const H=(re==null?void 0:re.name)||(re==null?void 0:re.account)||"Unknown";v.add(H)}})});const b=Array.from(v).sort((T,L)=>T.localeCompare(L)),w=y||new Date,N=x||w,j=w.toISOString(),k=N.toISOString(),A=`${w.toLocaleString()} - ${N.toLocaleString()}`,E=T=>String(T).padStart(2,"0");return{id:`${w.getFullYear()}${E(w.getMonth()+1)}${E(w.getDate())}-${E(w.getHours())}${E(w.getMinutes())}${E(w.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:b.length?b.join(", "):"Unknown Commander",commanders:b,dateStart:j,dateEnd:k,dateLabel:A,generatedAt:new Date().toISOString()}},h=()=>{var y;const v={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(v.fightDiffMode)&&v.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return v;try{const x=Ef({logs:e,statsViewSettings:r}),b=(y=x==null?void 0:x.stats)==null?void 0:y.fightDiffMode;if(Array.isArray(b)&&b.length>0)return{...v,fightDiffMode:b}}catch{}return v};return{devMockUploadState:o,setDevMockUploadState:l,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const v=f(),y=h();await s({meta:v,stats:y})}catch(v){console.error("[StatsView] Web upload failed:",v)}},handleDevMockUpload:async()=>{var v;if(!(a||!((v=window.electronAPI)!=null&&v.mockWebReport))){l({uploading:!0,message:"Preparing local report...",url:null});try{const y=f(),x=h(),b=await window.electronAPI.mockWebReport({meta:y,stats:x});b!=null&&b.success?l({uploading:!1,message:"Local report ready.",url:b.url||null}):l({uploading:!1,message:(b==null?void 0:b.error)||"Local report failed.",url:null})}catch(y){l({uploading:!1,message:(y==null?void 0:y.message)||"Local report failed.",url:null})}}}}};function rW(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const iW=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Hl(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let Tu=null;function KO(e={}){return Tu||(e.includeStyleProperties?(Tu=e.includeStyleProperties,Tu):(Tu=Hl(window.getComputedStyle(document.documentElement)),Tu))}function Fg(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function aW(e){const t=Fg(e,"border-left-width"),n=Fg(e,"border-right-width");return e.clientWidth+t+n}function sW(e){const t=Fg(e,"border-top-width"),n=Fg(e,"border-bottom-width");return e.clientHeight+t+n}function GO(e,t={}){const n=t.width||aW(e),r=t.height||sW(e);return{width:n,height:r}}function oW(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ca=16384;function lW(e){(e.width>Ca||e.height>Ca)&&(e.width>Ca&&e.height>Ca?e.width>e.height?(e.height*=Ca/e.width,e.width=Ca):(e.width*=Ca/e.height,e.height=Ca):e.width>Ca?(e.height*=Ca/e.width,e.width=Ca):(e.width*=Ca/e.height,e.height=Ca))}function Rg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function cW(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function uW(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),cW(i)}const ga=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||ga(n,t)};function dW(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function fW(e,t){return KO(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function mW(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?dW(n):fW(n,r);return document.createTextNode(`${i}{${a}}`)}function gj(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=iW();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(mW(s,n,i,r)),t.appendChild(o)}function hW(e,t,n){gj(e,t,":before",n),gj(e,t,":after",n)}const xj="application/font-woff",vj="image/jpeg",pW={woff:xj,woff2:xj,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:vj,jpeg:vj,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function gW(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Uk(e){const t=gW(e).toLowerCase();return pW[t]||""}function xW(e){return e.split(/,/)[1]}function ow(e){return e.search(/^(data:)/)!==-1}function vW(e,t){return`data:${t};base64,${e}`}async function YO(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(l){s(l)}},o.readAsDataURL(i)})}const ob={};function bW(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function Wk(e,t,n){const r=bW(e,t,n.includeQueryParams);if(ob[r]!=null)return ob[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await YO(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),xW(o)));i=vW(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return ob[r]=i,i}async function yW(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Rg(t)}async function wW(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Rg(o)}const n=e.poster,r=Uk(n),i=await Wk(n,r,t);return Rg(i)}async function kW(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await hx(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function SW(e,t){return ga(e,HTMLCanvasElement)?yW(e):ga(e,HTMLVideoElement)?wW(e,t):ga(e,HTMLIFrameElement)?kW(e,t):e.cloneNode(XO(e))}const NW=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",XO=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function CW(e,t,n){var r,i;if(XO(t))return t;let a=[];return NW(e)&&e.assignedNodes?a=Hl(e.assignedNodes()):ga(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=Hl(e.contentDocument.body.childNodes):a=Hl(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||ga(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>hx(o,n)).then(l=>{l&&t.appendChild(l)}),Promise.resolve()),t}function jW(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):KO(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),ga(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function AW(e,t){ga(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),ga(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function PW(e,t){if(ga(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function DW(e,t,n){return ga(t,Element)&&(jW(e,t,n),hW(e,t,n),AW(e,t),PW(e,t)),t}async function TW(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const l=e.querySelector(o),u=document.querySelector(o);!l&&u&&!r[o]&&(r[o]=await hx(u,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let l=0;l<i.length;l++)o.appendChild(i[l]);e.appendChild(s)}return e}async function hx(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>SW(r,t)).then(r=>CW(e,r,t)).then(r=>DW(e,r,t)).then(r=>TW(r,t))}const QO=/url\((['"]?)([^'"]+?)\1\)/g,MW=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,EW=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function OW(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function IW(e){const t=[];return e.replace(QO,(n,r,i)=>(t.push(i),n)),t.filter(n=>!ow(n))}async function _W(e,t,n,r,i){try{const a=n?rW(t,n):t,s=Uk(t);let o;return i||(o=await Wk(a,s,r)),e.replace(OW(t),`$1${o}$3`)}catch{}return e}function LW(e,{preferredFontFormat:t}){return t?e.replace(EW,n=>{for(;;){const[r,,i]=MW.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function ZO(e){return e.search(QO)!==-1}async function JO(e,t,n){if(!ZO(e))return e;const r=LW(e,n);return IW(r).reduce((a,s)=>a.then(o=>_W(o,s,t,n)),Promise.resolve(r))}async function Mu(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await JO(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function $W(e,t){await Mu("background",e,t)||await Mu("background-image",e,t),await Mu("mask",e,t)||await Mu("-webkit-mask",e,t)||await Mu("mask-image",e,t)||await Mu("-webkit-mask-image",e,t)}async function FW(e,t){const n=ga(e,HTMLImageElement);if(!(n&&!ow(e.src))&&!(ga(e,SVGImageElement)&&!ow(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await Wk(r,Uk(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...l)=>{try{a(t.onImageErrorHandler(...l))}catch(u){s(u)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function RW(e,t){const r=Hl(e.childNodes).map(i=>eI(i,t));await Promise.all(r).then(()=>e)}async function eI(e,t){ga(e,Element)&&(await $W(e,t),await FW(e,t),await RW(e,t))}function BW(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const bj={};async function yj(e){let t=bj[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},bj[e]=t,t}async function wj(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),YO(o,t.fetchRequestInit,({result:l})=>(n=n.replace(s,`url(${l})`),[s,l]))});return Promise.all(a).then(()=>n)}function kj(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const l=i.exec(r);if(l===null)break;t.push(l[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let l=a.exec(r);if(l===null){if(l=o.exec(r),l===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(l[0])}return t}async function zW(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{Hl(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const l=a.href,u=yj(l).then(d=>wj(d,t)).then(d=>kj(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(yj(i.href).then(o=>wj(o,t)).then(o=>kj(o).forEach(l=>{s.insertRule(l,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{Hl(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function UW(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>ZO(t.style.getPropertyValue("src")))}async function WW(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Hl(e.ownerDocument.styleSheets),r=await zW(n,t);return UW(r)}function tI(e){return e.trim().replace(/["']/g,"")}function VW(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(tI(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function HW(e,t){const n=await WW(e,t),r=VW(e);return(await Promise.all(n.filter(a=>r.has(tI(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return JO(a.cssText,s,t)}))).join(`
`)}async function qW(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await HW(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function KW(e,t={}){const{width:n,height:r}=GO(e,t),i=await hx(e,t,!0);return await qW(i,t),await eI(i,t),BW(i,t),await uW(i,n,r)}async function GW(e,t={}){const{width:n,height:r}=GO(e,t),i=await KW(e,t),a=await Rg(i),s=document.createElement("canvas"),o=s.getContext("2d"),l=t.pixelRatio||oW(),u=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=u*l,s.height=d*l,t.skipAutoScale||lW(s),s.style.width=`${u}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function YW(e,t={}){return(await GW(e,t)).toDataURL()}const XW=e=>{const[t,n]=g.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),l=globalThis.fetch.bind(globalThis),u=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=u,globalThis.fetch=u;try{return await s()}finally{window.fetch=o,globalThis.fetch=l}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,l=[],u=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var b;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const v=await u(p);if(!v)return;const y=m.src,x=m.srcset;m.src=v,m.srcset="",l.push(()=>{m.src=y,m.srcset=x});try{await((b=m.decode)==null?void 0:b.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const v=window.getComputedStyle(m).backgroundImage;if(!v||v==="none"||!v.includes("url("))return;const y=Array.from(v.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!y.length)return;let x=v,b=!1;for(const N of y){const j=N[1];if(!j)continue;const k=await u(j);k&&(x=x.replace(N[0],`url("${k}")`),b=!0)}if(!b)return;const w=m.style.backgroundImage;m.style.backgroundImage=x,l.push(()=>{m.style.backgroundImage=w})})),()=>{l.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(v=>setTimeout(v,100));const l=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),l.forEach(v=>{v.dataset.prevDisplay=v.style.display,v.style.display="none"});let u;const d=await i(s);try{const v=s.scrollWidth,y=s.scrollHeight;u=await r(()=>YW(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:v,height:y,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),l.forEach(v=>{v.style.display=v.dataset.prevDisplay||"",delete v.dataset.prevDisplay})}const m=await(await(await fetch(u)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(l){console.error("Failed to capture stats:",l)}setTimeout(()=>n(!1),2e3)}}},Of=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},QW=e=>!!(e&&e.__statsPruned===!0),Sj=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,i])=>{if(!i||typeof i!="object")return;const a={};typeof i.name=="string"&&(a.name=i.name),typeof i.icon=="string"&&(a.icon=i.icon),t!=null&&t.includeClassification&&typeof i.classification=="string"&&(a.classification=i.classification),t!=null&&t.includeStacking&&(typeof i.stacking=="boolean"?a.stacking=i.stacking:typeof i.stacking=="number"&&(a.stacking=!!i.stacking)),Object.keys(a).length>0&&(n[r]=a)}),n},Nj=e=>{var n;const t=(n=e==null?void 0:e.statsAll)==null?void 0:n[0];return!t||typeof t!="object"?!1:t.distToCom!==void 0&&t.distToCom!=="Infinity"||t.stackDist!==void 0},ZW=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const i=Of(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(i.positions=r.positions),i};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},Cj=e=>{if(!e||typeof e!="object")return e;const t=Of(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=Sj(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=Sj(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,i=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!Nj(a));t.players=n.map(a=>{const s=Of(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];s.minions=o.map(u=>Of(u,["name","totalDamageTakenDist"]));const l=i&&((a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||!(a!=null&&a.notInSquad)&&!Nj(a));return s.combatReplayData=ZW(a==null?void 0:a.combatReplayData,l),s})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>Of(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]))),t},JW=e=>{if(!e||typeof e!="object"||QW(e))return e;const t={...e};return e.details?t.details=Cj(e.details):t.details=Cj(e),t.__statsPruned=!0,t},eV=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,l]=g.useState(()=>Ef(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[u,d]=g.useState(0),[f,h]=g.useState(0),[m,p]=g.useState(0),[v,y]=g.useState(0),[x,b]=g.useState(null),w=g.useRef(0),[N,j]=g.useState(0),k=g.useRef(null),A=g.useRef(null),[E,F]=g.useState(!1),T=g.useRef(null),L=g.useRef(null),_=g.useRef(0),K=g.useRef(0),ee=g.useRef(new Map),le=g.useRef(""),ke=g.useRef(void 0),re=g.useRef(""),H=g.useRef(0),[se,I]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[P,Z]=g.useState(null),S=g.useRef(0),W=()=>{if(T.current!==null&&(window.clearTimeout(T.current),T.current=null),L.current!==null){const V=window.cancelIdleCallback;typeof V=="function"&&V(L.current),L.current=null}},R=(V,G)=>{const B=String((V==null?void 0:V.filePath)||(V==null?void 0:V.id)||`idx-${G}`),de=V!=null&&V.details&&typeof V.details=="object"?V.details:null,X=ee.current.get(B);if(X&&(de&&X.sourceDetails===de||!de&&X.sourceLog===V))return X.pruned;const ie=JW(V);return ee.current.set(B,{sourceLog:V,sourceDetails:de,pruned:ie}),ie},q=g.useMemo(()=>{if(!r){le.current="",ke.current=void 0;return}const V={...r};delete V.topSkillsMetric;const G=JSON.stringify(V);return le.current!==G&&(le.current=G,ke.current=V),ke.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!E&&s)return A.current||(A.current=new Worker(new URL(""+new URL("statsWorker-DdbAXDAY.js",import.meta.url).href,import.meta.url),{type:"module"}),A.current.onmessage=V=>{var G;if(((G=V.data)==null?void 0:G.type)==="result"){const B=typeof V.data.token=="number"?V.data.token:null;if(B!==null&&B!==w.current)return;g.startTransition(()=>{var Ve;l(V.data.result),typeof V.data.computeId=="number"?d(V.data.computeId):d(Ge=>Ge+1),typeof V.data.logCount=="number"&&h(V.data.logCount),typeof V.data.token=="number"&&p(V.data.token),typeof V.data.completedAt=="number"&&y(V.data.completedAt),typeof V.data.flushId=="number"&&b(V.data.flushId);const de=B===null||B===w.current,X=H.current,ie=typeof V.data.logCount=="number"?V.data.logCount:0;if(de){const Ge=typeof V.data.completedAt=="number"?V.data.completedAt:Date.now(),kt=((Ve=V.data)==null?void 0:Ve.diagnostics)||{},Ae=Math.max(0,Number(kt.computeMs||0)),me=S.current>0?S.current:Ge,be=Math.max(0,Ge-me),Xe=Math.max(0,be-Ae);Z({mode:"worker",logsInPayload:Number(kt.logsInPayload||V.data.logCount||0),streamedLogs:Number(V.data.logCount||0),totalLogs:X,startedAt:me,completedAt:Ge,streamMs:Xe,computeMs:Ae,totalMs:be,flushId:typeof V.data.flushId=="number"?V.data.flushId:null,transferStripStats:kt.transferStripStats,counts:kt.counts,expectedLogCount:Number(kt.expectedLogCount||0),droppedLogMessages:Number(kt.droppedLogMessages||0)})}de&&ie>=X&&I(Ge=>({...Ge,active:X>0,phase:X>0?"settled":"idle",streamed:X,total:X,completedAt:typeof V.data.completedAt=="number"?V.data.completedAt:Date.now()}))})}},A.current.onerror=V=>{var G;console.warn("[StatsWorker] Worker error. Falling back to main thread.",V),(G=A.current)==null||G.terminate(),A.current=null,F(!0)},A.current.onmessageerror=V=>{var G;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",V),(G=A.current)==null||G.terminate(),A.current=null,F(!0)},k.current!==null&&A.current.postMessage({type:"flush",flushId:k.current,token:w.current})),()=>{var V;K.current+=1,W(),(V=A.current)==null||V.terminate(),A.current=null}},[E,s]),g.useEffect(()=>{var B;if(!A.current||E||!s)return;const V=K.current+1;K.current=V;let G=!1;try{H.current=e.length,S.current=Date.now(),Z(null),I({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const de=w.current+1;w.current=de,j(de);const X=new Set;e.forEach((me,be)=>{X.add(String((me==null?void 0:me.filePath)||(me==null?void 0:me.id)||`idx-${be}`))}),ee.current.forEach((me,be)=>{X.has(be)||ee.current.delete(be)}),W(),A.current.postMessage({type:"reset",token:de,totalLogs:e.length}),A.current.postMessage({type:"settings",token:de,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:q,disruptionMethod:i}});let ie=0;const Ve=e.length,Ge=(me,be=!1)=>{const Xe=performance.now();if(!be&&Xe-_.current<120&&ie<Ve)return;_.current=Xe;const pe=Math.min(ie,Ve);I(tn=>tn.active===Ve>0&&tn.phase===me&&tn.streamed===pe&&tn.total===Ve?tn:{...tn,active:Ve>0,phase:me,streamed:pe,total:Ve})},kt=()=>{if(G||K.current!==V||!A.current)return;const me=window.requestIdleCallback;if(typeof me=="function"){L.current=me(be=>{L.current=null,Ae(be)},{timeout:120});return}T.current=window.setTimeout(()=>{T.current=null,Ae()},0)},Ae=me=>{if(G||K.current!==V||!A.current)return;const be=!!(me&&typeof me.timeRemaining=="function"),Xe=be?Math.max(0,Number(me.timeRemaining()||0)):0,pe=be?Xe>12?4:Xe>7?2:1:1;let tn=0;for(;tn<pe&&ie<Ve;)A.current.postMessage({type:"log",token:de,payload:R(e[ie],ie)}),ie+=1,tn+=1;ie<Ve?(Ge("streaming"),kt()):(Ge("computing",!0),A.current.postMessage({type:"flush",token:de}))};_.current=0,Ve<=0?(Ge("computing",!0),A.current.postMessage({type:"flush",token:de})):(Ge("streaming",!0),kt())}catch(de){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",de),W(),(B=A.current)==null||B.terminate(),A.current=null,F(!0),I({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),Z(null)}return()=>{G=!0,W()}},[e,t,n,q,i,s,E]);const ne=g.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return null;const V=Date.now(),G=performance.now(),B=Ef({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:q,disruptionMethod:i}),de=Math.max(0,performance.now()-G),X=Date.now();return{result:B,computeMs:de,startedAt:V,completedAt:X}},[E,e,t,n,q,i,s]),Y=g.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return"worker";const V=e[0],G=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(V==null?void 0:V.filePath)||(V==null?void 0:V.name)||"",lastLogPath:(G==null?void 0:G.filePath)||(G==null?void 0:G.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:le.current})},[E,s,e,t,i]);g.useEffect(()=>{if(!E&&typeof Worker<"u"&&s||re.current===Y)return;re.current=Y,d(G=>G+1),h(e.length),p(w.current);const V=Date.now();y(V),Z({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(ne==null?void 0:ne.startedAt)||V,completedAt:V,streamMs:0,computeMs:Math.max(0,Number((ne==null?void 0:ne.computeMs)||0)),totalMs:Math.max(0,Number((ne==null?void 0:ne.computeMs)||0)),flushId:null})},[Y,ne,E,e.length,s]);const z=E||typeof Worker>"u"||!s?(ne==null?void 0:ne.result)??Ef({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:q,disruptionMethod:i}):o,U=!E&&typeof Worker<"u"&&s?se:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:z,computeTick:u,lastComputedLogCount:f,lastComputedToken:m,activeToken:N,lastComputedAt:v,lastComputedFlushId:x,aggregationProgress:U,aggregationDiagnostics:P,requestFlush:()=>{const V=Date.now();return k.current=V,A.current&&!E&&A.current.postMessage({type:"flush",flushId:V,token:w.current}),V}}},tV=e=>({apmSpecBuckets:g.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const l=r.get(o);let u=!1;return l&&typeof l.autoAttack=="boolean"?u=l.autoAttack:u=l8(s),i.set(o,u),u};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let l=n.get(o);l||(l={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,l)),l.players.push(s);const u=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(u)&&u>0?u:0;l.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([j,k])=>{const A=Number(k);if(!Number.isFinite(A)||A<=0)return;const E=r.get(j),F=(E==null?void 0:E.name)||j,T=E==null?void 0:E.icon,L=a(F,j);f+=A,L&&(h+=A);let _=l.skillMap.get(j);_||(_={id:j,name:F,icon:T,totalCasts:0,playerCounts:new Map},l.skillMap.set(j,_)),!_.icon&&T&&(_.icon=T),_.totalCasts+=A;const K=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;_.playerCounts.set(K,A)}),l.totalCasts+=f,l.totalAutoCasts+=h;const p=d/60,v=p>0?f/p:0,y=Math.max(0,f-h),x=p>0?y/p:0,b=d>0?f/d:0,w=d>0?y/d:0,N={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:v,apmNoAuto:x,aps:b,apsNoAuto:w};l.playerRows.push(N)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),l=o>0?o/60:0,u=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=l>0?Number(s.totalCasts||0)/l:0,s.totalApmNoAuto=l>0?u/l:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?u/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(v=>{var N;const y=Number(((N=d.playerCounts)==null?void 0:N.get(v.key))||0);if(!Number.isFinite(y)||y<=0)return null;const x=Number(v.totalActiveSeconds||0),b=x>0?y/(x/60):0,w=x>0?y/x:0;return{...v,count:y,apm:b,aps:w}}).filter(Boolean).sort((v,y)=>y.apm-v.apm||String(v.displayName||"").localeCompare(String(y.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=l>0?h/l:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),nV=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const v=h.totalActiveSeconds||1;p=v>0?m/v:0}d.set(h.key,p)}),d},[e.players,t,r]),s=g.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:l}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const v=m.skillEntries[t];if(!v)return null;const y={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let x=!1,b=!1;if(Object.entries(v.players).forEach(([w,N])=>{var k;if(n.size>0&&!n.has(w))return;let j=N;if(f){const A=((k=m.playerActiveSeconds)==null?void 0:k[w])||0;j=A>0?N/A:0}y[w]=j,j>d&&(d=j),x=!0,b=!0}),n.size>0){if(!b)return null}else if(!x)return null;return n.forEach(w=>{y[w]===void 0&&(y[w]=0)}),y}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:l,groupedSkillUsagePlayers:u}};function nI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=nI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function On(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=nI(e))&&(r&&(r+=" "),r+=t);return r}var rV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Vk(e){if(typeof e!="string")return!1;var t=rV;return t.includes(e)}var iV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],aV=new Set(iV);function rI(e){return typeof e!="string"?!1:aV.has(e)}function iI(e){return typeof e=="string"&&e.startsWith("data-")}function is(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(rI(n)||iI(n))&&(t[n]=e[n]);return t}function Sd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return is(t)}return typeof e=="object"&&!Array.isArray(e)?is(e):null}function Wi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(rI(n)||iI(n)||Vk(n))&&(t[n]=e[n]);return t}function sV(e){return e==null?null:g.isValidElement(e)?Wi(e.props):typeof e=="object"&&!Array.isArray(e)?Wi(e):null}var oV=["children","width","height","viewBox","className","style","title","desc"];function lw(){return lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lw.apply(null,arguments)}function lV(e,t){if(e==null)return{};var n,r,i=cV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Hk=g.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:l,desc:u}=e,d=lV(e,oV),f=a||{width:r,height:i,x:0,y:0},h=On("recharts-surface",s);return g.createElement("svg",lw({},Wi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,l),g.createElement("desc",null,u),n)}),uV=["children","className"];function cw(){return cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cw.apply(null,arguments)}function dV(e,t){if(e==null)return{};var n,r,i=fV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ea=g.forwardRef((e,t)=>{var{children:n,className:r}=e,i=dV(e,uV),a=On("recharts-layer",r);return g.createElement("g",cw({className:a},Wi(i),{ref:t}),n)}),aI=g.createContext(null),mV=()=>g.useContext(aI);function ir(e){return function(){return e}}const sI=Math.cos,Bg=Math.sin,$s=Math.sqrt,zg=Math.PI,px=2*zg,uw=Math.PI,dw=2*uw,Cc=1e-6,hV=dw-Cc;function oI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return oI;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class gV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?oI:pV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,l=r-t,u=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>Cc)if(!(Math.abs(f*l-u*d)>Cc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,v=l*l+u*u,y=m*m+p*p,x=Math.sqrt(v),b=Math.sqrt(h),w=a*Math.tan((uw-Math.acos((v+h-y)/(2*x*b)))/2),N=w/b,j=w/x;Math.abs(N-1)>Cc&&this._append`L${t+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+j*l},${this._y1=n+j*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),u=t+o,d=n+l,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Cc||Math.abs(this._y1-d)>Cc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%dw+dw),h>hV?this._append`A${r},${r},0,1,${f},${t-o},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>Cc&&this._append`A${r},${r},0,${+(h>=uw)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function qk(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new gV(t)}function Kk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function lI(e){this._context=e}lI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gx(e){return new lI(e)}function cI(e){return e[0]}function uI(e){return e[1]}function dI(e,t){var n=ir(!0),r=null,i=gx,a=null,s=qk(o);e=typeof e=="function"?e:e===void 0?cI:ir(e),t=typeof t=="function"?t:t===void 0?uI:ir(t);function o(l){var u,d=(l=Kk(l)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,l),+t(f,u,l));if(m)return a=null,m+""||null}return o.x=function(l){return arguments.length?(e=typeof l=="function"?l:ir(+l),o):e},o.y=function(l){return arguments.length?(t=typeof l=="function"?l:ir(+l),o):t},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ir(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),o):r},o}function xp(e,t,n){var r=null,i=ir(!0),a=null,s=gx,o=null,l=qk(u);e=typeof e=="function"?e:e===void 0?cI:ir(+e),t=typeof t=="function"?t:ir(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?uI:ir(+n);function u(f){var h,m,p,v=(f=Kk(f)).length,y,x=!1,b,w=new Array(v),N=new Array(v);for(a==null&&(o=s(b=l())),h=0;h<=v;++h){if(!(h<v&&i(y=f[h],h,f))===x)if(x=!x)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],N[p]);o.lineEnd(),o.areaEnd()}x&&(w[h]=+e(y,h,f),N[h]=+t(y,h,f),o.point(r?+r(y,h,f):w[h],n?+n(y,h,f):N[h]))}if(b)return o=null,b+""||null}function d(){return dI().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:ir(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ir(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:ir(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ir(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ir(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class fI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function xV(e){return new fI(e,!0)}function vV(e){return new fI(e,!1)}const Gk={draw(e,t){const n=$s(t/zg);e.moveTo(n,0),e.arc(0,0,n,0,px)}},bV={draw(e,t){const n=$s(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},mI=$s(1/3),yV=mI*2,wV={draw(e,t){const n=$s(t/yV),r=n*mI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},kV={draw(e,t){const n=$s(t),r=-n/2;e.rect(r,r,n,n)}},SV=.8908130915292852,hI=Bg(zg/10)/Bg(7*zg/10),NV=Bg(px/10)*hI,CV=-sI(px/10)*hI,jV={draw(e,t){const n=$s(t*SV),r=NV*n,i=CV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=px*a/5,o=sI(s),l=Bg(s);e.lineTo(l*n,-o*n),e.lineTo(o*r-l*i,l*r+o*i)}e.closePath()}},lb=$s(3),AV={draw(e,t){const n=-$s(t/(lb*3));e.moveTo(0,n*2),e.lineTo(-lb*n,-n),e.lineTo(lb*n,-n),e.closePath()}},Va=-.5,Ha=$s(3)/2,fw=1/$s(12),PV=(fw/2+1)*3,DV={draw(e,t){const n=$s(t/PV),r=n/2,i=n*fw,a=r,s=n*fw+n,o=-a,l=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,l),e.lineTo(Va*r-Ha*i,Ha*r+Va*i),e.lineTo(Va*a-Ha*s,Ha*a+Va*s),e.lineTo(Va*o-Ha*l,Ha*o+Va*l),e.lineTo(Va*r+Ha*i,Va*i-Ha*r),e.lineTo(Va*a+Ha*s,Va*s-Ha*a),e.lineTo(Va*o+Ha*l,Va*l-Ha*o),e.closePath()}};function TV(e,t){let n=null,r=qk(i);e=typeof e=="function"?e:ir(e||Gk),t=typeof t=="function"?t:ir(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:ir(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:ir(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function Ug(){}function Wg(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function pI(e){this._context=e}pI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wg(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function MV(e){return new pI(e)}function gI(e){this._context=e}gI.prototype={areaStart:Ug,areaEnd:Ug,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function EV(e){return new gI(e)}function xI(e){this._context=e}xI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Wg(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function OV(e){return new xI(e)}function vI(e){this._context=e}vI.prototype={areaStart:Ug,areaEnd:Ug,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IV(e){return new vI(e)}function jj(e){return e<0?-1:1}function Aj(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(jj(a)+jj(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function Pj(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function cb(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function Vg(e){this._context=e}Vg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cb(this,this._t0,Pj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cb(this,Pj(this,n=Aj(this,e,t)),n);break;default:cb(this,this._t0,n=Aj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function bI(e){this._context=new yI(e)}(bI.prototype=Object.create(Vg.prototype)).point=function(e,t){Vg.prototype.point.call(this,t,e)};function yI(e){this._context=e}yI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function _V(e){return new Vg(e)}function LV(e){return new bI(e)}function wI(e){this._context=e}wI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Dj(e),i=Dj(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Dj(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function $V(e){return new wI(e)}function xx(e,t){this._context=e,this._t=t}xx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function FV(e){return new xx(e,.5)}function RV(e){return new xx(e,0)}function BV(e){return new xx(e,1)}function tu(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function zV(e,t){return e[t]}function UV(e){const t=[];return t.key=e,t}function WV(){var e=ir([]),t=mw,n=tu,r=zV;function i(a){var s=Array.from(e.apply(this,arguments),UV),o,l=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<l;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,d=Kk(t(s));o<l;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:ir(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ir(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?mw:typeof a=="function"?a:ir(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??tu,i):n},i}function VV(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}tu(e,t)}}function HV(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}tu(e,t)}}function qV(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,l=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var v=e[t[p]],y=v[r][1]||0,x=v[r-1][1]||0;m+=y-x}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,tu(e,t)}}var vx={},kI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(kI);var Yk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(Yk);var bx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(bx);var yx={},SI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(SI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=SI,n=bx;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,l+=i[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(l),l=""):l+=f:f==="["?(d=!0,l&&(a.push(l),l="")):f==="."?l&&(a.push(l),l=""):l+=f,o++}return l&&a.push(l),a}e.toPath=r})(yx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kI,n=Yk,r=bx,i=yx;function a(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?n.isDeepKey(l)?a(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return s(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),t.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function s(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||t.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}e.get=a})(vx);var KV=vx.get;const nu=Ls(KV);var GV=4;function Ll(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:GV,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Er(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Ll(o)+a:i+a},"")}var Bi=e=>e===0?0:e>0?1:-1,as=e=>typeof e=="number"&&e!=+e,Wo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Vt=e=>(typeof e=="number"||e instanceof Number)&&!as(e),ss=e=>Vt(e)||typeof e=="string",YV=0,Sm=e=>{var t=++YV;return"".concat(e||"").concat(t)},Oa=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Vt(t)&&typeof t!="string")return r;var a;if(Wo(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return as(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},NI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function Ri(e,t,n){return Vt(e)&&Vt(t)?Ll(e+n*(t-e)):t}function CI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):nu(r,t))===n)}var ni=e=>e===null||typeof e>"u",Ym=e=>ni(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function XV(e){return e!=null}function Xm(){}var QV=["type","size","sizeType"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hw.apply(null,arguments)}function Tj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mj(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(n),!0).forEach(function(r){ZV(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZV(e,t,n){return(t=JV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function JV(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t9(e,t){if(e==null)return{};var n,r,i=n9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function n9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var jI={symbolCircle:Gk,symbolCross:bV,symbolDiamond:wV,symbolSquare:kV,symbolStar:jV,symbolTriangle:AV,symbolWye:DV},r9=Math.PI/180,i9=e=>{var t="symbol".concat(Ym(e));return jI[t]||Gk},a9=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*r9;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},s9=(e,t)=>{jI["symbol".concat(Ym(e))]=t},Xk=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=t9(e,QV),a=Mj(Mj({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=i9(s),m=TV().type(h).size(a9(n,r,s)),p=m();if(p!==null)return p},{className:l,cx:u,cy:d}=a,f=Wi(a);return Vt(u)&&Vt(d)&&Vt(n)?g.createElement("path",hw({},f,{className:On("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Xk.registerSymbol=s9;var AI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,Qk=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{Vk(i)&&(r[i]=a=>n[i](n,a))}),r},o9=(e,t,n)=>r=>(e(t,n,r),null),Zk=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];Vk(i)&&typeof a=="function"&&(r||(r={}),r[i]=o9(a,t,n))}),r};function Ej(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function l9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ej(Object(n),!0).forEach(function(r){c9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ej(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c9(e,t,n){return(t=u9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u9(e){var t=d9(e,"string");return typeof t=="symbol"?t:t+""}function d9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t){var n=l9({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hg.apply(null,arguments)}function Oj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function f9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Oj(Object(n),!0).forEach(function(r){m9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function m9(e,t,n){return(t=h9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h9(e){var t=p9(e,"string");return typeof t=="symbol"?t:t+""}function p9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ga=32,g9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function x9(e){var{data:t,iconType:n,inactiveColor:r}=e,i=Ga/2,a=Ga/6,s=Ga/3,o=t.inactive?r:t.color,l=n??t.type;if(l==="none")return null;if(l==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Ga,y2:i,className:"recharts-legend-icon"})}if(l==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ga,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ga/8,"h").concat(Ga,"v").concat(Ga*3/4,"h").concat(-Ga,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=f9({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(Xk,{fill:o,cx:i,cy:i,size:Ga,sizeType:"diameter",type:l})}function v9(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:Ga,height:Ga},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=On({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,v=h?h(d.value,d,f):d.value;return g.createElement("li",Hg({className:m,style:l,key:"legend-item-".concat(f)},Zk(e,d,f)),g.createElement(Hk,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(v," legend icon")},g.createElement(x9,{data:d,iconType:s,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},v))})}var b9=e=>{var t=Yr(e,g9),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(v9,Hg({},t,{payload:n})))},PI={},DI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(DI);var TI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(TI);var Jk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(Jk);var MI={},wx={},EI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(EI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EI;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(wx);var OI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(OI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wx,n=OI;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(MI);var II={},_I={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vx;function n(r){return function(i){return t.get(i,r)}}e.property=n})(_I);var LI={},eS={},$I={},tS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(tS);var nS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(nS);var rS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(rS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tS,n=nS,r=rS;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,v,y,x,b,w){const N=h(p,v,y,x,b,w);return N!==void 0?!!N:a(p,v,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return l(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let v=0;v<p.length;v++){const y=p[v];if(!n.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,v]of f.entries()){const y=d.get(p);if(h(y,v,p,d,f,m)===!1)return!1}return!0}function l(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let v=0;v<f.length;v++){const y=f[v];let x=!1;for(let b=0;b<d.length;b++){if(p.has(b))continue;const w=d[b];let N=!1;if(h(w,y,v,d,f,m)&&(N=!0),N){p.add(b),x=!0;break}}if(!x)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?l([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})($I);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$I;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(eS);var FI={},iS={},RI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(RI);var kx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(kx);var aS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",v="[object DataView]",y="[object Uint8Array]",x="[object Uint8ClampedArray]",b="[object Uint16Array]",w="[object Uint32Array]",N="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",A="[object Int32Array]",E="[object BigInt64Array]",F="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=v,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=F,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=A,e.int8ArrayTag=j,e.mapTag=l,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=b,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=x})(aS);var BI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(BI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RI,n=kx,r=aS,i=nS,a=BI;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const v=p==null?void 0:p(d,f,h,m);if(v!==void 0)return v;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[x,b]of d)y.set(x,o(b,x,h,m,p));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const x of d)y.add(o(x,void 0,h,m,p));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let x=0;x<d.length;x++)y[x]=o(d[x],x,h,m,p);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),l(y,d,h,m,p),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,l(y,d,h,m,p),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),l(y,d,h,m,p),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),l(y,d,h,m,p),y}return d}function l(d,f,h=d,m,p){const v=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<v.length;y++){const x=v[y],b=Object.getOwnPropertyDescriptor(d,x);(b==null||b.writable)&&(d[x]=o(f[x],x,h,m,p))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=l})(iS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iS;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(FI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS,n=FI;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(LI);var zI={},UI={},WI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iS,n=kx,r=aS;function i(a,s){return t.cloneDeepWith(a,(o,l,u,d)=>{const f=s==null?void 0:s(o,l,u,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,u,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(WI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WI;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(UI);var VI={},sS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(sS);var HI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kx;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(HI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yk,n=sS,r=HI,i=yx;function a(s,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=s;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(VI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eS,n=bx,r=UI,i=vx,a=VI;function s(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):l===void 0?d===void 0:t.isMatch(d,l)}}e.matchesProperty=s})(zI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jk,n=_I,r=LI,i=zI;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(II);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DI,n=TI,r=Jk,i=MI,a=II;function s(o,l=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(l),1)):[]}e.uniqBy=s})(PI);var y9=PI.uniqBy;const Ij=Ls(y9);function qI(e,t,n){return t===!0?Ij(e,n):typeof t=="function"?Ij(e,t):e}var KI={exports:{}},GI={},YI={exports:{}},XI={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nd=g;function w9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var k9=typeof Object.is=="function"?Object.is:w9,S9=Nd.useState,N9=Nd.useEffect,C9=Nd.useLayoutEffect,j9=Nd.useDebugValue;function A9(e,t){var n=t(),r=S9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return C9(function(){i.value=n,i.getSnapshot=t,ub(i)&&a({inst:i})},[e,n,t]),N9(function(){return ub(i)&&a({inst:i}),e(function(){ub(i)&&a({inst:i})})},[e]),j9(n),n}function ub(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!k9(e,n)}catch{return!0}}function P9(e,t){return t()}var D9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?P9:A9;XI.useSyncExternalStore=Nd.useSyncExternalStore!==void 0?Nd.useSyncExternalStore:D9;YI.exports=XI;var T9=YI.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sx=g,M9=T9;function E9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O9=typeof Object.is=="function"?Object.is:E9,I9=M9.useSyncExternalStore,_9=Sx.useRef,L9=Sx.useEffect,$9=Sx.useMemo,F9=Sx.useDebugValue;GI.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=_9(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=$9(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,O9(d,m))return p;var v=r(m);return i!==void 0&&i(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=I9(e,a[0],a[1]);return L9(function(){s.hasValue=!0,s.value=o},[o]),F9(o),o};KI.exports=GI;var R9=KI.exports,oS=g.createContext(null),B9=e=>e,Jn=()=>{var e=g.useContext(oS);return e?e.store.dispatch:B9},ng=()=>{},z9=()=>ng,U9=(e,t)=>e===t;function _t(e){var t=g.useContext(oS);return R9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:z9,t?t.store.getState:ng,t?t.store.getState:ng,t?e:ng,U9)}function W9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function V9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function H9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var _j=e=>Array.isArray(e)?e:[e];function q9(e){const t=Array.isArray(e[0])?e[0]:e;return H9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function K9(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var G9=class{constructor(e){this.value=e}deref(){return this.value}},Y9=typeof WeakRef<"u"?WeakRef:G9,X9=0,Lj=1;function vp(){return{s:X9,v:void 0,o:null,p:null}}function QI(e,t={}){let n=vp();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:l}=arguments;for(let h=0,m=l;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let v=o.o;v===null&&(o.o=v=new WeakMap);const y=v.get(p);y===void 0?(o=vp(),v.set(p,o)):o=y}else{let v=o.p;v===null&&(o.p=v=new Map);const y=v.get(p);y===void 0?(o=vp(),v.set(p,o)):o=y}}const u=o;let d;if(o.s===Lj)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new Y9(d):d}return u.s=Lj,u.v=d,d}return s.clearCache=()=>{n=vp(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function Q9(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),W9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...l},{memoize:f,memoizeOptions:h=[],argsMemoize:m=QI,argsMemoizeOptions:p=[]}=d,v=_j(h),y=_j(p),x=q9(i),b=f(function(){return a++,u.apply(null,arguments)},...v),w=m(function(){s++;const j=K9(x,arguments);return o=b.apply(null,j),o},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:b,dependencies:x,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Me=Q9(QI),Z9=Object.assign((e,t=Me)=>{V9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,l)=>(s[n[l]]=o,s),{}))},{withTypes:()=>Z9}),ZI={},JI={},e_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(e_);var t_={},lS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(lS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lS,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(t_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=e_,n=t_,r=yx;function i(a,s,o,l){if(a==null)return[];o=l?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let v=m;for(let y=0;y<p.length&&v!=null;++y)v=v[p[y]];return v},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let v=0;v<f.length;v++){const y=t.compareValues(m.criteria[v],p.criteria[v],o[v]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=i})(JI);var n_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<a?s(d,l+1):i.push(d)}};return s(n,0),i}e.flatten=t})(n_);var cS={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sS,n=wx,r=tS,i=rS;function a(s,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&t.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.isEqualsSameValueZero(l[o],s):!1}e.isIterateeCall=a})(cS);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JI,n=n_,r=cS;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(ZI);var J9=ZI.sortBy;const Nx=Ls(J9);var r_=e=>e.legend.settings,eH=e=>e.legend.size,tH=e=>e.legend.payload,nH=Me([tH,r_],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Nx(r,n):r});function rH(){return _t(nH)}var bp=1;function i_(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>bp||Math.abs(s.left-t.left)>bp||Math.abs(s.top-t.top)>bp||Math.abs(s.width-t.width)>bp)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Si(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var iH=typeof Symbol=="function"&&Symbol.observable||"@@observable",$j=iH,db=()=>Math.random().toString(36).substring(7).split("").join("."),aH={INIT:`@@redux/INIT${db()}`,REPLACE:`@@redux/REPLACE${db()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${db()}`},qg=aH;function uS(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function a_(e,t,n){if(typeof e!="function")throw new Error(Si(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Si(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Si(1));return n(a_)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,l=!1;function u(){s===a&&(s=new Map,a.forEach((y,x)=>{s.set(x,y)}))}function d(){if(l)throw new Error(Si(3));return i}function f(y){if(typeof y!="function")throw new Error(Si(4));if(l)throw new Error(Si(5));let x=!0;u();const b=o++;return s.set(b,y),function(){if(x){if(l)throw new Error(Si(6));x=!1,u(),s.delete(b),a=null}}}function h(y){if(!uS(y))throw new Error(Si(7));if(typeof y.type>"u")throw new Error(Si(8));if(typeof y.type!="string")throw new Error(Si(17));if(l)throw new Error(Si(9));try{l=!0,i=r(i,y)}finally{l=!1}return(a=s).forEach(b=>{b()}),y}function m(y){if(typeof y!="function")throw new Error(Si(10));r=y,h({type:qg.REPLACE})}function p(){const y=f;return{subscribe(x){if(typeof x!="object"||x===null)throw new Error(Si(11));function b(){const N=x;N.next&&N.next(d())}return b(),{unsubscribe:y(b)}},[$j](){return this}}}return h({type:qg.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[$j]:p}}function sH(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:qg.INIT})>"u")throw new Error(Si(12));if(typeof n(void 0,{type:qg.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Si(13))})}function s_(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{sH(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(Si(14));u[f]=p,l=l||p!==m}return l=l||r.length!==Object.keys(s).length,l?u:s}}function Kg(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function oH(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Si(15))};const s={getState:i.getState,dispatch:(l,...u)=>a(l,...u)},o=e.map(l=>l(s));return a=Kg(...o)(i.dispatch),{...i,dispatch:a}}}function o_(e){return uS(e)&&"type"in e&&typeof e.type=="string"}var l_=Symbol.for("immer-nothing"),Fj=Symbol.for("immer-draftable"),ta=Symbol.for("immer-state");function ks(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ma=Object,Cd=Ma.getPrototypeOf,Gg="constructor",Cx="prototype",pw="configurable",Yg="enumerable",rg="writable",Nm="value",Vo=e=>!!e&&!!e[ta];function Ms(e){var t;return e?c_(e)||Ax(e)||!!e[Fj]||!!((t=e[Gg])!=null&&t[Fj])||Px(e)||Dx(e):!1}var lH=Ma[Cx][Gg].toString(),Rj=new WeakMap;function c_(e){if(!e||!dS(e))return!1;const t=Cd(e);if(t===null||t===Ma[Cx])return!0;const n=Ma.hasOwnProperty.call(t,Gg)&&t[Gg];if(n===Object)return!0;if(!Fu(n))return!1;let r=Rj.get(n);return r===void 0&&(r=Function.toString.call(n),Rj.set(n,r)),r===lH}function jx(e,t,n=!0){Qm(e)===0?(n?Reflect.ownKeys(e):Ma.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Qm(e){const t=e[ta];return t?t.type_:Ax(e)?1:Px(e)?2:Dx(e)?3:0}var Bj=(e,t,n=Qm(e))=>n===2?e.has(t):Ma[Cx].hasOwnProperty.call(e,t),gw=(e,t,n=Qm(e))=>n===2?e.get(t):e[t],Xg=(e,t,n,r=Qm(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function cH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Ax=Array.isArray,Px=e=>e instanceof Map,Dx=e=>e instanceof Set,dS=e=>typeof e=="object",Fu=e=>typeof e=="function",fb=e=>typeof e=="boolean";function uH(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Co=e=>e.copy_||e.base_,fS=e=>e.modified_?e.copy_:e.base_;function xw(e,t){if(Px(e))return new Map(e);if(Dx(e))return new Set(e);if(Ax(e))return Array[Cx].slice.call(e);const n=c_(e);if(t===!0||t==="class_only"&&!n){const r=Ma.getOwnPropertyDescriptors(e);delete r[ta];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[rg]===!1&&(o[rg]=!0,o[pw]=!0),(o.get||o.set)&&(r[s]={[pw]:!0,[rg]:!0,[Yg]:o[Yg],[Nm]:e[s]})}return Ma.create(Cd(e),r)}else{const r=Cd(e);if(r!==null&&n)return{...e};const i=Ma.create(r);return Ma.assign(i,e)}}function mS(e,t=!1){return Tx(e)||Vo(e)||!Ms(e)||(Qm(e)>1&&Ma.defineProperties(e,{set:yp,add:yp,clear:yp,delete:yp}),Ma.freeze(e),t&&jx(e,(n,r)=>{mS(r,!0)},!1)),e}function dH(){ks(2)}var yp={[Nm]:dH};function Tx(e){return e===null||!dS(e)?!0:Ma.isFrozen(e)}var Qg="MapSet",vw="Patches",zj="ArrayMethods",u_={};function ru(e){const t=u_[e];return t||ks(0,e),t}var Uj=e=>!!u_[e],Cm,d_=()=>Cm,fH=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Uj(Qg)?ru(Qg):void 0,arrayMethodsPlugin_:Uj(zj)?ru(zj):void 0});function Wj(e,t){t&&(e.patchPlugin_=ru(vw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function bw(e){yw(e),e.drafts_.forEach(mH),e.drafts_=null}function yw(e){e===Cm&&(Cm=e.parent_)}var Vj=e=>Cm=fH(Cm,e);function mH(e){const t=e[ta];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Hj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[ta].modified_&&(bw(t),ks(4)),Ms(e)&&(e=qj(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[ta].base_,e,t)}else e=qj(t,n);return hH(t,e,!0),bw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==l_?e:void 0}function qj(e,t){if(Tx(t))return t;const n=t[ta];if(!n)return Zg(t,e.handledSet_,e);if(!Mx(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);h_(n,e)}return n.copy_}function hH(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mS(t,n)}function f_(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Mx=(e,t)=>e.scope_===t,pH=[];function m_(e,t,n,r){const i=Co(e),a=e.type_;if(r!==void 0&&gw(i,r,a)===t){Xg(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;jx(i,(l,u)=>{if(Vo(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const s=e.draftLocations_.get(t)??pH;for(const o of s)Xg(i,o,n,a)}function gH(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Mx(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=fS(a);m_(e,a.draft_??a,s,n),h_(a,i)})}function h_(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}f_(e)}}function xH(e,t,n){const{scope_:r}=e;if(Vo(n)){const i=n[ta];Mx(i,r)&&i.callbacks_.push(function(){ig(e);const s=fS(i);m_(e,n,s,t)})}else Ms(n)&&e.callbacks_.push(function(){const a=Co(e);e.type_===3?a.has(n)&&Zg(n,r.handledSet_,r):gw(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Zg(gw(e.copy_,t,e.type_),r.handledSet_,r)})}function Zg(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Vo(e)||t.has(e)||!Ms(e)||Tx(e)||(t.add(e),jx(e,(r,i)=>{if(Vo(i)){const a=i[ta];if(Mx(a,n)){const s=fS(a);Xg(e,r,s,e.type_),f_(a)}}else Ms(i)&&Zg(i,t,n)})),e}function vH(e,t){const n=Ax(e),r={type_:n?1:0,scope_:t?t.scope_:d_(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Jg;n&&(i=[r],a=jm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Jg={get(e,t){if(t===ta)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=Co(e);if(!Bj(i,t,e.type_))return bH(e,i,t);const a=i[t];if(e.finalized_||!Ms(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&uH(t))return a;if(a===mb(e.base_,t)){ig(e);const s=e.type_===1?+t:t,o=kw(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in Co(e)},ownKeys(e){return Reflect.ownKeys(Co(e))},set(e,t,n){const r=p_(Co(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=mb(Co(e),t),a=i==null?void 0:i[ta];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(cH(n,i)&&(n!==void 0||Bj(e.base_,t,e.type_)))return!0;ig(e),ww(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),xH(e,t,n)),!0},deleteProperty(e,t){return ig(e),mb(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ww(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Co(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[rg]:!0,[pw]:e.type_!==1||t!=="length",[Yg]:r[Yg],[Nm]:n[t]}},defineProperty(){ks(11)},getPrototypeOf(e){return Cd(e.base_)},setPrototypeOf(){ks(12)}},jm={};for(let e in Jg){let t=Jg[e];jm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}jm.deleteProperty=function(e,t){return jm.set.call(this,e,t,void 0)};jm.set=function(e,t,n){return Jg.set.call(this,e[0],t,n,e[0])};function mb(e,t){const n=e[ta];return(n?Co(n):e)[t]}function bH(e,t,n){var i;const r=p_(t,n);return r?Nm in r?r[Nm]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function p_(e,t){if(!(t in e))return;let n=Cd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Cd(n)}}function ww(e){e.modified_||(e.modified_=!0,e.parent_&&ww(e.parent_))}function ig(e){e.copy_||(e.assigned_=new Map,e.copy_=xw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var yH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Fu(n)&&!Fu(r)){const s=r;r=n;const o=this;return function(u=s,...d){return o.produce(u,f=>r.call(this,f,...d))}}Fu(r)||ks(6),i!==void 0&&!Fu(i)&&ks(7);let a;if(Ms(n)){const s=Vj(this),o=kw(s,n,void 0);let l=!0;try{a=r(o),l=!1}finally{l?bw(s):yw(s)}return Wj(s,i),Hj(a,s)}else if(!n||!dS(n)){if(a=r(n),a===void 0&&(a=n),a===l_&&(a=void 0),this.autoFreeze_&&mS(a,!0),i){const s=[],o=[];ru(vw).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ks(1,n)},this.produceWithPatches=(n,r)=>{if(Fu(n))return(o,...l)=>this.produceWithPatches(o,u=>n(u,...l));let i,a;return[this.produce(n,r,(o,l)=>{i=o,a=l}),i,a]},fb(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),fb(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),fb(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Ms(t)||ks(8),Vo(t)&&(t=As(t));const n=Vj(this),r=kw(n,t,void 0);return r[ta].isManual_=!0,yw(n),r}finishDraft(t,n){const r=t&&t[ta];(!r||!r.isManual_)&&ks(9);const{scope_:i}=r;return Wj(i,n),Hj(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ru(vw).applyPatches_;return Vo(t)?i(t,n):this.produce(t,a=>i(a,n))}};function kw(e,t,n,r){const[i,a]=Px(t)?ru(Qg).proxyMap_(t,n):Dx(t)?ru(Qg).proxySet_(t,n):vH(t,n);return((n==null?void 0:n.scope_)??d_()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?gH(n,a,r):a.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=l;a.modified_&&u&&u.generatePatches_(a,[],l)}),i}function As(e){return Vo(e)||ks(10,e),g_(e)}function g_(e){if(!Ms(e)||Tx(e))return e;const t=e[ta];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=xw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=xw(e,!0);return jx(n,(i,a)=>{Xg(n,i,g_(a))},r),t&&(t.finalized_=!1),n}var wH=new yH,x_=wH.produce;function v_(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var kH=v_(),SH=v_,NH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kg:Kg.apply(null,arguments)};function os(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(Ia(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>o_(r)&&r.type===e,n}var b_=class If extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,If.prototype)}static get[Symbol.species](){return If}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new If(...t[0].concat(this)):new If(...t.concat(this))}};function Kj(e){return Ms(e)?x_(e,()=>{}):e}function wp(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function CH(e){return typeof e=="boolean"}var jH=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new b_;return n&&(CH(n)?s.push(kH):s.push(SH(n.extraArgument))),s},y_="RTK_autoBatch",xr=()=>e=>({payload:e,meta:{[y_]:!0}}),Gj=e=>t=>{setTimeout(t,e)},w_=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,l=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Gj(10):e.type==="callback"?e.queueNotification:Gj(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[y_]),a=!i,a&&(s||(s=!0,l(u))),r.dispatch(d)}finally{i=!0}}})},AH=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new b_(e);return r&&i.push(w_(typeof r=="object"?r:void 0)),i};function PH(e){const t=jH(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(uS(n))o=s_(n);else throw new Error(Ia(1));let l;typeof r=="function"?l=r(t):l=t();let u=Kg;i&&(u=NH({trace:!1,...typeof i=="object"&&i}));const d=oH(...l),f=AH(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return a_(o,a,m)}function k_(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(Ia(28));if(o in t)throw new Error(Ia(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function DH(e){return typeof e=="function"}function TH(e,t){let[n,r,i]=k_(t),a;if(DH(e))a=()=>Kj(e());else{const o=Kj(e);a=()=>o}function s(o=a(),l){let u=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Vo(d)){const m=f(d,l);return m===void 0?d:m}else{if(Ms(d))return x_(d,h=>f(h,l));{const h=f(d,l);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var MH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",EH=(e=21)=>{let t="",n=e;for(;n--;)t+=MH[Math.random()*64|0];return t},OH=Symbol.for("rtk-slice-createasyncthunk");function IH(e,t){return`${e}/${t}`}function _H({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[OH];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(Ia(11));const o=(typeof i.reducers=="function"?i.reducers($H()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,j){const k=typeof N=="string"?N:N.type;if(!k)throw new Error(Ia(12));if(k in u.sliceCaseReducersByType)throw new Error(Ia(13));return u.sliceCaseReducersByType[k]=j,d},addMatcher(N,j){return u.sliceMatchers.push({matcher:N,reducer:j}),d},exposeAction(N,j){return u.actionCreators[N]=j,d},exposeCaseReducer(N,j){return u.sliceCaseReducersByName[N]=j,d}};l.forEach(N=>{const j=o[N],k={reducerName:N,type:IH(a,N),createNotation:typeof i.reducers=="function"};RH(j)?zH(k,j,d,t):FH(k,j,d)});function f(){const[N={},j=[],k=void 0]=typeof i.extraReducers=="function"?k_(i.extraReducers):[i.extraReducers],A={...N,...u.sliceCaseReducersByType};return TH(i.initialState,E=>{for(let F in A)E.addCase(F,A[F]);for(let F of u.sliceMatchers)E.addMatcher(F.matcher,F.reducer);for(let F of j)E.addMatcher(F.matcher,F.reducer);k&&E.addDefaultCase(k)})}const h=N=>N,m=new Map,p=new WeakMap;let v;function y(N,j){return v||(v=f()),v(N,j)}function x(){return v||(v=f()),v.getInitialState()}function b(N,j=!1){function k(E){let F=E[N];return typeof F>"u"&&j&&(F=wp(p,k,x)),F}function A(E=h){const F=wp(m,j,()=>new WeakMap);return wp(F,E,()=>{const T={};for(const[L,_]of Object.entries(i.selectors??{}))T[L]=LH(_,E,()=>wp(p,E,x),j);return T})}return{reducerPath:N,getSelectors:A,get selectors(){return A(k)},selectSlice:k}}const w={name:a,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:x,...b(s),injectInto(N,{reducerPath:j,...k}={}){const A=j??s;return N.inject({reducerPath:A,reducer:y},k),{...w,...b(A,!0)}}};return w}}function LH(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var va=_H();function $H(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function FH({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!BH(r))throw new Error(Ia(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?os(e,s):os(e))}function RH(e){return e._reducerDefinitionType==="asyncThunk"}function BH(e){return e._reducerDefinitionType==="reducerWithPrepare"}function zH({type:e,reducerName:t},n,r,i){if(!i)throw new Error(Ia(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:l,settled:u,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||kp,pending:o||kp,rejected:l||kp,settled:u||kp})}function kp(){}var UH="task",S_="listener",N_="completed",hS="cancelled",WH=`task-${hS}`,VH=`task-${N_}`,Sw=`${S_}-${hS}`,HH=`${S_}-${N_}`,Ex=class{constructor(e){Iv(this,"name","TaskAbortError");Iv(this,"message");this.code=e,this.message=`${UH} ${hS} (reason: ${e})`}},pS=(e,t)=>{if(typeof e!="function")throw new TypeError(Ia(32))},e0=()=>{},C_=(e,t=e0)=>(e.catch(t),e),j_=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Hc=e=>{if(e.aborted)throw new Ex(e.reason)};function A_(e,t){let n=e0;return new Promise((r,i)=>{const a=()=>i(new Ex(e.reason));if(e.aborted){a();return}n=j_(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=e0})}var qH=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Ex?"cancelled":"rejected",error:n}}finally{t==null||t()}},t0=e=>t=>C_(A_(e,t).then(n=>(Hc(e),n))),P_=e=>{const t=t0(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:dd}=Object,Yj={},Ox="listenerMiddleware",KH=(e,t)=>{const n=r=>j_(e,()=>r.abort(e.reason));return(r,i)=>{pS(r);const a=new AbortController;n(a);const s=qH(async()=>{Hc(e),Hc(a.signal);const o=await r({pause:t0(a.signal),delay:P_(a.signal),signal:a.signal});return Hc(a.signal),o},()=>a.abort(VH));return i!=null&&i.autoJoin&&t.push(s.catch(e0)),{result:t0(e)(s),cancel(){a.abort(WH)}}}},GH=(e,t)=>{const n=async(r,i)=>{Hc(t);let a=()=>{};const o=[new Promise((l,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),l([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await A_(t,Promise.race(o));return Hc(t),l}finally{a()}};return(r,i)=>C_(n(r,i))},D_=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=os(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Ia(21));return pS(a),{predicate:i,type:t,effect:a}},T_=dd(e=>{const{type:t,predicate:n,effect:r}=D_(e);return{id:EH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ia(22))}}},{withTypes:()=>T_}),Xj=(e,t)=>{const{type:n,effect:r,predicate:i}=D_(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},Nw=e=>{e.pending.forEach(t=>{t.abort(Sw)})},YH=(e,t)=>()=>{for(const n of t.keys())Nw(n);e.clear()},Qj=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},M_=dd(os(`${Ox}/add`),{withTypes:()=>M_}),XH=os(`${Ox}/removeAll`),E_=dd(os(`${Ox}/remove`),{withTypes:()=>E_}),QH=(...e)=>{console.error(`${Ox}/error`,...e)},Zm=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=QH}=e;pS(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&Nw(m)}),l=m=>{const p=Xj(t,m)??T_(m);return o(p)};dd(l,{withTypes:()=>l});const u=m=>{const p=Xj(t,m);return p&&(p.unsubscribe(),m.cancelActive&&Nw(p)),!!p};dd(u,{withTypes:()=>u});const d=async(m,p,v,y)=>{const x=new AbortController,b=GH(l,x.signal),w=[];try{m.pending.add(x),r(m),await Promise.resolve(m.effect(p,dd({},v,{getOriginalState:y,condition:(N,j)=>b(N,j).then(Boolean),take:b,delay:P_(x.signal),pause:t0(x.signal),extra:a,signal:x.signal,fork:KH(x.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,j,k)=>{N!==x&&(N.abort(Sw),k.delete(N))})},cancel:()=>{x.abort(Sw),m.pending.delete(x)},throwIfCancelled:()=>{Hc(x.signal)}})))}catch(N){N instanceof Ex||Qj(s,N,{raisedBy:"effect"})}finally{await Promise.all(w),x.abort(HH),i(m),m.pending.delete(x)}},f=YH(t,n);return{middleware:m=>p=>v=>{if(!o_(v))return p(v);if(M_.match(v))return l(v.payload);if(XH.match(v)){f();return}if(E_.match(v))return u(v.payload);let y=m.getState();const x=()=>{if(y===Yj)throw new Error(Ia(23));return y};let b;try{if(b=p(v),t.size>0){const w=m.getState(),N=Array.from(t.values());for(const j of N){let k=!1;try{k=j.predicate(v,w,y)}catch(A){k=!1,Qj(s,A,{raisedBy:"predicate"})}k&&d(j,v,m,x)}}}finally{y=Yj}return b},startListening:l,stopListening:u,clearListeners:f}};function Ia(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var ZH={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},O_=va({name:"chartLayout",initialState:ZH,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:JH,setLayout:e7,setChartSize:t7,setScale:n7}=O_.actions,r7=O_.reducer;function I_(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function br(e){return Number.isFinite(e)}function no(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Zj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(n),!0).forEach(function(r){i7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zj(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function i7(e,t,n){return(t=a7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a7(e){var t=s7(e,"string");return typeof t=="symbol"?t:t+""}function s7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dr(e,t,n){return ni(e)||ni(t)?n:ss(t)?nu(e,t,n):typeof t=="function"?t(e):n}var o7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Vt(e[a]))return Zu(Zu({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Vt(e[s]))return Zu(Zu({},e),{},{[s]:e[s]+(i||0)})}return e},ic=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",__=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},L_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,v=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(v=m==="angleAxis"&&a&&a.length>=2?Bi(a[0]-a[1])*2*v:v,f||h){var y=(f||h||[]).map((x,b)=>{var w=r?r.indexOf(x):x;return{coordinate:s(w)+v,value:x,offset:v,index:b}});return y.filter(x=>!as(x.coordinate))}return l&&u?u.map((x,b)=>({coordinate:s(x)+v,value:x,index:b,offset:v})):s.ticks&&d!=null?s.ticks(d).map((x,b)=>({coordinate:s(x)+v,value:x,offset:v,index:b})):s.domain().map((x,b)=>({coordinate:s(x)+v,value:r?r[x]:x,index:b,offset:v}))},Jj=1e-4,l7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-Jj,a=Math.max(r[0],r[1])+Jj,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},c7=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var l=e[o],u=l==null?void 0:l[i];if(u!=null){var d=u[1],f=u[0],h=as(d)?f:d;h>=0?(u[0]=a,u[1]=a+h,a=d):(u[0]=s,u[1]=s+h,s=d)}}}},u7=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],l=o==null?void 0:o[i];if(l!=null){var u=as(l[1])?l[0]:l[1];u>=0?(l[0]=a,l[1]=a+u,a=l[1]):(l[0]=0,l[1]=0)}}}},d7={sign:c7,expand:VV,none:tu,silhouette:HV,wiggle:qV,positive:u7},f7=(e,t,n)=>{var r,i=(r=d7[n])!==null&&r!==void 0?r:tu,a=WV().keys(t).value((o,l)=>Number(dr(o,l,0))).order(mw).offset(i),s=a(e);return s.forEach((o,l)=>{o.forEach((u,d)=>{var f=dr(e[d],t[l],0);Array.isArray(f)&&f.length===2&&Vt(f[0])&&Vt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function eA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ni(i[t.dataKey])){var o=CI(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=dr(i,ni(s)?t.dataKey:s);return ni(l)?null:t.scale(l)}var m7=e=>{var t=e.flat(2).filter(Vt);return[Math.min(...t),Math.max(...t)]},h7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],p7=(e,t,n)=>{if(e!=null)return h7(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((l,u)=>{var d=I_(u,t,n),f=m7(d);return!br(f[0])||!br(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},tA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,n0=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Nx(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var l=i[s],u=i[s-1];a=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function rA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return Zu(Zu({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Ix(e,t){if(e)return String(e);if(typeof t=="string")return t}var g7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},x7=(e,t)=>t==="centric"?e.angle:e.radius,el=e=>e.layout.width,tl=e=>e.layout.height,v7=e=>e.layout.scale,$_=e=>e.layout.margin,_x=Me(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Lx=Me(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),F_="data-recharts-item-index",R_="data-recharts-item-id",Jm=60;function iA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Sp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iA(Object(n),!0).forEach(function(r){b7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function b7(e,t,n){return(t=y7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y7(e){var t=w7(e,"string");return typeof t=="symbol"?t:t+""}function w7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k7=e=>e.brush.height;function S7(e){var t=Lx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Jm;return n+i}return n},0)}function N7(e){var t=Lx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Jm;return n+i}return n},0)}function C7(e){var t=_x(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function j7(e){var t=_x(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var bi=Me([el,tl,$_,k7,S7,N7,C7,j7,r_,eH],(e,t,n,r,i,a,s,o,l,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=Sp(Sp({},f),d),m=h.bottom;h.bottom+=r,h=o7(h,l,u);var p=e-h.left-h.right,v=t-h.top-h.bottom;return Sp(Sp({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(v,0)})}),A7=Me(bi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),B_=Me(el,tl,(e,t)=>({x:0,y:0,width:e,height:t})),P7=g.createContext(null),ia=()=>g.useContext(P7)!=null,$x=e=>e.brush,Fx=Me([$x,bi,$_],(e,t,n)=>({height:e.height,x:Vt(e.x)?e.x:t.left,y:Vt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Vt(e.width)?e.width:t.width})),z_={},U_={},W_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const l=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),v()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},v=()=>{p(),s=void 0,o=null},y=()=>{d()},x=function(...b){if(i!=null&&i.aborted)return;s=this,o=b;const w=h==null;m(),l&&w&&d()};return x.schedule=m,x.cancel=v,x.flush=y,i==null||i.addEventListener("abort",v,{once:!0}),x}e.debounce=t})(W_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=W_;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:l}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...v){d=r.apply(this,v),f=null},i,{edges:u}),m=function(...v){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=r.apply(this,v),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,v),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(U_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=U_;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(z_);var D7=z_.throttle;const T7=Ls(D7);var r0=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},V_=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=Wo(r)?e:Number(r),l=Wo(i)?t:Number(i);return a&&a>0&&(o?l=o/a:l&&(o=l*a),s&&l!=null&&l>s&&(l=s)),{calculatedWidth:o,calculatedHeight:l}},M7={width:0,height:0,overflow:"visible"},E7={width:0,overflowX:"visible"},O7={height:0,overflowY:"visible"},I7={},_7=e=>{var{width:t,height:n}=e,r=Wo(t),i=Wo(n);return r&&i?M7:r?E7:i?O7:I7};function L7(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Cw(){return Cw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cw.apply(null,arguments)}function aA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aA(Object(n),!0).forEach(function(r){$7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $7(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var H_=g.createContext({width:-1,height:-1});function B7(e){return no(e.width)&&no(e.height)}function q_(e){var{children:t,width:n,height:r}=e,i=g.useMemo(()=>({width:n,height:r}),[n,r]);return B7(i)?g.createElement(H_.Provider,{value:i},t):null}var gS=()=>g.useContext(H_),z7=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,v=g.useRef(null),y=g.useRef();y.current=m,g.useImperativeHandle(t,()=>v.current);var[x,b]=g.useState({containerWidth:r.width,containerHeight:r.height}),w=g.useCallback((E,F)=>{b(T=>{var L=Math.round(E),_=Math.round(F);return T.containerWidth===L&&T.containerHeight===_?T:{containerWidth:L,containerHeight:_}})},[]);g.useEffect(()=>{if(v.current==null||typeof ResizeObserver>"u")return Xm;var E=_=>{var K,{width:ee,height:le}=_[0].contentRect;w(ee,le),(K=y.current)===null||K===void 0||K.call(y,ee,le)};d>0&&(E=T7(E,d,{trailing:!0,leading:!1}));var F=new ResizeObserver(E),{width:T,height:L}=v.current.getBoundingClientRect();return w(T,L),F.observe(v.current),()=>{F.disconnect()}},[w,d]);var{containerWidth:N,containerHeight:j}=x;r0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:A}=V_(N,j,{width:i,height:a,aspect:n,maxHeight:l});return r0(k!=null&&k>0||A!=null&&A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,A,i,a,s,o,n),g.createElement("div",{id:f?"".concat(f):void 0,className:On("recharts-responsive-container",h),style:sA(sA({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:l}),ref:v},g.createElement("div",{style:_7({width:i,height:a})},g.createElement(q_,{width:k,height:A},u)))}),Es=g.forwardRef((e,t)=>{var n=gS();if(no(n.width)&&no(n.height))return e.children;var{width:r,height:i}=L7({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=V_(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Vt(a)&&Vt(s)?g.createElement(q_,{width:a,height:s},e.children):g.createElement(z7,Cw({},e,{width:r,height:i,ref:t}))});function K_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var eh=()=>{var e,t=ia(),n=_t(A7),r=_t(Fx),i=(e=_t($x))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},U7={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},G_=()=>{var e;return(e=_t(bi))!==null&&e!==void 0?e:U7},xS=()=>_t(el),vS=()=>_t(tl),W7=()=>_t(e=>e.layout.margin),qn=e=>e.layout.layoutType,th=()=>_t(qn),V7=()=>{var e=th();return e!==void 0},Rx=e=>{var t=Jn(),n=ia(),{width:r,height:i}=e,a=gS(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),g.useEffect(()=>{!n&&no(s)&&no(o)&&t(t7({width:s,height:o}))},[t,n,s,o]),null},Y_=Symbol.for("immer-nothing"),oA=Symbol.for("immer-draftable"),$a=Symbol.for("immer-state");function Ss(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Am=Object.getPrototypeOf;function jd(e){return!!e&&!!e[$a]}function iu(e){var t;return e?X_(e)||Array.isArray(e)||!!e[oA]||!!((t=e.constructor)!=null&&t[oA])||nh(e)||zx(e):!1}var H7=Object.prototype.constructor.toString(),lA=new WeakMap;function X_(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=lA.get(n);return r===void 0&&(r=Function.toString.call(n),lA.set(n,r)),r===H7}function i0(e,t,n=!0){Bx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Bx(e){const t=e[$a];return t?t.type_:Array.isArray(e)?1:nh(e)?2:zx(e)?3:0}function jw(e,t){return Bx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Q_(e,t,n){const r=Bx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function q7(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nh(e){return e instanceof Map}function zx(e){return e instanceof Set}function jc(e){return e.copy_||e.base_}function Aw(e,t){if(nh(e))return new Map(e);if(zx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=X_(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[$a];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Am(e),r)}else{const r=Am(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function bS(e,t=!1){return Ux(e)||jd(e)||!iu(e)||(Bx(e)>1&&Object.defineProperties(e,{set:Np,add:Np,clear:Np,delete:Np}),Object.freeze(e),t&&Object.values(e).forEach(n=>bS(n,!0))),e}function K7(){Ss(2)}var Np={value:K7};function Ux(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var G7={};function au(e){const t=G7[e];return t||Ss(0,e),t}var Pm;function Z_(){return Pm}function Y7(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function cA(e,t){t&&(au("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Pw(e){Dw(e),e.drafts_.forEach(X7),e.drafts_=null}function Dw(e){e===Pm&&(Pm=e.parent_)}function uA(e){return Pm=Y7(Pm,e)}function X7(e){const t=e[$a];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function dA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[$a].modified_&&(Pw(t),Ss(4)),iu(e)&&(e=a0(t,e),t.parent_||s0(t,e)),t.patches_&&au("Patches").generateReplacementPatches_(n[$a].base_,e,t.patches_,t.inversePatches_)):e=a0(t,n,[]),Pw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Y_?e:void 0}function a0(e,t,n){if(Ux(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[$a];if(!i)return i0(t,(a,s)=>fA(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return s0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),i0(s,(l,u)=>fA(e,i,a,l,u,n,o),r),s0(e,a,!1),n&&e.patches_&&au("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function fA(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Ux(i);if(!(o&&!s)){if(jd(i)){const l=a&&t&&t.type_!==3&&!jw(t.assigned_,r)?a.concat(r):void 0,u=a0(e,i,l);if(Q_(n,r,u),jd(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(iu(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;a0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(nh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&s0(e,i)}}}function s0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&bS(t,n)}function Q7(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Z_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=yS;n&&(i=[r],a=Dm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var yS={get(e,t){if(t===$a)return e;const n=jc(e);if(!jw(n,t))return Z7(e,n,t);const r=n[t];return e.finalized_||!iu(r)?r:r===hb(e.base_,t)?(pb(e),e.copy_[t]=Mw(r,e)):r},has(e,t){return t in jc(e)},ownKeys(e){return Reflect.ownKeys(jc(e))},set(e,t,n){const r=J_(jc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=hb(jc(e),t),a=i==null?void 0:i[$a];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(q7(n,i)&&(n!==void 0||jw(e.base_,t)))return!0;pb(e),Tw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return hb(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,pb(e),Tw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=jc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ss(11)},getPrototypeOf(e){return Am(e.base_)},setPrototypeOf(){Ss(12)}},Dm={};i0(yS,(e,t)=>{Dm[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Dm.deleteProperty=function(e,t){return Dm.set.call(this,e,t,void 0)};Dm.set=function(e,t,n){return yS.set.call(this,e[0],t,n,e[0])};function hb(e,t){const n=e[$a];return(n?jc(n):e)[t]}function Z7(e,t,n){var i;const r=J_(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function J_(e,t){if(!(t in e))return;let n=Am(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Am(n)}}function Tw(e){e.modified_||(e.modified_=!0,e.parent_&&Tw(e.parent_))}function pb(e){e.copy_||(e.copy_=Aw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var J7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(l=a,...u){return s.produce(l,d=>n.call(this,d,...u))}}typeof n!="function"&&Ss(6),r!==void 0&&typeof r!="function"&&Ss(7);let i;if(iu(t)){const a=uA(this),s=Mw(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Pw(a):Dw(a)}return cA(a,r),dA(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===Y_&&(i=void 0),this.autoFreeze_&&bS(i,!0),r){const a=[],s=[];au("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Ss(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,l=>t(l,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){iu(e)||Ss(8),jd(e)&&(e=eq(e));const t=uA(this),n=Mw(e,void 0);return n[$a].isManual_=!0,Dw(t),n}finishDraft(e,t){const n=e&&e[$a];(!n||!n.isManual_)&&Ss(9);const{scope_:r}=n;return cA(r,t),dA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=au("Patches").applyPatches_;return jd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Mw(e,t){const n=nh(e)?au("MapSet").proxyMap_(e,t):zx(e)?au("MapSet").proxySet_(e,t):Q7(e,t);return(t?t.scope_:Z_()).drafts_.push(n),n}function eq(e){return jd(e)||Ss(10,e),e3(e)}function e3(e){if(!iu(e)||Ux(e))return e;const t=e[$a];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Aw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Aw(e,!0);return i0(n,(i,a)=>{Q_(n,i,e3(a))},r),t&&(t.finalized_=!1),n}var tq=new J7;tq.produce;var nq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},t3=va({name:"legend",initialState:nq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:xr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=As(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:xr()},removeLegendPayload:{reducer(e,t){var n=As(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:xr()}}}),{setLegendSize:mA,setLegendSettings:rq,addLegendPayload:n3,replaceLegendPayload:r3,removeLegendPayload:i3}=t3.actions,iq=t3.reducer,aq=["contextPayload"];function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ew.apply(null,arguments)}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ad(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sq(e,t,n){return(t=oq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oq(e){var t=lq(e,"string");return typeof t=="symbol"?t:t+""}function lq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cq(e,t){if(e==null)return{};var n,r,i=uq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function uq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dq(e){return e.value}function fq(e){var{contextPayload:t}=e,n=cq(e,aq),r=qI(t,e.payloadUniqBy,dq),i=Ad(Ad({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,i):typeof e.content=="function"?g.createElement(e.content,i):g.createElement(b9,i)}function mq(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:l}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(l==="middle"?d={top:((i||0)-a.height)/2}:d=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Ad(Ad({},u),d)}function hq(e){var t=Jn();return g.useEffect(()=>{t(rq(e))},[t,e]),null}function pq(e){var t=Jn();return g.useEffect(()=>(t(mA(e)),()=>{t(mA({width:0,height:0}))}),[t,e]),null}function gq(e,t,n,r){return e==="vertical"&&Vt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var xq={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function a3(e){var t=Yr(e,xq),n=rH(),r=mV(),i=W7(),{width:a,height:s,wrapperStyle:o,portal:l}=t,[u,d]=i_([n]),f=xS(),h=vS();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=gq(t.layout,s,a,m),v=l?o:Ad(Ad({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},mq(o,t,i,f,h,u)),o),y=l??r;if(y==null||n==null)return null;var x=g.createElement("div",{className:"recharts-legend-wrapper",style:v,ref:d},g.createElement(hq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!l&&g.createElement(pq,{width:u.width,height:u.height}),g.createElement(fq,Ew({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return Bd.createPortal(x,y)}a3.displayName="Legend";function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ow.apply(null,arguments)}function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){vq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vq(e,t,n){return(t=bq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bq(e){var t=yq(e,"string");return typeof t=="symbol"?t:t+""}function yq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wq(e){return Array.isArray(e)&&ss(e[0])&&ss(e[1])?e.join(" ~ "):e}var kq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var j={padding:0,margin:0},k=(o?Nx(a,o):a).map((A,E)=>{if(A.type==="none")return null;var F=A.formatter||s||wq,{value:T,name:L}=A,_=T,K=L;if(F){var ee=F(T,L,A,E,a);if(Array.isArray(ee))[_,K]=ee;else if(ee!=null)_=ee;else return null}var le=gb({display:"block",paddingTop:4,paddingBottom:4,color:A.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:le},ss(K)?g.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ss(K)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},_),g.createElement("span",{className:"recharts-tooltip-item-unit"},A.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},p=gb({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),v=gb({margin:0},i),y=!ni(d),x=y?d:"",b=On("recharts-default-tooltip",l),w=On("recharts-tooltip-label",u);y&&f&&a!==void 0&&a!==null&&(x=f(d,a));var N=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Ow({className:b,style:p},N),g.createElement("p",{className:w,style:v},g.isValidElement(x)?x:"".concat(x)),m())},gf="recharts-tooltip-wrapper",Sq={visibility:"hidden"};function Nq(e){var{coordinate:t,translateX:n,translateY:r}=e;return On(gf,{["".concat(gf,"-right")]:Vt(n)&&t&&Vt(t.x)&&n>=t.x,["".concat(gf,"-left")]:Vt(n)&&t&&Vt(t.x)&&n<t.x,["".concat(gf,"-bottom")]:Vt(r)&&t&&Vt(t.y)&&r>=t.y,["".concat(gf,"-top")]:Vt(r)&&t&&Vt(t.y)&&r<t.y})}function gA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=e;if(a&&Vt(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=l[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var v=f+o,y=h+u;return v>y?Math.max(d,h):Math.max(f,h)}function Cq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function jq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:l}=e,u,d,f;return s.height>0&&s.width>0&&n?(d=gA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:l,viewBoxDimension:l.width}),f=gA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:l,viewBoxDimension:l.height}),u=Cq({translateX:d,translateY:f,useTranslate3d:o})):u=Sq,{cssProperties:u,cssClasses:Nq({translateX:d,translateY:f,coordinate:n})}}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){Iw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Iw(e,t,n){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Dq extends g.PureComponent{constructor(){super(...arguments),Iw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Iw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:v,innerRef:y,hasPortalFromProps:x}=this.props,{cssClasses:b,cssProperties:w}=jq({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:v.height,width:v.width},useTranslate3d:h,viewBox:m}),N=x?{}:Cp(Cp({transition:l&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=Cp(Cp({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:b,style:j,ref:y},a)}}var s3=()=>{var e;return(e=_t(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_w.apply(null,arguments)}function vA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vA(Object(n),!0).forEach(function(r){Tq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tq(e,t,n){return(t=Mq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mq(e){var t=Eq(e,"string");return typeof t=="symbol"?t:t+""}function Eq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yA={curveBasisClosed:EV,curveBasisOpen:OV,curveBasis:MV,curveBumpX:xV,curveBumpY:vV,curveLinearClosed:IV,curveLinear:gx,curveMonotoneX:_V,curveMonotoneY:LV,curveNatural:$V,curveStep:FV,curveStepAfter:BV,curveStepBefore:RV},o0=e=>br(e.x)&&br(e.y),wA=e=>e.base!=null&&o0(e.base)&&o0(e),xf=e=>e.x,vf=e=>e.y,Oq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Ym(e));return(n==="curveMonotone"||n==="curveBump")&&t?yA["".concat(n).concat(t==="vertical"?"Y":"X")]:yA[n]||gx},Iq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Oq(t,i),o=a?n.filter(o0):n,l;if(Array.isArray(r)){var u=n.map((m,p)=>bA(bA({},m),{},{base:r[p]}));i==="vertical"?l=xp().y(vf).x1(xf).x0(m=>m.base.x):l=xp().x(xf).y1(vf).y0(m=>m.base.y);var d=l.defined(wA).curve(s),f=a?u.filter(wA):u;return d(f)}i==="vertical"&&Vt(r)?l=xp().y(vf).x1(xf).x0(r):Vt(r)?l=xp().x(xf).y1(vf).y0(r):l=dI().x(xf).y(vf);var h=l.defined(o0).curve(s);return h(o)},wS=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=th();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?Iq(s):r;return g.createElement("path",_w({},is(e),Qk(e),{className:On("recharts-curve",t),d:o===null?void 0:o,ref:i}))},_q=["x","y","top","left","width","height","className"];function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(null,arguments)}function kA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Lq(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kA(Object(n),!0).forEach(function(r){$q(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $q(e,t,n){return(t=Fq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bq(e,t){if(e==null)return{};var n,r,i=zq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Uq=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),Wq=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,l=Bq(e,_q),u=Lq({x:t,y:n,top:r,left:i,width:a,height:s},l);return!Vt(t)||!Vt(n)||!Vt(a)||!Vt(s)||!Vt(r)||!Vt(i)?null:g.createElement("path",Lw({},Wi(u),{className:On("recharts-cross",o),d:Uq(t,n,a,s,r,i)}))};function Vq(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function SA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function NA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SA(Object(n),!0).forEach(function(r){Hq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hq(e,t,n){return(t=qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qq(e){var t=Kq(e,"string");return typeof t=="symbol"?t:t+""}function Kq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gq=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),o3=(e,t,n)=>e.map(r=>"".concat(Gq(r)," ").concat(t,"ms ").concat(n)).join(","),Yq=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Tm=(e,t)=>Object.keys(t).reduce((n,r)=>NA(NA({},n),{},{[r]:e(r,t[r])}),{});function CA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ei(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?CA(Object(n),!0).forEach(function(r){Xq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):CA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xq(e,t,n){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qq(e){var t=Zq(e,"string");return typeof t=="symbol"?t:t+""}function Zq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var l0=(e,t,n)=>e+(t-e)*n,$w=e=>{var{from:t,to:n}=e;return t!==n},l3=(e,t,n)=>{var r=Tm((i,a)=>{if($w(a)){var[s,o]=e(a.from,a.to,a.velocity);return ei(ei({},a),{},{from:s,velocity:o})}return a},t);return n<1?Tm((i,a)=>$w(a)&&r[i]!=null?ei(ei({},a),{},{velocity:l0(a.velocity,r[i].velocity,n),from:l0(a.from,r[i].from,n)}):a,t):l3(e,r,n-1)};function Jq(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>ei(ei({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),l=()=>Tm((h,m)=>m.from,o),u=()=>!Object.values(o).filter($w).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=l3(n,o,p),i(ei(ei(ei({},e),t),l())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function eK(e,t,n,r,i,a,s){var o=null,l=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:ei(ei({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=Tm((v,y)=>l0(...y,n(h)),l);if(a(ei(ei(ei({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Tm((v,y)=>l0(...y,n(1)),l);a(ei(ei(ei({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const tK=(e,t,n,r,i,a)=>{var s=Yq(e,t);return n==null?()=>(i(ei(ei({},e),t)),()=>{}):n.isStepper===!0?Jq(e,t,n,s,i,a):eK(e,t,n,r,s,i,a)};var c0=1e-4,c3=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],u3=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),jA=(e,t)=>n=>{var r=c3(e,t);return u3(r,n)},nK=(e,t)=>n=>{var r=c3(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return u3(i,n)},rK=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},iK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=rK(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},aK=(e,t,n,r)=>{var i=jA(e,n),a=jA(t,r),s=nK(e,n),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<c0||p<c0)return a(f);f=o(f-m/p)}return a(f)};return l.isStepper=!1,l},AA=function(){return aK(...iK(...arguments))},sK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,l)=>{var u=-(s-o)*n,d=l*r,f=l+(u-d)*i/1e3,h=l*i/1e3+s;return Math.abs(h-o)<c0&&Math.abs(f)<c0?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},oK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AA(e);case"spring":return sK();default:if(e.split("(")[0]==="cubic-bezier")return AA(e)}return typeof e=="function"?e:null};function lK(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[l,...u]=o;if(typeof l=="number"){i=e.setTimeout(a.bind(null,u),l);return}a(l),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class cK{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function uK(){return lK(new cK)}var dK=g.createContext(uK);function fK(e,t){var n=g.useContext(dK);return g.useMemo(()=>t??n(e),[e,t,n])}var mK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Wx={isSsr:mK()},hK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},PA={t:0},xb={t:1};function Vx(e){var t=Yr(e,hK),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:l,children:u}=t,d=n==="auto"?!Wx.isSsr:n,f=fK(t.animationId,t.animationManager),[h,m]=g.useState(d?PA:xb),p=g.useRef(null);return g.useEffect(()=>{d||m(xb)},[d]),g.useEffect(()=>{if(!d||!r)return Xm;var v=tK(PA,xb,oK(a),i,m,f.getTimeoutController()),y=()=>{p.current=v()};return f.start([l,s,y,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,l,o,f]),u(h.t)}function Hx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(Sm(t)),r=g.useRef(e);return r.current!==e&&(n.current=Sm(t),r.current=e),n.current}var pK=["radius"],gK=["radius"],DA,TA,MA,EA,OA,IA,_A,LA,$A,FA;function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){xK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xK(e,t,n){return(t=vK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vK(e){var t=bK(e,"string");return typeof t=="symbol"?t:t+""}function bK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u0.apply(null,arguments)}function zA(e,t){if(e==null)return{};var n,r,i=yK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function yK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Vs(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var UA=(e,t,n,r,i)=>{var a=Ll(n),s=Ll(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),l=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Er(DA||(DA=Vs(["M",",",""])),e,t+l*h[0]),h[0]>0&&(f+=Er(TA||(TA=Vs(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Er(MA||(MA=Vs(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=Er(EA||(EA=Vs(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+l*h[1])),f+=Er(OA||(OA=Vs(["L ",",",""])),e+n,t+r-l*h[2]),h[2]>0&&(f+=Er(IA||(IA=Vs(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-u*h[2],t+r)),f+=Er(_A||(_A=Vs(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=Er(LA||(LA=Vs(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-l*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f=Er($A||($A=Vs(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+l*v,v,v,d,e+u*v,t,e+n-u*v,t,v,v,d,e+n,t+l*v,e+n,t+r-l*v,v,v,d,e+n-u*v,t+r,e+u*v,t+r,v,v,d,e,t+r-l*v)}else f=Er(FA||(FA=Vs(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},WA={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},d3=e=>{var t=Yr(e,WA),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var re=n.current.getTotalLength();re&&i(re)}catch{}},[]);var{x:a,y:s,width:o,height:l,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:v}=t,y=g.useRef(o),x=g.useRef(l),b=g.useRef(a),w=g.useRef(s),N=g.useMemo(()=>({x:a,y:s,width:o,height:l,radius:u}),[a,s,o,l,u]),j=Hx(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||l!==+l||o===0||l===0)return null;var k=On("recharts-rectangle",d);if(!v){var A=Wi(t),{radius:E}=A,F=zA(A,pK);return g.createElement("path",u0({},F,{x:Ll(a),y:Ll(s),width:Ll(o),height:Ll(l),radius:typeof u=="number"?u:void 0,className:k,d:UA(a,s,o,l,u)}))}var T=y.current,L=x.current,_=b.current,K=w.current,ee="0px ".concat(r===-1?1:r,"px"),le="".concat(r,"px 0px"),ke=o3(["strokeDasharray"],h,typeof f=="string"?f:WA.animationEasing);return g.createElement(Vx,{animationId:j,key:j,canBegin:r>0,duration:h,easing:f,isActive:v,begin:m},re=>{var H=Ri(T,o,re),se=Ri(L,l,re),I=Ri(_,a,re),P=Ri(K,s,re);n.current&&(y.current=H,x.current=se,b.current=I,w.current=P);var Z;p?re>0?Z={transition:ke,strokeDasharray:le}:Z={strokeDasharray:ee}:Z={strokeDasharray:le};var S=Wi(t),{radius:W}=S,R=zA(S,gK);return g.createElement("path",u0({},R,{radius:typeof u=="number"?u:void 0,className:k,d:UA(I,P,H,se,u),ref:n,style:BA(BA({},Z),t.style)}))})};function VA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VA(Object(n),!0).forEach(function(r){wK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wK(e,t,n){return(t=kK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kK(e){var t=SK(e,"string");return typeof t=="symbol"?t:t+""}function SK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d0=Math.PI/180,NK=e=>e*180/Math.PI,Kr=(e,t,n,r)=>({x:e+Math.cos(-d0*r)*n,y:t+Math.sin(-d0*r)*n}),f3=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},CK=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},jK=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=CK({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,l=Math.acos(o);return r>a&&(l=2*Math.PI-l),{radius:s,angle:NK(l),angleInRadian:l}},AK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},PK=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},DK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=jK({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:l,endAngle:u}=AK(t),d=a,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?HA(HA({},t),{},{radius:i,angle:PK(d,t)}):null};function m3(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Kr(t,n,r,i),o=Kr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var qA,KA,GA,YA,XA,QA,ZA;function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fw.apply(null,arguments)}function Lc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var TK=(e,t)=>{var n=Bi(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},jp=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:l}=e,u=o*(s?1:-1)+r,d=Math.asin(o/u)/d0,f=l?i:i+a*d,h=Kr(t,n,u,f),m=Kr(t,n,r,f),p=l?i-a*d:i,v=Kr(t,n,u*Math.cos(d*d0),p);return{center:h,circleTangency:m,lineTangency:v,theta:d}},h3=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=TK(a,s),l=a+o,u=Kr(t,n,i,a),d=Kr(t,n,i,l),f=Er(qA||(qA=Lc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>l),d.x,d.y);if(r>0){var h=Kr(t,n,r,a),m=Kr(t,n,r,l);f+=Er(KA||(KA=Lc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=l),h.x,h.y)}else f+=Er(GA||(GA=Lc(["L ",","," Z"])),t,n);return f},MK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:l,endAngle:u}=e,d=Bi(u-l),{circleTangency:f,lineTangency:h,theta:m}=jp({cx:t,cy:n,radius:i,angle:l,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:v,theta:y}=jp({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),x=o?Math.abs(l-u):Math.abs(l-u)-m-y;if(x<0)return s?Er(YA||(YA=Lc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):h3({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:u});var b=Er(XA||(XA=Lc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(x>180),+(d<0),p.x,p.y,a,a,+(d<0),v.x,v.y);if(r>0){var{circleTangency:w,lineTangency:N,theta:j}=jp({cx:t,cy:n,radius:r,angle:l,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:A,theta:E}=jp({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),F=o?Math.abs(l-u):Math.abs(l-u)-j-E;if(F<0&&a===0)return"".concat(b,"L").concat(t,",").concat(n,"Z");b+=Er(QA||(QA=Lc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),A.x,A.y,a,a,+(d<0),k.x,k.y,r,r,+(F>180),+(d>0),w.x,w.y,a,a,+(d<0),N.x,N.y)}else b+=Er(ZA||(ZA=Lc(["L",",","Z"])),t,n);return b},EK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},p3=e=>{var t=Yr(e,EK),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=On("recharts-sector",f),m=a-i,p=Oa(s,m,0,!0),v;return p>0&&Math.abs(u-d)<360?v=MK({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):v=h3({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),g.createElement("path",Fw({},Wi(t),{className:h,d:v}))};function OK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(AI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,l=Kr(r,i,a,o),u=Kr(r,i,s,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return m3(t)}}var g3={},x3={},v3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lS;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})(v3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v3;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(x3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cS,n=x3;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=s;return l}e.range=r})(g3);var IK=g3.range;const b3=Ls(IK);function ql(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _K(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function kS(e){let t,n,r;e.length!==2?(t=ql,n=(o,l)=>ql(e(o),l),r=(o,l)=>e(o)-l):(t=e===ql||e===_K?e:LK,n=e,r=e);function i(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){if(u<d){if(t(l,l)!==0)return d;do{const f=u+d>>>1;n(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:s,right:a}}function LK(){return 0}function y3(e){return e===null?NaN:+e}function*$K(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const FK=kS(ql),rh=FK.right;kS(y3).center;class JA extends Map{constructor(t,n=zK){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(eP(this,t))}has(t){return super.has(eP(this,t))}set(t,n){return super.set(RK(this,t),n)}delete(t){return super.delete(BK(this,t))}}function eP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function RK({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function BK({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function zK(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UK(e=ql){if(e===ql)return w3;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function w3(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const WK=Math.sqrt(50),VK=Math.sqrt(10),HK=Math.sqrt(2);function f0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=WK?10:a>=VK?5:a>=HK?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),l=Math.round(t*u),o/u<e&&++o,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),l=Math.round(t/u),o*u<e&&++o,l*u>t&&--l),l<o&&.5<=n&&n<2?f0(e,t,n*2):[o,l,u]}function Rw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?f0(t,e,n):f0(e,t,n);if(!(a>=i))return[];const o=a-i+1,l=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)l[u]=(a-u)/-s;else for(let u=0;u<o;++u)l[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)l[u]=(i+u)/-s;else for(let u=0;u<o;++u)l[u]=(i+u)*s;return l}function Bw(e,t,n){return t=+t,e=+e,n=+n,f0(e,t,n)[2]}function zw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Bw(t,e,n):Bw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function tP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function nP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function k3(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?w3:UK(i);r>n;){if(r-n>600){const l=r-n+1,u=t-n+1,d=Math.log(l),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/l+h)),p=Math.min(r,Math.floor(t+(l-u)*f/l+h));k3(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(bf(e,n,t),i(e[r],a)>0&&bf(e,n,r);s<o;){for(bf(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?bf(e,n,o):(++o,bf(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function bf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function qK(e,t,n){if(e=Float64Array.from($K(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return nP(e);if(t>=1)return tP(e);var r,i=(r-1)*t,a=Math.floor(i),s=tP(k3(e,a).subarray(0,a+1)),o=nP(e.subarray(a+1));return s+(o-s)*(i-a)}}function KK(e,t,n=y3){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function GK(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function us(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Uw=Symbol("implicit");function SS(){var e=new JA,t=[],n=[],r=Uw;function i(a){let s=e.get(a);if(s===void 0){if(r!==Uw)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new JA;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return SS(t,n).unknown(r)},us.apply(i,arguments),i}function NS(){var e=SS().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,l=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,v=m?r:i;a=(v-p)/Math.max(1,h-l+u*2),o&&(a=Math.floor(a)),p+=(v-p-a*(h-l))*d,s=a*(1-l),o&&(p=Math.round(p),s=Math.round(s));var y=GK(h).map(function(x){return p+a*x});return n(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},e.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return NS(t(),[r,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},us.apply(f(),arguments)}function S3(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return S3(t())},e}function YK(){return S3(NS.apply(null,arguments).paddingInner(1))}function CS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function N3(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ih(){}var Mm=.7,m0=1/Mm,fd="\\s*([+-]?\\d+)\\s*",Em="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",eo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XK=/^#([0-9a-f]{3,8})$/,QK=new RegExp(`^rgb\\(${fd},${fd},${fd}\\)$`),ZK=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),JK=new RegExp(`^rgba\\(${fd},${fd},${fd},${Em}\\)$`),eG=new RegExp(`^rgba\\(${eo},${eo},${eo},${Em}\\)$`),tG=new RegExp(`^hsl\\(${Em},${eo},${eo}\\)$`),nG=new RegExp(`^hsla\\(${Em},${eo},${eo},${Em}\\)$`),rP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};CS(ih,Om,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:iP,formatHex:iP,formatHex8:rG,formatHsl:iG,formatRgb:aP,toString:aP});function iP(){return this.rgb().formatHex()}function rG(){return this.rgb().formatHex8()}function iG(){return C3(this).formatHsl()}function aP(){return this.rgb().formatRgb()}function Om(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=XK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?sP(t):n===3?new fa(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ap(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ap(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=QK.exec(e))?new fa(t[1],t[2],t[3],1):(t=ZK.exec(e))?new fa(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JK.exec(e))?Ap(t[1],t[2],t[3],t[4]):(t=eG.exec(e))?Ap(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tG.exec(e))?cP(t[1],t[2]/100,t[3]/100,1):(t=nG.exec(e))?cP(t[1],t[2]/100,t[3]/100,t[4]):rP.hasOwnProperty(e)?sP(rP[e]):e==="transparent"?new fa(NaN,NaN,NaN,0):null}function sP(e){return new fa(e>>16&255,e>>8&255,e&255,1)}function Ap(e,t,n,r){return r<=0&&(e=t=n=NaN),new fa(e,t,n,r)}function aG(e){return e instanceof ih||(e=Om(e)),e?(e=e.rgb(),new fa(e.r,e.g,e.b,e.opacity)):new fa}function Ww(e,t,n,r){return arguments.length===1?aG(e):new fa(e,t,n,r??1)}function fa(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}CS(fa,Ww,N3(ih,{brighter(e){return e=e==null?m0:Math.pow(m0,e),new fa(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Mm:Math.pow(Mm,e),new fa(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fa(qc(this.r),qc(this.g),qc(this.b),h0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oP,formatHex:oP,formatHex8:sG,formatRgb:lP,toString:lP}));function oP(){return`#${$c(this.r)}${$c(this.g)}${$c(this.b)}`}function sG(){return`#${$c(this.r)}${$c(this.g)}${$c(this.b)}${$c((isNaN(this.opacity)?1:this.opacity)*255)}`}function lP(){const e=h0(this.opacity);return`${e===1?"rgb(":"rgba("}${qc(this.r)}, ${qc(this.g)}, ${qc(this.b)}${e===1?")":`, ${e})`}`}function h0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function qc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function $c(e){return e=qc(e),(e<16?"0":"")+e.toString(16)}function cP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ns(e,t,n,r)}function C3(e){if(e instanceof Ns)return new Ns(e.h,e.s,e.l,e.opacity);if(e instanceof ih||(e=Om(e)),!e)return new Ns;if(e instanceof Ns)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,l=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=l<.5?a+i:2-a-i,s*=60):o=l>0&&l<1?0:s,new Ns(s,o,l,e.opacity)}function oG(e,t,n,r){return arguments.length===1?C3(e):new Ns(e,t,n,r??1)}function Ns(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}CS(Ns,oG,N3(ih,{brighter(e){return e=e==null?m0:Math.pow(m0,e),new Ns(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Mm:Math.pow(Mm,e),new Ns(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new fa(vb(e>=240?e-240:e+120,i,r),vb(e,i,r),vb(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ns(uP(this.h),Pp(this.s),Pp(this.l),h0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=h0(this.opacity);return`${e===1?"hsl(":"hsla("}${uP(this.h)}, ${Pp(this.s)*100}%, ${Pp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function uP(e){return e=(e||0)%360,e<0?e+360:e}function Pp(e){return Math.max(0,Math.min(1,e||0))}function vb(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const jS=e=>()=>e;function lG(e,t){return function(n){return e+n*t}}function cG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function uG(e){return(e=+e)==1?j3:function(t,n){return n-t?cG(t,n,e):jS(isNaN(t)?n:t)}}function j3(e,t){var n=t-e;return n?lG(e,n):jS(isNaN(e)?t:e)}const dP=function e(t){var n=uG(t);function r(i,a){var s=n((i=Ww(i)).r,(a=Ww(a)).r),o=n(i.g,a.g),l=n(i.b,a.b),u=j3(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function dG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function fG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function mG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=zd(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function hG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function p0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function pG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=zd(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Vw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bb=new RegExp(Vw.source,"g");function gG(e){return function(){return e}}function xG(e){return function(t){return e(t)+""}}function vG(e,t){var n=Vw.lastIndex=bb.lastIndex=0,r,i,a,s=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Vw.exec(e))&&(i=bb.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,l.push({i:s,x:p0(r,i)})),n=bb.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?l[0]?xG(l[0].x):gG(t):(t=l.length,function(u){for(var d=0,f;d<t;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function zd(e,t){var n=typeof t,r;return t==null||n==="boolean"?jS(t):(n==="number"?p0:n==="string"?(r=Om(t))?(t=r,dP):vG:t instanceof Om?dP:t instanceof Date?hG:fG(t)?dG:Array.isArray(t)?mG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pG:p0)(e,t)}function AS(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function bG(e,t){t===void 0&&(t=e,e=zd);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function yG(e){return function(){return e}}function g0(e){return+e}var fP=[0,1];function Zi(e){return e}function Hw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:yG(isNaN(t)?NaN:.5)}function wG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function kG(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Hw(i,r),a=n(s,a)):(r=Hw(r,i),a=n(a,s)),function(o){return a(r(o))}}function SG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Hw(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var l=rh(e,o,1,r)-1;return a[l](i[l](o))}}function ah(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qx(){var e=fP,t=fP,n=zd,r,i,a,s=Zi,o,l,u;function d(){var h=Math.min(e.length,t.length);return s!==Zi&&(s=wG(e[0],e[h-1])),o=h>2?SG:kG,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),p0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,g0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=AS,d()},f.clamp=function(h){return arguments.length?(s=h?!0:Zi,d()):s!==Zi},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function PS(){return qx()(Zi,Zi)}function NG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function x0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Pd(e){return e=x0(Math.abs(e)),e?e[1]:NaN}function CG(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),a.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function jG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var AG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Im(e){if(!(t=AG.exec(e)))throw new Error("invalid format: "+e);var t;return new DS({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Im.prototype=DS.prototype;function DS(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}DS.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PG(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var v0;function DG(e,t){var n=x0(e,t);if(!n)return v0=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(v0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+x0(e,Math.max(0,t+a-1))[0]}function mP(e,t){var n=x0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>mP(e*100,t),r:mP,s:DG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pP(e){return e}var gP=Array.prototype.map,xP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function TG(e){var t=e.grouping===void 0||e.thousands===void 0?pP:CG(gP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?pP:jG(gP.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Im(f);var m=f.fill,p=f.align,v=f.sign,y=f.symbol,x=f.zero,b=f.width,w=f.comma,N=f.precision,j=f.trim,k=f.type;k==="n"?(w=!0,k="g"):hP[k]||(N===void 0&&(N=12),j=!0,k="g"),(x||m==="0"&&p==="=")&&(x=!0,m="0",p="=");var A=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?n:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),E=(y==="$"?r:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),F=hP[k],T=/[defgprs%]/.test(k);N=N===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function L(_){var K=A,ee=E,le,ke,re;if(k==="c")ee=F(_)+ee,_="";else{_=+_;var H=_<0||1/_<0;if(_=isNaN(_)?l:F(Math.abs(_),N),j&&(_=PG(_)),H&&+_==0&&v!=="+"&&(H=!1),K=(H?v==="("?v:o:v==="-"||v==="("?"":v)+K,ee=(k==="s"&&!isNaN(_)&&v0!==void 0?xP[8+v0/3]:"")+ee+(H&&v==="("?")":""),T){for(le=-1,ke=_.length;++le<ke;)if(re=_.charCodeAt(le),48>re||re>57){ee=(re===46?i+_.slice(le+1):_.slice(le))+ee,_=_.slice(0,le);break}}}w&&!x&&(_=t(_,1/0));var se=K.length+_.length+ee.length,I=se<b?new Array(b-se+1).join(m):"";switch(w&&x&&(_=t(I+_,I.length?b-ee.length:1/0),I=""),p){case"<":_=K+_+ee+I;break;case"=":_=K+I+_+ee;break;case"^":_=I.slice(0,se=I.length>>1)+K+_+ee+I.slice(se);break;default:_=I+K+_+ee;break}return a(_)}return L.toString=function(){return f+""},L}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Pd(h)/3)))*3,p=Math.pow(10,-m),v=u((f=Im(f),f.type="f",f),{suffix:xP[8+m/3]});return function(y){return v(p*y)}}return{format:u,formatPrefix:d}}var Dp,TS,A3;MG({thousands:",",grouping:[3],currency:["$",""]});function MG(e){return Dp=TG(e),TS=Dp.format,A3=Dp.formatPrefix,Dp}function EG(e){return Math.max(0,-Pd(Math.abs(e)))}function OG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pd(t)/3)))*3-Pd(Math.abs(e)))}function IG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Pd(t)-Pd(e))+1}function P3(e,t,n,r){var i=zw(e,t,n),a;switch(r=Im(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=OG(i,s))&&(r.precision=a),A3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=IG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=EG(i))&&(r.precision=a-(r.type==="%")*2);break}}return TS(r)}function ac(e){var t=e.domain;return e.ticks=function(n){var r=t();return Rw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return P3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],l,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Bw(s,o,n),u===l)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;l=u}return e},e}function D3(){var e=PS();return e.copy=function(){return ah(e,D3())},us.apply(e,arguments),ac(e)}function T3(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,g0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return T3(e).unknown(t)},e=arguments.length?Array.from(e,g0):[0,1],ac(n)}function M3(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function vP(e){return Math.log(e)}function bP(e){return Math.exp(e)}function _G(e){return-Math.log(-e)}function LG(e){return-Math.exp(-e)}function $G(e){return isFinite(e)?+("1e"+e):e<0?0:e}function FG(e){return e===10?$G:e===Math.E?Math.exp:t=>Math.pow(e,t)}function RG(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function yP(e){return(t,n)=>-e(-t,n)}function MS(e){const t=e(vP,bP),n=t.domain;let r=10,i,a;function s(){return i=RG(r),a=FG(r),n()[0]<0?(i=yP(i),a=yP(a),e(_G,LG)):e(vP,bP),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const l=n();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,v;const y=o==null?10:+o;let x=[];if(!(r%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<r;++p)if(v=h<0?p/a(-h):p*a(h),!(v<u)){if(v>d)break;x.push(v)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(v=h>0?p/a(-h):p*a(h),!(v<u)){if(v>d)break;x.push(v)}x.length*2<y&&(x=Rw(u,d,y))}else x=Rw(h,m,Math.min(m-h,y)).map(a);return f?x.reverse():x},t.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Im(l)).precision==null&&(l.trim=!0),l=TS(l)),o===1/0)return l;const u=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?l(d):""}},t.nice=()=>n(M3(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function E3(){const e=MS(qx()).domain([1,10]);return e.copy=()=>ah(e,E3()).base(e.base()),us.apply(e,arguments),e}function wP(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function kP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ES(e){var t=1,n=e(wP(t),kP(t));return n.constant=function(r){return arguments.length?e(wP(t=+r),kP(t)):t},ac(n)}function O3(){var e=ES(qx());return e.copy=function(){return ah(e,O3()).constant(e.constant())},us.apply(e,arguments)}function SP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BG(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zG(e){return e<0?-e*e:e*e}function OS(e){var t=e(Zi,Zi),n=1;function r(){return n===1?e(Zi,Zi):n===.5?e(BG,zG):e(SP(n),SP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},ac(t)}function IS(){var e=OS(qx());return e.copy=function(){return ah(e,IS()).exponent(e.exponent())},us.apply(e,arguments),e}function UG(){return IS.apply(null,arguments).exponent(.5)}function NP(e){return Math.sign(e)*e*e}function WG(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function I3(){var e=PS(),t=[0,1],n=!1,r;function i(a){var s=WG(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(NP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,g0)).map(NP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return I3(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},us.apply(i,arguments),ac(i)}function _3(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=KK(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[rh(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(ql),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return _3().domain(e).range(t).unknown(r)},us.apply(a,arguments)}function L3(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(l){return l!=null&&l<=l?i[rh(r,l,0,n)]:a}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*t-(l-n)*e)/(n+1);return s}return s.domain=function(l){return arguments.length?([e,t]=l,e=+e,t=+t,o()):[e,t]},s.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},s.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(l){return arguments.length&&(a=l),s},s.thresholds=function(){return r.slice()},s.copy=function(){return L3().domain([e,t]).range(i).unknown(a)},us.apply(ac(s),arguments)}function $3(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[rh(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return $3().domain(e).range(t).unknown(n)},us.apply(i,arguments)}const yb=new Date,wb=new Date;function ii(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const l=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return l;let u;do l.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return l},i.filter=a=>ii(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(yb.setTime(+a),wb.setTime(+s),e(yb),e(wb),Math.floor(n(yb,wb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const b0=ii(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);b0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ii(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):b0);b0.range;const To=1e3,es=To*60,Mo=es*60,Ho=Mo*24,_S=Ho*7,CP=Ho*30,kb=Ho*365,Fc=ii(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*To)},(e,t)=>(t-e)/To,e=>e.getUTCSeconds());Fc.range;const LS=ii(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getMinutes());LS.range;const $S=ii(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*es)},(e,t)=>(t-e)/es,e=>e.getUTCMinutes());$S.range;const FS=ii(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*To-e.getMinutes()*es)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getHours());FS.range;const RS=ii(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Mo)},(e,t)=>(t-e)/Mo,e=>e.getUTCHours());RS.range;const sh=ii(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*es)/Ho,e=>e.getDate()-1);sh.range;const Kx=ii(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ho,e=>e.getUTCDate()-1);Kx.range;const F3=ii(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ho,e=>Math.floor(e/Ho));F3.range;function mu(e){return ii(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*es)/_S)}const Gx=mu(0),y0=mu(1),VG=mu(2),HG=mu(3),Dd=mu(4),qG=mu(5),KG=mu(6);Gx.range;y0.range;VG.range;HG.range;Dd.range;qG.range;KG.range;function hu(e){return ii(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/_S)}const Yx=hu(0),w0=hu(1),GG=hu(2),YG=hu(3),Td=hu(4),XG=hu(5),QG=hu(6);Yx.range;w0.range;GG.range;YG.range;Td.range;XG.range;QG.range;const BS=ii(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());BS.range;const zS=ii(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());zS.range;const qo=ii(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());qo.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ii(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});qo.range;const Ko=ii(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ko.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ii(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ko.range;function R3(e,t,n,r,i,a){const s=[[Fc,1,To],[Fc,5,5*To],[Fc,15,15*To],[Fc,30,30*To],[a,1,es],[a,5,5*es],[a,15,15*es],[a,30,30*es],[i,1,Mo],[i,3,3*Mo],[i,6,6*Mo],[i,12,12*Mo],[r,1,Ho],[r,2,2*Ho],[n,1,_S],[t,1,CP],[t,3,3*CP],[e,1,kb]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:l(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function l(u,d,f){const h=Math.abs(d-u)/f,m=kS(([,,y])=>y).right(s,h);if(m===s.length)return e.every(zw(u/kb,d/kb,f));if(m===0)return b0.every(Math.max(zw(u,d,f),1));const[p,v]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(v)}return[o,l]}const[ZG,JG]=R3(Ko,zS,Yx,F3,RS,$S),[eY,tY]=R3(qo,BS,Gx,sh,FS,LS);function Sb(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Nb(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function yf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function nY(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,l=e.shortMonths,u=wf(i),d=kf(i),f=wf(a),h=kf(a),m=wf(s),p=kf(s),v=wf(o),y=kf(o),x=wf(l),b=kf(l),w={a:re,A:H,b:se,B:I,c:null,d:MP,e:MP,f:CY,g:_Y,G:$Y,H:kY,I:SY,j:NY,L:B3,m:jY,M:AY,p:P,q:Z,Q:IP,s:_P,S:PY,u:DY,U:TY,V:MY,w:EY,W:OY,x:null,X:null,y:IY,Y:LY,Z:FY,"%":OP},N={a:S,A:W,b:R,B:q,c:null,d:EP,e:EP,f:UY,g:ZY,G:eX,H:RY,I:BY,j:zY,L:U3,m:WY,M:VY,p:ne,q:Y,Q:IP,s:_P,S:HY,u:qY,U:KY,V:GY,w:YY,W:XY,x:null,X:null,y:QY,Y:JY,Z:tX,"%":OP},j={a:T,A:L,b:_,B:K,c:ee,d:DP,e:DP,f:vY,g:PP,G:AP,H:TP,I:TP,j:hY,L:xY,m:mY,M:pY,p:F,q:fY,Q:yY,s:wY,S:gY,u:oY,U:lY,V:cY,w:sY,W:uY,x:le,X:ke,y:PP,Y:AP,Z:dY,"%":bY};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),N.x=k(n,N),N.X=k(r,N),N.c=k(t,N);function k(z,U){return function(V){var G=[],B=-1,de=0,X=z.length,ie,Ve,Ge;for(V instanceof Date||(V=new Date(+V));++B<X;)z.charCodeAt(B)===37&&(G.push(z.slice(de,B)),(Ve=jP[ie=z.charAt(++B)])!=null?ie=z.charAt(++B):Ve=ie==="e"?" ":"0",(Ge=U[ie])&&(ie=Ge(V,Ve)),G.push(ie),de=B+1);return G.push(z.slice(de,B)),G.join("")}}function A(z,U){return function(V){var G=yf(1900,void 0,1),B=E(G,z,V+="",0),de,X;if(B!=V.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(U&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(de=Nb(yf(G.y,0,1)),X=de.getUTCDay(),de=X>4||X===0?w0.ceil(de):w0(de),de=Kx.offset(de,(G.V-1)*7),G.y=de.getUTCFullYear(),G.m=de.getUTCMonth(),G.d=de.getUTCDate()+(G.w+6)%7):(de=Sb(yf(G.y,0,1)),X=de.getDay(),de=X>4||X===0?y0.ceil(de):y0(de),de=sh.offset(de,(G.V-1)*7),G.y=de.getFullYear(),G.m=de.getMonth(),G.d=de.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),X="Z"in G?Nb(yf(G.y,0,1)).getUTCDay():Sb(yf(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(X+5)%7:G.w+G.U*7-(X+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Nb(G)):Sb(G)}}function E(z,U,V,G){for(var B=0,de=U.length,X=V.length,ie,Ve;B<de;){if(G>=X)return-1;if(ie=U.charCodeAt(B++),ie===37){if(ie=U.charAt(B++),Ve=j[ie in jP?U.charAt(B++):ie],!Ve||(G=Ve(z,V,G))<0)return-1}else if(ie!=V.charCodeAt(G++))return-1}return G}function F(z,U,V){var G=u.exec(U.slice(V));return G?(z.p=d.get(G[0].toLowerCase()),V+G[0].length):-1}function T(z,U,V){var G=m.exec(U.slice(V));return G?(z.w=p.get(G[0].toLowerCase()),V+G[0].length):-1}function L(z,U,V){var G=f.exec(U.slice(V));return G?(z.w=h.get(G[0].toLowerCase()),V+G[0].length):-1}function _(z,U,V){var G=x.exec(U.slice(V));return G?(z.m=b.get(G[0].toLowerCase()),V+G[0].length):-1}function K(z,U,V){var G=v.exec(U.slice(V));return G?(z.m=y.get(G[0].toLowerCase()),V+G[0].length):-1}function ee(z,U,V){return E(z,t,U,V)}function le(z,U,V){return E(z,n,U,V)}function ke(z,U,V){return E(z,r,U,V)}function re(z){return s[z.getDay()]}function H(z){return a[z.getDay()]}function se(z){return l[z.getMonth()]}function I(z){return o[z.getMonth()]}function P(z){return i[+(z.getHours()>=12)]}function Z(z){return 1+~~(z.getMonth()/3)}function S(z){return s[z.getUTCDay()]}function W(z){return a[z.getUTCDay()]}function R(z){return l[z.getUTCMonth()]}function q(z){return o[z.getUTCMonth()]}function ne(z){return i[+(z.getUTCHours()>=12)]}function Y(z){return 1+~~(z.getUTCMonth()/3)}return{format:function(z){var U=k(z+="",w);return U.toString=function(){return z},U},parse:function(z){var U=A(z+="",!1);return U.toString=function(){return z},U},utcFormat:function(z){var U=k(z+="",N);return U.toString=function(){return z},U},utcParse:function(z){var U=A(z+="",!0);return U.toString=function(){return z},U}}}var jP={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,rY=/^%/,iY=/[\\^$*+?|[\]().{}]/g;function In(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function aY(e){return e.replace(iY,"\\$&")}function wf(e){return new RegExp("^(?:"+e.map(aY).join("|")+")","i")}function kf(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function sY(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function oY(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function lY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function cY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function uY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function AP(e,t,n){var r=yi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function PP(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function dY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function fY(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function mY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function DP(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function hY(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function TP(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function pY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function gY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function xY(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function vY(e,t,n){var r=yi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function bY(e,t,n){var r=rY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function yY(e,t,n){var r=yi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function wY(e,t,n){var r=yi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function MP(e,t){return In(e.getDate(),t,2)}function kY(e,t){return In(e.getHours(),t,2)}function SY(e,t){return In(e.getHours()%12||12,t,2)}function NY(e,t){return In(1+sh.count(qo(e),e),t,3)}function B3(e,t){return In(e.getMilliseconds(),t,3)}function CY(e,t){return B3(e,t)+"000"}function jY(e,t){return In(e.getMonth()+1,t,2)}function AY(e,t){return In(e.getMinutes(),t,2)}function PY(e,t){return In(e.getSeconds(),t,2)}function DY(e){var t=e.getDay();return t===0?7:t}function TY(e,t){return In(Gx.count(qo(e)-1,e),t,2)}function z3(e){var t=e.getDay();return t>=4||t===0?Dd(e):Dd.ceil(e)}function MY(e,t){return e=z3(e),In(Dd.count(qo(e),e)+(qo(e).getDay()===4),t,2)}function EY(e){return e.getDay()}function OY(e,t){return In(y0.count(qo(e)-1,e),t,2)}function IY(e,t){return In(e.getFullYear()%100,t,2)}function _Y(e,t){return e=z3(e),In(e.getFullYear()%100,t,2)}function LY(e,t){return In(e.getFullYear()%1e4,t,4)}function $Y(e,t){var n=e.getDay();return e=n>=4||n===0?Dd(e):Dd.ceil(e),In(e.getFullYear()%1e4,t,4)}function FY(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+In(t/60|0,"0",2)+In(t%60,"0",2)}function EP(e,t){return In(e.getUTCDate(),t,2)}function RY(e,t){return In(e.getUTCHours(),t,2)}function BY(e,t){return In(e.getUTCHours()%12||12,t,2)}function zY(e,t){return In(1+Kx.count(Ko(e),e),t,3)}function U3(e,t){return In(e.getUTCMilliseconds(),t,3)}function UY(e,t){return U3(e,t)+"000"}function WY(e,t){return In(e.getUTCMonth()+1,t,2)}function VY(e,t){return In(e.getUTCMinutes(),t,2)}function HY(e,t){return In(e.getUTCSeconds(),t,2)}function qY(e){var t=e.getUTCDay();return t===0?7:t}function KY(e,t){return In(Yx.count(Ko(e)-1,e),t,2)}function W3(e){var t=e.getUTCDay();return t>=4||t===0?Td(e):Td.ceil(e)}function GY(e,t){return e=W3(e),In(Td.count(Ko(e),e)+(Ko(e).getUTCDay()===4),t,2)}function YY(e){return e.getUTCDay()}function XY(e,t){return In(w0.count(Ko(e)-1,e),t,2)}function QY(e,t){return In(e.getUTCFullYear()%100,t,2)}function ZY(e,t){return e=W3(e),In(e.getUTCFullYear()%100,t,2)}function JY(e,t){return In(e.getUTCFullYear()%1e4,t,4)}function eX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Td(e):Td.ceil(e),In(e.getUTCFullYear()%1e4,t,4)}function tX(){return"+0000"}function OP(){return"%"}function IP(e){return+e}function _P(e){return Math.floor(+e/1e3)}var Eu,V3,H3;nX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function nX(e){return Eu=nY(e),V3=Eu.format,Eu.parse,H3=Eu.utcFormat,Eu.utcParse,Eu}function rX(e){return new Date(e)}function iX(e){return e instanceof Date?+e:+new Date(+e)}function US(e,t,n,r,i,a,s,o,l,u){var d=PS(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),v=u("%I:%M"),y=u("%I %p"),x=u("%a %d"),b=u("%b %d"),w=u("%B"),N=u("%Y");function j(k){return(l(k)<k?m:o(k)<k?p:s(k)<k?v:a(k)<k?y:r(k)<k?i(k)<k?x:b:n(k)<k?w:N)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,iX)):h().map(rX)},d.ticks=function(k){var A=h();return e(A[0],A[A.length-1],k??10)},d.tickFormat=function(k,A){return A==null?j:u(A)},d.nice=function(k){var A=h();return(!k||typeof k.range!="function")&&(k=t(A[0],A[A.length-1],k??10)),k?h(M3(A,k)):d},d.copy=function(){return ah(d,US(e,t,n,r,i,a,s,o,l,u))},d}function aX(){return us.apply(US(eY,tY,qo,BS,Gx,sh,FS,LS,Fc,V3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sX(){return us.apply(US(ZG,JG,Ko,zS,Yx,Kx,RS,$S,Fc,H3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Xx(){var e=0,t=1,n,r,i,a,s=Zi,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(zd),u.rangeRound=d(AS),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function sc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function q3(){var e=ac(Xx()(Zi));return e.copy=function(){return sc(e,q3())},nl.apply(e,arguments)}function K3(){var e=MS(Xx()).domain([1,10]);return e.copy=function(){return sc(e,K3()).base(e.base())},nl.apply(e,arguments)}function G3(){var e=ES(Xx());return e.copy=function(){return sc(e,G3()).constant(e.constant())},nl.apply(e,arguments)}function WS(){var e=OS(Xx());return e.copy=function(){return sc(e,WS()).exponent(e.exponent())},nl.apply(e,arguments)}function oX(){return WS.apply(null,arguments).exponent(.5)}function Y3(){var e=[],t=Zi;function n(r){if(r!=null&&!isNaN(r=+r))return t((rh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ql),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>qK(e,a/r))},n.copy=function(){return Y3(t).domain(e)},nl.apply(n,arguments)}function Qx(){var e=0,t=.5,n=1,r=1,i,a,s,o,l,u=Zi,d,f=!1,h;function m(v){return isNaN(v=+v)?h:(v=.5+((v=+d(v))-a)*(r*v<r*a?o:l),u(f?Math.max(0,Math.min(1,v)):v))}m.domain=function(v){return arguments.length?([e,t,n]=v,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(v){return arguments.length?(f=!!v,m):f},m.interpolator=function(v){return arguments.length?(u=v,m):u};function p(v){return function(y){var x,b,w;return arguments.length?([x,b,w]=y,u=bG(v,[x,b,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(zd),m.rangeRound=p(AS),m.unknown=function(v){return arguments.length?(h=v,m):h},function(v){return d=v,i=v(e),a=v(t),s=v(n),o=i===a?0:.5/(a-i),l=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function X3(){var e=ac(Qx()(Zi));return e.copy=function(){return sc(e,X3())},nl.apply(e,arguments)}function Q3(){var e=MS(Qx()).domain([.1,1,10]);return e.copy=function(){return sc(e,Q3()).base(e.base())},nl.apply(e,arguments)}function Z3(){var e=ES(Qx());return e.copy=function(){return sc(e,Z3()).constant(e.constant())},nl.apply(e,arguments)}function VS(){var e=OS(Qx());return e.copy=function(){return sc(e,VS()).exponent(e.exponent())},nl.apply(e,arguments)}function lX(){return VS.apply(null,arguments).exponent(.5)}const _f=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:NS,scaleDiverging:X3,scaleDivergingLog:Q3,scaleDivergingPow:VS,scaleDivergingSqrt:lX,scaleDivergingSymlog:Z3,scaleIdentity:T3,scaleImplicit:Uw,scaleLinear:D3,scaleLog:E3,scaleOrdinal:SS,scalePoint:YK,scalePow:IS,scaleQuantile:_3,scaleQuantize:L3,scaleRadial:I3,scaleSequential:q3,scaleSequentialLog:K3,scaleSequentialPow:WS,scaleSequentialQuantile:Y3,scaleSequentialSqrt:oX,scaleSequentialSymlog:G3,scaleSqrt:UG,scaleSymlog:O3,scaleThreshold:$3,scaleTime:aX,scaleUtc:sX,tickFormat:P3},Symbol.toStringTag,{value:"Module"}));var oc=e=>e.chartData,HS=Me([oc],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),qS=(e,t,n,r)=>r?HS(e):oc(e);function Xl(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(br(t)&&br(n))return!0}return!1}function LP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function J3(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(br(n))i=n;else if(typeof n=="function")return;if(br(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(Xl(s))return s}}function cX(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(Xl(r))return LP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Vt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&tA.test(i)){var l=tA.exec(i);if(l==null||l[1]==null||t==null)s=void 0;else{var u=+l[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Vt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&nA.test(a)){var d=nA.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(Xl(h))return t==null?h:LP(h,t,n)}}}var Ud=1e9,uX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},GS,yr=!0,ls="[DecimalError] ",Kc=ls+"Invalid argument: ",KS=ls+"Exponent out of range: ",Wd=Math.floor,Ac=Math.pow,dX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Da,hi=1e7,cr=7,eL=9007199254740991,k0=Wd(eL/cr),Et={};Et.absoluteValue=Et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Et.comparedTo=Et.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*cr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Et.dividedBy=Et.div=function(e){return _o(this,new this.constructor(e))};Et.dividedToIntegerBy=Et.idiv=function(e){var t=this,n=t.constructor;return Qn(_o(t,new n(e),0,1),n.precision)};Et.equals=Et.eq=function(e){return!this.cmp(e)};Et.exponent=function(){return Gr(this)};Et.greaterThan=Et.gt=function(e){return this.cmp(e)>0};Et.greaterThanOrEqualTo=Et.gte=function(e){return this.cmp(e)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(e){return this.cmp(e)<0};Et.lessThanOrEqualTo=Et.lte=function(e){return this.cmp(e)<1};Et.logarithm=Et.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Da))throw Error(ls+"NaN");if(n.s<1)throw Error(ls+(n.s?"NaN":"-Infinity"));return n.eq(Da)?new r(0):(yr=!1,t=_o(_m(n,a),_m(e,a),a),yr=!0,Qn(t,i))};Et.minus=Et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?rL(t,e):tL(t,(e.s=-e.s,e))};Et.modulo=Et.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ls+"NaN");return n.s?(yr=!1,t=_o(n,e,0,1).times(e),yr=!0,n.minus(t)):Qn(new r(n),i)};Et.naturalExponential=Et.exp=function(){return nL(this)};Et.naturalLogarithm=Et.ln=function(){return _m(this)};Et.negated=Et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Et.plus=Et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?tL(t,e):rL(t,(e.s=-e.s,e))};Et.precision=Et.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Kc+e);if(t=Gr(i)+1,r=i.d.length-1,n=r*cr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Et.squareRoot=Et.sqrt=function(){var e,t,n,r,i,a,s,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ls+"NaN")}for(e=Gr(o),yr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=Qs(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Wd((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new l(t)):r=new l(i.toString()),n=l.precision,i=s=n+3;;)if(a=r,r=a.plus(_o(o,a,s+2)).times(.5),Qs(a.d).slice(0,s)===(t=Qs(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Qn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return yr=!0,Qn(r,n)};Et.times=Et.mul=function(e){var t,n,r,i,a,s,o,l,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,s=l,l=u,u=s),a=[],s=l+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=l+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%hi|0,t=o/hi|0;a[i]=(a[i]+t)%hi|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,yr?Qn(e,f.precision):e};Et.toDecimalPlaces=Et.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ro(e,0,Ud),t===void 0?t=r.rounding:ro(t,0,8),Qn(n,e+Gr(n)+1,t))};Et.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=su(r,!0):(ro(e,0,Ud),t===void 0?t=i.rounding:ro(t,0,8),r=Qn(new i(r),e+1,t),n=su(r,!0,e+1)),n};Et.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?su(i):(ro(e,0,Ud),t===void 0?t=a.rounding:ro(t,0,8),r=Qn(new a(i),e+Gr(i)+1,t),n=su(r.abs(),!1,e+Gr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Et.toInteger=Et.toint=function(){var e=this,t=e.constructor;return Qn(new t(e),Gr(e)+1,t.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(e){var t,n,r,i,a,s,o=this,l=o.constructor,u=12,d=+(e=new l(e));if(!e.s)return new l(Da);if(o=new l(o),!o.s){if(e.s<1)throw Error(ls+"Infinity");return o}if(o.eq(Da))return o;if(r=l.precision,e.eq(Da))return Qn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=eL){for(i=new l(Da),t=Math.ceil(r/cr+4),yr=!1;n%2&&(i=i.times(o),FP(i.d,t)),n=Wd(n/2),n!==0;)o=o.times(o),FP(o.d,t);return yr=!0,e.s<0?new l(Da).div(i):Qn(i,r)}}else if(a<0)throw Error(ls+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,yr=!1,i=e.times(_m(o,r+u)),yr=!0,i=nL(i),i.s=a,i};Et.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Gr(i),r=su(i,n<=a.toExpNeg||n>=a.toExpPos)):(ro(e,1,Ud),t===void 0?t=a.rounding:ro(t,0,8),i=Qn(new a(i),e,t),n=Gr(i),r=su(i,e<=n||n<=a.toExpNeg,e)),r};Et.toSignificantDigits=Et.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ro(e,1,Ud),t===void 0?t=r.rounding:ro(t,0,8)),Qn(new r(n),e,t)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Gr(e),n=e.constructor;return su(e,t<=n.toExpNeg||t>=n.toExpPos)};function tL(e,t){var n,r,i,a,s,o,l,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),yr?Qn(t,f):t;if(l=e.d,u=t.d,s=e.e,i=t.e,l=l.slice(),a=s-i,a){for(a<0?(r=l,a=-a,o=u.length):(r=u,i=s,o=l.length),s=Math.ceil(f/cr),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=l.length,a=u.length,o-a<0&&(a=o,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/hi|0,l[a]%=hi;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return t.d=l,t.e=i,yr?Qn(t,f):t}function ro(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Kc+e)}function Qs(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=cr-r.length,n&&(a+=Al(n)),a+=r;s=e[t],r=s+"",n=cr-r.length,n&&(a+=Al(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var _o=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%hi|0,s=a/hi|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,l;if(a!=s)l=a>s?1:-1;else for(o=l=0;o<a;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*hi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,l,u,d,f,h,m,p,v,y,x,b,w,N,j,k,A,E,F=r.constructor,T=r.s==i.s?1:-1,L=r.d,_=i.d;if(!r.s)return new F(r);if(!i.s)throw Error(ls+"Division by zero");for(l=r.e-i.e,A=_.length,j=L.length,m=new F(T),p=m.d=[],u=0;_[u]==(L[u]||0);)++u;if(_[u]>(L[u]||0)&&--l,a==null?b=a=F.precision:s?b=a+(Gr(r)-Gr(i))+1:b=a,b<0)return new F(0);if(b=b/cr+2|0,u=0,A==1)for(d=0,_=_[0],b++;(u<j||d)&&b--;u++)w=d*hi+(L[u]||0),p[u]=w/_|0,d=w%_|0;else{for(d=hi/(_[0]+1)|0,d>1&&(_=e(_,d),L=e(L,d),A=_.length,j=L.length),N=A,v=L.slice(0,A),y=v.length;y<A;)v[y++]=0;E=_.slice(),E.unshift(0),k=_[0],_[1]>=hi/2&&++k;do d=0,o=t(_,v,A,y),o<0?(x=v[0],A!=y&&(x=x*hi+(v[1]||0)),d=x/k|0,d>1?(d>=hi&&(d=hi-1),f=e(_,d),h=f.length,y=v.length,o=t(f,v,h,y),o==1&&(d--,n(f,A<h?E:_,h))):(d==0&&(o=d=1),f=_.slice()),h=f.length,h<y&&f.unshift(0),n(v,f,y),o==-1&&(y=v.length,o=t(_,v,A,y),o<1&&(d++,n(v,A<y?E:_,y))),y=v.length):o===0&&(d++,v=[0]),p[u++]=d,o&&v[0]?v[y++]=L[N]||0:(v=[L[N]],y=1);while((N++<j||v[0]!==void 0)&&b--)}return p[0]||p.shift(),m.e=l,Qn(m,s?a+Gr(m)+1:a)}}();function nL(e,t){var n,r,i,a,s,o,l=0,u=0,d=e.constructor,f=d.precision;if(Gr(e)>16)throw Error(KS+Gr(e));if(!e.s)return new d(Da);for(yr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Ac(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new d(Da),d.precision=o;;){if(i=Qn(i.times(e),o),n=n.times(++l),s=a.plus(_o(i,n,o)),Qs(s.d).slice(0,o)===Qs(a.d).slice(0,o)){for(;u--;)a=Qn(a.times(a),o);return d.precision=f,t==null?(yr=!0,Qn(a,f)):a}a=s}}function Gr(e){for(var t=e.e*cr,n=e.d[0];n>=10;n/=10)t++;return t}function Cb(e,t,n){if(t>e.LN10.sd())throw yr=!0,n&&(e.precision=n),Error(ls+"LN10 precision limit exceeded");return Qn(new e(e.LN10),t)}function Al(e){for(var t="";e--;)t+="0";return t}function _m(e,t){var n,r,i,a,s,o,l,u,d,f=1,h=10,m=e,p=m.d,v=m.constructor,y=v.precision;if(m.s<1)throw Error(ls+(m.s?"NaN":"-Infinity"));if(m.eq(Da))return new v(0);if(t==null?(yr=!1,u=y):u=t,m.eq(10))return t==null&&(yr=!0),Cb(v,u);if(u+=h,v.precision=u,n=Qs(p),r=n.charAt(0),a=Gr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=Qs(m.d),r=n.charAt(0),f++;a=Gr(m),r>1?(m=new v("0."+n),a++):m=new v(r+"."+n.slice(1))}else return l=Cb(v,u+2,y).times(a+""),m=_m(new v(r+"."+n.slice(1)),u-h).plus(l),v.precision=y,t==null?(yr=!0,Qn(m,y)):m;for(o=s=m=_o(m.minus(Da),m.plus(Da),u),d=Qn(m.times(m),u),i=3;;){if(s=Qn(s.times(d),u),l=o.plus(_o(s,new v(i),u)),Qs(l.d).slice(0,u)===Qs(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(Cb(v,u+2,y).times(a+""))),o=_o(o,new v(f),u),v.precision=y,t==null?(yr=!0,Qn(o,y)):o;o=l,i+=2}}function $P(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Wd(n/cr),e.d=[],r=(n+1)%cr,n<0&&(r+=cr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=cr;r<i;)e.d.push(+t.slice(r,r+=cr));t=t.slice(r),r=cr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),yr&&(e.e>k0||e.e<-k0))throw Error(KS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Qn(e,t,n){var r,i,a,s,o,l,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=cr,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/cr),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=cr,i=r-cr+s}if(n!==void 0&&(a=Ac(10,s-i-1),o=u/a%10|0,l=t<0||f[d+1]!==void 0||u%a,l=n<4?(o||l)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?u/Ac(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return l?(a=Gr(e),f.length=1,t=t-a-1,f[0]=Ac(10,(cr-t%cr)%cr),e.e=Wd(-t/cr)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ac(10,cr-r),f[d]=i>0?(u/Ac(10,s-i)%Ac(10,i)|0)*a:0),l)for(;;)if(d==0){(f[0]+=a)==hi&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=hi)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(yr&&(e.e>k0||e.e<-k0))throw Error(KS+Gr(e));return e}function rL(e,t){var n,r,i,a,s,o,l,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),yr?Qn(t,m):t;if(l=e.d,f=t.d,r=t.e,u=e.e,l=l.slice(),s=u-r,s){for(d=s<0,d?(n=l,s=-s,o=f.length):(n=f,r=u,o=l.length),i=Math.max(Math.ceil(m/cr),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}s=0}for(d&&(n=l,l=f,f=n,t.s=-t.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>s;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=hi-1;--l[a],l[i]+=hi}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(t.d=l,t.e=r,yr?Qn(t,m):t):new h(0)}function su(e,t,n){var r,i=Gr(e),a=Qs(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Al(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Al(-i-1)+a,n&&(r=n-s)>0&&(a+=Al(r))):i>=s?(a+=Al(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Al(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Al(r))),e.s<0?"-"+a:a}function FP(e,t){if(e.length>t)return e.length=t,!0}function iL(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Kc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return $P(s,a.toString())}else if(typeof a!="string")throw Error(Kc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,dX.test(a))$P(s,a);else throw Error(Kc+a)}if(i.prototype=Et,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=iL,i.config=i.set=fX,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function fX(e){if(!e||typeof e!="object")throw Error(ls+"Object expected");var t,n,r,i=["precision",1,Ud,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Wd(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Kc+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Kc+n+": "+r);return this}var GS=iL(uX);Da=new GS(1);const Un=GS;var mX=e=>e,aL={},sL=e=>e===aL,RP=e=>function t(){return arguments.length===0||arguments.length===1&&sL(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},oL=(e,t)=>e===1?t:RP(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==aL).length;return a>=e?t(...r):oL(e-a,RP(function(){for(var s=arguments.length,o=new Array(s),l=0;l<s;l++)o[l]=arguments[l];var u=r.map(d=>sL(d)?o.shift():d);return t(...u,...o)}))}),hX=e=>oL(e.length,e),qw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},pX=hX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),gX=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return mX;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,l)=>l(o),a(...arguments))}};function lL(e){var t;return e===0?t=1:t=Math.floor(new Un(e).abs().log(10).toNumber())+1,t}function cL(e,t,n){for(var r=new Un(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var uL=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},dL=(e,t,n)=>{if(e.lte(0))return new Un(0);var r=lL(e.toNumber()),i=new Un(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new Un(Math.ceil(a.div(s).toNumber())).add(n).mul(s),l=o.mul(i);return t?new Un(l.toNumber()):new Un(Math.ceil(l.toNumber()))},xX=(e,t,n)=>{var r=new Un(1),i=new Un(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new Un(10).pow(lL(e)-1),i=new Un(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new Un(Math.floor(e)))}else e===0?i=new Un(Math.floor((t-1)/2)):n||(i=new Un(Math.floor(e)));var s=Math.floor((t-1)/2),o=gX(pX(l=>i.add(new Un(l-s).mul(r)).toNumber()),qw);return o(0,t)},fL=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Un(0),tickMin:new Un(0),tickMax:new Un(0)};var s=dL(new Un(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new Un(0):(o=new Un(t).add(n).div(2),o=o.sub(new Un(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new Un(n).sub(o).div(s).toNumber()),d=l+u+1;return d>r?fL(t,n,r,i,a+1):(d<r&&(u=n>0?u+(r-d):u,l=n>0?l:l+(r-d)),{step:s,tickMin:o.sub(new Un(l).mul(s)),tickMax:o.add(new Un(u).mul(s))})},vX=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,l]=uL([n,r]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...qw(0,i-1).map(()=>1/0)]:[...qw(0,i-1).map(()=>-1/0),l];return n>r?u.reverse():u}if(o===l)return xX(o,i,a);var{step:d,tickMin:f,tickMax:h}=fL(o,l,s,a,0),m=cL(f,h.add(new Un(.1).mul(d)),d);return n>r?m.reverse():m},bX=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=uL([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var l=Math.max(n,2),u=dL(new Un(o).sub(s).div(l-1),a,0),d=[...cL(new Un(s),new Un(o),u),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},yX=e=>e.rootProps.barCategoryGap,oh=e=>e.rootProps.stackOffset,mL=e=>e.rootProps.reverseStackOrder,YS=e=>e.options.chartName,XS=e=>e.rootProps.syncId,hL=e=>e.rootProps.syncMethod,QS=e=>e.options.eventEmitter,gi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},jo={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Pa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Zx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},wX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:jo.reversed,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:jo.type,unit:void 0},kX={allowDataOverflow:Pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pa.scale,tick:Pa.tick,tickCount:Pa.tickCount,ticks:void 0,type:Pa.type,unit:void 0},SX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:jo.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jo.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jo.scale,tick:jo.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},NX={allowDataOverflow:Pa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Pa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Pa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Pa.scale,tick:Pa.tick,tickCount:Pa.tickCount,ticks:void 0,type:"category",unit:void 0},ZS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?SX:wX,JS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?NX:kX,Jx=e=>e.polarOptions,eN=Me([el,tl,bi],f3),pL=Me([Jx,eN],(e,t)=>{if(e!=null)return Oa(e.innerRadius,t,0)}),gL=Me([Jx,eN],(e,t)=>{if(e!=null)return Oa(e.outerRadius,t,t*.8)}),CX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},xL=Me([Jx],CX);Me([ZS,xL],Zx);var vL=Me([eN,pL,gL],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Me([JS,vL],Zx);var bL=Me([qn,Jx,pL,gL,el,tl],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:l,endAngle:u}=t;return{cx:Oa(s,i,i/2),cy:Oa(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:u,clockWise:!1}}}),wr=(e,t)=>t,lh=(e,t,n)=>n;function yL(e){return e==null?void 0:e.id}function wL(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:r;if(!(u==null||u.length===0)){var d=yL(o);u.forEach((f,h)=>{var m=a==null||i?h:String(dr(f,a,null)),p=dr(f,o.dataKey,0),v;s.has(m)?v=s.get(m):v={},Object.assign(v,{[d]:p}),s.set(m,v)})}}),Array.from(s.values())}function tN(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var ev=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function tv(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function jX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var ai=e=>{var t=qn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vd=e=>e.tooltip.settings.axisId;function BP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?BP(Object(n),!0).forEach(function(r){AX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):BP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AX(e,t,n){return(t=PX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Kw=[0,"auto"],di={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},kL=(e,t)=>e.cartesianAxis.xAxis[t],io=(e,t)=>{var n=kL(e,t);return n??di},fi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Kw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Jm},SL=(e,t)=>e.cartesianAxis.yAxis[t],ao=(e,t)=>{var n=SL(e,t);return n??fi},TX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},nN=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??TX},Dr=(e,t,n)=>{switch(t){case"xAxis":return io(e,n);case"yAxis":return ao(e,n);case"zAxis":return nN(e,n);case"angleAxis":return ZS(e,n);case"radiusAxis":return JS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},MX=(e,t,n)=>{switch(t){case"xAxis":return io(e,n);case"yAxis":return ao(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},ch=(e,t,n)=>{switch(t){case"xAxis":return io(e,n);case"yAxis":return ao(e,n);case"angleAxis":return ZS(e,n);case"radiusAxis":return JS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},NL=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function rN(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var CL=e=>e.graphicalItems.cartesianItems,EX=Me([wr,lh],rN),iN=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),uh=Me([CL,Dr,EX],iN,{memoizeOptions:{resultEqualityCheck:tv}}),jL=Me([uh],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(tN)),AL=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OX=Me([uh],AL),aN=e=>e.map(t=>t.data).filter(Boolean).flat(1),IX=Me([uh],aN,{memoizeOptions:{resultEqualityCheck:tv}}),sN=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},oN=Me([IX,qS],sN),lN=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:dr(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:dr(i,r)}))):e.map(r=>({value:r})),nv=Me([oN,Dr,uh],lN);function PL(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ag(e){if(ss(e)||e instanceof Date){var t=Number(e);if(br(t))return t}}function zP(e){if(Array.isArray(e)){var t=[ag(e[0]),ag(e[1])];return Xl(t)?t:void 0}var n=ag(e);if(n!=null)return[n,n]}function Go(e){return e.map(ag).filter(XV)}function _X(e,t,n){return!n||typeof t!="number"||as(t)?[]:n.length?Go(n.flatMap(r=>{var i=dr(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!br(a)||!br(s)))return[t-a,t+s]})):[]}var si=e=>{var t=ai(e),n=Vd(e);return ch(e,t,n)},dh=Me([si],e=>e==null?void 0:e.dataKey),LX=Me([jL,qS,si],wL),DL=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var l=s[o.stackId];return l==null&&(l=[]),l.push(o),s[o.stackId]=l,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,l]=s,u=r?[...l].reverse():l,d=u.map(yL);return[o,{stackedData:f7(e,d,n),graphicalItems:u}]}))},$X=Me([LX,jL,oh,mL],DL),TL=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=p7(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},FX=Me([Dr],e=>e.allowDataOverflow),cN=e=>{var t;if(e==null||!("domain"in e))return Kw;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=Go(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Kw},uN=Me([Dr],cN),dN=Me([uN,FX],J3),RX=Me([$X,oc,wr,dN],TL,{memoizeOptions:{resultEqualityCheck:ev}}),rv=e=>e.errorBars,BX=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>PL(n,r)),N0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},fN=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(l=>{var u,d,f=(u=r[l.id])===null||u===void 0?void 0:u.filter(x=>PL(i,x)),h=dr(o,(d=t.dataKey)!==null&&d!==void 0?d:l.dataKey),m=_X(o,h,f);if(m.length>=2){var p=Math.min(...m),v=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||v>s)&&(s=v)}var y=zP(h);y!=null&&(a=a==null?y[0]:Math.min(a,y[0]),s=s==null?y[1]:Math.max(s,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var l=zP(dr(o,t.dataKey));l!=null&&(a=a==null?l[0]:Math.min(a,l[0]),s=s==null?l[1]:Math.max(s,l[1]))}),br(a)&&br(s))return[a,s]},zX=Me([oN,Dr,OX,rv,wr],fN,{memoizeOptions:{resultEqualityCheck:ev}});function UX(e){var{value:t}=e;if(ss(t)||t instanceof Date)return t}var WX=(e,t,n)=>{var r=e.map(UX).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&NI(r))?b3(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},ML=e=>e.referenceElements.dots,Hd=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),VX=Me([ML,wr,lh],Hd),EL=e=>e.referenceElements.areas,HX=Me([EL,wr,lh],Hd),OL=e=>e.referenceElements.lines,qX=Me([OL,wr,lh],Hd),IL=(e,t)=>{if(e!=null){var n=Go(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},KX=Me(VX,wr,IL),_L=(e,t)=>{if(e!=null){var n=Go(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},GX=Me([HX,wr],_L);function YX(e){var t;if(e.x!=null)return Go([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:Go(n)}function XX(e){var t;if(e.y!=null)return Go([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:Go(n)}var LL=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?YX(r):XX(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},QX=Me([qX,wr],LL),ZX=Me(KX,QX,GX,(e,t,n)=>N0(e,n,t)),mN=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var l=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=l?N0(r,a,i):N0(a,i);return cX(t,u,e.allowDataOverflow)},JX=Me([Dr,uN,dN,RX,zX,ZX,qn,wr],mN,{memoizeOptions:{resultEqualityCheck:ev}}),eQ=[0,1],hN=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:l}=e,u=ic(t,a);if(u&&o==null){var d;return b3(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return l==="category"?WX(r,e,u):i==="expand"?eQ:s}},pN=Me([Dr,qn,oN,nv,oh,wr,JX],hN),$L=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(Ym(a));return o in _f?o:"point"}}},qd=Me([Dr,qn,NL,YS,wr],$L);function tQ(e){if(e!=null){if(e in _f)return _f[e]();var t="scale".concat(Ym(e));if(t in _f)return _f[t]()}}function gN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=tQ(t);if(i!=null){var a=i.domain(n).range(r);return l7(a),a}}}var xN=(e,t,n)=>{var r=cN(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Xl(e))return vX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Xl(e))return bX(e,t.tickCount,t.allowDecimals)}},vN=Me([pN,ch,qd],xN),bN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Xl(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},nQ=Me([Dr,pN,vN,wr],bN),rQ=Me(nv,Dr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(Go(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var l=r[o],u=r[o+1];if(!(l==null||u==null)){var d=u-l;n=Math.min(n,d)}}return n/s}}),FL=Me(rQ,qn,yX,bi,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!br(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Oa(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),iQ=(e,t,n)=>{var r=io(e,t);return r==null||typeof r.padding!="string"?0:FL(e,"xAxis",t,n,r.padding)},aQ=(e,t,n)=>{var r=ao(e,t);return r==null||typeof r.padding!="string"?0:FL(e,"yAxis",t,n,r.padding)},sQ=Me(io,iQ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),oQ=Me(ao,aQ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),lQ=Me([bi,sQ,Fx,$x,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),cQ=Me([bi,qn,oQ,Fx,$x,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),fh=(e,t,n,r)=>{var i;switch(t){case"xAxis":return lQ(e,n,r);case"yAxis":return cQ(e,n,r);case"zAxis":return(i=nN(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return xL(e);case"radiusAxis":return vL(e,n);default:return}},RL=Me([Dr,fh],Zx),Md=Me([Dr,qd,nQ,RL],gN);Me([uh,rv,wr],BX);function BL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var iv=(e,t)=>t,av=(e,t,n)=>n,uQ=Me(_x,iv,av,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(BL)),dQ=Me(Lx,iv,av,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(BL)),zL=(e,t)=>({width:e.width,height:t.height}),fQ=(e,t)=>{var n=typeof t.width=="number"?t.width:Jm;return{width:n,height:e.height}},mQ=Me(bi,io,zL),hQ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},pQ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},gQ=Me(tl,bi,uQ,iv,av,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=zL(t,o);s==null&&(s=hQ(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*l.height,s+=(u?-1:1)*l.height}),a}),xQ=Me(el,bi,dQ,iv,av,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var l=fQ(t,o);s==null&&(s=pQ(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*l.width,s+=(u?-1:1)*l.width}),a}),vQ=(e,t)=>{var n=io(e,t);if(n!=null)return gQ(e,n.orientation,n.mirror)},bQ=Me([bi,io,vQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),yQ=(e,t)=>{var n=ao(e,t);if(n!=null)return xQ(e,n.orientation,n.mirror)},wQ=Me([bi,ao,yQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),kQ=Me(bi,ao,(e,t)=>{var n=typeof t.width=="number"?t.width:Jm;return{width:n,height:e.height}}),UL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=ic(e,r),l=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&NI(l))return l}},yN=Me([qn,nv,Dr,wr],UL),WL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=ic(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},wN=Me([qn,nv,ch,wr],WL),UP=Me([qn,MX,qd,Md,yN,wN,fh,vN,wr],(e,t,n,r,i,a,s,o,l)=>{if(t!=null){var u=ic(e,l);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:l,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),SQ=(e,t,n,r,i,a,s,o,l)=>{if(!(t==null||r==null)){var u=ic(e,l),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=l==="angleAxis"&&a!=null&&a.length>=2?Bi(a[0]-a[1])*2*p:p;var v=f||i;if(v){var y=v.map((x,b)=>{var w=s?s.indexOf(x):x;return{index:b,coordinate:r(w)+p,value:x,offset:p}});return y.filter(x=>br(x.coordinate))}return u&&o?o.map((x,b)=>({coordinate:r(x)+p,value:x,index:b,offset:p})).filter(x=>br(x.coordinate)):r.ticks?r.ticks(h).map(x=>({coordinate:r(x)+p,value:x,offset:p})):r.domain().map((x,b)=>({coordinate:r(x)+p,value:s?s[x]:x,index:b,offset:p}))}},VL=Me([qn,ch,qd,Md,vN,fh,yN,wN,wr],SQ),NQ=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=ic(e,s),{tickCount:l}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Bi(r[0]-r[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(l).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},HL=Me([qn,ch,Md,fh,yN,wN,wr],NQ),qL=Me(Dr,Md,(e,t)=>{if(!(e==null||t==null))return S0(S0({},e),{},{scale:t})}),CQ=Me([Dr,qd,pN,RL],gN);Me((e,t,n)=>nN(e,n),CQ,(e,t)=>{if(!(e==null||t==null))return S0(S0({},e),{},{scale:t})});var jQ=Me([qn,_x,Lx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),KL=e=>e.options.defaultTooltipEventType,GL=e=>e.options.validateTooltipEventTypes;function YL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function kN(e,t){var n=KL(e),r=GL(e);return YL(t,n,r)}function AQ(e){return _t(t=>kN(t,e))}var XL=(e,t)=>{var n,r=Number(t);if(!(as(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},PQ=e=>e.tooltip.settings,El={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},DQ={itemInteraction:{click:El,hover:El},axisInteraction:{click:El,hover:El},keyboardInteraction:El,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},QL=va({name:"tooltip",initialState:DQ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:xr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=As(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:xr()},removeTooltipEntrySettings:{reducer(e,t){var n=As(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:xr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:TQ,replaceTooltipEntrySettings:MQ,removeTooltipEntrySettings:EQ,setTooltipSettingsState:OQ,setActiveMouseOverItemIndex:ZL,mouseLeaveItem:IQ,mouseLeaveChart:JL,setActiveClickItemIndex:_Q,setMouseOverAxisIndex:e4,setMouseClickAxisIndex:LQ,setSyncInteraction:Gw,setKeyboardInteraction:Yw}=QL.actions,$Q=QL.reducer;function WP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WP(Object(n),!0).forEach(function(r){FQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function FQ(e,t,n){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RQ(e){var t=BQ(e,"string");return typeof t=="symbol"?t:t+""}function BQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zQ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function UQ(e){return e.index!=null}var t4=(e,t,n,r)=>{if(t==null)return El;var i=zQ(e,t,n);if(i==null)return El;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(UQ(i)){if(a)return Tp(Tp({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Tp(Tp({},El),{},{coordinate:i.coordinate})};function WQ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function VQ(e,t){var n=WQ(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function HQ(e,t,n){if(n==null||t==null)return!0;var r=dr(e,t);return r==null||!Xl(n)?!0:VQ(r,n)}var SN=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!br(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var l=Math.max(s,Math.min(a,o)),u=t[l];return u==null||HQ(u,n,r)?String(l):null},n4=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var l=s[0],u=l==null?void 0:o(l.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},r4=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},mh=e=>e.options.tooltipPayloadSearcher,Kd=e=>e.tooltip;function VP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function HP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VP(Object(n),!0).forEach(function(r){qQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qQ(e,t,n){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YQ(e,t){return e??t}var i4=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:v,settings:y}=m,x=YQ(v,o),b=Array.isArray(x)?I_(x,u,d):x,w=(p=y==null?void 0:y.dataKey)!==null&&p!==void 0?p:r,N=y==null?void 0:y.nameKey,j;if(r&&Array.isArray(b)&&!Array.isArray(b[0])&&s==="axis"?j=CI(b,r,i):j=a(b,t,l,N),Array.isArray(j))j.forEach(A=>{var E=HP(HP({},y),{},{name:A.name,unit:A.unit,color:void 0,fill:void 0});h.push(rA({tooltipEntrySettings:E,dataKey:A.dataKey,payload:A.payload,value:dr(A.payload,A.dataKey),name:A.name}))});else{var k;h.push(rA({tooltipEntrySettings:y,dataKey:w,payload:j,value:dr(j,w),name:(k=dr(j,N))!==null&&k!==void 0?k:y==null?void 0:y.name}))}return h},f)}},NN=Me([si,qn,NL,YS,ai],$L),XQ=Me([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),QQ=Me([ai,Vd],rN),Gd=Me([XQ,si,QQ],iN,{memoizeOptions:{resultEqualityCheck:tv}}),ZQ=Me([Gd],e=>e.filter(tN)),JQ=Me([Gd],aN,{memoizeOptions:{resultEqualityCheck:tv}}),Yd=Me([JQ,oc],sN),eZ=Me([ZQ,oc,si],wL),CN=Me([Yd,si,Gd],lN),a4=Me([si],cN),tZ=Me([si],e=>e.allowDataOverflow),s4=Me([a4,tZ],J3),nZ=Me([Gd],e=>e.filter(tN)),rZ=Me([eZ,nZ,oh,mL],DL),iZ=Me([rZ,oc,ai,s4],TL),aZ=Me([Gd],AL),sZ=Me([Yd,si,aZ,rv,ai],fN,{memoizeOptions:{resultEqualityCheck:ev}}),oZ=Me([ML,ai,Vd],Hd),lZ=Me([oZ,ai],IL),cZ=Me([EL,ai,Vd],Hd),uZ=Me([cZ,ai],_L),dZ=Me([OL,ai,Vd],Hd),fZ=Me([dZ,ai],LL),mZ=Me([lZ,fZ,uZ],N0),hZ=Me([si,a4,s4,iZ,sZ,mZ,qn,ai],mN),hh=Me([si,qn,Yd,CN,oh,ai,hZ],hN),pZ=Me([hh,si,NN],xN),gZ=Me([si,hh,pZ,ai],bN),o4=e=>{var t=ai(e),n=Vd(e),r=!1;return fh(e,t,n,r)},l4=Me([si,o4],Zx),c4=Me([si,NN,gZ,l4],gN),xZ=Me([qn,CN,si,ai],UL),vZ=Me([qn,CN,si,ai],WL),bZ=(e,t,n,r,i,a,s,o)=>{if(t){var{type:l}=t,u=ic(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=l==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Bi(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},rl=Me([qn,si,NN,c4,o4,xZ,vZ,ai],bZ),jN=Me([KL,GL,PQ],(e,t,n)=>YL(n.shared,e,t)),u4=e=>e.tooltip.settings.trigger,AN=e=>e.tooltip.settings.defaultIndex,ph=Me([Kd,jN,u4,AN],t4),Ed=Me([ph,Yd,dh,hh],SN),d4=Me([rl,Ed],XL),f4=Me([ph],e=>{if(e)return e.dataKey}),yZ=Me([ph],e=>{if(e)return e.graphicalItemId}),m4=Me([Kd,jN,u4,AN],r4),wZ=Me([el,tl,qn,bi,rl,AN,m4,mh],n4),kZ=Me([ph,wZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SZ=Me([ph],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),NZ=Me([m4,Ed,oc,dh,d4,mh,jN],i4),CZ=Me([NZ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qP(Object(n),!0).forEach(function(r){jZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jZ(e,t,n){return(t=AZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AZ(e){var t=PZ(e,"string");return typeof t=="symbol"?t:t+""}function PZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DZ=()=>_t(si),TZ=()=>{var e=DZ(),t=_t(rl),n=_t(c4);return n0(!e||!n?void 0:KP(KP({},e),{},{scale:n}),t)};function GP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ou(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GP(Object(n),!0).forEach(function(r){MZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MZ(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=OZ(e,"string");return typeof t=="symbol"?t:t+""}function OZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IZ=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},_Z=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Ou(Ou(Ou({},r),Kr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:l}=r;return Ou(Ou(Ou({},r),Kr(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function LZ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var h4=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var l,u,d,f,h,m=o>0?(l=n[o-1])===null||l===void 0?void 0:l.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,v=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||p==null||v==null))if(Bi(p-m)!==Bi(v-p)){var x=[];if(Bi(v-p)===Bi(i[1]-i[0])){y=v;var b=p+i[1]-i[0];x[0]=Math.min(b,(b+m)/2),x[1]=Math.max(b,(b+m)/2)}else{y=m;var w=v+i[1]-i[0];x[0]=Math.min(p,(w+p)/2),x[1]=Math.max(p,(w+p)/2)}var N=[Math.min(p,(y+p)/2),Math.max(p,(y+p)/2)];if(e>N[0]&&e<=N[1]||e>=x[0]&&e<=x[1]){var j;return(j=n[o])===null||j===void 0?void 0:j.index}}else{var k=Math.min(m,v),A=Math.max(m,v);if(e>(k+p)/2&&e<=(A+p)/2){var E;return(E=n[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var F=0;F<s;F++){var T=t[F];if(T!=null){var L=t[F+1],_=t[F-1];if(F===0&&L!=null&&e<=(T.coordinate+L.coordinate)/2||F===s-1&&_!=null&&e>(T.coordinate+_.coordinate)/2||F>0&&F<s-1&&_!=null&&L!=null&&e>(T.coordinate+_.coordinate)/2&&e<=(T.coordinate+L.coordinate)/2)return T.index}}return-1},$Z=()=>_t(YS),PN=(e,t)=>t,p4=(e,t,n)=>n,DN=(e,t,n,r)=>r,FZ=Me(rl,e=>Nx(e,t=>t.coordinate)),TN=Me([Kd,PN,p4,DN],t4),MN=Me([TN,Yd,dh,hh],SN),RZ=(e,t,n)=>{if(t!=null){var r=Kd(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},g4=Me([Kd,PN,p4,DN],r4),C0=Me([el,tl,qn,bi,rl,DN,g4,mh],n4),BZ=Me([TN,C0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),x4=Me([rl,MN],XL),zZ=Me([g4,MN,oc,dh,x4,mh,PN],i4),UZ=Me([TN,MN],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),WZ=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&LZ(e,s)){var o=g7(e,t),l=h4(o,a,i,n,r),u=IZ(t,i,l,e);return{activeIndex:String(l),activeCoordinate:u}}},VZ=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=DK(e,n);if(o){var l=x7(o,t),u=h4(l,s,a,r,i),d=_Z(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},HZ=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?WZ(e,t,r,i,a,s,o):VZ(e,t,n,r,i,a,s)},qZ=Me(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),KZ=Me(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(gi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:jX}});function YP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function XP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YP(Object(n),!0).forEach(function(r){GZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GZ(e,t,n){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QZ={},ZZ={zIndexMap:Object.values(gi).reduce((e,t)=>XP(XP({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),QZ)},JZ=new Set(Object.values(gi));function eJ(e){return JZ.has(e)}var v4=va({name:"zIndex",initialState:ZZ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:xr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!eJ(n)&&delete e.zIndexMap[n])},prepare:xr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:xr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:xr()}}}),{registerZIndexPortal:tJ,unregisterZIndexPortal:nJ,registerZIndexPortalElement:rJ,unregisterZIndexPortalElement:iJ}=v4.actions,aJ=v4.reducer;function ds(e){var{zIndex:t,children:n}=e,r=V7(),i=r&&t!==void 0&&t!==0,a=ia(),s=Jn();g.useLayoutEffect(()=>i?(s(tJ({zIndex:t})),()=>{s(nJ({zIndex:t}))}):Xm,[s,t,i]);var o=_t(l=>qZ(l,t,a));return i?o?Bd.createPortal(n,o):null:n}function Xw(){return Xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xw.apply(null,arguments)}function QP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QP(Object(n),!0).forEach(function(r){sJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sJ(e,t,n){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cJ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function uJ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:l,tooltipEventType:u,chartName:d}=e,f=n,h=r,m=i;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,v,y;if(d==="ScatterChart")p=f,v=Wq,y=gi.cursorLine;else if(d==="BarChart")p=Vq(o,f,a,s),v=d3,y=gi.cursorRectangle;else if(o==="radial"&&AI(f)){var{cx:x,cy:b,radius:w,startAngle:N,endAngle:j}=m3(f);p={cx:x,cy:b,startAngle:N,endAngle:j,innerRadius:w,outerRadius:w},v=p3,y=gi.cursorLine}else p={points:OK(o,f,a)},v=wS,y=gi.cursorLine;var k=typeof l=="object"&&"className"in l?l.className:void 0,A=Mp(Mp(Mp(Mp({stroke:"#ccc",pointerEvents:"none"},a),p),Sd(l)),{},{payload:h,payloadIndex:m,className:On("recharts-tooltip-cursor",k)});return g.createElement(ds,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},g.createElement(cJ,{cursor:l,cursorComp:v,cursorProps:A}))}function dJ(e){var t=TZ(),n=G_(),r=th(),i=$Z();return t==null||n==null||r==null||i==null?null:g.createElement(uJ,Xw({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var b4=g.createContext(null),fJ=()=>g.useContext(b4),y4={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function a(l,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,h),p=n?n+u:u;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],m]:l._events[p].push(m):(l._events[p]=m,l._eventsCount++),l}function s(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var v=n?n+u:u;if(!this._events[v])return!1;var y=this._events[v],x=arguments.length,b,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),x){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,p),!0}for(w=1,b=new Array(x-1);w<x;w++)b[w-1]=arguments[w];y.fn.apply(y.context,b)}else{var N=y.length,j;for(w=0;w<N;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),x){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!b)for(j=1,b=new Array(x-1);j<x;j++)b[j-1]=arguments[j];y[w].fn.apply(y[w].context,b)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var v=0,y=[],x=p.length;v<x;v++)(p[v].fn!==d||h&&!p[v].once||f&&p[v].context!==f)&&y.push(p[v]);y.length?this._events[m]=y.length===1?y[0]:y:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(y4);var mJ=y4.exports;const hJ=Ls(mJ);var Lm=new hJ,Qw="recharts.syncEvent.tooltip",ZP="recharts.syncEvent.brush";function w4(e,t){if(t){var n=Number.parseInt(t,10);if(!as(n))return e==null?void 0:e[n]}}var pJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},k4=va({name:"options",initialState:pJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gJ=k4.reducer,{createEventEmitter:xJ}=k4.actions;function vJ(e){return e.tooltip.syncInteraction}var bJ={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},S4=va({name:"chartData",initialState:bJ,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:JP,setDataStartEndIndexes:yJ,setComputedData:Oxe}=S4.actions,wJ=S4.reducer,kJ=["x","y"];function eD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Iu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eD(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return(t=NJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jJ(e,t){if(e==null)return{};var n,r,i=AJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function PJ(){var e=_t(XS),t=_t(QS),n=Jn(),r=_t(hL),i=_t(rl),a=th(),s=eh(),o=_t(l=>l.rootProps.className);g.useEffect(()=>{if(e==null)return Xm;var l=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:v}=m,y=jJ(m,kJ),{x,y:b,width:w,height:N}=d.payload.sourceViewBox,j=Iu(Iu({},y),{},{x:s.x+(w?(p-x)/w:0)*s.width,y:s.y+(N?(v-b)/N:0)*s.height});n(Iu(Iu({},d),{},{payload:Iu(Iu({},d.payload),{},{coordinate:j})}))}else n(d);return}if(i!=null){var k;if(typeof r=="function"){var A={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=r(i,A);k=i[E]}else r==="value"&&(k=i.find(ke=>String(ke.value)===d.payload.label));var{coordinate:F}=d.payload;if(k==null||d.payload.active===!1||F==null||s==null){n(Gw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:L}=F,_=Math.min(T,s.x+s.width),K=Math.min(L,s.y+s.height),ee={x:a==="horizontal"?k.coordinate:_,y:a==="horizontal"?K:k.coordinate},le=Gw({active:d.payload.active,coordinate:ee,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(le)}}};return Lm.on(Qw,l),()=>{Lm.off(Qw,l)}},[o,n,t,e,r,i,a,s])}function DJ(){var e=_t(XS),t=_t(QS),n=Jn();g.useEffect(()=>{if(e==null)return Xm;var r=(i,a,s)=>{t!==s&&e===i&&n(yJ(a))};return Lm.on(ZP,r),()=>{Lm.off(ZP,r)}},[n,t,e])}function TJ(){var e=Jn();g.useEffect(()=>{e(xJ())},[e]),PJ(),DJ()}function MJ(e,t,n,r,i,a){var s=_t(m=>RZ(m,e,t)),o=_t(QS),l=_t(XS),u=_t(hL),d=_t(vJ),f=d==null?void 0:d.active,h=eh();g.useEffect(()=>{if(!f&&l!=null&&o!=null){var m=Gw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});Lm.emit(Qw,l,m,o)}},[f,n,s,i,r,o,l,u,a,h])}function tD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tD(Object(n),!0).forEach(function(r){EJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EJ(e,t,n){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OJ(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _J(e){return e.dataKey}function LJ(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(kq,t)}var rD=[],$J={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Os(e){var t,n,r=Yr(e,$J),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:v,wrapperStyle:y,cursor:x,shared:b,trigger:w,defaultIndex:N,portal:j,axisId:k}=r,A=Jn(),E=typeof N=="number"?String(N):N;g.useEffect(()=>{A(OQ({shared:b,trigger:w,axisId:k,active:i,defaultIndex:E}))},[A,b,w,k,i,E]);var F=eh(),T=s3(),L=AQ(b),{activeIndex:_,isActive:K}=(t=_t(ne=>UZ(ne,L,w,E)))!==null&&t!==void 0?t:{},ee=_t(ne=>zZ(ne,L,w,E)),le=_t(ne=>x4(ne,L,w,E)),ke=_t(ne=>BZ(ne,L,w,E)),re=ee,H=fJ(),se=(n=i??K)!==null&&n!==void 0?n:!1,[I,P]=i_([re,se]),Z=L==="axis"?le:void 0;MJ(L,w,ke,Z,_,se);var S=j??H;if(S==null||F==null||L==null)return null;var W=re??rD;se||(W=rD),u&&W.length&&(W=qI(W.filter(ne=>ne.value!=null&&(ne.hide!==!0||r.includeHidden)),h,_J));var R=W.length>0,q=g.createElement(Dq,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:se,coordinate:ke,hasPayload:R,offset:f,position:m,reverseDirection:p,useTranslate3d:v,viewBox:F,wrapperStyle:y,lastBoundingBox:I,innerRef:P,hasPortalFromProps:!!j},LJ(l,nD(nD({},r),{},{payload:W,label:Z,active:se,activeIndex:_,coordinate:ke,accessibilityLayer:T})));return g.createElement(g.Fragment,null,Bd.createPortal(q,S),se&&g.createElement(dJ,{cursor:x,tooltipEventType:L,coordinate:ke,payload:W,index:_}))}var Od=e=>null;Od.displayName="Cell";function FJ(e,t,n){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RJ(e){var t=BJ(e,"string");return typeof t=="symbol"?t:t+""}function BJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zJ{constructor(t){FJ(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function iD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function UJ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iD(Object(n),!0).forEach(function(r){WJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WJ(e,t,n){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function VJ(e){var t=HJ(e,"string");return typeof t=="symbol"?t:t+""}function HJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qJ={cacheSize:2e3,enableCache:!0},N4=UJ({},qJ),aD=new zJ(N4.cacheSize),KJ={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},sD="recharts_measurement_span";function GJ(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var oD=(e,t)=>{try{var n=document.getElementById(sD);n||(n=document.createElement("span"),n.setAttribute("id",sD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,KJ,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Gf=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Wx.isSsr)return{width:0,height:0};if(!N4.enableCache)return oD(t,n);var r=GJ(t,n),i=aD.get(r);if(i)return i;var a=oD(t,n);return aD.set(r,a),a},C4;function YJ(e,t,n){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XJ(e){var t=QJ(e,"string");return typeof t=="symbol"?t:t+""}function QJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZJ=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,JJ=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tee=["cm","mm","pt","pc","in","Q","px"];function nee(e){return tee.includes(e)}var Ju="NaN";function ree(e,t){return e*eee[t]}class Ci{static parse(t){var n,[,r,i]=(n=JJ.exec(t))!==null&&n!==void 0?n:[];return r==null?Ci.NaN:new Ci(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,as(t)&&(this.unit=""),n!==""&&!ZJ.test(n)&&(this.num=NaN,this.unit=""),nee(n)&&(this.num=ree(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ci(NaN,""):new Ci(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return as(this.num)}}C4=Ci;YJ(Ci,"NaN",new C4(NaN,""));function j4(e){if(e==null||e.includes(Ju))return Ju;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=lD.exec(t))!==null&&n!==void 0?n:[],s=Ci.parse(r??""),o=Ci.parse(a??""),l=i==="*"?s.multiply(o):s.divide(o);if(l.isNaN())return Ju;t=t.replace(lD,l.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=cD.exec(t))!==null&&u!==void 0?u:[],m=Ci.parse(d??""),p=Ci.parse(h??""),v=f==="+"?m.add(p):m.subtract(p);if(v.isNaN())return Ju;t=t.replace(cD,v.toString())}return t}var uD=/\(([^()]*)\)/;function iee(e){for(var t=e,n;(n=uD.exec(t))!=null;){var[,r]=n;t=t.replace(uD,j4(r))}return t}function aee(e){var t=e.replace(/\s+/g,"");return t=iee(t),t=j4(t),t}function see(e){try{return aee(e)}catch{return Ju}}function jb(e){var t=see(e.slice(5,-1));return t===Ju?"":t}var oee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],lee=["dx","dy","angle","className","breakAll"];function Zw(){return Zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zw.apply(null,arguments)}function dD(e,t){if(e==null)return{};var n,r,i=cee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var A4=/[ \f\n\r\t\v\u2028\u2029]+/,P4=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ni(t)||(n?i=t.toString().split(""):i=t.toString().split(A4));var a=i.map(o=>({word:o,width:Gf(o,r).width})),s=n?0:Gf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function uee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var D4=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,l=i[i.length-1];if(l&&o!=null&&(t==null||r||l.width+o+n<Number(t)))l.words.push(s),l.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),T4=e=>e.reduce((t,n)=>t.width>n.width?t:n),dee="",fD=(e,t,n,r,i,a,s,o)=>{var l=e.slice(0,t),u=P4({breakAll:n,style:r,children:l+dee});if(!u)return[!1,[]];var d=D4(u.wordsWithComputedWidth,a,s,o),f=d.length>i||T4(d).width>Number(a);return[f,d]},fee=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:l}=e,u=Vt(a),d=String(s),f=D4(t,r,n,i);if(!u||i)return f;var h=f.length>a||T4(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,v=0,y;m<=p&&v<=d.length-1;){var x=Math.floor((m+p)/2),b=x-1,[w,N]=fD(d,b,l,o,a,r,n,i),[j]=fD(d,x,l,o,a,r,n,i);if(!w&&!j&&(m=x+1),w&&j&&(p=x-1),!w&&j){y=N;break}v++}return y||f},mD=e=>{var t=ni(e)?[]:e.toString().split(A4);return[{words:t,width:void 0}]},mee=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!Wx.isSsr){var o,l,u=P4({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return mD(r);return fee({breakAll:a,children:r,maxLines:s,style:i},o,l,t,!!n)}return mD(r)},M4="#808080",hee={angle:0,breakAll:!1,capHeight:"0.71em",fill:M4,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},sv=g.forwardRef((e,t)=>{var n=Yr(e,hee),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=n,f=dD(n,oee),h=g.useMemo(()=>mee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:m,dy:p,angle:v,className:y,breakAll:x}=f,b=dD(f,lee);if(!ss(r)||!ss(i)||h.length===0)return null;var w=Number(r)+(Vt(m)?m:0),N=Number(i)+(Vt(p)?p:0);if(!br(w)||!br(N))return null;var j;switch(d){case"start":j=jb("calc(".concat(s,")"));break;case"middle":j=jb("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:j=jb("calc(".concat(h.length-1," * -").concat(a,")"));break}var k=[];if(l){var A=h[0].width,{width:E}=f;k.push("scale(".concat(Vt(E)&&Vt(A)?E/A:1,")"))}return v&&k.push("rotate(".concat(v,", ").concat(w,", ").concat(N,")")),k.length&&(b.transform=k.join(" ")),g.createElement("text",Zw({},Wi(b),{ref:t,x:w,y:N,className:On("recharts-text",y),textAnchor:u,fill:o.includes("url")?M4:o}),h.map((F,T)=>{var L=F.words.join(x?"":" ");return g.createElement("tspan",{x:w,dy:T===0?j:a,key:"".concat(L,"-").concat(T)},L)}))});sv.displayName="Text";var pee=["labelRef"],gee=["content"];function hD(e,t){if(e==null)return{};var n,r,i=xee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function xee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function pD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pD(Object(n),!0).forEach(function(r){vee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vee(e,t,n){return(t=bee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bee(e){var t=yee(e,"string");return typeof t=="symbol"?t:t+""}function yee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ao(){return Ao=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ao.apply(null,arguments)}var E4=g.createContext(null),O4=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,l=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return g.createElement(E4.Provider,{value:l},o)},I4=()=>{var e=g.useContext(E4),t=eh();return e||K_(t)},wee=g.createContext(null),kee=()=>{var e=g.useContext(wee),t=_t(bL);return e||t},See=e=>{var{value:t,formatter:n}=e,r=ni(e.children)?t:e.children;return typeof n=="function"?n(r):r},EN=e=>e!=null&&typeof e=="function",Nee=(e,t)=>{var n=Bi(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Cee=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(u+d)/2,v=Nee(f,h),y=v>=0?1:-1,x,b;switch(t){case"insideStart":x=f+y*a,b=m;break;case"insideEnd":x=h-y*a,b=!m;break;case"end":x=h+y*a,b=m;break;default:throw new Error("Unsupported position ".concat(t))}b=v<=0?b:!b;var w=Kr(o,l,p,x),N=Kr(o,l,p,x+(b?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(b?0:1,`,
    `).concat(N.x,",").concat(N.y),k=ni(e.id)?Sm("recharts-radial-line-"):e.id;return g.createElement("text",Ao({},r,{dominantBaseline:"central",className:On("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:k,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(k)},n))},jee=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:l}=e,u=(o+l)/2;if(n==="outside"){var{x:d,y:f}=Kr(r,i,s+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Kr(r,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},Jw=e=>"cx"in e&&Vt(e.cx),Aee=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!Jw(n)&&(a=n);var{x:s,y:o,upperWidth:l,lowerWidth:u,height:d}=t,f=s,h=s+(l-u)/2,m=(f+h)/2,p=(l+u)/2,v=f+l/2,y=d>=0?1:-1,x=y*r,b=y>0?"end":"start",w=y>0?"start":"end",N=l>=0?1:-1,j=N*r,k=N>0?"end":"start",A=N>0?"start":"end";if(i==="top"){var E={x:f+l/2,y:o-x,textAnchor:"middle",verticalAnchor:b};return Rr(Rr({},E),a?{height:Math.max(o-a.y,0),width:l}:{})}if(i==="bottom"){var F={x:h+u/2,y:o+d+x,textAnchor:"middle",verticalAnchor:w};return Rr(Rr({},F),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var T={x:m-j,y:o+d/2,textAnchor:k,verticalAnchor:"middle"};return Rr(Rr({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var L={x:m+p+j,y:o+d/2,textAnchor:A,verticalAnchor:"middle"};return Rr(Rr({},L),a?{width:Math.max(a.x+a.width-L.x,0),height:d}:{})}var _=a?{width:p,height:d}:{};return i==="insideLeft"?Rr({x:m+j,y:o+d/2,textAnchor:A,verticalAnchor:"middle"},_):i==="insideRight"?Rr({x:m+p-j,y:o+d/2,textAnchor:k,verticalAnchor:"middle"},_):i==="insideTop"?Rr({x:f+l/2,y:o+x,textAnchor:"middle",verticalAnchor:w},_):i==="insideBottom"?Rr({x:h+u/2,y:o+d-x,textAnchor:"middle",verticalAnchor:b},_):i==="insideTopLeft"?Rr({x:f+j,y:o+x,textAnchor:A,verticalAnchor:w},_):i==="insideTopRight"?Rr({x:f+l-j,y:o+x,textAnchor:k,verticalAnchor:w},_):i==="insideBottomLeft"?Rr({x:h+j,y:o+d-x,textAnchor:A,verticalAnchor:b},_):i==="insideBottomRight"?Rr({x:h+u-j,y:o+d-x,textAnchor:k,verticalAnchor:b},_):i&&typeof i=="object"&&(Vt(i.x)||Wo(i.x))&&(Vt(i.y)||Wo(i.y))?Rr({x:s+Oa(i.x,p),y:o+Oa(i.y,d),textAnchor:"end",verticalAnchor:"end"},_):Rr({x:v,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},_)},Pee={angle:0,offset:5,zIndex:gi.label,position:"middle",textBreakAll:!1};function Pl(e){var t=Yr(e,Pee),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:l,labelRef:u}=t,d=kee(),f=I4(),h=r==="center"?f:d??f,m,p,v;if(n==null?m=h:Jw(n)?m=n:m=K_(n),!m||ni(i)&&ni(a)&&!g.isValidElement(s)&&typeof s!="function")return null;var y=Rr(Rr({},t),{},{viewBox:m});if(g.isValidElement(s)){var{labelRef:x}=y,b=hD(y,pee);return g.cloneElement(s,b)}if(typeof s=="function"){var{content:w}=y,N=hD(y,gee);if(p=g.createElement(s,N),g.isValidElement(p))return p}else p=See(t);var j=Wi(t);if(Jw(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Cee(t,r,p,j,m);v=jee(m,t.offset,t.position)}else v=Aee(t,m);return g.createElement(ds,{zIndex:t.zIndex},g.createElement(sv,Ao({ref:u,className:On("recharts-label",o)},j,v,{textAnchor:uee(j.textAnchor)?j.textAnchor:v.textAnchor,breakAll:l}),p))}Pl.displayName="Label";var Dee=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(Pl,Ao({key:"label-implicit"},r)):ss(e)?g.createElement(Pl,Ao({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===Pl?g.cloneElement(e,Rr({key:"label-implicit"},r)):g.createElement(Pl,Ao({key:"label-implicit",content:e},r)):EN(e)?g.createElement(Pl,Ao({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(Pl,Ao({},e,{key:"label-implicit"},r)):null};function _4(e){var{label:t,labelRef:n}=e,r=I4();return Dee(t,r,n)||null}var L4={},$4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})($4);var F4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(F4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$4,n=F4,r=wx;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(L4);var Tee=L4.last;const Mee=Ls(Tee);var Eee=["valueAccessor"],Oee=["dataKey","clockWise","id","textBreakAll","zIndex"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j0.apply(null,arguments)}function gD(e,t){if(e==null)return{};var n,r,i=Iee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Iee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var _ee=e=>Array.isArray(e.value)?Mee(e.value):e.value,R4=g.createContext(void 0),Lee=R4.Provider,B4=g.createContext(void 0),$ee=B4.Provider;function Fee(){return g.useContext(R4)}function Ree(){return g.useContext(B4)}function sg(e){var{valueAccessor:t=_ee}=e,n=gD(e,Eee),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,l=gD(n,Oee),u=Fee(),d=Ree(),f=u||d;return!f||!f.length?null:g.createElement(ds,{zIndex:o??gi.label},g.createElement(ea,{className:"recharts-label-list"},f.map((h,m)=>{var p,v=ni(r)?t(h,m):dr(h&&h.payload,r),y=ni(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(Pl,j0({key:"label-".concat(m)},Wi(h),l,y,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:v,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}sg.displayName="LabelList";function z4(e){var{label:t}=e;return t?t===!0?g.createElement(sg,{key:"labelList-implicit"}):g.isValidElement(t)||EN(t)?g.createElement(sg,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(sg,j0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function e1(){return e1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e1.apply(null,arguments)}var U4=e=>{var{cx:t,cy:n,r,className:i}=e,a=On("recharts-dot",i);return Vt(t)&&Vt(n)&&Vt(r)?g.createElement("circle",e1({},is(e),Qk(e),{className:a,cx:t,cy:n,r})):null},W4=e=>e.graphicalItems.polarItems,Bee=Me([wr,lh],rN),ov=Me([W4,Dr,Bee],iN),zee=Me([ov],aN),lv=Me([zee,HS],sN),Uee=Me([lv,Dr,ov],lN);Me([lv,Dr,ov],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=dr(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:dr(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var xD=()=>{},Wee=Me([lv,Dr,ov,rv,wr],fN),Vee=Me([Dr,uN,dN,xD,Wee,xD,qn,wr],mN),V4=Me([Dr,qn,lv,Uee,oh,wr,Vee],hN),Hee=Me([V4,Dr,qd],xN);Me([Dr,V4,Hee,wr],bN);var qee={radiusAxis:{},angleAxis:{}},H4=va({name:"polarAxis",initialState:qee,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ixe,removeRadiusAxis:_xe,addAngleAxis:Lxe,removeAngleAxis:$xe}=H4.actions,Kee=H4.reducer;function vD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vD(Object(n),!0).forEach(function(r){Gee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gee(e,t,n){return(t=Yee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yee(e){var t=Xee(e,"string");return typeof t=="symbol"?t:t+""}function Xee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=(e,t)=>t,ON=Me([W4,Qee],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),Zee=[],IN=(e,t,n)=>(n==null?void 0:n.length)===0?Zee:n,q4=Me([HS,ON,IN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>bD(bD({},t.presentationProps),a.props))),i!=null)return i}}),Jee=Me([q4,ON,IN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=dr(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:Ix(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),ete=Me([q4,ON,IN,bi],(e,t,n,r)=>{if(!(t==null||e==null))return mne({offset:r,pieSettings:t,displayedData:e,cells:n})}),K4={exports:{}},er={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cv=60103,uv=60106,gh=60107,xh=60108,vh=60114,bh=60109,yh=60110,wh=60112,kh=60113,_N=60120,Sh=60115,Nh=60116,G4=60121,Y4=60122,X4=60117,Q4=60129,Z4=60131;if(typeof Symbol=="function"&&Symbol.for){var ki=Symbol.for;cv=ki("react.element"),uv=ki("react.portal"),gh=ki("react.fragment"),xh=ki("react.strict_mode"),vh=ki("react.profiler"),bh=ki("react.provider"),yh=ki("react.context"),wh=ki("react.forward_ref"),kh=ki("react.suspense"),_N=ki("react.suspense_list"),Sh=ki("react.memo"),Nh=ki("react.lazy"),G4=ki("react.block"),Y4=ki("react.server.block"),X4=ki("react.fundamental"),Q4=ki("react.debug_trace_mode"),Z4=ki("react.legacy_hidden")}function Fs(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case cv:switch(e=e.type,e){case gh:case vh:case xh:case kh:case _N:return e;default:switch(e=e&&e.$$typeof,e){case yh:case wh:case Nh:case Sh:case bh:return e;default:return t}}case uv:return t}}}var tte=bh,nte=cv,rte=wh,ite=gh,ate=Nh,ste=Sh,ote=uv,lte=vh,cte=xh,ute=kh;er.ContextConsumer=yh;er.ContextProvider=tte;er.Element=nte;er.ForwardRef=rte;er.Fragment=ite;er.Lazy=ate;er.Memo=ste;er.Portal=ote;er.Profiler=lte;er.StrictMode=cte;er.Suspense=ute;er.isAsyncMode=function(){return!1};er.isConcurrentMode=function(){return!1};er.isContextConsumer=function(e){return Fs(e)===yh};er.isContextProvider=function(e){return Fs(e)===bh};er.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===cv};er.isForwardRef=function(e){return Fs(e)===wh};er.isFragment=function(e){return Fs(e)===gh};er.isLazy=function(e){return Fs(e)===Nh};er.isMemo=function(e){return Fs(e)===Sh};er.isPortal=function(e){return Fs(e)===uv};er.isProfiler=function(e){return Fs(e)===vh};er.isStrictMode=function(e){return Fs(e)===xh};er.isSuspense=function(e){return Fs(e)===kh};er.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===gh||e===vh||e===Q4||e===xh||e===kh||e===_N||e===Z4||typeof e=="object"&&e!==null&&(e.$$typeof===Nh||e.$$typeof===Sh||e.$$typeof===bh||e.$$typeof===yh||e.$$typeof===wh||e.$$typeof===X4||e.$$typeof===G4||e[0]===Y4)};er.typeOf=Fs;K4.exports=er;var dte=K4.exports,yD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",wD=null,Ab=null,J4=e=>{if(e===wD&&Array.isArray(Ab))return Ab;var t=[];return g.Children.forEach(e,n=>{ni(n)||(dte.isFragment(n)?t=t.concat(J4(n.props.children)):t.push(n))}),Ab=t,wD=e,t};function e$(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>yD(i)):r=[yD(t)],J4(e).forEach(i=>{var a=nu(i,"type.displayName")||nu(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var t$=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,n$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(n$);var fte=n$.isPlainObject;const mte=Ls(fte);var kD,SD,ND,CD,jD;function AD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function PD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AD(Object(n),!0).forEach(function(r){hte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hte(e,t,n){return(t=pte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pte(e){var t=gte(e,"string");return typeof t=="symbol"?t:t+""}function gte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A0(){return A0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A0.apply(null,arguments)}function Sf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var DD=(e,t,n,r,i)=>{var a=n-r,s;return s=Er(kD||(kD=Sf(["M ",",",""])),e,t),s+=Er(SD||(SD=Sf(["L ",",",""])),e+n,t),s+=Er(ND||(ND=Sf(["L ",",",""])),e+n-a/2,t+i),s+=Er(CD||(CD=Sf(["L ",",",""])),e+n-a/2-r,t+i),s+=Er(jD||(jD=Sf(["L ",","," Z"])),e,t),s},xte={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},vte=e=>{var t=Yr(e,xte),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=g.useRef(null),[m,p]=g.useState(-1),v=g.useRef(i),y=g.useRef(a),x=g.useRef(s),b=g.useRef(n),w=g.useRef(r),N=Hx(e,"trapezoid-");if(g.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var ee=h.current.getTotalLength();ee&&p(ee)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var j=On("recharts-trapezoid",o);if(!f)return g.createElement("g",null,g.createElement("path",A0({},Wi(t),{className:j,d:DD(n,r,i,a,s)})));var k=v.current,A=y.current,E=x.current,F=b.current,T=w.current,L="0px ".concat(m===-1?1:m,"px"),_="".concat(m,"px 0px"),K=o3(["strokeDasharray"],u,l);return g.createElement(Vx,{animationId:N,key:N,canBegin:m>0,duration:u,easing:l,isActive:f,begin:d},ee=>{var le=Ri(k,i,ee),ke=Ri(A,a,ee),re=Ri(E,s,ee),H=Ri(F,n,ee),se=Ri(T,r,ee);h.current&&(v.current=le,y.current=ke,x.current=re,b.current=H,w.current=se);var I=ee>0?{transition:K,strokeDasharray:_}:{strokeDasharray:L};return g.createElement("path",A0({},Wi(t),{className:j,d:DD(H,se,le,ke,re),ref:h,style:PD(PD({},I),t.style)}))})},bte=["option","shapeType","activeClassName"];function yte(e,t){if(e==null)return{};var n,r,i=wte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function wte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function TD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TD(Object(n),!0).forEach(function(r){kte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kte(e,t,n){return(t=Ste(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ste(e){var t=Nte(e,"string");return typeof t=="symbol"?t:t+""}function Nte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cte(e,t){return P0(P0({},t),e)}function jte(e,t){return e==="symbols"}function MD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(d3,n);case"trapezoid":return g.createElement(vte,n);case"sector":return g.createElement(p3,n);case"symbols":if(jte(t))return g.createElement(Xk,n);break;case"curve":return g.createElement(wS,n);default:return null}}function Ate(e){return g.isValidElement(e)?e.props:e}function r$(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=yte(e,bte),a;if(g.isValidElement(t))a=g.cloneElement(t,P0(P0({},i),Ate(t)));else if(typeof t=="function")a=t(i,i.index);else if(mte(t)&&typeof t!="boolean"){var s=Cte(t,i);a=g.createElement(MD,{shapeType:n,elementProps:s})}else{var o=i;a=g.createElement(MD,{shapeType:n,elementProps:o})}return i.isActive?g.createElement(ea,{className:r},a):a}var Pte=(e,t,n)=>{var r=Jn();return(i,a)=>s=>{e==null||e(i,a,s),r(ZL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Dte=e=>{var t=Jn();return(n,r)=>i=>{e==null||e(n,r,i),t(IQ())}},Tte=(e,t,n)=>{var r=Jn();return(i,a)=>s=>{e==null||e(i,a,s),r(_Q({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function i$(e){var{tooltipEntrySettings:t}=e,n=Jn(),r=ia(),i=g.useRef(null);return g.useLayoutEffect(()=>{r||(i.current===null?n(TQ(t)):i.current!==t&&n(MQ({prev:i.current,next:t})),i.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{i.current&&(n(EQ(i.current)),i.current=null)},[n]),null}function Mte(e){var{legendPayload:t}=e,n=Jn(),r=ia(),i=g.useRef(null);return g.useLayoutEffect(()=>{r||(i.current===null?n(n3(t)):i.current!==t&&n(r3({prev:i.current,next:t})),i.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{i.current&&(n(i3(i.current)),i.current=null)},[n]),null}function Ete(e){var{legendPayload:t}=e,n=Jn(),r=_t(qn),i=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(n3(t)):i.current!==t&&n(r3({prev:i.current,next:t})),i.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{i.current&&(n(i3(i.current)),i.current=null)},[n]),null}var Pb,Ote=()=>{var[e]=g.useState(()=>Sm("uid-"));return e},Ite=(Pb=Hz.useId)!==null&&Pb!==void 0?Pb:Ote;function _te(e,t){var n=Ite();return t||(e?"".concat(e,"-").concat(n):n)}var Lte=g.createContext(void 0),a$=e=>{var{id:t,type:n,children:r}=e,i=_te("recharts-".concat(n),t);return g.createElement(Lte.Provider,{value:i},r(i))},$te={cartesianItems:[],polarItems:[]},s$=va({name:"graphicalItems",initialState:$te,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:xr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=As(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:xr()},removeCartesianGraphicalItem:{reducer(e,t){var n=As(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:xr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:xr()},removePolarGraphicalItem:{reducer(e,t){var n=As(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:xr()}}}),{addCartesianGraphicalItem:Fte,replaceCartesianGraphicalItem:Rte,removeCartesianGraphicalItem:Bte,addPolarGraphicalItem:zte,removePolarGraphicalItem:Ute}=s$.actions,Wte=s$.reducer,Vte=e=>{var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Fte(e)):n.current!==e&&t(Rte({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(Bte(n.current)),n.current=null)},[t]),null},Hte=g.memo(Vte);function qte(e){var t=Jn();return g.useLayoutEffect(()=>(t(zte(e)),()=>{t(Ute(e))}),[t,e]),null}var Kte=["key"],Gte=["onMouseEnter","onClick","onMouseLeave"],Yte=["id"],Xte=["id"];function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ED(Object(n),!0).forEach(function(r){Qte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qte(e,t,n){return(t=Zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zte(e){var t=Jte(e,"string");return typeof t=="symbol"?t:t+""}function Jte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ql(){return Ql=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ql.apply(null,arguments)}function dv(e,t){if(e==null)return{};var n,r,i=ene(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ene(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tne(e){var t=g.useMemo(()=>e$(e.children,Od),[e.children]),n=_t(r=>Jee(r,e.id,t));return n==null?null:g.createElement(Ete,{legendPayload:n})}var nne=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:Ix(o,t),hide:l,type:u,color:s,unit:"",graphicalItemId:d}};return g.createElement(i$,{tooltipEntrySettings:f})}),rne=(e,t)=>e>t?"start":e<t?"end":"middle",ine=(e,t,n)=>Oa(typeof t=="function"?t(e):t,n,n*.8),ane=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=f3(a,s),l=i+Oa(e.cx,a,a/2),u=r+Oa(e.cy,s,s/2),d=Oa(e.innerRadius,o,0),f=ine(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},sne=(e,t)=>{var n=Bi(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function one(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var lne=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=On("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=dv(t,Kte);return g.createElement(wS,Ql({},i,{type:"linear",className:n}))},cne=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var i=On("recharts-pie-label-text",one(e));return g.createElement(sv,Ql({},t,{alignmentBaseline:"middle",className:i}),r)};function une(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=is(n),l=Sd(i),u=Sd(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,v=Kr(h.cx,h.cy,h.outerRadius+d,p),y=Ir(Ir(Ir(Ir({},o),h),{},{stroke:"none"},l),{},{index:m,textAnchor:rne(v.x,h.cx)},v),x=Ir(Ir(Ir(Ir({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Kr(h.cx,h.cy,h.outerRadius,p),v],key:"line"});return g.createElement(ds,{zIndex:gi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},g.createElement(ea,null,a&&lne(a,x),cne(i,y,dr(h,s))))});return g.createElement(ea,{className:"recharts-pie-labels"},f)}function dne(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(z4,{label:i}):g.createElement(une,{sectors:t,props:n,showLabels:r})}function fne(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=_t(Ed),l=_t(f4),u=_t(yZ),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=dv(i,Gte),p=Pte(d,i.dataKey,s),v=Dte(h),y=Tte(f,i.dataKey,s);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((x,b)=>{if((x==null?void 0:x.startAngle)===0&&(x==null?void 0:x.endAngle)===0&&t.length!==1)return null;var w=u==null||u===s,N=String(b)===o&&(l==null||i.dataKey===l)&&w,j=o?r:null,k=n&&N?n:j,A=Ir(Ir({},x),{},{stroke:x.stroke,tabIndex:-1,[F_]:b,[R_]:s});return g.createElement(ea,Ql({key:"sector-".concat(x==null?void 0:x.startAngle,"-").concat(x==null?void 0:x.endAngle,"-").concat(x.midAngle,"-").concat(b),tabIndex:-1,className:"recharts-pie-sector"},Zk(m,x,b),{onMouseEnter:p(x,b),onMouseLeave:v(x,b),onClick:y(x,b)}),g.createElement(r$,Ql({option:a??k,index:b,shapeType:"sector",isActive:N},A)))}))}function mne(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=sne(o,l),p=Math.abs(m),v=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,y=r.filter(k=>dr(k,u,0)!==0).length,x=(p>=360?y:y-1)*v,b=p-y*h-x,w=r.reduce((k,A)=>{var E=dr(A,u,0);return k+(Vt(E)?E:0)},0),N;if(w>0){var j;N=r.map((k,A)=>{var E=dr(k,u,0),F=dr(k,d,A),T=ane(n,a,k),L=(Vt(E)?E:0)/w,_,K=Ir(Ir({},k),i&&i[A]&&i[A].props);A?_=j.endAngle+Bi(m)*v*(E!==0?1:0):_=o;var ee=_+Bi(m)*((E!==0?h:0)+L*b),le=(_+ee)/2,ke=(T.innerRadius+T.outerRadius)/2,re=[{name:F,value:E,payload:K,dataKey:u,type:f,graphicalItemId:n.id}],H=Kr(T.cx,T.cy,ke,le);return j=Ir(Ir(Ir(Ir({},n.presentationProps),{},{percent:L,cornerRadius:typeof s=="string"?parseFloat(s):s,name:F,tooltipPayload:re,midAngle:le,middleRadius:ke,tooltipPosition:H},K),T),{},{value:E,dataKey:u,startAngle:_,endAngle:ee,payload:K,paddingAngle:Bi(m)*v}),j})}return N}function hne(e){var{showLabels:t,sectors:n,children:r}=e,i=g.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return g.createElement($ee,{value:t?i:void 0},r)}function pne(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=Hx(t,"recharts-pie-"),p=n.current,[v,y]=g.useState(!1),x=g.useCallback(()=>{typeof h=="function"&&h(),y(!1)},[h]),b=g.useCallback(()=>{typeof f=="function"&&f(),y(!0)},[f]);return g.createElement(hne,{showLabels:!v,sectors:i},g.createElement(Vx,{animationId:m,begin:s,duration:o,isActive:a,easing:l,onAnimationStart:b,onAnimationEnd:x,key:m},w=>{var N=[],j=i&&i[0],k=j==null?void 0:j.startAngle;return i==null||i.forEach((A,E)=>{var F=p&&p[E],T=E>0?nu(A,"paddingAngle",0):0;if(F){var L=Ri(F.endAngle-F.startAngle,A.endAngle-A.startAngle,w),_=Ir(Ir({},A),{},{startAngle:k+T,endAngle:k+L+T});N.push(_),k=_.endAngle}else{var{endAngle:K,startAngle:ee}=A,le=Ri(0,K-ee,w),ke=Ir(Ir({},A),{},{startAngle:k+T,endAngle:k+le+T});N.push(ke),k=ke.endAngle}}),n.current=N,g.createElement(ea,null,g.createElement(fne,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(dne,{showLabels:!v,sectors:i,props:t}),t.children)}var gne={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gi.area};function xne(e){var{id:t}=e,n=dv(e,Yte),{hide:r,className:i,rootTabIndex:a}=e,s=g.useMemo(()=>e$(e.children,Od),[e.children]),o=_t(d=>ete(d,t,s)),l=g.useRef(null),u=On("recharts-pie",i);return r||o==null?(l.current=null,g.createElement(ea,{tabIndex:a,className:u})):g.createElement(ds,{zIndex:e.zIndex},g.createElement(nne,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(ea,{tabIndex:a,className:u},g.createElement(pne,{props:Ir(Ir({},n),{},{sectors:o}),previousSectorsRef:l,id:t})))}function D0(e){var t=Yr(e,gne),{id:n}=t,r=dv(t,Xte),i=is(r);return g.createElement(a$,{id:n,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(qte,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),g.createElement(tne,Ql({},r,{id:a})),g.createElement(xne,Ql({},r,{id:a}))))}D0.displayName="Pie";var vne=["points"];function OD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Db(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OD(Object(n),!0).forEach(function(r){bne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bne(e,t,n){return(t=yne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yne(e){var t=wne(e,"string");return typeof t=="symbol"?t:t+""}function wne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},T0.apply(null,arguments)}function kne(e,t){if(e==null)return{};var n,r,i=Sne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Sne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Nne(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var i=On(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=kne(a,vne);return g.createElement(U4,T0({},o,{className:i}))}function Cne(e,t){return e==null?!1:t?!0:e.length===1}function jne(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:l,zIndex:u=gi.scatter}=e;if(!Cne(t,n))return null;var d=t$(n),f=sV(n),h=t.map((p,v)=>{var y,x,b=Db(Db(Db({r:3},s),f),{},{index:v,cx:(y=p.x)!==null&&y!==void 0?y:void 0,cy:(x=p.y)!==null&&x!==void 0?x:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return g.createElement(Nne,{key:"dot-".concat(v),option:n,dotProps:b,className:i})}),m={};return o&&l!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),g.createElement(ds,{zIndex:u},g.createElement(ea,T0({className:r},m),h))}function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(r){Ane(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ane(e,t,n){return(t=Pne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tne={xAxis:{},yAxis:{},zAxis:{}},o$=va({name:"cartesianAxis",initialState:Tne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:xr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:xr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:xr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:xr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:xr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:xr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:xr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:xr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:xr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=_D(_D({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Mne,replaceXAxis:Ene,removeXAxis:One,addYAxis:Ine,replaceYAxis:_ne,removeYAxis:Lne,addZAxis:Fxe,replaceZAxis:Rxe,removeZAxis:Bxe,updateYAxisWidth:$ne}=o$.actions,Fne=o$.reducer,Rne=Me([bi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),Bne=Me([Rne,el,tl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),LN=()=>_t(Bne),zne=()=>_t(CZ);function LD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Tb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?LD(Object(n),!0).forEach(function(r){Une(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Une(e,t,n){return(t=Wne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wne(e){var t=Vne(e,"string");return typeof t=="symbol"?t:t+""}function Vne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hne=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},l=Tb(Tb(Tb({},o),Sd(i)),Qk(i)),u;return g.isValidElement(i)?u=g.cloneElement(i,l):typeof i=="function"?u=i(l):u=g.createElement(U4,l),g.createElement(ea,{className:"recharts-active-dot",clipPath:s},u)};function qne(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=gi.activeDot}=e,o=_t(Ed),l=zne();if(t==null||l==null)return null;var u=t.find(d=>l.includes(d.payload));return ni(u)?null:g.createElement(ds,{zIndex:s},g.createElement(Hne,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var l$=e=>{var{chartData:t}=e,n=Jn(),r=ia();return g.useEffect(()=>r?()=>{}:(n(JP(t)),()=>{n(JP(void 0))}),[t,n,r]),null},$D={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},c$=va({name:"brush",initialState:$D,reducers:{setBrushSettings(e,t){return t.payload==null?$D:t.payload}}}),{setBrushSettings:zxe}=c$.actions,Kne=c$.reducer;function FD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ep(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FD(Object(n),!0).forEach(function(r){u$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function u$(e,t,n){return(t=Gne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gne(e){var t=Yne(e,"string");return typeof t=="symbol"?t:t+""}function Yne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xne=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},Qne=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return Xne({x:t,y:n},{x:r,y:i})};class fv{static create(t){return new fv(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}u$(fv,"EPS",1e-4);var Zne=e=>{var t=Object.keys(e).reduce((n,r)=>Ep(Ep({},n),{},{[r]:fv.create(e[r])}),{});return Ep(Ep({},t),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[s,o]=a;return[s,t[s].apply(o,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function Jne(e){return(e%180+180)%180}var ere=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=Jne(i),s=a*Math.PI/180,o=Math.atan(r/n),l=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(l)},tre={dots:[],areas:[],lines:[]},d$=va({name:"referenceElements",initialState:tre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=As(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=As(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=As(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:Uxe,removeDot:Wxe,addArea:Vxe,removeArea:Hxe,addLine:nre,removeLine:rre}=d$.actions,ire=d$.reducer,f$=g.createContext(void 0),are=e=>{var{children:t}=e,[n]=g.useState("".concat(Sm("recharts"),"-clip")),r=LN();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return g.createElement(f$.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:a,height:o,width:s}))),t)},sre=()=>g.useContext(f$);function RD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RD(Object(n),!0).forEach(function(r){ore(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ore(e,t,n){return(t=lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lre(e){var t=cre(e,"string");return typeof t=="symbol"?t:t+""}function cre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(null,arguments)}var ure=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!br(t.x1)||!br(t.y1)||!br(t.x2)||!br(t.y2))return null;n=g.createElement("line",M0({},t,{className:"recharts-reference-line-line"}))}return n},dre=(e,t,n,r,i,a)=>{var{x:s,width:o}=a,l=i.y.apply(e,{position:n});if(as(l)||t==="discard"&&!i.y.isInRange(l))return null;var u=[{x:s+o,y:l},{x:s,y:l}];return r==="left"?u.reverse():u},fre=(e,t,n,r,i,a)=>{var{y:s,height:o}=a,l=i.x.apply(e,{position:n});if(as(l)||t==="discard"&&!i.x.isInRange(l))return null;var u=[{x:l,y:s+o},{x:l,y:s}];return r==="top"?u.reverse():u},mre=(e,t,n,r)=>{var i=e.map(a=>r.apply(a,{position:n}));return t==="discard"&&i.some(a=>!r.isInRange(a))?null:i},hre=(e,t,n,r,i,a)=>{var{x:s,y:o,segment:l,ifOverflow:u}=a,d=ss(s),f=ss(o);return f?dre(o,u,n,i,e,t):d?fre(s,u,n,r,e,t):l!=null&&l.length===2?mre(l,u,n,e):null};function pre(e){var t=Jn();return g.useEffect(()=>(t(nre(e)),()=>{t(rre(e))})),null}function gre(e){var{xAxisId:t,yAxisId:n,shape:r,className:i,ifOverflow:a}=e,s=ia(),o=sre(),l=_t(k=>io(k,t)),u=_t(k=>ao(k,n)),d=_t(k=>Md(k,"xAxis",t,s)),f=_t(k=>Md(k,"yAxis",n,s)),h=eh();if(!o||!h||l==null||u==null||d==null||f==null)return null;var m=Zne({x:d,y:f}),p=hre(m,h,e.position,l.orientation,u.orientation,e);if(!p)return null;var[{x:v,y},{x,y:b}]=p,w=a==="hidden"?"url(#".concat(o,")"):void 0,N=BD(BD({clipPath:w},Wi(e)),{},{x1:v,y1:y,x2:x,y2:b}),j=Qne({x1:v,y1:y,x2:x,y2:b});return g.createElement(ds,{zIndex:e.zIndex},g.createElement(ea,{className:On("recharts-reference-line",i)},ure(r,N),g.createElement(O4,M0({},j,{lowerWidth:j.width,upperWidth:j.width}),g.createElement(_4,{label:e.label}),e.children)))}var xre={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:gi.line};function t1(e){var t=Yr(e,xre);return g.createElement(g.Fragment,null,g.createElement(pre,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(gre,t))}t1.displayName="ReferenceLine";function m$(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function vre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return ere(r,n)}function bre(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function $m(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function yre(e,t){return m$(e,t+1)}function wre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,l=0,u=1,d=s,f=function(){var p=r==null?void 0:r[l];if(p===void 0)return{v:m$(r,u)};var v=l,y,x=()=>(y===void 0&&(y=n(p,v)),y),b=p.coordinate,w=l===0||$m(e,b,x,d,o);w||(l=0,d=s,u+=1),w&&(d=b+e*(x()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function kre(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:l}=t,u=1;u<=s;u++){for(var d=(s-1)%u,f=o,h=!0,m=function(){var b=r[p],w=p,N,j=()=>(N===void 0&&(N=n(b,w)),N),k=b.coordinate,A=p===d||$m(e,k,j,f,l);if(!A)return h=!1,1;A&&(f=k+e*(j()/2+i))},p=d;p<s&&!m();p+=u);if(h){for(var v=[],y=d;y<s;y+=u)v.push(r[y]);return v}}return[]}function zD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zD(Object(n),!0).forEach(function(r){Sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sre(e,t,n){return(t=Nre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nre(e){var t=Cre(e,"string");return typeof t=="symbol"?t:t+""}function Cre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jre(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:l}=t,u=function(h){var m=a[h],p,v=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var y=e*(m.coordinate+e*v()/2-l);a[h]=m=Li(Li({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else a[h]=m=Li(Li({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var x=$m(e,m.tickCoord,v,o,l);x&&(l=m.tickCoord-e*(v()/2+i),a[h]=Li(Li({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function Are(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:l,end:u}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=Li(Li({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=$m(e,d.tickCoord,()=>f,l,u);m&&(u=d.tickCoord-e*(f/2+i),s[o-1]=Li(Li({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,v=function(b){var w=s[b],N,j=()=>(N===void 0&&(N=n(w,b)),N);if(b===0){var k=e*(w.coordinate-e*j()/2-l);s[b]=w=Li(Li({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else s[b]=w=Li(Li({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var A=$m(e,w.tickCoord,j,l,u);A&&(l=w.tickCoord+e*(j()/2+i),s[b]=Li(Li({},w),{},{isShow:!0}))}},y=0;y<p;y++)v(y);return s}function $N(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Vt(l)||Wx.isSsr){var h;return(h=yre(i,Vt(l)?l:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",v=d&&p==="width"?Gf(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=(w,N)=>{var j=typeof u=="function"?u(w.value,N):w.value;return p==="width"?vre(Gf(j,{fontSize:t,letterSpacing:n}),v,f):Gf(j,{fontSize:t,letterSpacing:n})[p]},x=i.length>=2?Bi(i[1].coordinate-i[0].coordinate):1,b=bre(a,x,p);return l==="equidistantPreserveStart"?wre(x,b,y,i,s):l==="equidistantPreserveEnd"?kre(x,b,y,i,s):(l==="preserveStart"||l==="preserveStartEnd"?m=Are(x,b,y,i,s,l==="preserveStartEnd"):m=jre(x,b,y,i,s),m.filter(w=>w.isShow))}var Pre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,l=i+a,u=s+l+o+(n?r:0);return Math.round(u)}return 0},Dre=["axisLine","width","height","className","hide","ticks","axisType"];function Tre(e,t){if(e==null)return{};var n,r,i=Mre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Mre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ou(){return ou=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ou.apply(null,arguments)}function UD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UD(Object(n),!0).forEach(function(r){Ere(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ere(e,t,n){return(t=Ore(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ore(e){var t=Ire(e,"string");return typeof t=="symbol"?t:t+""}function Ire(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lo={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gi.axis};function _re(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:l}=e;if(!o)return null;var u=Hr(Hr(Hr({},l),is(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Hr(Hr({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Hr(Hr({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return g.createElement("line",ou({},u,{className:On("recharts-cartesian-axis-line",nu(o,"className"))}))}function Lre(e,t,n,r,i,a,s,o,l){var u,d,f,h,m,p,v=o?-1:1,y=e.tickSize||s,x=Vt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=n+ +!o*i,f=h-v*y,p=f-v*l,m=x;break;case"left":f=h=e.coordinate,d=t+ +!o*r,u=d-v*y,m=u-v*l,p=x;break;case"right":f=h=e.coordinate,d=t+ +o*r,u=d+v*y,m=u+v*l,p=x;break;default:u=d=e.coordinate,h=n+ +o*i,f=h+v*y,p=f+v*l,m=x;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function $re(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function Fre(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function Rre(e){var{option:t,tickProps:n,value:r}=e,i,a=On(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,Hr(Hr({},n),{},{className:a}));else if(typeof t=="function")i=t(Hr(Hr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=On(s,t==null?void 0:t.className)),i=g.createElement(sv,ou({},n,{className:s}),r)}return i}var Bre=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:v,tickSize:y,tickMargin:x,fontSize:b,letterSpacing:w,getTicksConfig:N,events:j,axisType:k}=e,A=$N(Hr(Hr({},N),{},{ticks:n}),b,w),E=$re(d,f),F=Fre(d,f),T=is(N),L=Sd(r),_={};typeof i=="object"&&(_=i);var K=Hr(Hr({},T),{},{fill:"none"},_),ee=A.map(re=>Hr({entry:re},Lre(re,h,m,p,v,d,y,f,x))),le=ee.map(re=>{var{entry:H,line:se}=re;return g.createElement(ea,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(H.value,"-").concat(H.coordinate,"-").concat(H.tickCoord)},i&&g.createElement("line",ou({},K,se,{className:On("recharts-cartesian-axis-tick-line",nu(i,"className"))})))}),ke=ee.map((re,H)=>{var{entry:se,tick:I}=re,P=Hr(Hr(Hr(Hr({textAnchor:E,verticalAnchor:F},T),{},{stroke:"none",fill:a},L),I),{},{index:H,payload:se,visibleTicksCount:A.length,tickFormatter:s,padding:l},u);return g.createElement(ea,ou({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(se.value,"-").concat(se.coordinate,"-").concat(se.tickCoord)},Zk(j,se,H)),r&&g.createElement(Rre,{option:r,tickProps:P,value:"".concat(typeof s=="function"?s(se.value,H):se.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},ke.length>0&&g.createElement(ds,{zIndex:gi.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},ke)),le.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},le))}),zre=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:l}=e,u=Tre(e,Dre),[d,f]=g.useState(""),[h,m]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return Pre({ticks:p.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var v=g.useCallback(y=>{if(y){var x=y.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=x;var b=x[0];if(b){var w=window.getComputedStyle(b),N=w.fontSize,j=w.letterSpacing;(N!==d||j!==h)&&(f(N),m(j))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(ds,{zIndex:e.zIndex},g.createElement(ea,{className:On("recharts-cartesian-axis",a)},g.createElement(_re,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:is(e)}),g.createElement(Bre,{ref:v,axisType:l,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(O4,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(_4,{label:e.label,labelRef:e.labelRef}),e.children)))}),FN=g.forwardRef((e,t)=>{var n=Yr(e,Lo);return g.createElement(zre,ou({},n,{ref:t}))});FN.displayName="CartesianAxis";var Ure=["x1","y1","x2","y2","key"],Wre=["offset"],Vre=["xAxisId","yAxisId"],Hre=["xAxisId","yAxisId"];function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){qre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qre(e,t,n){return(t=Kre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kre(e){var t=Gre(e,"string");return typeof t=="symbol"?t:t+""}function Gre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rc(){return Rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rc.apply(null,arguments)}function E0(e,t){if(e==null)return{};var n,r,i=Yre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xre=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return g.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function h$(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:l,key:u}=n,d=E0(n,Ure),f=(i=is(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=E0(f,Wre);r=g.createElement("line",Rc({},m,{x1:a,y1:s,x2:o,y2:l,fill:"none",key:u}))}return r}function Qre(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=E0(e,Vre),l=i.map((u,d)=>{var f=Fi(Fi({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(h$,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function Zre(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=E0(e,Hre),l=i.map((u,d)=>{var f=Fi(Fi({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(h$,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function Jre(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:l=!0}=e;if(!l||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var v=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function eie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:l}=e;if(!t||!n||!n.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var v=h%n.length;return g.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var tie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return __($N(Fi(Fi(Fi({},Lo),n),{},{ticks:L_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},nie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return __($N(Fi(Fi(Fi({},Lo),n),{},{ticks:L_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},rie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gi.grid};function Yo(e){var t=xS(),n=vS(),r=G_(),i=Fi(Fi({},Yr(e,rie)),{},{x:Vt(e.x)?e.x:r.left,y:Vt(e.y)?e.y:r.top,width:Vt(e.width)?e.width:r.width,height:Vt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=ia(),v=_t(F=>UP(F,"xAxis",a,p)),y=_t(F=>UP(F,"yAxis",s,p));if(!no(u)||!no(d)||!Vt(o)||!Vt(l))return null;var x=i.verticalCoordinatesGenerator||tie,b=i.horizontalCoordinatesGenerator||nie,{horizontalPoints:w,verticalPoints:N}=i;if((!w||!w.length)&&typeof b=="function"){var j=h&&h.length,k=b({yAxis:y?Fi(Fi({},y),{},{ticks:j?h:y.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:f);r0(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!N||!N.length)&&typeof x=="function"){var A=m&&m.length,E=x({xAxis:v?Fi(Fi({},v),{},{ticks:A?m:v.ticks}):void 0,width:t??u,height:n??d,offset:r},A?!0:f);r0(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(N=E)}return g.createElement(ds,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(Xre,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(Jre,Rc({},i,{horizontalPoints:w})),g.createElement(eie,Rc({},i,{verticalPoints:N})),g.createElement(Qre,Rc({},i,{offset:r,horizontalPoints:w,xAxis:v,yAxis:y})),g.createElement(Zre,Rc({},i,{offset:r,verticalPoints:N,xAxis:v,yAxis:y}))))}Yo.displayName="CartesianGrid";var iie={},p$=va({name:"errorBars",initialState:iie,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:qxe,replaceErrorBar:Kxe,removeErrorBar:Gxe}=p$.actions,aie=p$.reducer,sie=["children"];function oie(e,t){if(e==null)return{};var n,r,i=lie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function lie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var cie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},uie=g.createContext(cie);function die(e){var{children:t}=e,n=oie(e,sie);return g.createElement(uie.Provider,{value:n},t)}function g$(e,t){var n,r,i=_t(u=>io(u,e)),a=_t(u=>ao(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:di.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:fi.allowDataOverflow,l=s||o;return{needClip:l,needClipX:s,needClipY:o}}function fie(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=LN(),{needClipX:a,needClipY:s,needClip:o}=g$(t,n);if(!o||!i)return null;var{x:l,y:u,width:d,height:f}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:a?l:l-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var x$=(e,t,n,r)=>qL(e,"xAxis",t,r),v$=(e,t,n,r)=>HL(e,"xAxis",t,r),b$=(e,t,n,r)=>qL(e,"yAxis",n,r),y$=(e,t,n,r)=>HL(e,"yAxis",n,r),mie=Me([qn,x$,b$,v$,y$],(e,t,n,r,i)=>ic(e,"xAxis")?n0(t,r,!1):n0(n,i,!1)),hie=(e,t,n,r,i)=>i;function pie(e){return e.type==="line"}var gie=Me([CL,hie],(e,t)=>e.filter(pie).find(n=>n.id===t)),xie=Me([qn,x$,b$,v$,y$,gie,mie,qS],(e,t,n,r,i,a,s,o)=>{var{chartData:l,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=l==null?void 0:l.slice(u,d+1),m!=null)return lae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function vie(e){var t=Sd(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var bie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ch=g;function yie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var wie=typeof Object.is=="function"?Object.is:yie,kie=Ch.useSyncExternalStore,Sie=Ch.useRef,Nie=Ch.useEffect,Cie=Ch.useMemo,jie=Ch.useDebugValue;bie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=Sie(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Cie(function(){function l(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,wie(d,m))return p;var v=r(m);return i!==void 0&&i(p,v)?(d=m,p):(d=m,f=v)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var o=kie(e,a[0],a[1]);return Nie(function(){s.hasValue=!0,s.value=o},[o]),jie(o),o};function Aie(e){e()}function Pie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Aie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var VD={notify(){},get:()=>[]};function Die(e,t){let n,r=VD,i=0,a=!1;function s(v){d();const y=r.subscribe(v);let x=!1;return()=>{x||(x=!0,y(),f())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function u(){return a}function d(){i++,n||(n=e.subscribe(l),r=Pie())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=VD)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var Tie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Mie=Tie(),Eie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Oie=Eie(),Iie=()=>Mie||Oie?g.useLayoutEffect:g.useEffect,_ie=Iie();function HD(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function Lie(e,t){if(HD(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!HD(e[n[i]],t[n[i]]))return!1;return!0}var Mb=Symbol.for("react-redux-context"),Eb=typeof globalThis<"u"?globalThis:{};function $ie(){if(!g.createContext)return{};const e=Eb[Mb]??(Eb[Mb]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Fie=$ie();function Rie(e){const{children:t,context:n,serverState:r,store:i}=e,a=g.useMemo(()=>{const l=Die(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),s=g.useMemo(()=>i.getState(),[i]);_ie(()=>{const{subscription:l}=a;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),s!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[a,s]);const o=n||Fie;return g.createElement(o.Provider,{value:a},t)}var Bie=Rie,zie=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function Uie(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function RN(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(zie.has(r)){if(e[r]==null&&t[r]==null)continue;if(!Lie(e[r],t[r]))return!1}else if(!Uie(e[r],t[r]))return!1;return!0}var Wie=["id"],Vie=["type","layout","connectNulls","needClip","shape"],Hie=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Fm(){return Fm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fm.apply(null,arguments)}function qD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ys(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(n),!0).forEach(function(r){qie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qie(e,t,n){return(t=Kie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kie(e){var t=Gie(e,"string");return typeof t=="symbol"?t:t+""}function Gie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BN(e,t){if(e==null)return{};var n,r,i=Yie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Xie=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Ix(n,t),payload:e}]},Qie=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:l,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Ix(s,t),hide:o,type:u,color:r,unit:l,graphicalItemId:d}};return g.createElement(i$,{tooltipEntrySettings:f})}),w$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Zie(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var Jie=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return w$(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],l=0,u=0;l<n.length;u+=n[l],++l)if(u+n[l]>a){o=[...n.slice(0,l),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...Zie(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function eae(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,l=BN(r,Wie),u=is(l);return g.createElement(jne,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function tae(e){var{showLabels:t,children:n,points:r}=e,i=g.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,l={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Ys(Ys({},l),{},{value:a.value,payload:a.payload,viewBox:l,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(Lee,{value:t?i:void 0},n)}function KD(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:l,needClip:u,shape:d}=a,f=BN(a,Vie),h=Ys(Ys({},Wi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:l,strokeDasharray:i??a.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(r$,Fm({shapeType:"curve",option:d},h,{pathRef:n})),g.createElement(eae,{points:r,clipPathId:t,props:a}))}function nae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function rae(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:v,onAnimationStart:y}=n,x=i.current,b=Hx(s,"recharts-line-"),w=g.useRef(b),[N,j]=g.useState(!1),k=!N,A=g.useCallback(()=>{typeof v=="function"&&v(),j(!1)},[v]),E=g.useCallback(()=>{typeof y=="function"&&y(),j(!0)},[y]),F=nae(r.current),T=g.useRef(0);w.current!==b&&(T.current=a.current,w.current=b);var L=T.current;return g.createElement(tae,{points:s,showLabels:k},n.children,g.createElement(Vx,{animationId:b,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:A,onAnimationStart:E,key:b},_=>{var K=Ri(L,F+L,_),ee=Math.min(K,F),le;if(l)if(o){var ke="".concat(o).split(/[,\s]+/gim).map(se=>parseFloat(se));le=Jie(ee,F,ke)}else le=w$(F,ee);else le=o==null?void 0:String(o);if(_>0&&F>0&&(i.current=s,a.current=Math.max(a.current,ee)),x){var re=x.length/s.length,H=_===1?s:s.map((se,I)=>{var P=Math.floor(I*re);if(x[P]){var Z=x[P];return Ys(Ys({},se),{},{x:Ri(Z.x,se.x,_),y:Ri(Z.y,se.y,_)})}return h?Ys(Ys({},se),{},{x:Ri(m*2,se.x,_),y:Ri(p/2,se.y,_)}):Ys(Ys({},se),{},{x:se.x,y:se.y})});return i.current=H,g.createElement(KD,{props:n,points:H,clipPathId:t,pathRef:r,strokeDasharray:le})}return g.createElement(KD,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:le})}),g.createElement(z4,{label:n.label}))}function iae(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),i=g.useRef(0),a=g.useRef(null);return g.createElement(rae,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var aae=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:dr(e.payload,t)}};class sae extends g.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:l,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=On("recharts-line",i),v=f,{r:y,strokeWidth:x}=vie(n),b=t$(n),w=y*2+x,N=h?"url(#clipPath-".concat(b?"":"dots-").concat(v,")"):void 0;return g.createElement(ds,{zIndex:m},g.createElement(ea,{className:p},h&&g.createElement("defs",null,g.createElement(fie,{clipPathId:v,xAxisId:a,yAxisId:s}),!b&&g.createElement("clipPath",{id:"clipPath-dots-".concat(v)},g.createElement("rect",{x:l-w/2,y:o-w/2,width:u+w,height:d+w}))),g.createElement(die,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:aae,errorBarOffset:0},g.createElement(iae,{props:this.props,clipPathId:v}))),g.createElement(qne,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var k$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:gi.line,type:"linear"};function oae(e){var t=Yr(e,k$),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:l,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:v}=t,y=BN(t,Hie),{needClip:x}=g$(m,p),b=LN(),w=th(),N=ia(),j=_t(T=>xie(T,m,p,N,v));if(w!=="horizontal"&&w!=="vertical"||j==null||b==null)return null;var{height:k,width:A,x:E,y:F}=b;return g.createElement(sae,Fm({},y,{id:v,connectNulls:o,dot:l,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:j,layout:w,height:k,width:A,left:E,top:F,needClip:x}))}function lae(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:l}=e;return l.map((u,d)=>{var f=dr(u,s);if(t==="horizontal"){var h=eA({axis:n,ticks:i,bandSize:o,entry:u,index:d}),m=ni(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:u}}var p=ni(f)?null:n.scale(f),v=eA({axis:r,ticks:a,bandSize:o,entry:u,index:d});return p==null||v==null?null:{x:p,y:v,value:f,payload:u}}).filter(Boolean)}function cae(e){var t=Yr(e,k$),n=ia();return g.createElement(a$,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(Mte,{legendPayload:Xie(t)}),g.createElement(Qie,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(Hte,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(oae,Fm({},t,{id:r}))))}var ua=g.memo(cae,RN);ua.displayName="Line";var uae=["domain","range"],dae=["domain","range"];function GD(e,t){if(e==null)return{};var n,r,i=fae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function YD(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function S$(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=GD(e,uae),{domain:a,range:s}=t,o=GD(t,dae);return!YD(n,a)||!YD(r,s)?!1:RN(i,o)}var mae=["dangerouslySetInnerHTML","ticks","scale"],hae=["id","scale"];function n1(){return n1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n1.apply(null,arguments)}function XD(e,t){if(e==null)return{};var n,r,i=pae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function pae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gae(e){var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Mne(e)):n.current!==e&&t(Ene({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(One(n.current)),n.current=null)},[t]),null}var xae=e=>{var{xAxisId:t,className:n}=e,r=_t(B_),i=ia(),a="xAxis",s=_t(x=>VL(x,a,t,i)),o=_t(x=>mQ(x,t)),l=_t(x=>bQ(x,t)),u=_t(x=>kL(x,t));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=XD(e,mae),{id:p,scale:v}=u,y=XD(u,hae);return g.createElement(FN,n1({},m,y,{x:l.x,y:l.y,width:o.width,height:o.height,className:On("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},vae={allowDataOverflow:di.allowDataOverflow,allowDecimals:di.allowDecimals,allowDuplicatedCategory:di.allowDuplicatedCategory,angle:di.angle,axisLine:Lo.axisLine,height:di.height,hide:!1,includeHidden:di.includeHidden,interval:di.interval,minTickGap:di.minTickGap,mirror:di.mirror,orientation:di.orientation,padding:di.padding,reversed:di.reversed,scale:di.scale,tick:di.tick,tickCount:di.tickCount,tickLine:Lo.tickLine,tickSize:Lo.tickSize,type:di.type,xAxisId:0},bae=e=>{var t=Yr(e,vae);return g.createElement(g.Fragment,null,g.createElement(gae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(xae,t))},Xo=g.memo(bae,S$);Xo.displayName="XAxis";var yae=["dangerouslySetInnerHTML","ticks","scale"],wae=["id","scale"];function r1(){return r1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r1.apply(null,arguments)}function QD(e,t){if(e==null)return{};var n,r,i=kae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Sae(e){var t=Jn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Ine(e)):n.current!==e&&t(_ne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Lne(n.current)),n.current=null)},[t]),null}var Nae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=g.useRef(null),s=g.useRef(null),o=_t(B_),l=ia(),u=Jn(),d="yAxis",f=_t(k=>kQ(k,t)),h=_t(k=>wQ(k,t)),m=_t(k=>VL(k,d,t,l)),p=_t(k=>SL(k,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||EN(i)||g.isValidElement(i)||p==null)){var k=a.current;if(k){var A=k.getCalculatedWidth();Math.round(f.width)!==Math.round(A)&&u($ne({id:t,width:A}))}}},[m,f,u,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:v,ticks:y,scale:x}=e,b=QD(e,yae),{id:w,scale:N}=p,j=QD(p,wae);return g.createElement(FN,r1({},b,j,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:On("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},Cae={allowDataOverflow:fi.allowDataOverflow,allowDecimals:fi.allowDecimals,allowDuplicatedCategory:fi.allowDuplicatedCategory,angle:fi.angle,axisLine:Lo.axisLine,hide:!1,includeHidden:fi.includeHidden,interval:fi.interval,minTickGap:fi.minTickGap,mirror:fi.mirror,orientation:fi.orientation,padding:fi.padding,reversed:fi.reversed,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,tickLine:Lo.tickLine,tickSize:Lo.tickSize,type:fi.type,width:fi.width,yAxisId:0},jae=e=>{var t=Yr(e,Cae);return g.createElement(g.Fragment,null,g.createElement(Sae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(Nae,t))},Qo=g.memo(jae,S$);Qo.displayName="YAxis";var Aae=(e,t)=>t,zN=Me([Aae,qn,bL,ai,l4,rl,FZ,bi],HZ),UN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},N$=os("mouseClick"),C$=Zm();C$.startListening({actionCreator:N$,effect:(e,t)=>{var n=e.payload,r=zN(t.getState(),UN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(LQ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var i1=os("mouseMove"),j$=Zm(),Op=null;j$.startListening({actionCreator:i1,effect:(e,t)=>{var n=e.payload;Op!==null&&cancelAnimationFrame(Op);var r=UN(n);Op=requestAnimationFrame(()=>{var i=t.getState(),a=kN(i,i.tooltip.settings.shared);if(a==="axis"){var s=zN(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(e4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(JL())}Op=null})}});function Pae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var ZD={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},A$=va({name:"rootProps",initialState:ZD,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:ZD.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Dae=A$.reducer,{updateOptions:Tae}=A$.actions,P$=va({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Mae}=P$.actions,Eae=P$.reducer,D$=os("keyDown"),T$=os("focus"),WN=Zm();WN.startListening({actionCreator:D$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=SN(i,Yd(n),dh(n),hh(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var l=rl(n);if(a==="Enter"){var u=C0(n,"axis","hover",String(i.index));t.dispatch(Yw({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=jQ(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(l==null||m>=l.length||m<0)){var p=C0(n,"axis","hover",String(m));t.dispatch(Yw({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});WN.startListening({actionCreator:T$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=C0(n,"axis","hover",String(a));t.dispatch(Yw({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var Ka=os("externalEvent"),M$=Zm(),Ob=new Map;M$.startListening({actionCreator:Ka,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Ob.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),l={activeCoordinate:kZ(o),activeDataKey:f4(o),activeIndex:Ed(o),activeLabel:d4(o),activeTooltipIndex:Ed(o),isTooltipActive:SZ(o)};n(l,r)}finally{Ob.delete(i)}});Ob.set(i,s)}}});var Oae=Me([Kd],e=>e.tooltipItemPayloads),Iae=Me([Oae,mh,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),E$=os("touchMove"),O$=Zm();O$.startListening({actionCreator:E$,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=kN(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=zN(r,UN({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(e4({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,l=n.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(F_),f=(o=u.getAttribute(R_))!==null&&o!==void 0?o:void 0,h=Gd(r).find(v=>v.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=Iae(r,d,f);t.dispatch(ZL({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var _ae=s_({brush:Kne,cartesianAxis:Fne,chartData:wJ,errorBars:aie,graphicalItems:Wte,layout:r7,legend:iq,options:gJ,polarAxis:Kee,polarOptions:Eae,referenceElements:ire,rootProps:Dae,tooltip:$Q,zIndex:aJ}),Lae=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return PH({reducer:_ae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([C$.middleware,j$.middleware,WN.middleware,M$.middleware,O$.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(w_({type:"raf"}))},devTools:{serialize:{replacer:Pae},name:"recharts-".concat(n)}})};function I$(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ia(),a=g.useRef(null);if(i)return n;a.current==null&&(a.current=Lae(t,r));var s=oS;return g.createElement(Bie,{context:s,store:a.current},n)}function $ae(e){var{layout:t,margin:n}=e,r=Jn(),i=ia();return g.useEffect(()=>{i||(r(e7(t)),r(JH(n)))},[r,i,t,n]),null}var _$=g.memo($ae,RN);function L$(e){var t=Jn();return g.useEffect(()=>{t(Tae(e))},[t,e]),null}function JD(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),i=Jn();return g.useLayoutEffect(()=>(r.current&&i(rJ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(iJ({zIndex:t,isPanorama:n}))}),[i,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function eT(e){var{children:t,isPanorama:n}=e,r=_t(KZ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return g.createElement(g.Fragment,null,i.map(s=>g.createElement(JD,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>g.createElement(JD,{key:s,zIndex:s,isPanorama:n})))}var Fae=["children"];function Rae(e,t){if(e==null)return{};var n,r,i=Bae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},O0.apply(null,arguments)}var zae={width:"100%",height:"100%",display:"block"},Uae=g.forwardRef((e,t)=>{var n=xS(),r=vS(),i=s3();if(!no(n)||!no(r))return null;var{children:a,otherAttributes:s,title:o,desc:l}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),g.createElement(Hk,O0({},s,{title:o,desc:l,role:d,tabIndex:u,width:n,height:r,style:zae,ref:t}),a)}),Wae=e=>{var{children:t}=e,n=_t(Fx);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return g.createElement(Hk,{width:r,height:i,x:s,y:a},t)},tT=g.forwardRef((e,t)=>{var{children:n}=e,r=Rae(e,Fae),i=ia();return i?g.createElement(Wae,null,g.createElement(eT,{isPanorama:!0},n)):g.createElement(Uae,O0({ref:t},r),g.createElement(eT,{isPanorama:!1},n))});function Vae(){var e=Jn(),[t,n]=g.useState(null),r=_t(v7);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;br(a)&&a!==r&&e(n7(a))}},[t,e,r]),n}function nT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Hae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nT(Object(n),!0).forEach(function(r){qae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qae(e,t,n){return(t=Kae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kae(e){var t=Gae(e,"string");return typeof t=="symbol"?t:t+""}function Gae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lu(){return lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lu.apply(null,arguments)}var Yae=()=>(TJ(),null);function I0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Xae=g.forwardRef((e,t)=>{var n,r,i=g.useRef(null),[a,s]=g.useState({containerWidth:I0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:I0((r=e.style)===null||r===void 0?void 0:r.height)}),o=g.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),l=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=p=>{var{width:v,height:y}=p[0].contentRect;o(v,y)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,o]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(Rx,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",lu({ref:l},e)))}),Qae=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=g.useState({containerWidth:I0(n),containerHeight:I0(r)}),s=g.useCallback((l,u)=>{a(d=>{var f=Math.round(l),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=g.useCallback(l=>{if(typeof t=="function"&&t(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();s(u,d)}},[t,s]);return g.createElement(g.Fragment,null,g.createElement(Rx,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",lu({ref:o},e)))}),Zae=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(Rx,{width:n,height:r}),g.createElement("div",lu({ref:t},e)))}),Jae=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return Wo(n)||Wo(r)?g.createElement(Qae,lu({},e,{ref:t})):g.createElement(Zae,lu({},e,{ref:t}))});function ese(e){return e===!0?Xae:Jae}var tse=g.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:v,style:y,width:x,responsive:b,dispatchTouchEvents:w=!0}=e,N=g.useRef(null),j=Jn(),[k,A]=g.useState(null),[E,F]=g.useState(null),T=Vae(),L=gS(),_=(L==null?void 0:L.width)>0?L.width:x,K=(L==null?void 0:L.height)>0?L.height:i,ee=g.useCallback(z=>{T(z),typeof t=="function"&&t(z),A(z),F(z),z!=null&&(N.current=z)},[T,t,A,F]),le=g.useCallback(z=>{j(N$(z)),j(Ka({handler:a,reactEvent:z}))},[j,a]),ke=g.useCallback(z=>{j(i1(z)),j(Ka({handler:u,reactEvent:z}))},[j,u]),re=g.useCallback(z=>{j(JL()),j(Ka({handler:d,reactEvent:z}))},[j,d]),H=g.useCallback(z=>{j(i1(z)),j(Ka({handler:f,reactEvent:z}))},[j,f]),se=g.useCallback(()=>{j(T$())},[j]),I=g.useCallback(z=>{j(D$(z.key))},[j]),P=g.useCallback(z=>{j(Ka({handler:s,reactEvent:z}))},[j,s]),Z=g.useCallback(z=>{j(Ka({handler:o,reactEvent:z}))},[j,o]),S=g.useCallback(z=>{j(Ka({handler:l,reactEvent:z}))},[j,l]),W=g.useCallback(z=>{j(Ka({handler:h,reactEvent:z}))},[j,h]),R=g.useCallback(z=>{j(Ka({handler:v,reactEvent:z}))},[j,v]),q=g.useCallback(z=>{w&&j(E$(z)),j(Ka({handler:p,reactEvent:z}))},[j,w,p]),ne=g.useCallback(z=>{j(Ka({handler:m,reactEvent:z}))},[j,m]),Y=ese(b);return g.createElement(b4.Provider,{value:k},g.createElement(aI.Provider,{value:E},g.createElement(Y,{width:_??(y==null?void 0:y.width),height:K??(y==null?void 0:y.height),className:On("recharts-wrapper",r),style:Hae({position:"relative",cursor:"default",width:_,height:K},y),onClick:le,onContextMenu:P,onDoubleClick:Z,onFocus:se,onKeyDown:I,onMouseDown:S,onMouseEnter:ke,onMouseLeave:re,onMouseMove:H,onMouseUp:W,onTouchEnd:ne,onTouchMove:q,onTouchStart:R,ref:ee},g.createElement(Yae,null),n)))}),nse=["width","height","responsive","children","className","style","compact","title","desc"];function rse(e,t){if(e==null)return{};var n,r,i=ise(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ise(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $$=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:l,title:u,desc:d}=e,f=rse(e,nse),h=is(f);return l?g.createElement(g.Fragment,null,g.createElement(Rx,{width:n,height:r}),g.createElement(tT,{otherAttributes:h,title:u,desc:d},a)):g.createElement(tse,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(tT,{otherAttributes:h,title:u,desc:d,ref:t},g.createElement(are,null,a)))});function a1(){return a1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a1.apply(null,arguments)}var ase={top:5,right:5,bottom:5,left:5},sse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:ase,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ose=g.forwardRef(function(t,n){var r,i=Yr(t.categoricalChartProps,sse),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return g.createElement(I$,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},g.createElement(l$,{chartData:u.data}),g.createElement(_$,{layout:i.layout,margin:i.margin}),g.createElement(L$,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement($$,a1({},i,{ref:n})))}),lse=["axis"],Zl=g.forwardRef((e,t)=>g.createElement(ose,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lse,tooltipPayloadSearcher:w4,categoricalChartProps:e,ref:t}));function cse(e){var t=Jn();return g.useEffect(()=>{t(Mae(e))},[t,e]),null}var use=["layout"];function s1(){return s1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s1.apply(null,arguments)}function dse(e,t){if(e==null)return{};var n,r,i=fse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var mse={top:5,right:5,bottom:5,left:5},F$={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},hse=g.forwardRef(function(t,n){var r,i=Yr(t.categoricalChartProps,F$),{layout:a}=i,s=dse(i,use),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(I$,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},g.createElement(l$,{chartData:i.data}),g.createElement(_$,{layout:a,margin:i.margin}),g.createElement(L$,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(cse,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement($$,s1({},s,{ref:n})))});function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){pse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pse(e,t,n){return(t=gse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gse(e){var t=xse(e,"string");return typeof t=="symbol"?t:t+""}function xse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vse=["item"],bse=iT(iT({},F$),{},{layout:"centric",startAngle:0,endAngle:360}),o1=g.forwardRef((e,t)=>{var n=Yr(e,bse);return g.createElement(hse,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:vse,tooltipPayloadSearcher:w4,categoricalChartProps:n,ref:t})});const Dn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>c.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>c.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),aT="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",Yf=new Map,md=new Map,yse=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(Yf.has(r)||md.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&Yf.set(r,s),s})();md.set(r,i);try{await i}finally{md.delete(r)}}))},wse=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:Yf.get(e)||aT:null});return g.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=Yf.get(e);if(r){n(r);return}let i=!0;const a=md.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),l=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return l&&Yf.set(e,l),l})();return md.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(aT)}}).finally(()=>{md.delete(e)}),()=>{i=!1}},[e]),t},kse=(e,t,n,r)=>{const[i,a]=g.useState("bottom"),[s,o]=g.useState(0);return g.useEffect(()=>{if(!e)return;const l=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(E=>{let F=(E==null?void 0:E.parentElement)||null;for(;F;){const T=window.getComputedStyle(F),L=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test(L))return F;F=F.parentElement}return null})(u),v=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},y=v.bottom-f.bottom,x=f.top-v.top,b=y<h.height+8&&x>y?"top":"bottom";a(b);const w=6,N=f.left+f.width/2,j=v.left+w+h.width/2,k=v.right-w-h.width/2,A=Math.min(Math.max(N,j),k);o(A-N)});return()=>cancelAnimationFrame(l)},[e,...t]),{placement:i,shiftX:s}},Sse=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},R$=(e,t,n,r,i=8)=>{const[a,s]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const o=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,v=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),y=f.left+f.width/2,x=i+h.width/2,b=window.innerWidth-i-h.width/2,w=Math.min(Math.max(y,x),b);s({position:"fixed",top:v,left:w,transform:"translateX(-50%)"})},l=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(l),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},Nse=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=_c(i||"Unknown"),s=r.length>1,[o,l]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=kse(o,[r.length,f],u,d),p=Array.from(new Set(r.map(b=>Io(b||"Unknown")))).slice(0,4),v=p.length>1?`conic-gradient(${p.map((b,w)=>`${b} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const y=h==="top"?"bottom-full mb-2":"top-full mt-2",x={transform:`translateX(calc(-50% + ${m}px))`};return c.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),children:[c.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&c.jsxs(c.Fragment,{children:[c.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:v},children:c.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),c.jsxs("div",{ref:d,style:x,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${y} ${o?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),c.jsx("div",{className:"space-y-1",children:r.map(b=>{const w=_c(b||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[w?c.jsx("img",{src:w,alt:b||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:b||"Unknown"})]},b)})})]})]})]})},Cse=(e,t,n="w-4 h-4 object-contain")=>c.jsx(Nse,{profession:e,professionList:t,className:n}),_u=({count:e,classCounts:t,label:n,className:r})=>{const i=Sse(t||{}),a=e>0,[s,o]=g.useState(!1),l=g.useRef(null),u=g.useRef(null),d=R$(s,[i.length,e],l,u);return c.jsxs("span",{ref:l,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[c.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&Bd.createPortal(c.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[c.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?c.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>c.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const v=_c(m||"Unknown");return c.jsxs("div",{className:"flex items-center gap-1",children:[v?c.jsx("img",{src:v,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,c.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),c.jsx("span",{className:"text-gray-400",children:""}),c.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):c.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},Cr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=wse(t);return c.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?c.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,c.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},sT=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=g.useState(!1),o=g.useRef(null),l=g.useRef(null),u=g.useRef(null),d=R$(a,[n.length],o,l),f=()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},h=()=>{f(),u.current=window.setTimeout(()=>{s(!1),u.current=null},140)},m=p=>{const v=p.currentTarget;if(v.scrollHeight<=v.clientHeight)return;const y=p.deltaY;y!==0&&(p.preventDefault(),p.stopPropagation(),v.scrollTop+=y)};return g.useEffect(()=>()=>f(),[]),c.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>{f(),s(!0)},onMouseLeave:()=>{h()},children:[c.jsx("span",{children:e}),i&&typeof document<"u"&&Bd.createPortal(c.jsxs("div",{ref:l,style:d,onMouseEnter:f,onMouseLeave:h,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-100 shadow-lg pointer-events-auto ${a?"block":"hidden"}`,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),c.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 pr-2",style:{scrollbarGutter:"stable",overscrollBehavior:"contain"},onWheel:m,children:n.map(p=>c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsx("span",{className:"truncate text-white",children:c.jsx(Cr,{name:p.name,iconUrl:p.iconUrl,iconClassName:"h-6 w-6"})}),c.jsx("span",{className:"text-gray-100 font-mono",children:p.value})]},p.name))})]}),document.body)]})},jse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:l,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:v,setSkillUsagePlayerFilter:y,skillUsageView:x,setSkillUsageView:b,skillUsageData:w,skillUsageSkillFilter:N,setSkillUsageSkillFilter:j,selectedSkillId:k,setSelectedSkillId:A,skillBarData:E,selectedSkillName:F,selectedSkillIcon:T,skillUsageReady:L,skillUsageAvailable:_,isSkillUsagePerSecond:K,skillChartData:ee,skillChartMaxY:le,playerTotalsForSkill:ke,hoveredSkillPlayer:re,setHoveredSkillPlayer:H,getLineStrokeColor:se,getLineDashForPlayer:I,formatSkillUsageValue:P,renderProfessionIcon:Z})=>c.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ok,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Dn,{value:x,onChange:b,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]})]}),o.length>0&&c.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[c.jsx("button",{type:"button",onClick:()=>l([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(S=>{const W=d.get(S);return W?c.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[c.jsx("span",{className:"truncate max-w-[140px]",children:W.displayName}),c.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[W.logs," ",W.logs===1?"log":"logs"]}),c.jsx("button",{type:"button",onClick:()=>u(W.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:c.jsx(RO,{className:"w-3 h-3"})})]},W.key):null})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),c.jsx("input",{type:"search",value:v,onChange:S=>y(S.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(S=>{const W=h===S.profession,R=S.players.map(ne=>ne.key),q=R.length>0&&R.every(ne=>o.includes(ne));return c.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[c.jsx("button",{type:"button",onClick:()=>{if(W){m(null);return}m(S.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${W?"bg-white/10":"hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[Z(S.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:S.profession})]}),c.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[c.jsxs("span",{className:"text-[10px]",children:[S.players.length,"p"]}),W?c.jsx(iw,{className:"w-3.5 h-3.5"}):c.jsx(h8,{className:"w-3.5 h-3.5"})]})]})}),W&&c.jsxs("div",{className:"pb-2",children:[c.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[c.jsxs("span",{children:[S.players.length," ",S.players.length===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>{l(ne=>{if(q)return ne.filter(z=>!R.includes(z));const Y=new Set(ne);return R.forEach(z=>Y.add(z)),Array.from(Y)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:q?"Clear All":"Select All"})]}),S.players.map(ne=>{const Y=o.includes(ne.key);return c.jsx("button",{type:"button",onClick:()=>p(ne.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${Y?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:ne.displayName}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[ne.account,"  ",ne.profession,"  ",ne.logs," ",ne.logs===1?"log":"logs"]})]}),Y&&c.jsx(LO,{className:"w-4 h-4 text-cyan-300"})]})},ne.key)})]})]},S.profession)})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),c.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${K?"casts/sec":"total casts"}`:"Select players"})]}),c.jsx("input",{type:"search",value:N,onChange:S=>j(S.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):E.length===0?c.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const S=E.reduce((W,R)=>Math.max(W,R.total),0)||1;return c.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:E.map((W,R)=>{const q=Math.min(100,W.total/S*100),ne=k===W.skillId;return c.jsxs("button",{type:"button",onClick:()=>A(W.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${ne?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[c.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${R+1}`}),c.jsx(Cr,{name:W.name,iconUrl:W.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),c.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:P(W.total)})]}),c.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:c.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${q}%`,backgroundColor:W.color}})})]},W.skillId)})})})()})]})]}),c.jsx("div",{className:"space-y-3",children:L?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:F?c.jsx(Cr,{name:F,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",K?"casts per second":"casts per log",")"]})]}),c.jsx(Es,{width:"100%",height:250,children:c.jsxs(Zl,{data:ee,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:S=>{const W=ee[S],R=String((W==null?void 0:W.shortLabel)??S);return R.length>20?`${R.slice(0,20)}`:R}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,le)],allowDecimals:!1}),c.jsx(Os,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:S,payload:W,label:R})=>{var z;if(!S||!W||W.length===0)return null;const q=[...W].sort((U,V)=>(V.value||0)-(U.value||0)),ne=q[0],Y=((z=ne==null?void 0:ne.payload)==null?void 0:z.fullLabel)||R;return c.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[c.jsx("div",{className:"text-sm text-white mb-1",children:Y}),c.jsx("div",{className:"space-y-1",children:q.map(U=>{const V=String(U.name||""),G=d.get(V),B=(G==null?void 0:G.displayName)||V||"Player",de=P(Number(U.value||0)),X=U.color||"#38bdf8";return c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"truncate",style:{color:X},children:B}),c.jsx("span",{className:"text-gray-200 font-mono",children:de})]},`${B}-${de}`)})})]})}}),o.map(S=>{const W=re.includes(S),R=re.length>0,q=se(S,W,R),ne=I(S),Y=re.length>0&&!W;return c.jsx(ua,{dataKey:S,stroke:q,strokeWidth:W?4:3,strokeDasharray:ne,opacity:Y?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},S)})]})})]}),o.length>0&&c.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),c.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((S,W)=>(ke.get(W)||0)-(ke.get(S)||0)).map(S=>{const W=d.get(S),R=ke.get(S)??0,q=re.includes(S),ne=re.length>0,Y=se(S,q,ne);return c.jsxs("button",{type:"button",onClick:()=>{H(z=>z.includes(S)?z.filter(U=>U!==S):[...z,S])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${q?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":q,children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:c.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:Y,strokeWidth:"2",strokeDasharray:I(S),strokeLinecap:"round"})}),Z(W==null?void 0:W.profession,W==null?void 0:W.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),c.jsx("div",{className:"font-semibold text-white truncate",children:(W==null?void 0:W.displayName)||S}),c.jsxs("div",{className:"text-[11px] text-gray-400",children:[(W==null?void 0:W.logs)??0," ",((W==null?void 0:W.logs)??0)===1?"log":"logs"]})]})]}),c.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:P(R)})]},S)})})]})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:_?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),Ase=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,i]=g.useState(0),[a,s]=g.useState(0),o=g.useRef(!1),l=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:N,scrollLeft:j}=h,k=w>N,A=n.current,E=(A==null?void 0:A.clientWidth)||0;if(!E){m=window.requestAnimationFrame(p);return}if(!k){i(E),s(0);return}const F=N/w,T=Math.max(20,Math.floor(E*F)),L=w-N,_=Math.max(0,E-T),K=L>0?Math.floor(j/L*_):0;i(T),s(K)};p();const v=()=>p(),y=new ResizeObserver(p);y.observe(h);const x=h.firstElementChild;x instanceof HTMLElement&&y.observe(x),n.current&&y.observe(n.current);const b=new MutationObserver(()=>p());return b.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",v),()=>{m&&window.cancelAnimationFrame(m),y.disconnect(),b.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",v)}},[e]),g.useEffect(()=>{const h=p=>{if(!o.current)return;const v=n.current,y=e.current;if(!v||!y)return;const x=v.getBoundingClientRect(),b=p.clientX-l.current,w=Math.max(0,x.width-r),N=Math.min(w,Math.max(0,u.current+b)),j=y.scrollWidth-y.clientWidth,k=w>0?N/w*j:0;y.scrollLeft=k},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const v=m.getBoundingClientRect(),y=h.clientX-v.left,x=Math.max(0,v.width-r),b=Math.min(x,Math.max(0,y-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=x>0?b/x*w:0},f=h=>{r<=0||(o.current=!0,l.current=h.clientX,u.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return c.jsx("div",{className:`scroll-scrubber ${t}`,children:c.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:c.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},cs=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:l=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return c.jsxs("div",{className:`dense-table ${l}`,children:[(e||t)&&c.jsxs("div",{className:"dense-table__header",children:[e&&c.jsx("div",{className:"dense-table__title",children:e}),t&&c.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&c.jsx("div",{className:"dense-table__controls",children:n}),c.jsx("div",{ref:u,className:"dense-table__scroll",children:c.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[c.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:c.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return c.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?c.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[c.jsx("span",{className:"truncate",children:f.label}),p&&c.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):c.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>c.jsxs("div",{className:"dense-table__row",children:[c.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>c.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),c.jsx(Ase,{containerRef:u})]})},Is=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=g.useState(""),[o,l]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),h=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const x=b=>{f.current&&(f.current.contains(b.target)||l(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=g.useMemo(()=>{const x=a.trim().toLowerCase();return x?e.filter(b=>b.label.toLowerCase().includes(x)).slice(0,50):e.slice(0,50)},[e,a]),v=g.useMemo(()=>{const x=new Map;return p.forEach((b,w)=>{x.set(`${b.type}-${b.id}`,w)}),x},[p]),y=g.useMemo(()=>{const x=p.filter(w=>w.type==="column"),b=p.filter(w=>w.type==="player");return{columns:x,players:b}},[p]);return g.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(x=>Math.min(Math.max(x,0),p.length-1))}},[p,o]),g.useEffect(()=>{if(!o)return;const x=p[u];if(!x)return;const b=`${x.type}-${x.id}`,w=m.current.get(b);w&&h.current&&w.scrollIntoView({block:"nearest"})},[u,p,o]),c.jsxs("div",{ref:f,className:`relative ${i}`,children:[c.jsx("input",{value:a,onChange:x=>{s(x.target.value),l(!0)},onKeyDown:x=>{if(!o&&(x.key==="ArrowDown"||x.key==="ArrowUp")){l(!0);return}if(o)if(x.key==="ArrowDown"){if(x.preventDefault(),p.length===0)return;d(b=>(b+1)%p.length)}else if(x.key==="ArrowUp"){if(x.preventDefault(),p.length===0)return;d(b=>(b-1+p.length)%p.length)}else if(x.key==="Enter"){x.preventDefault();const b=p[u];if(!b)return;r(b),s(""),l(!1)}else x.key==="Escape"&&(x.preventDefault(),l(!1))},onFocus:()=>l(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&c.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):c.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[y.columns.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),y.columns.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,c.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]}),y.players.length>0&&c.jsxs("div",{children:[c.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),y.players.map(x=>{const b=(t==null?void 0:t.has(`${x.type}:${x.id}`))??!1;return c.jsx("button",{type:"button",ref:w=>{m.current.set(`${x.type}-${x.id}`,w)},onClick:()=>{r(x),s(""),l(!1)},onMouseEnter:()=>{const w=v.get(`${x.type}-${x.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===v.get(`${x.type}-${x.id}`)?"bg-white/10 border-white/10":""} ${b?"bg-white/15 border-white/20":""}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[x.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:x.icon}):null,c.jsx("span",{className:"truncate",children:x.label})]})},`${x.type}-${x.id}`)})]})]})})]})},jr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,l]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=h=>{u.current&&(u.current.contains(h.target)||l(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),c.jsxs("div",{ref:u,className:`relative ${i}`,children:[c.jsxs("button",{type:"button",onClick:()=>l(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?c.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,c.jsx("span",{children:a}),t.length>0&&c.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&c.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[c.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[c.jsx("span",{children:"Filter Columns"}),c.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),c.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?c.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>c.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?c.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,c.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},Pse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:l,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:v,setActiveApmSkillId:y,ALL_SKILLS_KEY:x,apmSkillSearch:b,setApmSkillSearch:w,activeApmSpecTable:N,activeApmSkill:j,isAllApmSkills:k,apmView:A,setApmView:E,formatApmValue:F,formatCastRateValue:T,formatCastCountValue:L,renderProfessionIcon:_})=>{var ne;const[K,ee]=g.useState({key:"apm",dir:"desc"}),le=e==="apm-stats",[ke,re]=g.useState({columnId:"",dir:"desc"}),[H,se]=g.useState([]),[I,P]=g.useState([]),[Z,S]=g.useState({}),W=le?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,R=Y=>{ee(z=>({key:Y,dir:z.key===Y&&z.dir==="desc"?"asc":"desc"}))},q=g.useMemo(()=>{const Y=[...(N==null?void 0:N.playerRows)||[]];return Y.sort((z,U)=>{const V=K.key==="apm"?Number(A==="perSecond"?z.aps:z.apm):Number(A==="perSecond"?z.apsNoAuto:z.apmNoAuto),G=K.key==="apm"?Number(A==="perSecond"?U.aps:U.apm):Number(A==="perSecond"?U.apsNoAuto:U.apmNoAuto);return(K.dir==="desc"?G-V:V-G)||String(z.displayName||"").localeCompare(String(U.displayName||""))}),Y},[N,K,A]);return c.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx($k,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),c.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:l?c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:b,onChange:Y=>w(Y.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),c.jsx("div",{className:W,children:d.map(Y=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const z=f!==Y.profession;h(Y.profession),p(z?Y.profession:m===Y.profession?null:Y.profession),z&&(y(x),se([]),P([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===Y.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_(Y.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Y.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[Y.players.length,"p"]})})]})}),!le&&m===Y.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:Z[Y.profession]||"",onChange:z=>{const U=z.target.value;S(V=>({...V,[Y.profession]:U}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),c.jsx("button",{type:"button",onClick:()=>{h(Y.profession),y(x)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Y.profession&&k?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(Y.skills||[]).filter(z=>{const U=(Z[Y.profession]||"").trim().toLowerCase();return U?String(z.name||"").toLowerCase().includes(U):!0}).map(z=>c.jsx("button",{type:"button",onClick:()=>{h(Y.profession),y(z.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===Y.profession&&v===z.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:z.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[z.icon?c.jsx("img",{src:z.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate",children:z.name})]})},z.id)),(Y.skills||[]).filter(z=>{const U=(Z[Y.profession]||"").trim().toLowerCase();return U?String(z.name||"").toLowerCase().includes(U):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},Y.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:N?c.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[le&&(()=>{const Y=N.skills||[],z=(N.playerRows||[]).map(B=>({id:B.key,label:B.displayName||B.account||B.key,icon:_(B.profession,B.professionList,"w-3 h-3")})),U=Y.map(B=>({id:B.id,label:B.name,icon:B.icon?c.jsx("img",{src:B.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),V=[...Y.map(B=>({id:B.id,label:B.name,type:"column",icon:B.icon?c.jsx("img",{src:B.icon,alt:"",className:"h-4 w-4"}):void 0})),...(N.playerRows||[]).map(B=>({id:B.key,label:B.displayName||B.account||B.key,type:"player",icon:_(B.profession,B.professionList,"w-3 h-3")}))],G=new Set([...H.map(B=>`column:${B}`),...I.map(B=>`player:${B}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:V,selectedIds:G,onSelect:B=>{B.type==="column"?se(de=>de.includes(B.id)?de.filter(X=>X!==B.id):[...de,B.id]):P(de=>de.includes(B.id)?de.filter(X=>X!==B.id):[...de,B.id])},className:"w-full sm:w-64"}),c.jsx(jr,{options:U,selectedIds:H,onToggle:B=>{se(de=>de.includes(B)?de.filter(X=>X!==B):[...de,B])},onClear:()=>se([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:z,selectedIds:I,onToggle:B=>{P(de=>de.includes(B)?de.filter(X=>X!==B):[...de,B])},onClear:()=>P([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:A,onChange:E,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(H.length>0||I.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{se([]),P([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),H.map(B=>{var X;const de=((X=Y.find(ie=>ie.id===B))==null?void 0:X.name)||B;return c.jsxs("button",{type:"button",onClick:()=>se(ie=>ie.filter(Ve=>Ve!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:de}),c.jsx("span",{className:"text-gray-400",children:""})]},B)}),I.map(B=>{var X;const de=((X=z.find(ie=>ie.id===B))==null?void 0:X.label)||B;return c.jsxs("button",{type:"button",onClick:()=>P(ie=>ie.filter(Ve=>Ve!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:de}),c.jsx("span",{className:"text-gray-400",children:""})]},B)})]})]})})(),le?(()=>{var B,de;const Y=N.skills||[],z=H.length>0?Y.filter(X=>H.includes(X.id)):Y,U=I.length>0?(N.playerRows||[]).filter(X=>I.includes(X.key)):N.playerRows||[];if(Y.length===0)return c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const V=((B=z.find(X=>X.id===ke.columnId))==null?void 0:B.id)||((de=z[0])==null?void 0:de.id)||"",G=[...U].map(X=>{const ie={},Ve={};return z.forEach(Ge=>{var me;const kt=Number(((me=Ge.playerCounts)==null?void 0:me.get(X.key))||0),Ae=A==="perSecond"?kt/Math.max(1,X.totalActiveSeconds||0):kt;Ve[Ge.id]=Ae,ie[Ge.id]=A==="perSecond"?T(Ae):L(Ae)}),{row:X,values:ie,numericValues:Ve}}).sort((X,ie)=>{const Ve=X.numericValues[V]??0,Ge=ie.numericValues[V]??0;return(ke.dir==="desc"?Ge-Ve:Ve-Ge)||String(X.row.displayName||"").localeCompare(String(ie.row.displayName||""))});return c.jsx(cs,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:V,sortDirection:ke.dir,onSortColumn:X=>{re(ie=>({columnId:X,dir:ie.columnId===X&&ie.dir==="desc"?"asc":"desc"}))},columns:z.map(X=>({id:X.id,label:c.jsx(Cr,{name:X.name,iconUrl:X.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:G.map((X,ie)=>({id:`${N.profession}-${X.row.key}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ie+1}),_(X.row.profession,X.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:X.row.displayName})]}),values:X.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[_(N.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:N.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),k||!j?c.jsx("span",{className:"truncate",children:"All Skills"}):c.jsx(Cr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})]})}),c.jsx("div",{className:"text-[11px] text-gray-500",children:k||!j?`${((ne=N.playerRows)==null?void 0:ne.length)||0} players`:`${(j==null?void 0:j.totalCasts)??0} casts`})]}),k||!j?c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>R("apm"),className:`text-right transition-colors ${K.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM",K.key==="apm"?K.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>R("apmNoAuto"),className:`text-right transition-colors ${K.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[A==="perSecond"?"APS":"APM"," (No Auto)",K.key==="apmNoAuto"?K.dir==="desc"?" ":" ":""]})]}):c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsx("div",{className:"text-right",children:"Casts"}),c.jsx("div",{className:"text-right",children:A==="perSecond"?"APS":"APM"})]})]}),k||!j?c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:q.map((Y,z)=>c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${z+1}`}),_(Y.profession,Y.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Y.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:F(A==="perSecond"?Y.aps:Y.apm)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:F(A==="perSecond"?Y.apsNoAuto:Y.apmNoAuto)})]},`${N.profession}-all-${Y.key}`))})}):c.jsx(c.Fragment,{children:c.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((j==null?void 0:j.playerRows)||[]).length===0?c.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((j==null?void 0:j.playerRows)||[]).map((Y,z)=>c.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${z+1}`}),_(Y.profession,Y.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:Y.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:L(Number(Y.count||0))}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:F(Number(A==="perSecond"?Y.aps||0:Y.apm||0))})]},`${N.profession}-${j.id}-${Y.key}`))})})]})]}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},Dse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:l,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:v,activePlayerSkillId:y,setActivePlayerSkillId:x,activeClassKey:b,setActiveClassKey:w,expandedClassKey:N,setExpandedClassKey:j,activeClassSkillId:k,setActiveClassSkillId:A,skillSearch:E,setSkillSearch:F,activePlayerBreakdown:T,activePlayerSkill:L,activeClassBreakdown:_,activeClassSkill:K,renderProfessionIcon:ee})=>{const le=d.length,ke=((T==null?void 0:T.skills)||[]).reduce((X,ie)=>X+(ie.damage||0),0),re=(_==null?void 0:_.players)||[],[H,se]=g.useState({key:"down",dir:"desc"}),I=e==="player-breakdown",[P,Z]=g.useState([]),[S,W]=g.useState([]),[R,q]=g.useState({columnId:"",dir:"desc"}),[ne,Y]=g.useState({}),[z,U]=g.useState({}),V=(X,ie)=>{var Ge;if(!ie)return null;const Ve=(Ge=X.skillMap)==null?void 0:Ge[ie];return Ve||X.skills.find(kt=>kt.id===ie)||null},G=I?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,B=g.useMemo(()=>{if(!_||!K)return re;const X=[...re];return X.sort((ie,Ve)=>{const Ge=V(ie,K.id),kt=V(Ve,K.id),Ae=Number((Ge==null?void 0:Ge.downContribution)||0),me=Number((kt==null?void 0:kt.downContribution)||0),be=Number((Ge==null?void 0:Ge.damage)||0),Xe=Number((kt==null?void 0:kt.damage)||0),pe=ie.totalFightMs>0?be/(ie.totalFightMs/1e3):0,tn=Ve.totalFightMs>0?Xe/(Ve.totalFightMs/1e3):0;let Se=0;return H.key==="down"&&(Se=Ae-me),H.key==="damage"&&(Se=be-Xe),H.key==="dps"&&(Se=pe-tn),H.dir==="asc"?Se:-Se}),X},[_,re,K,H]),de=X=>{se(ie=>ie.key!==X?{key:X,dir:"desc"}:{key:X,dir:ie.dir==="desc"?"asc":"desc"})};return c.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ik,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),c.jsxs("div",{className:"flex items-center gap-3 relative",children:[c.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[le," ",le===1?"player":"players"]}),c.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]})]}),c.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[c.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:I?"Squad Classes":l==="player"?"Squad Players":"Squad Classes"}),!I&&c.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(X=>{const ie=l===X.id;return c.jsx("button",{type:"button",onClick:()=>u(X.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${ie?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:X.label},X.id)})})]}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"text",value:E,onChange:X=>F(X.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:G,children:(I?"class":l)==="player"?d.map(X=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const ie=h!==X.key;ie&&(x(null),Z([]),W([])),m(X.key),v(ie?X.key:p===X.key?null:X.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===X.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:X.displayName,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(X.profession,X.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate min-w-0",children:X.displayName})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:c.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[X.skills.length," skills"]})})]})}),!I&&p===X.key&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:ne[X.key]||"",onChange:ie=>{const Ve=ie.target.value;Y(Ge=>({...Ge,[X.key]:Ve}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),X.skills.filter(ie=>{const Ve=(ne[X.key]||"").trim().toLowerCase();return Ve?String(ie.name||"").toLowerCase().includes(Ve):!0}).map(ie=>c.jsx("button",{type:"button",onClick:()=>{m(X.key),x(ie.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===X.key&&y===ie.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ie.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ie.icon?c.jsx("img",{src:ie.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:ie.name})]})},ie.id)),X.skills.filter(ie=>{const Ve=(ne[X.key]||"").trim().toLowerCase();return Ve?String(ie.name||"").toLowerCase().includes(Ve):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},X.key)):f.map(X=>c.jsxs("div",{className:"space-y-1",children:[c.jsx("button",{onClick:()=>{const ie=b!==X.profession;ie&&(A(null),Z([]),W([])),w(X.profession),j(ie?X.profession:N===X.profession?null:X.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${b===X.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(X.profession,void 0,"w-4 h-4"),c.jsx("span",{className:"truncate",children:X.profession})]}),c.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:c.jsxs("span",{className:"text-[10px]",children:[X.players.length,"p"]})})]})}),!I&&N===X.profession&&c.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[c.jsx("input",{type:"text",value:z[X.profession]||"",onChange:ie=>{const Ve=ie.target.value;U(Ge=>({...Ge,[X.profession]:Ve}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),X.skills.filter(ie=>{const Ve=(z[X.profession]||"").trim().toLowerCase();return Ve?String(ie.name||"").toLowerCase().includes(Ve):!0}).map(ie=>c.jsx("button",{type:"button",onClick:()=>{w(X.profession),A(ie.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${b===X.profession&&k===ie.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ie.name,children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ie.icon?c.jsx("img",{src:ie.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,c.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:ie.name})]})},ie.id)),X.skills.filter(ie=>{const Ve=(z[X.profession]||"").trim().toLowerCase();return Ve?String(ie.name||"").toLowerCase().includes(Ve):!0}).length===0&&c.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},X.profession))})]}),c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(I?"class":l)==="player"?!T||!I&&!L?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[I&&(()=>{const X=T.skills||[],ie=d.map(Ae=>({id:Ae.key,label:Ae.displayName||Ae.key,icon:ee(Ae.profession,Ae.professionList,"w-3 h-3")})),Ve=X.map(Ae=>({id:Ae.id,label:Ae.name,icon:Ae.icon?c.jsx("img",{src:Ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ge=[...X.map(Ae=>({id:Ae.id,label:Ae.name,type:"column",icon:Ae.icon?c.jsx("img",{src:Ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map(Ae=>({id:Ae.key,label:Ae.displayName||Ae.key,type:"player",icon:ee(Ae.profession,Ae.professionList,"w-3 h-3")}))],kt=new Set([...P.map(Ae=>`column:${Ae}`),...S.map(Ae=>`player:${Ae}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:Ge,selectedIds:kt,onSelect:Ae=>{Ae.type==="column"?Z(me=>me.includes(Ae.id)?me.filter(be=>be!==Ae.id):[...me,Ae.id]):W(me=>me.includes(Ae.id)?me.filter(be=>be!==Ae.id):[...me,Ae.id])},className:"w-full sm:w-64"}),c.jsx(jr,{options:Ve,selectedIds:P,onToggle:Ae=>{Z(me=>me.includes(Ae)?me.filter(be=>be!==Ae):[...me,Ae])},onClear:()=>Z([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:ie,selectedIds:S,onToggle:Ae=>{W(me=>me.includes(Ae)?me.filter(be=>be!==Ae):[...me,Ae])},onClear:()=>W([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})})]}),(P.length>0||S.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{Z([]),W([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(Ae=>{var be;const me=((be=X.find(Xe=>Xe.id===Ae))==null?void 0:be.name)||Ae;return c.jsxs("button",{type:"button",onClick:()=>Z(Xe=>Xe.filter(pe=>pe!==Ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:me}),c.jsx("span",{className:"text-gray-400",children:""})]},Ae)}),S.map(Ae=>{var be;const me=((be=ie.find(Xe=>Xe.id===Ae))==null?void 0:be.label)||Ae;return c.jsxs("button",{type:"button",onClick:()=>W(Xe=>Xe.filter(pe=>pe!==Ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:me}),c.jsx("span",{className:"text-gray-400",children:""})]},Ae)})]})]})})(),I?(()=>{var Ae,me;const X=T.skills||[],ie=P.length>0?X.filter(be=>P.includes(be.id)):X,Ve=S.length>0?d.filter(be=>S.includes(be.key)):d,Ge=((Ae=ie.find(be=>be.id===R.columnId))==null?void 0:Ae.id)||((me=ie[0])==null?void 0:me.id)||"",kt=Ve.map(be=>{const Xe={},pe={};return ie.forEach(tn=>{const Se=V(be,tn.id),at=Number((Se==null?void 0:Se.damage)||0);pe[tn.id]=at,Xe[tn.id]=Sl(at)}),{player:be,values:Xe,numericValues:pe}}).sort((be,Xe)=>{const pe=be.numericValues[Ge]??0,tn=Xe.numericValues[Ge]??0;return(R.dir==="desc"?tn-pe:pe-tn)||String(be.player.displayName||"").localeCompare(String(Xe.player.displayName||""))});return c.jsx(cs,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ge,sortDirection:R.dir,onSortColumn:be=>{q(Xe=>({columnId:be,dir:Xe.columnId===be&&Xe.dir==="desc"?"asc":"desc"}))},columns:ie.map(be=>({id:be.id,label:c.jsx(Cr,{name:be.name,iconUrl:be.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:kt.map((be,Xe)=>({id:`${be.player.key}-${Xe}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Xe+1}),ee(be.player.profession,be.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:be.player.displayName})]}),values:be.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(T.profession,T.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(Cr,{name:(L==null?void 0:L.name)||"",iconUrl:L==null?void 0:L.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",Sl(ke)," total damage"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Metric"}),c.jsx("div",{className:"text-right",children:"Value"})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:Sl((L==null?void 0:L.downContribution)||0)},{label:"Total Damage",value:Sl((L==null?void 0:L.damage)||0)},{label:"DPS",value:mi(T.totalFightMs>0?((L==null?void 0:L.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(X=>c.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"font-semibold text-white",children:X.label}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:X.value})]},X.label))})]})]}):!_||!I&&!K?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):c.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[I&&(()=>{const X=_.skills||[],ie=re.map(Ae=>({id:Ae.key,label:Ae.displayName||Ae.key,icon:ee(Ae.profession,Ae.professionList,"w-3 h-3")})),Ve=X.map(Ae=>({id:Ae.id,label:Ae.name,icon:Ae.icon?c.jsx("img",{src:Ae.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Ge=[...X.map(Ae=>({id:Ae.id,label:Ae.name,type:"column",icon:Ae.icon?c.jsx("img",{src:Ae.icon,alt:"",className:"h-4 w-4"}):void 0})),...re.map(Ae=>({id:Ae.key,label:Ae.displayName||Ae.key,type:"player",icon:ee(Ae.profession,Ae.professionList,"w-3 h-3")}))],kt=new Set([...P.map(Ae=>`column:${Ae}`),...S.map(Ae=>`player:${Ae}`)]);return c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:Ge,selectedIds:kt,onSelect:Ae=>{Ae.type==="column"?Z(me=>me.includes(Ae.id)?me.filter(be=>be!==Ae.id):[...me,Ae.id]):W(me=>me.includes(Ae.id)?me.filter(be=>be!==Ae.id):[...me,Ae.id])},className:"w-full sm:w-64"}),c.jsx(jr,{options:Ve,selectedIds:P,onToggle:Ae=>{Z(me=>me.includes(Ae)?me.filter(be=>be!==Ae):[...me,Ae])},onClear:()=>Z([]),buttonLabel:"Columns",buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:ie,selectedIds:S,onToggle:Ae=>{W(me=>me.includes(Ae)?me.filter(be=>be!==Ae):[...me,Ae])},onClear:()=>W([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})})]}),(P.length>0||S.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{Z([]),W([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),P.map(Ae=>{var be;const me=((be=X.find(Xe=>Xe.id===Ae))==null?void 0:be.name)||Ae;return c.jsxs("button",{type:"button",onClick:()=>Z(Xe=>Xe.filter(pe=>pe!==Ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:me}),c.jsx("span",{className:"text-gray-400",children:""})]},Ae)}),S.map(Ae=>{var be;const me=((be=ie.find(Xe=>Xe.id===Ae))==null?void 0:be.label)||Ae;return c.jsxs("button",{type:"button",onClick:()=>W(Xe=>Xe.filter(pe=>pe!==Ae)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:me}),c.jsx("span",{className:"text-gray-400",children:""})]},Ae)})]})]})})(),I?(()=>{var Ae,me;const X=_.skills||[],ie=P.length>0?X.filter(be=>P.includes(be.id)):X,Ve=S.length>0?re.filter(be=>S.includes(be.key)):re,Ge=((Ae=ie.find(be=>be.id===R.columnId))==null?void 0:Ae.id)||((me=ie[0])==null?void 0:me.id)||"",kt=Ve.map(be=>{const Xe={},pe={};return ie.forEach(tn=>{const Se=V(be,tn.id),at=Number((Se==null?void 0:Se.damage)||0);pe[tn.id]=at,Xe[tn.id]=Sl(at)}),{player:be,values:Xe,numericValues:pe}}).sort((be,Xe)=>{const pe=be.numericValues[Ge]??0,tn=Xe.numericValues[Ge]??0;return(R.dir==="desc"?tn-pe:pe-tn)||String(be.player.displayName||"").localeCompare(String(Xe.player.displayName||""))});return c.jsx(cs,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Ge,sortDirection:R.dir,onSortColumn:be=>{q(Xe=>({columnId:be,dir:Xe.columnId===be&&Xe.dir==="desc"?"asc":"desc"}))},columns:ie.map(be=>({id:be.id,label:c.jsx(Cr,{name:be.name,iconUrl:be.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:kt.map((be,Xe)=>({id:`${be.player.key}-${Xe}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:Xe+1}),ee(be.player.profession,be.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:be.player.displayName})]}),values:be.values}))})})():c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:c.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ee(_.profession,void 0,"w-4 h-4"),c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:_.profession}),c.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),c.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:c.jsx(Cr,{name:(K==null?void 0:K.name)||"",iconUrl:K==null?void 0:K.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[re.length," players | ",_.skills.length," skills"]})]})}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>de("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",c.jsx("span",{className:"text-[10px]",children:H.key==="down"?H.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>de("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",c.jsx("span",{className:"text-[10px]",children:H.key==="damage"?H.dir==="desc"?"":"":""})]}),c.jsxs("button",{type:"button",onClick:()=>de("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${H.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",c.jsx("span",{className:"text-[10px]",children:H.key==="dps"?H.dir==="desc"?"":"":""})]})]})]}),c.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:B.map(X=>{const ie=V(X,(K==null?void 0:K.id)||""),Ve=Number((ie==null?void 0:ie.downContribution)||0),Ge=Number((ie==null?void 0:ie.damage)||0),kt=X.totalFightMs>0?Ge/(X.totalFightMs/1e3):0;return c.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ee(X.profession,X.professionList,"w-4 h-4"),c.jsx("div",{className:"min-w-0",children:c.jsx("div",{className:"font-semibold text-white truncate",children:X.displayName})})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Sl(Ve)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Sl(Ge)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:mi(kt,1)})]},`${_.profession}-${X.key}`)})})]})]})})]})})]})},Tse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,playerSkillBreakdowns:o,renderProfessionIcon:l})=>{const u="damage-breakdown",d=e===u,[f,h]=g.useState("damage"),[m,p]=g.useState(""),[v,y]=g.useState(null),x=A=>Number(f==="damage"?A.damage||0:A.downContribution||0),b=A=>(A.skills||[]).reduce((E,F)=>E+x(F),0),w=g.useMemo(()=>{const A=m.trim().toLowerCase();return[...A?o.filter(F=>String(F.displayName||"").toLowerCase().includes(A)||String(F.account||"").toLowerCase().includes(A)||String(F.profession||"").toLowerCase().includes(A)):o].sort((F,T)=>{const L=b(T)-b(F);return L!==0?L:String(F.displayName||"").localeCompare(String(T.displayName||""))})},[o,m,f]),N=g.useMemo(()=>v&&w.find(A=>A.key===v)||null,[w,v]),j=g.useMemo(()=>N?[...N.skills||[]].filter(A=>x(A)>0).sort((A,E)=>x(E)-x(A)).map(A=>({...A,value:x(A)})):[],[N,f]),k=g.useMemo(()=>N?b(N):0,[N,f]);return g.useEffect(()=>{if(w.length===0){v!==null&&y(null);return}v&&!w.some(A=>A.key===v)&&y(null)},[w,v]),c.jsxs("div",{id:u,"data-section-visible":i(u),"data-section-first":a(u),className:s(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Mk,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),c.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[c.jsx(Dn,{value:f,onChange:A=>h(A),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]})]}),o.length===0?c.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):c.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),c.jsx("div",{className:"mb-2",children:c.jsx("input",{type:"search",value:m,onChange:A=>p(A.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),c.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:w.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):w.map(A=>{const E=v===A.key;return c.jsx("button",{type:"button",onClick:()=>y(A.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${E?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(A.profession,A.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"truncate min-w-0",children:A.displayName})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(A.skills||[]).length," ",(A.skills||[]).length===1?"skill":"skills"]})]}),c.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:mi(b(A),0)})]})},A.key)})})]}),c.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:N?c.jsxs("div",{className:"h-full flex flex-col",children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),l(N.profession,N.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate font-semibold",children:N.displayName})]})}),c.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",j.length," ",j.length===1?"skill":"skills"]})]}),c.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),c.jsx("div",{className:"text-right",children:"% Total"})]})]}),c.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:j.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):j.map((A,E)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"min-w-0",children:c.jsx(Cr,{name:A.name,iconUrl:A.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:mi(Number(A.value||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:k>0?`${mi(Number(A.value||0)/k*100,1)}%`:"0.0%"})]},`${A.id}-${E}`))})]}):c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},Mse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:h,setTimelineScope:m,playerFilter:p,setPlayerFilter:v,players:y,selectedPlayerKey:x,setSelectedPlayerKey:b,selectedPlayer:w,chartData:N,chartMaxY:j,selectedFightIndex:k,setSelectedFightIndex:A,drilldownTitle:E,drilldownData:F,formatWithCommas:T,renderProfessionIcon:L})=>{const _="boon-timeline",K=e===_,ee=w!=null&&w.profession&&w.profession!=="All"?Io(w.profession):"#22d3ee",le=h==="selfBuffs"?"Self":h==="groupBuffs"?"Group":h==="squadBuffs"?"Squad":"All",ke=P=>String(P||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),re=N.reduce((P,Z)=>!P||Z.total>P.total?Z:P,null),H=k===null?null:N.find(P=>P.index===k)||null,se=H||re,I=P=>{if(!Number.isFinite(P)||P<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(P))}catch{return""}};return c.jsxs("div",{id:_,"data-section-visible":i(_),"data-section-first":a(_),className:s(_,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${K?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:K?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Fk,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),c.jsx("button",{type:"button",onClick:()=>K?r():n(_),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${K?"absolute top-2 right-2 md:static":""}`,"aria-label":K?"Close Boon Timeline":"Expand Boon Timeline",title:K?"Close":"Expand",children:K?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:o,onChange:P=>l(P.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2",children:c.jsx(Dn,{value:h,onChange:P=>m(P),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(P=>{const Z=d===P.id;return c.jsxs("button",{type:"button",onClick:()=>f(P.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${Z?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[P.icon?c.jsx("img",{src:P.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(Vc,{className:"h-3.5 w-3.5 text-cyan-300"}),c.jsx("span",{children:P.name})]},P.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),c.jsx("input",{type:"search",value:p,onChange:P=>v(P.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:y.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):c.jsx("div",{className:"p-1.5 space-y-1",children:y.map(P=>{const Z=x===P.key;return c.jsx("button",{type:"button",onClick:()=>b(P.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${Z?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[P.key==="__all__"?c.jsx(Vc,{className:"w-3.5 h-3.5 text-cyan-300"}):L(P.profession,P.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:P.displayName}),P.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:P.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[P.logs," ",P.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:T((P.total||0)/1e3,0)})]})},P.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",le," Generation"]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[N.length," ",N.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!w||N.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(Zl,{data:N,onClick:P=>{const Z=Number(P==null?void 0:P.activeTooltipIndex);Number.isFinite(Z)&&A(k===Z?null:Z)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:P=>T(P/1e3,0)}),c.jsx(Os,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(P,Z)=>[T(Number(P||0)/1e3,0),String(Z||"")],labelFormatter:(P,Z)=>{var W;const S=(W=Z==null?void 0:Z[0])==null?void 0:W.payload;return ke(String((S==null?void 0:S.fullLabel)||""))}}),c.jsx(ua,{type:"monotone",dataKey:"total",name:w.displayName,stroke:ee,strokeWidth:3,dot:P=>{var W;const Z=Number((W=P==null?void 0:P.payload)==null?void 0:W.index);if(!Number.isFinite(Z))return null;const S=k===Z;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:R=>{R.stopPropagation(),A(S?null:Z)},children:[c.jsx("circle",{cx:P.cx,cy:P.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:P.cx,cy:P.cy,r:S?4:3,fill:ee,stroke:S?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:S?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(ua,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),w&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[w.key==="__all__"?c.jsx(Vc,{className:"w-4 h-4 text-cyan-300"}):L(w.profession,w.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:w.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:H?"Selected Fight Generation":"Peak Fight Generation"}),c.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:T(Number((se==null?void 0:se.total)||0)/1e3,0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:H?"Selected Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const P=ke((se==null?void 0:se.fullLabel)||"N/A"),Z=I(Number((se==null?void 0:se.timestamp)||0));return Z?`${Z} - ${P}`:P})()})]})]}),w&&k!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:E}),c.jsx("button",{type:"button",onClick:()=>A(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:F.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(Zl,{data:F,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:P=>T(P/1e3,0)}),c.jsx(Os,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:P=>[T(Number(P||0)/1e3,0),"Generation"],labelFormatter:P=>String(P||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Generation",stroke:ee,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},Ese=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:l,boons:u,activeBoonId:d,setActiveBoonId:f,playerFilter:h,setPlayerFilter:m,players:p,selectedPlayerKey:v,setSelectedPlayerKey:y,selectedPlayer:x,chartData:b,chartMaxY:w,selectedFightIndex:N,setSelectedFightIndex:j,drilldownTitle:k,drilldownData:A,overallUptimePercent:E,showStackCapLine:F=!1,formatWithCommas:T,renderProfessionIcon:L})=>{const _="boon-uptime",K=e===_,ee=x!=null&&x.profession&&x.profession!=="All"?Io(x.profession):"#f59e0b",le=R=>String(R||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),ke=b.reduce((R,q)=>!R||q.peak>R.peak?q:R,null),re=N===null?null:b.find(R=>R.index===N)||null,H=re||ke,se=F?Math.ceil(Math.max(1,w)+3):Math.max(1,w),I=Math.max(1,...A.map(R=>Math.max(0,Number((R==null?void 0:R.value)||0))),...F?[25]:[]),P=F?Math.ceil(Math.max(1,I)+3):Math.max(1,I),Z=F?"average":"uptimePercent",S=F?"Per Fight Average Stacks":"Per Fight Uptime %",W=R=>{if(!Number.isFinite(R)||R<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(R))}catch{return""}};return c.jsxs("div",{id:_,"data-section-visible":i(_),"data-section-first":a(_),className:s(_,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${K?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:K?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Kf,{className:"w-5 h-5 text-amber-300"}),"Boon Uptime"]}),c.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player to chart per-fight peak stacks and drill into 5-second fight buckets."})]}),c.jsx("button",{type:"button",onClick:()=>K?r():n(_),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${K?"absolute top-2 right-2 md:static":""}`,"aria-label":K?"Close Boon Uptime":"Expand Boon Uptime",title:K?"Close":"Expand",children:K?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[c.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[c.jsx("input",{type:"search",value:o,onChange:R=>l(R.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),c.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?c.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):c.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(R=>{const q=d===R.id;return c.jsxs("button",{type:"button",onClick:()=>f(R.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${q?"border-amber-300/60 bg-amber-500/15 text-amber-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[R.icon?c.jsx("img",{src:R.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):c.jsx(Vc,{className:"h-3.5 w-3.5 text-amber-300"}),c.jsx("span",{children:R.name})]},R.id)})})})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Players"}),c.jsx("input",{type:"search",value:h,onChange:R=>m(R.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:p.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player uptime."}):c.jsx("div",{className:"p-1.5 space-y-1",children:p.map(R=>{const q=v===R.key;return c.jsx("button",{type:"button",onClick:()=>y(R.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${q?"border-amber-300/60 bg-amber-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[R.key==="__all__"?c.jsx(Kf,{className:"w-3.5 h-3.5 text-amber-300"}):L(R.profession,R.professionList,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:R.displayName}),R.profession!=="All"&&c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:R.profession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[R.logs," ",R.logs===1?"fight":"fights"]})]}),c.jsxs("div",{className:"text-xs font-mono text-amber-200 shrink-0",children:[T(Number(R.uptimePercent||0),1),"%"]})]})},R.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:S}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[b.length," ",b.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!x||b.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon uptime by fight."}):c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(Zl,{data:b,onClick:R=>{const q=Number(R==null?void 0:R.activeTooltipIndex);Number.isFinite(q)&&j(N===q?null:q)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,se],tickFormatter:R=>F?T(R,0):`${T(R,0)}%`}),c.jsx(Os,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(R,q)=>[F?T(Number(R||0),1):`${T(Number(R||0),1)}%`,String(q||"")],labelFormatter:(R,q)=>{var Y;const ne=(Y=q==null?void 0:q[0])==null?void 0:Y.payload;return le(String((ne==null?void 0:ne.fullLabel)||""))}}),c.jsx(ua,{type:"monotone",dataKey:Z,name:x.displayName,stroke:ee,strokeWidth:3,dot:R=>{var Y;const q=Number((Y=R==null?void 0:R.payload)==null?void 0:Y.index);if(!Number.isFinite(q))return null;const ne=N===q;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:z=>{z.stopPropagation(),j(ne?null:q)},children:[c.jsx("circle",{cx:R.cx,cy:R.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:R.cx,cy:R.cy,r:ne?4:3,fill:ee,stroke:ne?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:ne?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),F&&c.jsx(t1,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]}),x&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[x.key==="__all__"?c.jsx(Kf,{className:"w-4 h-4 text-amber-300"}):L(x.profession,x.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:x.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:re?F?"Selected Fight Avg Stacks":"Selected Fight Uptime":"Overall Uptime"}),c.jsx("div",{className:"mt-1 text-lg font-black text-amber-200 font-mono",children:re?F?T(Number(re.average??0),1):`${T(Number(re.uptimePercent||0),1)}%`:E===null?"--":`${T(Number(E||0),1)}%`})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:re?"Selected Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const R=le((H==null?void 0:H.fullLabel)||"N/A"),q=W(Number((H==null?void 0:H.timestamp)||0));return q?`${q} - ${R}`:R})()})]})]}),x&&N!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:k}),c.jsx("button",{type:"button",onClick:()=>j(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:A.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(Zl,{data:A,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,P]}),c.jsx(Os,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(R,q)=>[T(Number(R||0),0),String(q||"")],labelFormatter:R=>String(R||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Selected",stroke:ee,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}}),F&&c.jsx(t1,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]})},B$=({className:e})=>c.jsx(A8,{className:e,style:{transform:"rotate(45deg)"}}),il=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>c.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[c.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),c.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),_s=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"stats-table-shell__head-stack",children:[c.jsx("div",{className:"stats-table-shell__header",children:e}),c.jsx("div",{className:"stats-table-shell__columns",children:t})]}),c.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),Ose=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var I;const[w,N]=g.useState({key:"value",dir:"desc"}),[j,k]=g.useState({columnId:((I=t[0])==null?void 0:I.id)||"value",dir:"desc"}),A=f==="offense-detailed",[E,F]=g.useState([]),[T,L]=g.useState([]),_=t.filter(P=>P.label.toLowerCase().includes(r.trim().toLowerCase())),K=t.map(P=>({id:P.id,label:P.label})),ee=K.filter(P=>P.label.toLowerCase().includes(r.trim().toLowerCase())),ke=E.length>0?t.filter(P=>E.includes(P.id)):t,re=Array.from(new Map(e.offensePlayers.map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,icon:d(P.profession,P.professionList,"w-3 h-3")})),H=new Set([...E.map(P=>`column:${P}`),...T.map(P=>`player:${P}`)]),se=P=>{N(Z=>({key:P,dir:Z.key===P&&Z.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"offense-detailed","data-section-visible":v("offense-detailed"),"data-section-first":y("offense-detailed"),className:x("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(B$,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:[...K.map(P=>({...P,type:"column"})),...re.map(P=>({...P,type:"player"}))],onSelect:P=>{P.type==="column"?F(Z=>Z.includes(P.id)?Z.filter(S=>S!==P.id):[...Z,P.id]):L(Z=>Z.includes(P.id)?Z.filter(S=>S!==P.id):[...Z,P.id])},selectedIds:H,className:"w-full sm:w-64"}),c.jsx(jr,{options:ee,selectedIds:E,onToggle:P=>{F(Z=>Z.includes(P)?Z.filter(S=>S!==P):[...Z,P])},onClear:()=>F([]),buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:re,selectedIds:T,onToggle:P=>{L(Z=>Z.includes(P)?Z.filter(S=>S!==P):[...Z,P])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{F([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(P=>{var S;const Z=((S=K.find(W=>W.id===P))==null?void 0:S.label)||P;return c.jsxs("button",{type:"button",onClick:()=>F(W=>W.filter(R=>R!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Z}),c.jsx("span",{className:"text-gray-400",children:""})]},P)}),T.map(P=>c.jsxs("button",{type:"button",onClick:()=>L(Z=>Z.filter(S=>S!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},P))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:_.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var q,ne;const P=Y=>Math.max(1,(Y.totalFightMs||0)/1e3),Z=(Y,z,U)=>{var V,G,B,de,X;if(z==="downContributionPercent"){const ie=((V=Y.offenseTotals)==null?void 0:V.downContribution)||0,Ve=((G=Y.offenseTotals)==null?void 0:G.damage)||0;return Ve>0?ie/Ve*100:0}if(U.isRate){const ie=((B=Y.offenseRateWeights)==null?void 0:B[z])||0,Ve=((de=Y.offenseTotals)==null?void 0:de[z])||0;return ie>0?Ve/ie*100:0}return((X=Y.offenseTotals)==null?void 0:X[z])||0},S=(Y,z)=>{const U=n&&!z.isPercent&&o==="total"?0:2,V=u(Y,U);return z.isPercent?`${V}%`:V},W=((q=ke.find(Y=>Y.id===j.columnId))==null?void 0:q.id)||((ne=ke[0])==null?void 0:ne.id)||"",R=[...e.offensePlayers].filter(Y=>T.length===0||T.includes(Y.account)).map(Y=>{const z={},U={};return ke.forEach(V=>{const G=Z(Y,V.id,V),B=o==="total"||V.isPercent||V.isRate?G:o==="per1s"?G/P(Y):G*60/P(Y);U[V.id]=B,z[V.id]=S(B,V)}),{row:Y,values:z,numericValues:U}}).sort((Y,z)=>{const U=Y.numericValues[W]??0,V=z.numericValues[W]??0;return(j.dir==="desc"?V-U:U-V)||String(Y.row.account||"").localeCompare(String(z.row.account||""))});return c.jsx(cs,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:W,sortDirection:j.dir,onSortColumn:Y=>{k(z=>({columnId:Y,dir:z.columnId===Y&&z.dir==="desc"?"asc":"desc"}))},columns:ke.map(Y=>({id:Y.id,label:Y.label,align:"right",minWidth:90})),rows:R.map((Y,z)=>({id:`${Y.row.account}-${z}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:z+1}),d(Y.row.profession,Y.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:Y.row.account})]}),values:Y.values}))})})()})]}):c.jsx(il,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),c.jsx("input",{value:r,onChange:P=>i(P.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:_.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):_.map(P=>c.jsx("button",{onClick:()=>s(P.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===P.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:P.label},P.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const P=t.find(q=>q.id===a)||t[0],Z=q=>Math.max(1,(q.totalFightMs||0)/1e3),S=q=>{var ne,Y,z,U,V;if(P.id==="downContributionPercent"){const G=((ne=q.offenseTotals)==null?void 0:ne.downContribution)||0,B=((Y=q.offenseTotals)==null?void 0:Y.damage)||0;return B>0?G/B*100:0}if(P.isRate){const G=((z=q.offenseRateWeights)==null?void 0:z[P.id])||0,B=((U=q.offenseTotals)==null?void 0:U[P.id])||0;return G>0?B/G*100:0}return((V=q.offenseTotals)==null?void 0:V[P.id])||0},W=q=>{const ne=n&&!P.isPercent&&o==="total"?0:2,Y=u(q,ne);return P.isPercent?`${Y}%`:Y},R=[...e.offensePlayers].map(q=>({...q,total:S(q),per1s:P.isPercent||P.isRate?S(q):S(q)/Z(q),per60s:P.isPercent||P.isRate?S(q):S(q)*60/Z(q)})).sort((q,ne)=>{const Y=w.key==="fightTime"?Number(q.totalFightMs||0):Number(o==="total"?q.total:o==="per1s"?q.per1s:q.per60s),z=w.key==="fightTime"?Number(ne.totalFightMs||0):Number(o==="total"?ne.total:o==="per1s"?ne.per1s:ne.per60s);return(w.dir==="desc"?z-Y:Y-z)||q.account.localeCompare(ne.account)});return c.jsx(_s,{expanded:f==="offense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:P.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:c.jsx(Dn,{value:o,onChange:l,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>se("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>se("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:R.map((q,ne)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:ne+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(q.profession,q.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:q.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Y=o==="total"?q.total:o==="per1s"?q.per1s:q.per60s;return W(Y)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:q.totalFightMs?`${(q.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${P.id}-${q.account}-${ne}`))})})})()})})]})},Ise=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:l,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:N})=>{var I;const j=m==="conditions-outgoing",[k,A]=g.useState([]),[E,F]=g.useState([]),[T,L]=g.useState({columnId:"all",dir:"desc"}),_=P=>{if(!P)return 0;const Z=Number(P.applicationsFromBuffsActive);if(Number.isFinite(Z)&&Z>0)return Z;const S=Number(P.applicationsFromBuffs);return Number.isFinite(S)&&S>0?S:Number(P.applications||0)},K=[...e||[]].sort((P,Z)=>(Z.damage||0)-(P.damage||0)),ee=K.filter(P=>P.name.toLowerCase().includes(n.trim().toLowerCase())),le=ee.map(P=>({id:P.name,label:P.name,icon:P.icon?c.jsx("img",{src:P.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),re=k.length>0?K.filter(P=>k.includes(P.name)):K,H=Array.from(new Map((t||[]).map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,icon:h(P.profession,P.professionList,"w-3 h-3")})),se=new Set([...k.map(P=>`column:${P}`),...E.map(P=>`player:${P}`)]);return c.jsxs("div",{id:"conditions-outgoing","data-section-visible":x("conditions-outgoing"),"data-section-first":b("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(fx,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),c.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?y():v("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),e&&e.length>0?j?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:[...K.map(P=>({id:P.name,label:P.name,type:"column"})),...H.map(P=>({...P,type:"player"}))],onSelect:P=>{P.type==="column"?A(Z=>Z.includes(P.id)?Z.filter(S=>S!==P.id):[...Z,P.id]):F(Z=>Z.includes(P.id)?Z.filter(S=>S!==P.id):[...Z,P.id])},selectedIds:se,className:"w-full sm:w-64"}),c.jsx(jr,{options:le,selectedIds:k,onToggle:P=>{A(Z=>Z.includes(P)?Z.filter(S=>S!==P):[...Z,P])},onClear:()=>A([]),buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:H,selectedIds:E,onToggle:P=>{F(Z=>Z.includes(P)?Z.filter(S=>S!==P):[...Z,P])},onClear:()=>F([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&c.jsx(Dn,{value:u.key,onChange:P=>d({key:P,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const P=u.key,Z=[{id:"all",label:"All Conditions",icon:null},...re],S=(t||[]).filter(q=>E.length===0||E.includes(q.account)).map(q=>{const ne=q.conditions||{},Y={},z={};return Z.forEach(U=>{if(U.id==="all"||U.name==="All Conditions"){const B=Object.values(ne).reduce((X,ie)=>{const Ve=_(ie);return X.applications+=Number(Ve||0),X.damage+=Number((ie==null?void 0:ie.damage)||0),X},{applications:0,damage:0}),de=P==="applications"?B.applications:B.damage;z.all=de||0,Y.all=Math.round(de||0).toLocaleString();return}const V=ne[U.name],G=P==="applications"?_(V):Number((V==null?void 0:V.damage)||0);z[U.name]=Number(G||0),Y[U.name]=Math.round(G||0).toLocaleString()}),{player:q,values:Y,numericValues:z}}).filter(q=>Object.values(q.values).some(ne=>ne!=="0")),W=["all",...re.map(q=>q.name)].includes(T.columnId)?T.columnId:"all",R=[...S].sort((q,ne)=>{const Y=q.numericValues[W]??0,z=ne.numericValues[W]??0;return(T.dir==="desc"?z-Y:Y-z)||String(q.player.account||"").localeCompare(String(ne.player.account||""))});return c.jsx(cs,{title:"Conditions - Dense View",subtitle:P==="applications"?"Applications":"Damage",sortColumnId:W,sortDirection:T.dir,onSortColumn:q=>{L(ne=>({columnId:q,dir:ne.columnId===q&&ne.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...re.map(q=>({id:q.name,label:c.jsx(Cr,{name:q.name,iconUrl:q.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:R.map((q,ne)=>({id:`${q.player.account}-${ne}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:ne+1}),h(q.player.profession,q.player.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:q.player.account})]}),values:q.values}))})})()}),(k.length>0||E.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{A([]),F([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),k.map(P=>c.jsxs("button",{type:"button",onClick:()=>A(Z=>Z.filter(S=>S!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},P)),E.map(P=>c.jsxs("button",{type:"button",onClick:()=>F(Z=>Z.filter(S=>S!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},P))]})]}):c.jsx(il,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),c.jsx("input",{value:n,onChange:P=>r(P.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ee.map(P=>c.jsx("button",{type:"button",onClick:()=>a(P.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===P.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(Cr,{name:P.name,iconUrl:P.icon,iconClassName:"h-5 w-5"})},P.name))]})})]}),content:c.jsx(_s,{expanded:m==="conditions-outgoing",header:c.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":c.jsx(Cr,{name:i,iconUrl:(I=e.find(P=>P.name===i))==null?void 0:I.icon,iconClassName:"h-5 w-5"})}),c.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:c.jsxs("div",{className:`grid ${l} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?c.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:c.jsx(c.Fragment,{children:(()=>{const Z=(t||[]).map(S=>{const W=S.conditions||{};if(i==="all"){const q=Object.values(W).reduce((ne,Y)=>{const z=_(Y);return ne.applications+=Number(z||0),ne.damage+=Number((Y==null?void 0:Y.damage)||0),ne},{applications:0,damage:0});return{...S,applications:q.applications,damage:q.damage}}const R=W[i];return{...S,applications:_(R),damage:Number((R==null?void 0:R.damage)||0)}}).filter(S=>S.applications>0||S.damage>0).sort((S,W)=>{const R=u.key==="applications"?S.applications||0:S.damage||0,q=u.key==="applications"?W.applications||0:W.damage||0,ne=u.dir==="desc"?q-R:R-q;if(ne!==0)return ne;const Y=u.key==="applications"?(W.damage||0)-(S.damage||0):(W.applications||0)-(S.applications||0);return Y!==0?Y:String(S.account||"").localeCompare(String(W.account||""))});return Z.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):Z.map((S,W)=>{var B;const R=S.conditions||{};let q={};i==="all"?Object.values(R).forEach(de=>{const X=(de==null?void 0:de.skills)||{};Object.values(X).forEach(ie=>{const Ve=(ie==null?void 0:ie.name)||"Unknown",Ge=Number((ie==null?void 0:ie.hits)||0),kt=Number((ie==null?void 0:ie.damage)||0);if((!Number.isFinite(Ge)||Ge<=0)&&(!Number.isFinite(kt)||kt<=0))return;const Ae=q[Ve]||{name:Ve,hits:0,damage:0,icon:ie==null?void 0:ie.icon};Ae.hits+=Number.isFinite(Ge)?Ge:0,Ae.damage+=Number.isFinite(kt)?kt:0,!Ae.icon&&(ie!=null&&ie.icon)&&(Ae.icon=ie.icon),q[Ve]=Ae})}):q=((B=R[i])==null?void 0:B.skills)||{};const ne=Object.values(q).filter(de=>Number.isFinite(de.hits)&&de.hits>0).sort((de,X)=>X.hits-de.hits||de.name.localeCompare(X.name)),Y=Object.values(q).filter(de=>Number.isFinite(de.damage)&&de.damage>0).sort((de,X)=>X.damage-de.damage||de.name.localeCompare(X.name)),z=i==="all"&&ne.length>0,U=i==="all"&&Y.length>0,V=Math.round(S.applications||0).toLocaleString(),G=Math.round(S.damage||0).toLocaleString();return c.jsxs("div",{className:`grid ${l} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(S.profession,S.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:z?c.jsx(sT,{value:V,label:"Condition Sources",items:ne.map(de=>({name:de.name,iconUrl:de.icon,value:Math.round(de.hits).toLocaleString()})),className:"justify-end"}):V}),f?c.jsx("div",{className:"text-right font-mono text-gray-300",children:U?c.jsx(sT,{value:G,label:"Condition Damage Sources",items:Y.map(de=>({name:de.name,iconUrl:de.icon,value:Math.round(de.damage).toLocaleString()})),className:"justify-end"}):G}):null]},`${S.account}-${W}`)})})()})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},_se=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:l,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:v,expandedSectionClosing:y,openExpandedSection:x,closeExpandedSection:b,isSectionVisible:w,isFirstVisibleSection:N,sectionClass:j,sidebarListClass:k})=>{const[A,E]=g.useState({key:"value",dir:"desc"}),[F,T]=g.useState({columnId:"",dir:"desc"}),L=v==="boon-output",[_,K]=g.useState([]),[ee,le]=g.useState([]),ke=e.boonTables||[],H=_.length>0?ke.filter(S=>_.includes(S.id)):ke,se=l.map(S=>({id:S.id,label:S.name,icon:S.icon?c.jsx("img",{src:S.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),I=Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:m(S.profession,S.professionList,"w-3 h-3")})),P=new Set([..._.map(S=>`column:${S}`),...ee.map(S=>`player:${S}`)]),Z=S=>{E(W=>({key:S,dir:W.key===S&&W.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":N("boon-output"),className:j("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${v==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${y?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Vc,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),c.jsx("button",{type:"button",onClick:()=>v==="boon-output"?b():x("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":v==="boon-output"?"Close Boon Output":"Expand Boon Output",title:v==="boon-output"?"Close":"Expand",children:v==="boon-output"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),e.boonTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):L?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:[...ke.map(S=>({id:S.id,label:S.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,type:"player",icon:m(S.profession,S.professionList,"w-3 h-3")}))],onSelect:S=>{S.type==="column"?K(W=>W.includes(S.id)?W.filter(R=>R!==S.id):[...W,S.id]):le(W=>W.includes(S.id)?W.filter(R=>R!==S.id):[...W,S.id])},selectedIds:P,className:"w-full sm:w-64"}),c.jsx(jr,{options:se,selectedIds:_,onToggle:S=>{K(W=>W.includes(S)?W.filter(R=>R!==S):[...W,S])},onClear:()=>K([]),buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:I,selectedIds:ee,onToggle:S=>{le(W=>W.includes(S)?W.filter(R=>R!==S):[...W,S])},onClear:()=>le([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(_.length>0||ee.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{K([]),le([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),_.map(S=>{var R;const W=((R=ke.find(q=>q.id===S))==null?void 0:R.name)||S;return c.jsxs("button",{type:"button",onClick:()=>K(q=>q.filter(ne=>ne!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:W}),c.jsx("span",{className:"text-gray-400",children:""})]},S)}),ee.map(S=>c.jsxs("button",{type:"button",onClick:()=>le(W=>W.filter(R=>R!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:S}),c.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ke.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var Y,z;const S=H,W=((Y=S.find(U=>U.id===F.columnId))==null?void 0:Y.id)||(a&&S.some(U=>U.id===a)?a:void 0)||((z=S[0])==null?void 0:z.id)||"",R=new Map,q=new Map;S.forEach(U=>{const V=new Map;U.rows.forEach(G=>{const B=G.account||G.name||G.id;B&&(V.set(B,G),q.has(B)||q.set(B,G))}),R.set(U.id,V)});const ne=Array.from(q.entries()).filter(([U])=>ee.length===0||ee.includes(String(U))).map(([U,V])=>{const G={};return S.forEach(B=>{var X;const de=(X=R.get(B.id))==null?void 0:X.get(U);G[B.id]=de?f(de,t,B.stacking,r,{roundCountStats:p}):"-"}),{key:U,row:V,values:G}}).sort((U,V)=>{var Ge,kt;if(!W)return String(U.key).localeCompare(String(V.key));const G=S.find(Ae=>Ae.id===W),B=G?(Ge=R.get(G.id))==null?void 0:Ge.get(U.key):null,de=G?(kt=R.get(G.id))==null?void 0:kt.get(V.key):null,X=B?h(B,t,G==null?void 0:G.stacking,r):0,ie=de?h(de,t,G==null?void 0:G.stacking,r):0;return(F.dir==="desc"?ie-X:X-ie)||String(U.key).localeCompare(String(V.key))});return c.jsx(cs,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:W,sortDirection:F.dir,onSortColumn:U=>{T(V=>({columnId:U,dir:V.columnId===U&&V.dir==="desc"?"asc":"desc"}))},columns:S.map(U=>({id:U.id,label:c.jsx(Cr,{name:U.name,iconUrl:U.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ne.map((U,V)=>({id:`${U.key}-${V}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),m(U.row.profession,U.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.row.account||U.row.name||U.key})]}),values:U.values}))})})()})]}):c.jsx(il,{expanded:v==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${v==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${v==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),c.jsx("input",{value:u,onChange:S=>d(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${k} ${v==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:l.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):l.map(S=>c.jsx("button",{onClick:()=>s(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===S.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(Cr,{name:S.name,iconUrl:S.icon,iconClassName:"h-3.5 w-3.5"})},S.id))})]}),content:o?c.jsx(_s,{expanded:v==="boon-output",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(Cr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Dn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>Z("value"),className:`text-right transition-colors ${A.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",A.key==="value"?A.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>Z("fightTime"),className:`text-right transition-colors ${A.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",A.key==="fightTime"?A.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:[...o.rows].sort((S,W)=>(()=>{const R=A.key==="fightTime"?Number(S.activeTimeMs||0):h(S,t,o.stacking,r),q=A.key==="fightTime"?Number(W.activeTimeMs||0):h(W,t,o.stacking,r);return(A.dir==="desc"?q-R:R-q)||String(S.account||"").localeCompare(String(W.account||""))})()).map((S,W)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(S.profession,S.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:f(S,t,o.stacking,r,{roundCountStats:p})}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeTimeMs?`${(S.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${S.account}-${W}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},Lse=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:y,sectionClass:x,sidebarListClass:b})=>{var W;const[w,N]=g.useState({key:"value",dir:"desc"}),[j,k]=g.useState("combined"),[A,E]=g.useState({columnId:((W=t[0])==null?void 0:W.id)||"value",dir:"desc"}),F=f==="defense-detailed",[T,L]=g.useState([]),[_,K]=g.useState([]),ee=t.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),le=t.map(R=>({id:R.id,label:R.label})),ke=le.filter(R=>R.label.toLowerCase().includes(n.trim().toLowerCase())),H=T.length>0?t.filter(R=>T.includes(R.id)):t,se=Array.from(new Map(e.defensePlayers.map(R=>[R.account,R])).values()).map(R=>({id:R.account,label:R.account,icon:d(R.profession,R.professionList,"w-3 h-3")})),I=new Set([...T.map(R=>`column:${R}`),..._.map(R=>`player:${R}`)]),P=R=>{N(q=>({key:R,dir:q.key===R&&q.dir==="desc"?"asc":"desc"}))},Z=R=>R==="minionDamageTaken",S=(R,q)=>q==="combined"?R.map(ne=>({...ne,minionList:Object.entries((ne==null?void 0:ne.minionDamageTakenByMinion)||{}).filter(([,Y])=>Number(Y||0)>0).sort((Y,z)=>Number(z[1]||0)-Number(Y[1]||0)).map(([Y])=>String(Y))})):R.flatMap(ne=>{const Y=Object.entries((ne==null?void 0:ne.minionDamageTakenByMinion)||{}).filter(([,z])=>Number(z||0)>0).sort((z,U)=>Number(U[1]||0)-Number(z[1]||0));return Y.length===0?[]:Y.map(([z,U])=>({...ne,minionName:String(z),defenseTotals:{...ne.defenseTotals||{},minionDamageTaken:Number(U||0)}}))});return c.jsxs("div",{id:"defense-detailed","data-section-visible":v("defense-detailed"),"data-section-first":y("defense-detailed"),className:x("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(kd,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):F?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:[...le.map(R=>({...R,type:"column"})),...se.map(R=>({...R,type:"player"}))],onSelect:R=>{R.type==="column"?L(q=>q.includes(R.id)?q.filter(ne=>ne!==R.id):[...q,R.id]):K(q=>q.includes(R.id)?q.filter(ne=>ne!==R.id):[...q,R.id])},selectedIds:I,className:"w-full sm:w-64"}),c.jsx(jr,{options:ke,selectedIds:T,onToggle:R=>{L(q=>q.includes(R)?q.filter(ne=>ne!==R):[...q,R])},onClear:()=>L([]),buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:se,selectedIds:_,onToggle:R=>{K(q=>q.includes(R)?q.filter(ne=>ne!==R):[...q,R])},onClear:()=>K([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),H.some(R=>Z(R.id))&&c.jsx(Dn,{value:j,onChange:R=>k(R),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||_.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{L([]),K([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(R=>{var ne;const q=((ne=le.find(Y=>Y.id===R))==null?void 0:ne.label)||R;return c.jsxs("button",{type:"button",onClick:()=>L(Y=>Y.filter(z=>z!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:q}),c.jsx("span",{className:"text-gray-400",children:""})]},R)}),_.map(R=>c.jsxs("button",{type:"button",onClick:()=>K(q=>q.filter(ne=>ne!==R)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:R}),c.jsx("span",{className:"text-gray-400",children:""})]},R))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var V,G;const R=B=>Math.max(1,(B.activeMs||0)/1e3),q=(B,de)=>{const X=de.isPercent,Ve=u(B,l&&!X&&s==="total"?0:2);return X?`${Ve}%`:Ve},ne=((V=H.find(B=>B.id===A.columnId))==null?void 0:V.id)||((G=H[0])==null?void 0:G.id)||"",Y=[...e.defensePlayers].filter(B=>_.length===0||_.includes(B.account)),U=[...H.some(B=>Z(B.id))?S(Y,j):Y].map(B=>{const de={},X={};return H.forEach(ie=>{var Ae;const Ve=((Ae=B.defenseTotals)==null?void 0:Ae[ie.id])||0,Ge=ie.isPercent,kt=s==="total"||Ge?Ve:s==="per1s"?Ve/R(B):Ve*60/R(B);X[ie.id]=kt,de[ie.id]=q(kt,ie)}),{row:B,values:de,numericValues:X}}).sort((B,de)=>{const X=B.numericValues[ne]??0,ie=de.numericValues[ne]??0;return(A.dir==="desc"?ie-X:X-ie)||String(B.row.account||"").localeCompare(String(de.row.account||""))});return c.jsx(cs,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:ne,sortDirection:A.dir,onSortColumn:B=>{E(de=>({columnId:B,dir:de.columnId===B&&de.dir==="desc"?"asc":"desc"}))},columns:H.map(B=>({id:B.id,label:B.label,align:"right",minWidth:90})),rows:U.map((B,de)=>({id:`${B.row.account}-${de}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:de+1}),d(B.row.profession,B.row.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:B.row.account}),j==="combined"&&Array.isArray(B.row.minionList)&&B.row.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:B.row.minionList.join(", ")}),j==="separate"&&B.row.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:B.row.minionName})]})]}),values:B.values}))})})()})]}):c.jsx(il,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),c.jsx("input",{value:n,onChange:R=>r(R.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${b} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ee.map(R=>c.jsx("button",{onClick:()=>a(R.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===R.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:R.label},R.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const R=t.find(U=>U.id===i)||t[0],q=U=>Math.max(1,(U.activeMs||0)/1e3),ne=[...e.defensePlayers],z=[...Z(R.id)?S(ne,j):ne].map(U=>{var V,G,B;return{...U,total:((V=U.defenseTotals)==null?void 0:V[R.id])||0,per1s:(((G=U.defenseTotals)==null?void 0:G[R.id])||0)/q(U),per60s:(((B=U.defenseTotals)==null?void 0:B[R.id])||0)*60/q(U)}}).sort((U,V)=>{const G=w.key==="fightTime"?Number(U.activeMs||0):Number(s==="total"?U.total:s==="per1s"?U.per1s:U.per60s),B=w.key==="fightTime"?Number(V.activeMs||0):Number(s==="total"?V.total:s==="per1s"?V.per1s:V.per60s);return(w.dir==="desc"?B-G:G-B)||U.account.localeCompare(V.account)});return c.jsx(_s,{expanded:f==="defense-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${Z(R.id)?"justify-between":"justify-end"}`,children:[Z(R.id)&&c.jsx(Dn,{value:j,onChange:U=>k(U),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>P("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>P("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:z.map((U,V)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:V+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(U.profession,U.professionList,"w-4 h-4"),c.jsxs("span",{className:"min-w-0 flex flex-col",children:[c.jsx("span",{className:"truncate",children:U.account}),Z(R.id)&&j==="combined"&&Array.isArray(U.minionList)&&U.minionList.length>0&&c.jsx("span",{className:"truncate text-[10px] text-gray-500",children:U.minionList.join(", ")}),Z(R.id)&&j==="separate"&&U.minionName&&c.jsx("span",{className:"truncate text-[10px] text-gray-400",children:U.minionName})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const G=s==="total"?U.total:s==="per1s"?U.per1s:U.per60s;return u(G,l&&s==="total"?0:2)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:U.activeMs?`${(U.activeMs/1e3).toFixed(1)}s`:"-"})]},`${R.id}-${U.account}-${V}`))})})})()})})]})},$se=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:l,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:N})=>{var V,G;const j=((V=t.find(B=>B.id==="totalMitigation"))==null?void 0:V.id)||((G=t[0])==null?void 0:G.id)||"totalMitigation",[k,A]=g.useState({key:"value",dir:"desc"}),[E,F]=g.useState({columnId:j,dir:"desc"}),T=m==="defense-mitigation",[L,_]=g.useState([]),[K,ee]=g.useState([]),[le,ke]=g.useState([]),re=e.damageMitigationPlayers||[],H=e.damageMitigationMinions||[],se=l==="minions"?H:re,I=re.length>0||H.length>0,P=t.filter(B=>B.label.toLowerCase().includes(n.trim().toLowerCase())),Z=t.map(B=>({id:B.id,label:B.label})),S=Z.filter(B=>B.label.toLowerCase().includes(n.trim().toLowerCase())),R=L.length>0?t.filter(B=>L.includes(B.id)):t,q=Array.from(new Map(se.map(B=>[B.account,B])).values()).map(B=>({id:B.account,label:B.account,icon:h(B.profession,B.professionList,"w-3 h-3")})),ne=Array.from(new Map(H.map(B=>[B.minion,B])).values()).filter(B=>B==null?void 0:B.minion).map(B=>({id:String(B.minion),label:String(B.minion)})),Y=new Set([...L.map(B=>`column:${B}`),...K.map(B=>`player:${B}`)]),z=B=>{A(de=>({key:B,dir:de.key===B&&de.dir==="desc"?"asc":"desc"}))},U=B=>f(B,d&&s==="total"?0:2);return c.jsxs("div",{id:"defense-mitigation","data-section-visible":x("defense-mitigation"),"data-section-first":b("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Rk,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),c.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?y():v("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),I?T?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:[...Z.map(B=>({...B,type:"column"})),...q.map(B=>({...B,type:"player"}))],onSelect:B=>{B.type==="column"?_(de=>de.includes(B.id)?de.filter(X=>X!==B.id):[...de,B.id]):ee(de=>de.includes(B.id)?de.filter(X=>X!==B.id):[...de,B.id])},selectedIds:Y,className:"w-full sm:w-64"}),c.jsx(jr,{options:S,selectedIds:L,onToggle:B=>{_(de=>de.includes(B)?de.filter(X=>X!==B):[...de,B])},onClear:()=>_([]),buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:q,selectedIds:K,onToggle:B=>{ee(de=>de.includes(B)?de.filter(X=>X!==B):[...de,B])},onClear:()=>ee([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),l==="minions"&&c.jsx(jr,{options:ne,selectedIds:le,onToggle:B=>{ke(de=>de.includes(B)?de.filter(X=>X!==B):[...de,B])},onClear:()=>ke([]),buttonLabel:"Minions"}),c.jsx(Dn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(L.length>0||K.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{_([]),ee([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),L.map(B=>{var X;const de=((X=Z.find(ie=>ie.id===B))==null?void 0:X.label)||B;return c.jsxs("button",{type:"button",onClick:()=>_(ie=>ie.filter(Ve=>Ve!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:de}),c.jsx("span",{className:"text-gray-400",children:""})]},B)}),K.map(B=>c.jsxs("button",{type:"button",onClick:()=>ee(de=>de.filter(X=>X!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:B}),c.jsx("span",{className:"text-gray-400",children:""})]},B))]}),l==="minions"&&le.length>0&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>ke([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),le.map(B=>c.jsxs("button",{type:"button",onClick:()=>ke(de=>de.filter(X=>X!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:B}),c.jsx("span",{className:"text-gray-400",children:""})]},B))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:se.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):P.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var ie,Ve;const B=Ge=>Math.max(1,(Ge.activeMs||0)/1e3),de=((ie=R.find(Ge=>Ge.id===E.columnId))==null?void 0:ie.id)||((Ve=R[0])==null?void 0:Ve.id)||"",X=[...se].filter(Ge=>K.length===0||K.includes(Ge.account)).filter(Ge=>l!=="minions"||!le.length?!0:le.includes(String(Ge.minion||""))).map(Ge=>{const kt={},Ae={};return R.forEach(me=>{var pe;const be=((pe=Ge.mitigationTotals)==null?void 0:pe[me.id])||0,Xe=s==="total"?be:s==="per1s"?be/B(Ge):be*60/B(Ge);Ae[me.id]=Xe,kt[me.id]=U(Xe)}),{row:Ge,values:kt,numericValues:Ae}}).sort((Ge,kt)=>{const Ae=Ge.numericValues[de]??0,me=kt.numericValues[de]??0;return(E.dir==="desc"?me-Ae:Ae-me)||String(Ge.row.account||"").localeCompare(String(kt.row.account||""))});return c.jsx(cs,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:de,sortDirection:E.dir,onSortColumn:Ge=>{F(kt=>({columnId:Ge,dir:kt.columnId===Ge&&kt.dir==="desc"?"asc":"desc"}))},columns:R.map(Ge=>({id:Ge.id,label:Ge.label,align:"right",minWidth:90})),rows:X.map((Ge,kt)=>({id:`${Ge.row.account}-${Ge.row.minion||"player"}-${kt}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:kt+1}),h(Ge.row.profession,Ge.row.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:Ge.row.account}),Ge.row.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Ge.row.minion})]})]}),values:Ge.values}))})})()})]}):c.jsx(il,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),c.jsx("input",{value:n,onChange:B=>r(B.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),c.jsx("div",{className:`${N} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:P.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):P.map(B=>c.jsx("button",{onClick:()=>a(B.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===B.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:B.label},B.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const B=t.find(ie=>ie.id===i)||t[0],de=ie=>Math.max(1,(ie.activeMs||0)/1e3),X=[...se].map(ie=>{var Ve,Ge,kt;return{...ie,total:((Ve=ie.mitigationTotals)==null?void 0:Ve[B.id])||0,per1s:(((Ge=ie.mitigationTotals)==null?void 0:Ge[B.id])||0)/de(ie),per60s:(((kt=ie.mitigationTotals)==null?void 0:kt[B.id])||0)*60/de(ie)}}).filter(ie=>l!=="minions"||!le.length?!0:le.includes(String(ie.minion||""))).sort((ie,Ve)=>{const Ge=k.key==="fightTime"?Number(ie.activeMs||0):Number(s==="total"?ie.total:s==="per1s"?ie.per1s:ie.per60s),kt=k.key==="fightTime"?Number(Ve.activeMs||0):Number(s==="total"?Ve.total:s==="per1s"?Ve.per1s:Ve.per60s);return(k.dir==="desc"?kt-Ge:Ge-kt)||ie.account.localeCompare(Ve.account)});return c.jsx(_s,{expanded:m==="defense-mitigation",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:B.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"px-4 py-2 bg-white/5",children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Dn,{value:l,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("div",{className:"ml-auto",children:c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>z("value"),className:`text-right transition-colors ${k.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",k.key==="value"?k.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>z("fightTime"),className:`text-right transition-colors ${k.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",k.key==="fightTime"?k.dir==="desc"?" ":" ":""]})]})]}),rows:X.length===0?c.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",l==="minions"?"minion":"player"," mitigation stats available"]}):c.jsx(c.Fragment,{children:X.map((ie,Ve)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:Ve+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ie.profession,ie.professionList,"w-4 h-4"),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"truncate",children:ie.account}),ie.minion&&c.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:ie.minion})]})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Ge=s==="total"?ie.total:s==="per1s"?ie.per1s:ie.per60s;return U(Ge)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ie.activeMs?`${(ie.activeMs/1e3).toFixed(1)}s`:"-"})]},`${B.id}-${ie.account}-${ie.minion||"player"}-${Ve}`))})})})()})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},Fse=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:l,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:v,closeExpandedSection:y,isSectionVisible:x,isFirstVisibleSection:b,sectionClass:w,sidebarListClass:N})=>{var Z;const[j,k]=g.useState({key:"value",dir:"desc"}),[A,E]=g.useState({columnId:((Z=t[0])==null?void 0:Z.id)||"value",dir:"desc"}),F=m==="support-detailed",[T,L]=g.useState([]),[_,K]=g.useState([]),ee=t.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),le=t.map(S=>({id:S.id,label:S.label})),ke=le.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),H=T.length>0?t.filter(S=>T.includes(S.id)):t,se=Array.from(new Map(e.supportPlayers.map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:h(S.profession,S.professionList,"w-3 h-3")})),I=new Set([...T.map(S=>`column:${S}`),..._.map(S=>`player:${S}`)]),P=S=>{k(W=>({key:S,dir:W.key===S&&W.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"support-detailed","data-section-visible":x("support-detailed"),"data-section-first":b("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Lk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),c.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?y():v("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):F?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:[...le.map(S=>({...S,type:"column"})),...se.map(S=>({...S,type:"player"}))],onSelect:S=>{S.type==="column"?L(W=>W.includes(S.id)?W.filter(R=>R!==S.id):[...W,S.id]):K(W=>W.includes(S.id)?W.filter(R=>R!==S.id):[...W,S.id])},selectedIds:I,className:"w-full sm:w-64"}),c.jsx(jr,{options:ke,selectedIds:T,onToggle:S=>{L(W=>W.includes(S)?W.filter(R=>R!==S):[...W,S])},onClear:()=>L([]),buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:se,selectedIds:_,onToggle:S=>{K(W=>W.includes(S)?W.filter(R=>R!==S):[...W,S])},onClear:()=>K([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&c.jsx(Dn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||_.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{L([]),K([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(S=>{var R;const W=((R=le.find(q=>q.id===S))==null?void 0:R.label)||S;return c.jsxs("button",{type:"button",onClick:()=>L(q=>q.filter(ne=>ne!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:W}),c.jsx("span",{className:"text-gray-400",children:""})]},S)}),_.map(S=>c.jsxs("button",{type:"button",onClick:()=>K(W=>W.filter(R=>R!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:S}),c.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ee.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var Y,z;const S=(U,V)=>{var G,B,de;if(V==="condiCleanse"){const X=((G=U.supportTotals)==null?void 0:G.condiCleanse)||0,ie=((B=U.supportTotals)==null?void 0:B.condiCleanseSelf)||0;return l==="all"?X+ie:X}return((de=U.supportTotals)==null?void 0:de[V])||0},W=U=>Math.max(1,(U.activeMs||0)/1e3),R=(U,V)=>{const G=U.isTime?1:d&&s==="total"?0:2;return f(V,G)},q=((Y=H.find(U=>U.id===A.columnId))==null?void 0:Y.id)||((z=H[0])==null?void 0:z.id)||"",ne=[...e.supportPlayers].filter(U=>_.length===0||_.includes(U.account)).map(U=>{const V={},G={};return H.forEach(B=>{const de=S(U,B.id),X=s==="total"?de:s==="per1s"?de/W(U):de*60/W(U);G[B.id]=X,V[B.id]=R(B,X)}),{row:U,values:V,numericValues:G}}).sort((U,V)=>{const G=U.numericValues[q]??0,B=V.numericValues[q]??0;return(A.dir==="desc"?B-G:G-B)||String(U.row.account||"").localeCompare(String(V.row.account||""))});return c.jsx(cs,{title:"Support - Dense View",subtitle:"Support",sortColumnId:q,sortDirection:A.dir,onSortColumn:U=>{E(V=>({columnId:U,dir:V.columnId===U&&V.dir==="desc"?"asc":"desc"}))},columns:H.map(U=>({id:U.id,label:U.label,align:"right",minWidth:90})),rows:ne.map((U,V)=>({id:`${U.row.account}-${V}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:V+1}),h(U.row.profession,U.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:U.row.account})]}),values:U.values}))})})()})]}):c.jsx(il,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),c.jsx("input",{value:n,onChange:S=>r(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${N} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ee.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ee.map(S=>c.jsx("button",{onClick:()=>a(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===S.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:S.label},S.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const S=t.find(ne=>ne.id===i)||t[0],W=ne=>{var Y,z,U;if(S.id==="condiCleanse"){const V=((Y=ne.supportTotals)==null?void 0:Y.condiCleanse)||0,G=((z=ne.supportTotals)==null?void 0:z.condiCleanseSelf)||0;return l==="all"?V+G:V}return((U=ne.supportTotals)==null?void 0:U[S.id])||0},R=ne=>Math.max(1,(ne.activeMs||0)/1e3),q=[...e.supportPlayers].map(ne=>({...ne,total:W(ne),per1s:W(ne)/R(ne),per60s:W(ne)*60/R(ne)})).sort((ne,Y)=>{const z=j.key==="fightTime"?Number(ne.activeMs||0):Number(s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s),U=j.key==="fightTime"?Number(Y.activeMs||0):Number(s==="total"?Y.total:s==="per1s"?Y.per1s:Y.per60s);return(j.dir==="desc"?U-z:z-U)||ne.account.localeCompare(Y.account)});return c.jsx(_s,{expanded:m==="support-detailed",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:S.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:c.jsxs(c.Fragment,{children:[S.id==="condiCleanse"?c.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[c.jsx(Dn,{value:l,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):c.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:c.jsx(Dn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>P("value"),className:`text-right transition-colors ${j.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",j.key==="value"?j.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>P("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:q.map((ne,Y)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:Y+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(ne.profession,ne.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:ne.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const z=s==="total"?ne.total:s==="per1s"?ne.per1s:ne.per60s,U=S.isTime?1:d&&s==="total"?0:2;return f(z,U)})()}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:ne.activeMs?`${(ne.activeMs/1e3).toFixed(1)}s`:"-"})]},`${S.id}-${ne.account}-${Y}`))})})})()})})]})},Rse=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:l,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:v,isFirstVisibleSection:y,sectionClass:x})=>{var ke;const[b,w]=g.useState({key:"value",dir:"desc"}),[N,j]=g.useState({columnId:((ke=t[0])==null?void 0:ke.id)||"value",dir:"desc"}),k=f==="healing-stats",[A,E]=g.useState([]),[F,T]=g.useState([]),L=Array.from(new Map(e.healingPlayers.map(re=>[re.account,re])).values()).map(re=>({id:re.account,label:re.account,icon:d(re.profession,re.professionList,"w-3 h-3")})),_=new Set([...F.map(re=>`column:${re}`),...A.map(re=>`player:${re}`)]),K=t.map(re=>({id:re.id,label:re.label})),ee=F.length>0?t.filter(re=>F.includes(re.id)):t,le=re=>{w(H=>({key:re,dir:H.key===re&&H.dir==="desc"?"asc":"desc"}))};return c.jsxs("div",{id:"healing-stats","data-section-visible":v("healing-stats"),"data-section-first":y("healing-stats"),className:x("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(IO,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),c.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):k?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:[...K.map(re=>({...re,type:"column"})),...L.map(re=>({...re,type:"player"}))],onSelect:re=>{re.type==="column"?T(H=>H.includes(re.id)?H.filter(se=>se!==re.id):[...H,re.id]):E(H=>H.includes(re.id)?H.filter(se=>se!==re.id):[...H,re.id])},selectedIds:_,className:"w-full sm:w-64"}),c.jsx(Dn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(jr,{options:K,selectedIds:F,onToggle:re=>{T(H=>H.includes(re)?H.filter(se=>se!==re):[...H,re])},onClear:()=>T([]),buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(l.resUtilitySkills||[]).map(re=>({value:re.id,label:re.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(jr,{options:L,selectedIds:A,onToggle:re=>{E(H=>H.includes(re)?H.filter(se=>se!==re):[...H,re])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})})]}),(F.length>0||A.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{T([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),F.map(re=>{var se;const H=((se=K.find(I=>I.id===re))==null?void 0:se.label)||re;return c.jsxs("button",{type:"button",onClick:()=>T(I=>I.filter(P=>P!==re)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:H}),c.jsx("span",{className:"text-gray-400",children:""})]},re)}),A.map(re=>c.jsxs("button",{type:"button",onClick:()=>E(H=>H.filter(se=>se!==re)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:re}),c.jsx("span",{className:"text-gray-400",children:""})]},re))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var P,Z;const re=S=>Math.max(1,(S.activeMs||0)/1e3),H=S=>{const W=S.baseField==="resUtility",R=W||i==="total"?"":i==="offSquad"?"offSquad":i;return W?s==="all"?"resUtility":`resUtility_${s}`:R?`${R}${S.baseField[0].toUpperCase()}${S.baseField.slice(1)}`:S.baseField},se=[...e.healingPlayers].filter(S=>A.length===0||A.includes(S.account)).filter(S=>Object.values(S.healingTotals||{}).some(W=>Number(W)>0)).map(S=>{const W={},R={};return ee.forEach(q=>{var U;const ne=H(q),Y=Number(((U=S.healingTotals)==null?void 0:U[ne])??0),z=q.perSecond?Y/re(S):Y;R[q.id]=z,W[q.id]=u(z,q.decimals)}),{row:S,values:W,numericValues:R}}).sort((S,W)=>{var z,U;const R=((z=ee.find(V=>V.id===N.columnId))==null?void 0:z.id)||((U=ee[0])==null?void 0:U.id)||"",q=S.numericValues[R]??0,ne=W.numericValues[R]??0;return(N.dir==="desc"?ne-q:q-ne)||String(S.row.account||"").localeCompare(String(W.row.account||""))}),I=((P=ee.find(S=>S.id===N.columnId))==null?void 0:P.id)||((Z=ee[0])==null?void 0:Z.id)||"";return c.jsx(cs,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:I,sortDirection:N.dir,onSortColumn:S=>{j(W=>({columnId:S,dir:W.columnId===S&&W.dir==="desc"?"asc":"desc"}))},columns:ee.map(S=>({id:S.id,label:S.label,align:"right",minWidth:90})),rows:se.map((S,W)=>({id:`${S.row.account}-${W}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:W+1}),d(S.row.profession,S.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.row.account})]}),values:S.values}))})})()})]}):c.jsx(il,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),c.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(re=>c.jsx("button",{onClick:()=>r(re.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===re.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:re.label},re.id))})]}),content:c.jsx(c.Fragment,{children:(()=>{const re=t.find(S=>S.id===n)||t[0],H=re.baseField==="resUtility",se=S=>Math.max(1,(S.activeMs||0)/1e3),I=H||i==="total"?"":i==="offSquad"?"offSquad":i,P=H?s==="all"?"resUtility":`resUtility_${s}`:I?`${I}${re.baseField[0].toUpperCase()}${re.baseField.slice(1)}`:re.baseField,Z=[...e.healingPlayers].filter(S=>Object.values(S.healingTotals||{}).some(W=>Number(W)>0)).map(S=>{var q;const W=Number(((q=S.healingTotals)==null?void 0:q[P])??0),R=re.perSecond?W/se(S):W;return{...S,value:R}}).sort((S,W)=>{const R=b.key==="fightTime"?Number(S.activeMs||0):Number(S.value||0),q=b.key==="fightTime"?Number(W.activeMs||0):Number(W.value||0);return(b.dir==="desc"?q-R:R-q)||S.account.localeCompare(W.account)});return c.jsx(_s,{expanded:f==="healing-stats",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:re.label}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:c.jsxs(c.Fragment,{children:[H&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:c.jsx(Dn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(l.resUtilitySkills||[]).map(S=>({value:S.id,label:S.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!H&&c.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:c.jsx(Dn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>le("value"),className:`text-right transition-colors ${b.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[re.label,b.key==="value"?b.dir==="desc"?" ":" ":""]}),c.jsxs("button",{type:"button",onClick:()=>le("fightTime"),className:`text-right transition-colors ${b.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",b.key==="fightTime"?b.dir==="desc"?" ":" ":""]})]})]}),rows:c.jsx(c.Fragment,{children:Z.length===0?c.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):Z.map((S,W)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:W+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(S.profession,S.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:S.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:u(S.value,re.decimals)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeMs?`${(S.activeMs/1e3).toFixed(1)}s`:"-"})]},`${re.id}-${S.account}-${W}`))})})})()})})]})},Bse=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",zse=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:v,sidebarListClass:y})=>{const[x,b]=g.useState("total"),[w,N]=g.useState("desc"),[j,k]=g.useState({columnId:"",dir:"desc"}),A=u==="special-buffs",[E,F]=g.useState([]),[T,L]=g.useState([]),_=e.specialTables||[],ee=E.length>0?_.filter(P=>E.includes(P.id)):_,le=r.map(P=>({id:P.id,label:P.name,icon:P.icon?c.jsx("img",{src:P.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),ke=Array.from(new Map((e.specialTables||[]).flatMap(P=>P.rows||[]).filter(P=>P.account).map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,icon:l(P.profession,P.professionList,"w-3 h-3")})),re=new Set([...E.map(P=>`column:${P}`),...T.map(P=>`player:${P}`)]),H=g.useMemo(()=>{if(!(s!=null&&s.rows))return[];const P=[...s.rows];return P.sort((Z,S)=>{const W=Number((Z==null?void 0:Z[x])??0),R=Number((S==null?void 0:S[x])??0),q=w==="desc"?R-W:W-R;return q!==0?q:String((Z==null?void 0:Z.account)||"").localeCompare(String((S==null?void 0:S.account)||""))}),P},[s,x,w]),se=P=>{if(x===P){N(Z=>Z==="desc"?"asc":"desc");return}b(P),N("desc")},I=P=>x!==P?"":w==="desc"?" ":" ";return c.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:v("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(mx,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),c.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),e.specialTables.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):A?c.jsxs("div",{className:"flex flex-col gap-4",children:[c.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(Is,{options:[..._.map(P=>({id:P.id,label:P.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(P=>P.rows||[]).filter(P=>P.account).map(P=>[P.account,P])).values()).map(P=>({id:P.account,label:P.account,type:"player",icon:l(P.profession,P.professionList,"w-3 h-3")}))],onSelect:P=>{P.type==="column"?F(Z=>Z.includes(P.id)?Z.filter(S=>S!==P.id):[...Z,P.id]):L(Z=>Z.includes(P.id)?Z.filter(S=>S!==P.id):[...Z,P.id])},selectedIds:re,className:"w-full sm:w-64"}),c.jsx(jr,{options:le,selectedIds:E,onToggle:P=>{F(Z=>Z.includes(P)?Z.filter(S=>S!==P):[...Z,P])},onClear:()=>F([]),buttonIcon:c.jsx(Ts,{className:"h-3.5 w-3.5"})}),c.jsx(jr,{options:ke,selectedIds:T,onToggle:P=>{L(Z=>Z.includes(P)?Z.filter(S=>S!==P):[...Z,P])},onClear:()=>L([]),buttonLabel:"Players",buttonIcon:c.jsx(_r,{className:"h-3.5 w-3.5"})}),c.jsx(Dn,{value:x,onChange:P=>b(P),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&c.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[c.jsx("button",{type:"button",onClick:()=>{F([]),L([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(P=>{var S;const Z=((S=_.find(W=>W.id===P))==null?void 0:S.name)||P;return c.jsxs("button",{type:"button",onClick:()=>F(W=>W.filter(R=>R!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:Z}),c.jsx("span",{className:"text-gray-400",children:""})]},P)}),T.map(P=>c.jsxs("button",{type:"button",onClick:()=>L(Z=>Z.filter(S=>S!==P)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[c.jsx("span",{children:P}),c.jsx("span",{className:"text-gray-400",children:""})]},P))]})]}),c.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:_.length===0?c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var ne,Y;const P=ee,Z=new Map,S=new Map;P.forEach(z=>{const U=new Map;z.rows.forEach(V=>{const G=V.account||V.name||V.id;G&&(U.set(G,V),S.has(G)||S.set(G,V))}),Z.set(z.id,U)});const W=Array.from(S.entries()).filter(([z])=>T.length===0||T.includes(String(z))).map(([z,U])=>{const V={},G={};return P.forEach(B=>{var Ve;const de=(Ve=Z.get(B.id))==null?void 0:Ve.get(z);if(!de){V[B.id]="-",G[B.id]=0;return}if(x==="duration"){V[B.id]=de.duration?`${de.duration.toFixed(1)}s`:"-",G[B.id]=Number(de.duration||0);return}const X=x==="total"?de.total:de.perSecond,ie=x==="total"?0:1;G[B.id]=Number(X||0),V[B.id]=o(X||0,ie)}),{key:z,row:U,values:V,numericValues:G}}),R=((ne=P.find(z=>z.id===j.columnId))==null?void 0:ne.id)||(i&&P.some(z=>z.id===i)?i:void 0)||((Y=P[0])==null?void 0:Y.id)||"",q=[...W].sort((z,U)=>{if(!R)return String(z.key).localeCompare(String(U.key));const V=z.numericValues[R]??0,G=U.numericValues[R]??0;return(j.dir==="desc"?G-V:V-G)||String(z.key).localeCompare(String(U.key))});return c.jsx(cs,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:R,sortDirection:j.dir,onSortColumn:z=>{k(U=>({columnId:z,dir:U.columnId===z&&U.dir==="desc"?"asc":"desc"}))},columns:P.map(z=>({id:z.id,label:c.jsx(Cr,{name:z.name,iconUrl:z.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:q.map((z,U)=>({id:`${z.key}-${U}`,label:c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-gray-500 font-mono",children:U+1}),l(z.row.profession,z.row.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:z.row.account||z.row.name||z.key})]}),values:z.values}))})})()})]}):c.jsx(il,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),c.jsx("input",{value:t,onChange:P=>n(P.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${y} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(P=>c.jsx("button",{onClick:()=>a(P.id),title:P.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===P.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(Cr,{name:Bse(P.name),iconUrl:P.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},P.id))})]}),content:c.jsx(c.Fragment,{children:s?c.jsx(_s,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(Cr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>se("total"),className:`text-right transition-colors ${x==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",I("total")]}),c.jsxs("button",{type:"button",onClick:()=>se("perSecond"),className:`text-right transition-colors ${x==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",I("perSecond")]}),c.jsxs("button",{type:"button",onClick:()=>se("duration"),className:`text-right transition-colors ${x==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",I("duration")]})]}),rows:c.jsx(c.Fragment,{children:H.map((P,Z)=>c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:Z+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(P.profession,P.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:P.account})]}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(P.total).toLocaleString()}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:o(P.perSecond,1)}),c.jsx("div",{className:"text-right font-mono text-gray-400",children:P.duration?`${P.duration.toFixed(1)}s`:"-"})]},`${s.id}-${P.account}-${Z}`))})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},Use=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",Wse=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:l,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:v,sidebarListClass:y})=>{const[x,b]=g.useState("desc"),w=u==="sigil-relic-uptime",N=g.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((k,A)=>{const E=Number((k==null?void 0:k.uptimePerSecond)??(k==null?void 0:k.perSecond)??0),F=Number((A==null?void 0:A.uptimePerSecond)??(A==null?void 0:A.perSecond)??0),T=x==="desc"?F-E:E-F;return T!==0?T:String((k==null?void 0:k.account)||"").localeCompare(String((A==null?void 0:A.account)||""))}),j},[s,x]);return c.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:v("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Bk,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),c.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),e?c.jsx(il,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),c.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),c.jsx("div",{className:`${y} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(j=>c.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:c.jsx(Cr,{name:Use(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:c.jsx(c.Fragment,{children:s?c.jsx(_s,{expanded:w,maxHeightClass:"max-h-72",header:c.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[c.jsx("div",{className:"text-sm font-semibold text-gray-200",children:c.jsx(Cr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[c.jsx("div",{className:"text-center",children:"#"}),c.jsx("div",{children:"Player"}),c.jsxs("button",{type:"button",onClick:()=>b(j=>j==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",x==="desc"?"":""]})]}),rows:c.jsx(c.Fragment,{children:N.map((j,k)=>{const A=Number(j.uptimePerSecond??j.perSecond??0)*100;return c.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[c.jsx("div",{className:"text-center text-gray-500 font-mono",children:k+1}),c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l(j.profession,j.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:j.account})]}),c.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(A,1),"%"]})]},`${s.id}-${j.account}-${k}`)})})}):c.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},Vse=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:l})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=g.useState(""),[m,p]=g.useState(""),[v,y]=g.useState(null);g.useEffect(()=>{var K,ee,le;if(u.length===0){h(""),p("");return}const L=String(((K=u[0])==null?void 0:K.id)||""),_=String(((ee=u[1])==null?void 0:ee.id)||((le=u[0])==null?void 0:le.id)||"");h(ke=>ke&&u.some(re=>String(re.id)===ke)?ke:L),p(ke=>ke&&u.some(re=>String(re.id)===ke)?ke:_)},[u]);const x=g.useMemo(()=>u.find(L=>String(L.id)===String(f))||null,[u,f]),b=g.useMemo(()=>u.find(L=>String(L.id)===String(m))||null,[u,m]),w=g.useMemo(()=>{if(!x||!b)return[];const L=new Map,_=(K,ee,le,ke)=>{const re=String(K||"Unknown"),H=L.get(re)||{label:re,aDamage:0,aShare:0,bDamage:0,bShare:0};ee==="a"?(H.aDamage=Number(le||0),H.aShare=Number(ke||0)):(H.bDamage=Number(le||0),H.bShare=Number(ke||0)),L.set(re,H)};return(x.targetFocus||[]).forEach(K=>_(K.label,"a",K.damage,K.share)),(b.targetFocus||[]).forEach(K=>_(K.label,"b",K.damage,K.share)),Array.from(L.values()).map(K=>({...K,shareDelta:K.bShare-K.aShare})).sort((K,ee)=>Math.abs(ee.shareDelta)-Math.abs(K.shareDelta)||ee.bDamage+ee.aDamage-(K.bDamage+K.aDamage))},[x,b]),N=g.useMemo(()=>{if(!v)return w;const L=v.direction==="asc"?1:-1,_=v.key;return[...w].sort((K,ee)=>{const le=(Number(K[_])-Number(ee[_]))*L;return le!==0?le:K.label.localeCompare(ee.label)})},[w,v]),j=g.useMemo(()=>{if(!x||!b)return[];const L=new Map((x.squadMetrics||[]).map(ee=>[ee.metricId,ee])),_=new Map((b.squadMetrics||[]).map(ee=>[ee.metricId,ee]));return Array.from(new Set([...L.keys(),..._.keys()])).map(ee=>{const le=L.get(ee),ke=_.get(ee),re=!!((le==null?void 0:le.higherIsBetter)??(ke==null?void 0:ke.higherIsBetter)??!0),H=Number((le==null?void 0:le.value)||0),se=Number((ke==null?void 0:ke.value)||0);return{metricId:ee,metricLabel:String((le==null?void 0:le.metricLabel)||(ke==null?void 0:ke.metricLabel)||ee),higherIsBetter:re,a:le,b:ke,delta:se-H}})},[x,b]),k=L=>`${t((Number(L)||0)*100,1)}%`,A=L=>L==="squadKdr"?2:0,E=L=>{y(_=>!_||_.key!==L?{key:L,direction:"desc"}:{key:L,direction:_.direction==="desc"?"asc":"desc"})},F=L=>(v==null?void 0:v.key)===L?v.direction==="desc"?" ":" ":"",T=L=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(v==null?void 0:v.key)===L?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return c.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:l("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Ek,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),c.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]}),d?c.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[c.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),c.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?c.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:L=>h(L.target.value),children:u.map(L=>c.jsxs("option",{value:L.id,children:[L.shortLabel," - ",L.fullLabel]},`fight-a-${L.id}`))})]}),c.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",c.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:L=>p(L.target.value),children:u.map(L=>c.jsxs("option",{value:L.id,children:[L.shortLabel," - ",L.fullLabel]},`fight-b-${L.id}`))})]})]}),c.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[c.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),c.jsxs("div",{children:["Target focus compares how your squad distributed damage ",c.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",c.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",c.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",c.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(_s,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>E("aDamage"),children:[x==null?void 0:x.shortLabel," Damage",F("aDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>E("aShare"),children:[x==null?void 0:x.shortLabel," Share",F("aShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>E("bDamage"),children:[b==null?void 0:b.shortLabel," Damage",F("bDamage")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>E("bShare"),children:[b==null?void 0:b.shortLabel," Share",F("bShare")]})}),c.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:c.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>E("shareDelta"),children:["Share Delta",F("shareDelta")]})})]})})]})}):null,rows:w.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[220px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:N.map(L=>c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:L.label}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(L.aDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:k(L.aShare)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(L.bDamage,0)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:k(L.bShare)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${L.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[L.shareDelta>=0?"+":"",k(L.shareDelta)]})]},`focus-${L.label}`))})]})}):c.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[c.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),c.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),c.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:c.jsx(_s,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:c.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:j.length>0?c.jsx("div",{className:"bg-white/5 overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),c.jsxs("th",{className:"text-right py-2 px-3",children:[x==null?void 0:x.shortLabel," Value"]}),c.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:j.length>0?c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[c.jsxs("colgroup",{children:[c.jsx("col",{className:"w-[320px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"}),c.jsx("col",{className:"w-[120px]"})]}),c.jsx("tbody",{children:j.map(L=>{var ee,le;const _=L.higherIsBetter?L.delta>=0:L.delta<=0,K=A(L.metricId);return c.jsxs("tr",{className:"border-t border-white/5",children:[c.jsx("td",{className:"py-2 px-3 text-gray-200",children:L.metricLabel}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ee=L.a)==null?void 0:ee.value)||0),K)}),c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((le=L.b)==null?void 0:le.value)||0),K)}),c.jsxs("td",{className:`py-2 px-3 text-right font-mono ${_?"text-emerald-300":"text-red-300"}`,children:[L.delta>0?"+":"",t(L.delta,K)]})]},`performer-${L.metricId}`)})})]})}):c.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},Hse=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs(c.Fragment,{children:[c.jsx("div",{id:"kdr",className:"scroll-mt-24"}),c.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[c.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),c.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:c.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[c.jsxs("div",{className:"text-left",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),c.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),qse=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,expandedSection:r,expandedSectionClosing:i,openExpandedSection:a,closeExpandedSection:s,isSectionVisible:o,isFirstVisibleSection:l,sectionClass:u})=>{const d="fight-breakdown",f=r===d,h=Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[],m=g.useMemo(()=>{const b=new Map;return h.forEach(w=>{(Array.isArray(w==null?void 0:w.teamBreakdown)?w.teamBreakdown:[]).forEach(j=>{const k=String((j==null?void 0:j.teamId)??"").trim(),A=Number((j==null?void 0:j.count)||0);!k||!Number.isFinite(A)||A<=0||b.set(k,(b.get(k)||0)+A)})}),Array.from(b.entries()).sort((w,N)=>{const j=N[1]-w[1];return j!==0?j:w[0].localeCompare(N[0],void 0,{numeric:!0})}).map(([w])=>w)},[h]),p=b=>{const w=b==null?void 0:b.timestamp;let N=0;if(typeof w=="number")N=w>1e12?w:w*1e3;else if(typeof w=="string"&&w.trim()){const E=Number(w);if(Number.isFinite(E)&&E>0)N=E>1e12?E:E*1e3;else{const F=Date.parse(w);Number.isFinite(F)&&F>0&&(N=F)}}const j=N>0?new Date(N).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(N).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",k=(b==null?void 0:b.mapName)||(b==null?void 0:b.map)||"Unknown Map",A=String(k).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${j}  ${A}`},v=b=>{const w=p(b);return b!=null&&b.permalink?c.jsx("button",{onClick:()=>{var N;b.permalink&&((N=window.electronAPI)!=null&&N.openExternal)?window.electronAPI.openExternal(b.permalink):b.permalink&&window.open(b.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:w}):c.jsx("span",{className:"text-gray-500",children:"Pending"})},y=g.useMemo(()=>[{id:"duration",label:"Duration",align:"left",minWidth:72},{id:"outcome",label:"Outcome",align:"left",minWidth:72},{id:"squad",label:"Squad",align:"right",minWidth:72},{id:"allies",label:"Allies",align:"right",minWidth:72},{id:"enemies",label:"Enemies",align:"right",minWidth:72},...m.map(w=>({id:`team-${w}`,label:`Team ${w}`,align:"right",minWidth:72})),{id:"alliesDown",label:"Allies Down",align:"right",minWidth:88},{id:"alliesDead",label:"Allies Dead",align:"right",minWidth:88},{id:"alliesRevived",label:"Allies Revived",align:"right",minWidth:102},{id:"rallies",label:"Rallies",align:"right",minWidth:72},{id:"enemyDowns",label:"Enemy Downs",align:"right",minWidth:88},{id:"enemyDeaths",label:"Enemy Deaths",align:"right",minWidth:88},{id:"outgoingDmg",label:"Outgoing Dmg",align:"right",minWidth:110},{id:"incomingDmg",label:"Incoming Dmg",align:"right",minWidth:110},{id:"damageDelta",label:"Damage Delta",align:"right",minWidth:98},{id:"barrierIn",label:"Barrier Absorb",align:"right",minWidth:110},{id:"barrierOut",label:"Enemy Barrier Absorb",align:"right",minWidth:146},{id:"barrierDelta",label:"Barrier Delta",align:"right",minWidth:98}],[m]),x=g.useMemo(()=>h.map((b,w)=>{const N=Number((b.totalOutgoingDamage||0)-(b.totalIncomingDamage||0)),j=Number((b.outgoingBarrierAbsorbed||0)-(b.incomingBarrierAbsorbed||0)),k={duration:b.duration||"--:--",outcome:c.jsx("span",{className:`font-semibold ${b.isWin===!0?"text-emerald-300":b.isWin===!1?"text-red-300":"text-amber-200"}`,children:b.isWin===!0?"Win":b.isWin===!1?"Loss":"Unknown"}),squad:c.jsx(_u,{count:b.squadCount??0,classCounts:b.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"}),allies:c.jsx(_u,{count:b.allyCount??0,classCounts:b.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"}),enemies:c.jsx(_u,{count:b.enemyCount??0,classCounts:b.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"}),alliesDown:Number(b.alliesDown??0),alliesDead:Number(b.alliesDead??0),alliesRevived:Number(b.alliesRevived??0),rallies:Number(b.rallies??0),enemyDowns:Number(b.enemyDowns??0),enemyDeaths:Number(b.enemyDeaths??0),outgoingDmg:Number(b.totalOutgoingDamage||0).toLocaleString(),incomingDmg:Number(b.totalIncomingDamage||0).toLocaleString(),damageDelta:c.jsx("span",{className:N<0?"text-red-300":"text-emerald-300",children:N.toLocaleString()}),barrierIn:Number(b.incomingBarrierAbsorbed||0).toLocaleString(),barrierOut:Number(b.outgoingBarrierAbsorbed||0).toLocaleString(),barrierDelta:c.jsx("span",{className:j<0?"text-emerald-300":"text-red-300",children:j.toLocaleString()})};return m.forEach(A=>{const F=(Array.isArray(b.teamBreakdown)?b.teamBreakdown:[]).find(T=>String((T==null?void 0:T.teamId)??"")===A);k[`team-${A}`]=Number((F==null?void 0:F.count)||0)}),{id:String(b.id||`${b.label}-${w}`),label:c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:w+1}),v(b)]}),values:k}}),[h,m]);return c.jsx("div",{id:d,"data-section-visible":o(d),"data-section-first":l(d),className:u(d,`mt-6 stats-share-exclude ${f?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${i?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:c.jsxs("div",{className:`bg-white/5 border border-white/10 rounded-2xl p-6 ${f?"rounded-none border-0 min-h-full":""}`,children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4 relative",children:[c.jsx("h3",{className:`text-lg font-bold text-gray-200 ${f?"pr-10 sm:pr-0":""}`,children:"Fight Breakdown"}),c.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${f?"pr-10 sm:pr-0":""}`,children:[!f&&c.jsx(Dn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[h.length," Fights"]}),c.jsx("button",{type:"button",onClick:()=>f?s():a(d),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${f?"absolute top-0 right-0 sm:static":""}`,"aria-label":f?"Close Fight Breakdown":"Expand Fight Breakdown",title:f?"Close":"Expand",children:f?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]})]}),h.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):f?c.jsx(cs,{title:"Fight Breakdown (All Columns)",subtitle:"Fullscreen dense view combining Sizes, Outcome, Damage, and Barrier metrics.",className:"fight-breakdown-dense",columns:y,rows:x}):c.jsx("div",{className:"overflow-x-auto",children:c.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),c.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),c.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),m.length===0?c.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):m.map(b=>c.jsx("th",{className:"text-right py-2 px-3",children:`Team ${b}`},b))]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),c.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),c.jsx("tbody",{children:h.map((b,w)=>c.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:w+1}),c.jsx("td",{className:"py-2 px-3 w-[240px]",children:v(b)}),c.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:b.duration||"--:--"}),c.jsx("td",{className:`py-2 px-3 font-semibold ${b.isWin===!0?"text-emerald-300":b.isWin===!1?"text-red-300":"text-amber-200"}`,children:b.isWin===!0?"Win":b.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(_u,{count:b.squadCount??0,classCounts:b.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(_u,{count:b.allyCount??0,classCounts:b.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:c.jsx(_u,{count:b.enemyCount??0,classCounts:b.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),m.length===0?c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):m.map(N=>{const k=(Array.isArray(b.teamBreakdown)?b.teamBreakdown:[]).find(A=>String((A==null?void 0:A.teamId)??"")===N);return c.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((k==null?void 0:k.count)||0)},N)})]}),t==="outcomes"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.alliesDown??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.alliesDead??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.alliesRevived??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.rallies??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.enemyDowns??0}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:b.enemyDeaths??0})]}),t==="damage"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(b.totalOutgoingDamage||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(b.totalIncomingDamage||0).toLocaleString()}),(()=>{const N=Number((b.totalOutgoingDamage||0)-(b.totalIncomingDamage||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${N<0?"text-red-300":"text-emerald-300"}`,children:N.toLocaleString()})})()]}),t==="barrier"&&c.jsxs(c.Fragment,{children:[c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(b.incomingBarrierAbsorbed||0).toLocaleString()}),c.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(b.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const N=Number((b.outgoingBarrierAbsorbed||0)-(b.incomingBarrierAbsorbed||0));return c.jsx("td",{className:`py-2 px-3 text-right font-mono ${N<0?"text-emerald-300":"text-red-300"}`,children:N.toLocaleString()})})()]})]},b.id||`${b.label}-${w}`))})]})})})]})})},oT={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},Kse=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:l,renderProfessionIcon:u})=>{const d=oT[r]||oT.blue,f=(n==null?void 0:n.value)??0,h=l?l(f):Math.round(f).toLocaleString();return c.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:c.jsx(e,{className:"w-6 h-6"})}),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),c.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",c.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),c.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),c.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),c.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&c.jsxs("div",{className:"mt-3 stats-share-exclude",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?c.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>c.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[c.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),c.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),c.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),c.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:l?l(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):c.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},Gse=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},lT=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},Yse=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:l,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?c.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(Wc,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&c.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[c.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),c.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[c.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:c.jsx(g8,{className:"w-10 h-10 text-yellow-400"})}),c.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx(mx,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),c.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),c.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[c.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),c.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),c.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[c.jsx($g,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),c.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>l(m.name)).map((m,p)=>c.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[c.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),c.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:lT(m.val,s)})]},p))})]}),c.jsxs("div",{className:"hidden lg:block text-right",children:[c.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),c.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),c.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),c.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,v,y,x,b;return c.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[c.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),c.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((v=m.data)==null?void 0:v.account)||""}),c.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((y=m.data)==null?void 0:y.profession)||"Unknown"})]})]}),(b=(x=m.data)==null?void 0:x.topStats)!=null&&b.some(w=>l(w.name))?c.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>l(w.name)).map((w,N)=>c.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[c.jsx("span",{className:"leading-none",children:w.name}),c.jsx("span",{className:"tabular-nums leading-none",children:lT(w.val,s)})]},N))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,v=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,y=m?"":"Total ",x=m?" /s":"",b=[{icon:w8,title:`Down Contribution${x}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:kd,title:`${y}Barrier${x}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:IO,title:`${y}Healing${x}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:D8,title:`${y}Dodges${x}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:wm,title:`${y}Strips${x}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:b8,title:`${y}Cleanses${x}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:y8,title:`${y}CC${x}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:FO,title:`${y}Stab Gen${x}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:p8,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=N=>!m||!Number.isFinite(N)?s(N):o(N,2);return c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:b.map(N=>{var F,T,L,_;const j=i==="all",k=Gse((v==null?void 0:v[N.statKey])||[],N.higherIsBetter),A=k[0],E=A?{...N.data,value:Number(A.value||0),player:A.account||((F=N.data)==null?void 0:F.player)||"-",count:A.count||((T=N.data)==null?void 0:T.count)||0,profession:A.profession||((L=N.data)==null?void 0:L.profession)||"Unknown",professionList:A.professionList||((_=N.data)==null?void 0:_.professionList)||[]}:N.data;return c.jsx(Kse,{...N,data:E,active:j,onClick:()=>a(K=>K==="all"?null:"all"),rows:k,formatValue:w,renderProfessionIcon:u},N.statKey)})})})()]}):null,Xse=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",l=o?"Down Contrib":"Damage",u=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=g.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((v,y)=>{const x=Number((v==null?void 0:v[u])||0);return Number((y==null?void 0:y[u])||0)-x||Number((y==null?void 0:y.hits)||0)-Number((v==null?void 0:v.hits)||0)||String((v==null?void 0:v.name)||"").localeCompare(String((y==null?void 0:y.name)||""))}),[o,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...h.map(v=>Number((v==null?void 0:v[u])||0))),[h,u]),p=typeof n=="function";return c.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[c.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(Tk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l})]}),p&&c.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(v=>{const y=(t||e.topSkillsMetric)===v.id;return c.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(v.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${y?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:v.label},v.id)})})]}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((v,y)=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(Cr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(v[u]||0).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(v[u]||0)/m*100}%`}})})]})]},`outgoing-${v.name||"unknown"}-${y}`)),h.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),c.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[c.jsx("div",{className:"flex items-center justify-between mb-6",children:c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(d8,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),c.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),c.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((v,y)=>{var x;return c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",y+1]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[c.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:c.jsx(Cr,{name:v.name,iconUrl:v.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),c.jsxs("div",{className:"text-right shrink-0",children:[c.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(v.damage).toLocaleString()}),c.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",v.hits.toLocaleString()," hits)"]})]})]}),c.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:c.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${v.damage/(((x=e.topIncomingSkills[0])==null?void 0:x.damage)||1)*100}%`}})})]})]},`incoming-${v.name||"unknown"}-${y}`)}),e.topIncomingSkills.length===0&&c.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},Qse=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return c.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(_r,{className:"w-5 h-5 text-green-400"}),"Classes"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(o1,{children:[c.jsx(D0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,l)=>c.jsx(Od,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Os,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?c.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:o.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(fx,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[c.jsx("div",{className:"h-[240px] sm:h-full",children:c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(o1,{children:[c.jsx(D0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,l)=>c.jsx(Od,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${l}`))}),c.jsx(Os,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),c.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:c.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>c.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[c.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?c.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):c.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),c.jsx("span",{className:"min-w-0 truncate",children:o.name}),c.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},Zse=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>c.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(_r,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),c.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[c.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),c.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>c.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):c.jsx("div",{className:"h-[260px] w-full",children:c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(Zl,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),c.jsx(Qo,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),c.jsx(Os,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var f;const l=(f=o==null?void 0:o[0])==null?void 0:f.payload,u=(l==null?void 0:l.isWin)===!0?"Win":(l==null?void 0:l.isWin)===!1?"Loss":"Unknown";return`${typeof(l==null?void 0:l.label)=="string"&&l.label.trim().length>0?l.label:`Log ${s}`}  ${u}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),c.jsx(ua,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),c.jsx(ua,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),Jse=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>c.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[c.jsx(_k,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),c.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(o1,{children:[c.jsx(D0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>c.jsx(Od,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),c.jsx(Os,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),c.jsx(a3,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>c.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",c.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),cT=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:l,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:v,spikeMode:y,setSpikeMode:x,damageBasis:b="all",setDamageBasis:w,showDamageBasisToggle:N=!1,selectedSpikePlayerKey:j,setSelectedSpikePlayerKey:k,selectedSpikePlayer:A,spikeChartData:E,spikeChartMaxY:F,selectedSpikeFightIndex:T,setSelectedSpikeFightIndex:L,spikeDrilldownTitle:_,spikeDrilldownData:K,spikeDrilldownDownIndices:ee,spikeDrilldownDeathIndices:le,spikeFightSkillRows:ke=[],spikeFightSkillTitle:re="Skill Damage (Selected Fight)",formatWithCommas:H,renderProfessionIcon:se})=>{const[I,P]=g.useState(null),[Z,S]=g.useState(null),W=me=>String(me||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),R=s===e,q=A?Io(A.profession):"#fda4af",ne=b==="downContribution",Y=y==="hit"?ne?"Highest Down Contribution":"Highest Damage":y==="1s"?"1s Burst":y==="5s"?"5s Burst":"30s Burst",z=me=>y==="hit"?ne?me.peakHitDown:me.peakHit:y==="1s"?ne?me.peak1sDown:me.peak1s:y==="5s"?ne?me.peak5sDown:me.peak5s:ne?me.peak30sDown:me.peak30s,U=v.flatMap(me=>me.players.map(be=>({...be,groupProfession:me.profession}))).sort((me,be)=>{const Xe=z(be)-z(me);return Xe!==0?Xe:me.displayName.localeCompare(be.displayName)}),V=E.reduce((me,be)=>!me||be.damage>me.damage?be:me,null),G=T===null?null:E.find(me=>me.index===T)||null,B=G||V,de=me=>{if(!Number.isFinite(me)||me<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(me))}catch{return""}},X=K.reduce((me,be)=>Math.max(me,Number(be.value||0)),0),ie=Math.max(1,X),Ve=new Set(ee),Ge=new Set(le),kt=K.map((me,be)=>({...me,downMarker:Ve.has(be)?Math.max(Number(me.value||0),ie*.88):null,deathMarker:Ge.has(be)?Math.max(Number(me.value||0),ie*.96):null})),Ae=me=>be=>{const Xe=Number(be==null?void 0:be.cx),pe=Number(be==null?void 0:be.cy),tn=Number(be==null?void 0:be.index);if(!Number.isFinite(Xe)||!Number.isFinite(pe)||!Number.isFinite(tn))return null;const Se=(be==null?void 0:be.payload)||{},at=me==="down"?Se==null?void 0:Se.downMarker:Se==null?void 0:Se.deathMarker;if(!Number.isFinite(Number(at)))return null;const Ft=`${me}-${tn}`,nn=I===Ft,hn=me==="down"?"#facc15":"#ef4444",mr=me==="down"?"#fde047":"#f87171";return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{P(Ft),S({x:Xe,y:pe,kind:me,label:String((Se==null?void 0:Se.label)||"")})},onMouseLeave:()=>{P(mn=>mn===Ft?null:mn),S(mn=>(mn==null?void 0:mn.kind)===me&&(mn==null?void 0:mn.label)===String((Se==null?void 0:Se.label)||"")?null:mn)},children:[c.jsx("circle",{cx:Xe,cy:pe,r:nn?10:7,fill:mr,opacity:nn?.35:.18}),c.jsx("circle",{cx:Xe,cy:pe,r:nn?7:5.5,fill:hn,stroke:"#0f172a",strokeWidth:nn?2.25:1.75})]})};return c.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${R?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[c.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[c.jsxs("div",{className:R?"pr-10 md:pr-0":"",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(wm,{className:`w-5 h-5 ${a}`}),t]}),c.jsx("p",{className:"text-xs text-gray-400",children:n})]}),c.jsxs("div",{className:`flex items-center gap-3 ${R?"pr-10 md:pr-0":""}`,children:[N&&w&&c.jsx(Dn,{value:b,onChange:me=>w(me),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx(Dn,{value:y,onChange:me=>x(me),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),c.jsx("button",{type:"button",onClick:()=>R?u():l(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${R?"absolute top-2 right-2 md:static":""}`,"aria-label":R?`Close ${t}`:`Expand ${t}`,title:R?"Close":"Expand",children:R?c.jsx(ri,{className:"w-4 h-4"}):c.jsx(vi,{className:"w-4 h-4"})})]})]}),c.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),c.jsx("input",{type:"search",value:m,onChange:me=>p(me.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),c.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:U.length===0?c.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):c.jsx("div",{className:"p-1.5 space-y-1",children:U.map(me=>{const be=j===me.key;return c.jsx("button",{type:"button",onClick:()=>k(me.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${be?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:c.jsxs("div",{className:"flex items-center justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0",children:[c.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[se(me.profession,void 0,"w-3.5 h-3.5"),c.jsx("div",{className:"text-sm font-semibold truncate text-white",children:me.displayName}),c.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:me.groupProfession})]}),c.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[me.characterName||me.displayName,"  ",me.logs," ",me.logs===1?"fight":"fights"]})]}),c.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:H(z(me)||0,0)})]})},me.key)})})})]}),c.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",Y]}),c.jsxs("div",{className:"text-[11px] text-gray-500",children:[E.length," ",E.length===1?"fight":"fights"]})]}),c.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!A||E.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(Zl,{data:E,onClick:me=>{const be=Number(me==null?void 0:me.activeTooltipIndex);Number.isFinite(be)&&L(T===be?null:be)},children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,F)],tickFormatter:me=>H(me,0)}),c.jsx(Os,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(me,be)=>[H(Number(me||0),0),String(be||"")],labelFormatter:(me,be)=>{var tn;const Xe=(tn=be==null?void 0:be[0])==null?void 0:tn.payload;if(!Xe)return"";const pe=W(Xe.fullLabel||"");return y==="hit"&&Xe.skillName?`${pe}  ${Xe.skillName}`:pe}}),c.jsx(ua,{type:"monotone",dataKey:"damage",name:A.displayName,stroke:q,strokeWidth:3,dot:me=>{var pe;const be=Number((pe=me==null?void 0:me.payload)==null?void 0:pe.index);if(!Number.isFinite(be))return null;const Xe=T===be;return c.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:tn=>{tn.stopPropagation(),L(Xe?null:be)},children:[c.jsx("circle",{cx:me.cx,cy:me.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),c.jsx("circle",{cx:me.cx,cy:me.cy,r:Xe?4:3,fill:q,stroke:Xe?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:Xe?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),c.jsx(ua,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),A&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),c.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[se(A.profession,A.professionList,"w-4 h-4"),c.jsx("span",{className:"truncate",children:A.displayName})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:G?y==="hit"?ne?"Selected Skill Down Contribution":"Selected Skill Damage":`Selected ${Y}`:y==="hit"?ne?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${Y}`}),c.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:H((G==null?void 0:G.damage)??(z(A)||0),0)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:G?y==="hit"?"Selected Skill / Fight":"Selected Fight":y==="hit"?"Peak Skill / Fight":"Peak Fight"}),c.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const me=W((B==null?void 0:B.fullLabel)||A.peakFightLabel||"N/A"),be=de(Number((B==null?void 0:B.timestamp)||0)),Xe=be?`${be} - ${me}`:me;if(y!=="hit")return Xe;const pe=(G==null?void 0:G.skillName)||A.peakSkillName;return pe?`${pe}  ${Xe}`:Xe})()})]})]}),A&&T!==null&&c.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:_}),c.jsx("button",{type:"button",onClick:()=>L(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),c.jsx("div",{className:"h-[220px] relative",children:K.length===0?c.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):c.jsxs(c.Fragment,{children:[c.jsx(Es,{width:"100%",height:"100%",children:c.jsxs(Zl,{data:kt,children:[c.jsx(Yo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),c.jsx(Xo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),c.jsx(Qo,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:me=>H(me,0)}),c.jsx(Os,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(me,be)=>{const Xe=String(be||"");return Xe==="Down"?["Downed","Event"]:Xe==="Death"?["Dead","Event"]:[H(Number(me||0),0),"Damage"]},labelFormatter:me=>String(me||"")}),c.jsx(ua,{type:"monotone",dataKey:"value",name:"Damage",stroke:q,strokeWidth:2.5,dot:y==="hit"?{r:2}:!1,activeDot:{r:4}}),c.jsx(ua,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ae("down")}),c.jsx(ua,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:Ae("death")})]})}),Z&&c.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,Z.x)}px`,top:`${Math.max(8,Z.y-38)}px`,transform:"translate(-50%, -100%)"},children:[c.jsx("div",{className:`${Z.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:Z.kind==="down"?"Down":"Death"}),c.jsx("div",{className:"text-gray-300",children:Z.label})]})]})})]}),A&&T!==null&&c.jsx("div",{className:`mt-4 transition-all duration-300 ${ke.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const me=Xe=>Number(ne?Xe.downContribution||0:Xe.damage||0),be=[...ke].filter(Xe=>me(Xe)>0).sort((Xe,pe)=>me(pe)-me(Xe)||Number(pe.hits||0)-Number(Xe.hits||0)).slice(0,30);return c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:re}),c.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[be.length," ",be.length===1?"skill":"skills"]})]}),be.length===0?c.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):c.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[c.jsx("div",{children:"Skill"}),c.jsx("div",{className:"text-right",children:ne?"Down Contrib":"Damage"}),c.jsx("div",{className:"text-right",children:"Hits"})]}),c.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:be.map((Xe,pe)=>c.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[c.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[Xe.icon?c.jsx("img",{src:Xe.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):c.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),c.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:Xe.skillName,children:Xe.skillName})]}),c.jsx("div",{className:"text-right font-mono text-rose-200",children:H(Number(ne?Xe.downContribution||0:Xe.damage||0),0)}),c.jsx("div",{className:"text-right font-mono text-gray-300",children:H(Number(Xe.hits||0),0)})]},`${Xe.skillName}-${pe}`))})]})]})})()})]})},eoe=10,Ip=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},uT=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},toe=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},noe=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(""),[o,l]=g.useState("squad"),[u,d]=g.useState("desc"),f=a.trim().toLowerCase(),h=g.useMemo(()=>{const y=e.filter(b=>{if(!f)return!0;const w=String(b.account||"").toLowerCase(),N=(b.characterNames||[]).join(" ").toLowerCase(),j=(b.classTimes||[]).map(k=>String(k.profession||"").toLowerCase()).join(" ");return w.includes(f)||N.includes(f)||j.includes(f)}),x=b=>Number(o==="fight"?b.combatTimeMs??b.squadTimeMs??0:b.squadTimeMs??0);return[...y].sort((b,w)=>{const N=x(w)-x(b);return N!==0?u==="desc"?N:-N:String(b.account||"").localeCompare(String(w.account||""))})},[e,f,u,o]),m=y=>{if(o===y){d(x=>x==="desc"?"asc":"desc");return}l(y),d("desc")},p=h.length>eoe,v=()=>{const y=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],x=h.map(A=>{const E=(A.classTimes||[]).map(F=>`${F.profession} (${Ip(F.timeMs)})`).join("; ");return[A.account||"",(A.characterNames||[]).join(", "),E,uT(Number(A.combatTimeMs??A.squadTimeMs??0)),uT(A.squadTimeMs)]}),b=[y,...x].map(A=>A.map(E=>toe(String(E??""))).join(",")).join(`
`),w=new Blob([b],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(w),j=document.createElement("a"),k=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");j.href=N,j.download=`attendance-ledger-${k}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(N)};return c.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[c.jsx(ym,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),c.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),c.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[c.jsx("input",{value:a,onChange:y=>s(y.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),c.jsxs("button",{type:"button",onClick:v,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[c.jsx(x8,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):c.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:c.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),c.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?u==="desc"?" ":" ":""]})}),c.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:c.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?u==="desc"?" ":" ":""]})})]})}),c.jsxs("tbody",{children:[h.map(y=>c.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[c.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:y.account}),c.jsx("td",{className:"py-2 px-4 text-gray-300",children:y.characterNames.length>0?y.characterNames.join(", "):"-"}),c.jsx("td",{className:"py-2 px-4",children:c.jsx("div",{className:"flex flex-wrap gap-1.5",children:y.classTimes.length>0?y.classTimes.map(x=>c.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(x.profession)?c.jsx("img",{src:t(x.profession),alt:x.profession,className:"w-3.5 h-3.5 object-contain"}):null,c.jsx("span",{children:x.profession}),c.jsx("span",{className:"text-gray-400",children:Ip(x.timeMs)})]},`${y.account}-${x.profession}`)):c.jsx("span",{className:"text-gray-500",children:"-"})})}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Ip(Number(y.combatTimeMs??y.squadTimeMs??0))}),c.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:Ip(y.squadTimeMs)})]},y.account)),h.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},roe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},ioe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(null),[o,l]=g.useState(""),u=o.trim().toLowerCase(),d=fu("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=g.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!u)return!1;const p=String(m.account||"").toLowerCase(),v=String(m.characterName||"").toLowerCase(),y=String(m.profession||"").toLowerCase();return p.includes(u)||v.includes(u)||y.includes(u)};return c.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(_r,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),c.jsx("div",{className:"mb-4",children:c.jsx("input",{value:o,onChange:m=>l(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return c.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",roe(m.timestamp)]})]},m.id)})})]}),c.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?c.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>c.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[c.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),c.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,v)=>(()=>{const y=h(p);return c.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${y?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?c.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,c.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[c.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?c.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):c.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),c.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:c.jsx("span",{className:"truncate min-w-0",children:p.account})}),c.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${v}`)})())})]},`${f.id}-party-${m.party}`))}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},aoe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},soe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(null);g.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(f=>f.id===a))&&s(e[0].id)},[e,a]);const o=g.useMemo(()=>e.find(f=>f.id===a)||null,[e,a]),l=g.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([f,h])=>({profession:f,count:Number(h||0)})).filter(f=>f.count>0).sort((f,h)=>h.count-f.count||f.profession.localeCompare(h.profession)):[],[o]),u=g.useMemo(()=>o?o.parties.reduce((f,h)=>Array.isArray(h.players)&&h.players.length>0?f+h.players.length:f+Object.values(h.classCounts||{}).reduce((m,p)=>m+Number(p||0),0),0):0,[o]),d=g.useMemo(()=>l.reduce((f,h)=>f+Number(h.count||0),0),[l]);return c.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:c.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[c.jsx(_l,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?c.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[c.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[c.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),c.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(f=>{const h=f.id===a;return c.jsxs("button",{onClick:()=>s(f.id),className:`fight-comp-fight-nav-item relative w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[c.jsx("span",{className:`fight-comp-result-badge absolute right-2 top-2 inline-flex items-center rounded-md border px-1.5 py-0.5 text-[9px] uppercase tracking-widest ${f.isWin===!0?"fight-comp-result-badge--win":f.isWin===!1?"fight-comp-result-badge--loss":"fight-comp-result-badge--unknown"}`,children:f.isWin===!0?"Win":f.isWin===!1?"Loss":"Unknown"}),c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:f.label}),c.jsx("div",{className:"text-xs font-semibold truncate",children:f.mapName||"Unknown Map"}),c.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[f.duration||"--:--","  ",aoe(f.timestamp)]})]},f.id)})})]}),c.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsxs("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400 flex items-center justify-between gap-2",children:[c.jsx("span",{children:"Squad Parties"}),c.jsx("span",{className:"inline-flex items-center rounded-md border border-white/15 bg-white/5 px-1.5 py-0.5 text-[9px] font-semibold tracking-normal text-gray-300",children:u})]}),c.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(f=>{const h=Array.isArray(f.players)&&f.players.length>0?f.players.map(m=>({profession:String((m==null?void 0:m.profession)||"Unknown"),account:String((m==null?void 0:m.account)||""),characterName:String((m==null?void 0:m.characterName)||"")})).filter(m=>m.profession&&m.profession!=="Unknown").sort((m,p)=>m.profession.localeCompare(p.profession)||m.characterName.localeCompare(p.characterName)||m.account.localeCompare(p.account)):Object.entries(f.classCounts||{}).flatMap(([m,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(m),account:"",characterName:""}))).filter(m=>m.profession&&m.profession!=="Unknown").sort((m,p)=>m.profession.localeCompare(p.profession));return c.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[c.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:f.party>0?`P${f.party}`:"Unk"}),c.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:h.length>0?h.map((m,p)=>c.jsx("span",{title:m.characterName||m.account?`${m.profession}  ${m.characterName||"Unknown"} (${m.account||"Unknown"})`:m.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(m.profession)?c.jsx("img",{src:t(m.profession),alt:m.profession,className:"w-3.5 h-3.5 object-contain"}):c.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${f.party}-${m.profession}-${m.account||m.characterName||p}-${p}`)):c.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${f.party}`)})})]}),c.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[c.jsxs("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400 flex items-center justify-between gap-2",children:[c.jsx("span",{children:"Enemy Classes"}),c.jsx("span",{className:"inline-flex items-center rounded-md border border-white/15 bg-white/5 px-1.5 py-0.5 text-[9px] font-semibold tracking-normal text-gray-300",children:d})]}),c.jsx("div",{className:"p-2",children:l.length>0?c.jsx("div",{className:"flex flex-wrap gap-1",children:l.map(f=>c.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[c.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:f.profession,children:t(f.profession)?c.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3 h-3 object-contain"}):c.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),c.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:f.count})]},`${o.id}-enemy-${f.profession}`))}):c.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):c.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},ooe=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:l,sharing:u,canShareDiscord:d,onShare:f,actionsDisabled:h=!1})=>{const m=u||h||!d,p=h?"Stats are still loading. Actions will enable when the dashboard is ready.":d?"":"Select a Discord webhook to enable sharing.";return c.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[c.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&c.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:c.jsx(_O,{className:"w-6 h-6"})}),c.jsxs("div",{className:"space-y-0",children:[c.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[c.jsx(Wc,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),c.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&c.jsxs("div",{className:"flex items-center gap-3",children:[i&&c.jsxs("button",{onClick:s,disabled:a.uploading||h,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[c.jsx(mx,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),c.jsxs("button",{onClick:l,disabled:o||h,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50",children:[c.jsx(P8,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),c.jsxs("div",{className:"relative group",title:p,children:[c.jsxs("button",{onClick:f,disabled:m,"aria-disabled":m,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx(C8,{className:"w-4 h-4"}),u?"Sharing...":"Share to Discord"]}),!d&&c.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},loe=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,l]=g.useState("idle"),u=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),c.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&c.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&c.jsx(S8,{className:"w-3 h-3 animate-spin"}),r==="built"&&c.jsx(LO,{className:"w-3 h-3"}),r==="errored"&&c.jsx(RO,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),u&&c.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),l("copied"),setTimeout(()=>l("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},coe=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:c.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[c.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[c.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?c.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):c.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&c.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Ib=4200,dT=["Calculating the padders...","Wrangling the squirrels...","Counting bags per tick...","Measuring boonball density...","Finding who pressed Stand Your Ground on cooldown...","Converting cloud DPS into actionable data...","Checking if that was a tactical waypoint...","Debating if this was content or karma train...","Sorting comm pings by panic level...","Rebuilding morale after queue map...",'Estimating how many times someone said "push now"...',"Auditing stealth bombs and coping mechanisms...","Polishing commander tags...","Recharging warclaw batteries...","Calibrating arrow cart trajectories...","Inspecting every suspicious 25 Might stack...","Confirming that was definitely line of sight...","Converting supply into emotional damage...","Filing paperwork for accidental portal science...","Checking if the scout was actually at the camp...","Recounting downs after rally chaos...","Verifying if that was a clean disengage...",'Indexing all "I was lagging" reports...',"Investigating mysterious downstate heroics...","Comparing pirate ship drift angles...","Sharpening stab and aegis statistics...","Reassembling fragments of the frontline...","Syncing golem benchmarks with reality...","Separating boon support from good intentions...","Mapping dodge rolls to probable outcomes...","Estimating projectile hate levels...","Checking if that pull was legal in Tyria...","Refining siege placement feng shui...","Counting how many times someone tab-targeted a yak...","Calculating average confidence before first push...","Locating the exact second the flank became a wipe...","Comparing map chat callouts to actual events...","Quantifying chaos per minute...","Measuring value generated per warclaw leap...","Compiling a list of regrettable pushes...","Normalizing boonstrip greed indexes...","Calculating morale damage from random treb hits...","Determining if that was bait or just optimism...","Reviewing staff marks for artistic merit...","Filtering out accidental auto-attacks...","Balancing boon uptime against personal style...","Detecting overextended hero moments...",'Translating "small scale" into squad math...',"Auditing cooldowns that definitely were up...","Reconstructing the timeline of panic dodges...","Classifying enemy blobs by menace level...","Estimating blob size using advanced guesswork...","Checking if that target caller was cooking...","Tracking unexplained boon disappearance events...","Estimating supply spent on vibes...","Computing legal liability for fake pushes...","Running quality assurance on disengage paths...","Cross-referencing comms with battlefield physics...","Investigating unexpected trebuchet diplomacy...","Calculating catapult confidence intervals...","Indexing all perfectly timed downs...","Looking for value in every meteor shower...","Reviewing blink routes for workplace safety...","Tallying questionable stealth reveals...",'Checking if "outnumbered" was emotional or literal...',"Simulating three alternate timelines where that push worked...","Replaying spike windows at 300% copium...","Auditing cloud behavior for suspicious circles...","Estimating commander patience remaining...","Generating highly scientific post-fight excuses...",'Reconciling wipes with "we almost had them"...',"Counting blast finishers that were definitely planned...","Searching for that one lost guardian...","Re-evaluating life choices after supply trap wipes...","Determining if the enemy comp was legal...","Computing rally probability under emotional pressure...","Measuring commander sigh frequency...","Estimating fear uptime on enemy supports...","Converting siege splash into modern art...",'Validating "I had no stab" claims...',"Checking if someone dropped food this fight...","Reviewing boonstrip logs for spicy plays...","Locating all unexplained facechecks...","Mapping meteor showers to keyboard dents...","Estimating if that was one pull too many...","Calculating squad cohesion after one bad port...","Cross-checking focus calls with target health...","Ranking leaps by dramatic effect...","Estimating cleanse demand during bomb windows...","Inspecting downstate rotations for compliance...","Converting panic into clean spreadsheets...","Testing the structural integrity of the backline...","Counting shades, wells, and hard feelings...","Measuring guardian bubble aura intensity...","Investigating anomalous boons at 03:00...","Comparing stomps attempted vs stomps completed...","Tagging all accidental hero pushes...","Calculating dodge tax across the squad...","Evaluating water field return on investment...","Auditing projectile denial and emotional denial...","Checking if that portal had a permit...","Tracing all failed flanks to their origin story...","Calculating post-wipe regroup half-life...","Estimating average melee courage per second...","Correlating spikes with enthusiastic voice comms...","Checking if that bomb was crisp or crunchy...",'Normalizing data for "just one more fight"...',"Reviewing stealth openers for dramatic timing...","Estimating if your rev was in Narnia...","Counting banner placements that inspired confidence...","Investigating unexplained quickness disappearances...","Running anti-tilt calibration routines...","Computing enemy respect levels in real time...","Calculating firebrand lecture throughput...","Identifying legal targets in the cloud...","Reviewing all moments of tactical hesitation...","Calibrating go-next probability...","Collecting witness statements from downstate...","Measuring map queue trauma carryover...","Checking for unauthorized 1v20 attempts...","Estimating value from last-second bubble drops...","Reviewing supply spent on motivational siege...","Converting spike data into confidence...","Detecting statistically significant overcommit...","Tracing every disengage to a good intention...","Profiling boonrip efficiency by chaos level...","Computing blame distribution matrices...","Auditing cleanse budgets and debt...",'Finding the exact frame someone yelled "stab"...',"Estimating collateral damage from whirlwinds...","Calculating pirate ship shell dispersion...","Reviewing shockwave etiquette violations...","Identifying downstate heroes and villains...","Measuring line-push conviction scores...",'Checking if "full send" had a backup plan...',"Correlating pings with sprint key usage...","Mapping boon downtime to emotional downtime...","Counting moments where everyone was one dodge late...","Computing support appreciation metrics...","Evaluating sustain versus stubbornness...","Compiling clips for the tactical blooper reel...","Estimating fog of war plus fog of memory...","Scanning for illegal melee greed...",'Converting "nice try" into hard numbers...',"Tracking stealth entry and dramatic exits...","Reviewing hammer train ticket validation...","Finding all cases of accidental overextension...","Measuring stability confidence intervals...","Estimating if that was a bait ping...","Calculating siege engineer overtime..."],uoe=e=>{const t=[...e];for(let n=t.length-1;n>0;n-=1){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t},Hs="space-y-1 pr-1 max-h-72 overflow-y-auto",doe=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),foe=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","boon-uptime","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],fT={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},_b=[];function moe({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:l,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,statsDataProgress:p,aggregationResult:v}){var KC,GC;const y=n||VO,x=r||sw,b=a||G8,w=x.showTopStats,N=x.showMvp,j=x.roundCountStats,k=x.topStatsMode||"total",[A,E]=g.useState(x.topSkillsMetric||"damage"),F=(i?x.topSkillsMetric:A)||"damage",T=b.uploading,L=b.message,_=b.url,K=b.buildStatus,ee=!u&&!1,[le,ke]=g.useState(!0),[re,H]=g.useState(dT[0]||""),se=g.useRef([]),I=g.useRef(0),P=g.useRef(null),Z=g.useRef(0),S=g.useCallback(C=>d?d(C):!0,[d]),W=!!v,{result:R,aggregationProgress:q}=eV({logs:W?[]:e,precomputedStats:W?void 0:l,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),ne=v||R,Y=(v==null?void 0:v.aggregationProgress)||q,{stats:z,skillUsageData:U}=ne,V=g.useMemo(()=>{const C=Math.max(0,Number((p==null?void 0:p.total)||e.length||0)),O=Math.min(C,Math.max(0,Number((p==null?void 0:p.pending)||0))),M=Math.min(C,Math.max(0,Number((p==null?void 0:p.processed)||C-O))),ve=Math.max(0,Number((p==null?void 0:p.unavailable)||0));if(!!(p!=null&&p.active)&&C>0&&O>0){const Dt=C>0?Math.max(1,Math.min(99,Math.round(M/C*100))):0,wt=ve>0?`  ${ve} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${M} of ${C} fights prepared${wt}`,progressPercent:Dt}}if(C>0&&ve>=C)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${ve} of ${C} fights could not be loaded from dps.report`,progressPercent:100};if(C>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const ye=Math.max(0,Number((Y==null?void 0:Y.total)||e.length||0));if(!(!!(Y!=null&&Y.active)&&(Y==null?void 0:Y.phase)!=="idle"&&(Y==null?void 0:Y.phase)!=="settled"&&ye>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const et=Math.min(Math.max(Number((Y==null?void 0:Y.streamed)||0),0),ye),pt=(Y==null?void 0:Y.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",Je=(Y==null?void 0:Y.phase)==="streaming"?`${et} of ${ye} fights loaded`:"All fights loaded  calculating final totals",Pt=(Y==null?void 0:Y.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(et/ye*100))):99;return{active:!0,phaseLabel:pt,progressText:Je,progressPercent:Pt}},[p,Y,e.length]),G=V.active,B=V.phaseLabel,de=V.progressText,X=G&&V.progressPercent<100,ie=G||!le;g.useEffect(()=>{if(P.current!==null&&(window.clearTimeout(P.current),P.current=null),!G)return;const C=()=>{(se.current.length===0||I.current>=se.current.length)&&(se.current=uoe(dT),I.current=0);const De=se.current[I.current];I.current+=1,De&&(H(De),Z.current=Date.now())},O=De=>{P.current=window.setTimeout(()=>{P.current=null,C(),O(Ib)},Math.max(300,De))};if(Z.current<=0)return C(),O(Ib),()=>{P.current!==null&&(window.clearTimeout(P.current),P.current=null)};const M=Date.now()-Z.current,ve=Ib-M;return O(ve),()=>{P.current!==null&&(window.clearTimeout(P.current),P.current=null)}},[G]),g.useEffect(()=>{if(!(u||typeof document>"u"))return document.body.classList.toggle("stats-dashboard-loading",X),()=>{document.body.classList.remove("stats-dashboard-loading")}},[u,X]),g.useEffect(()=>{if(G){ke(!1);return}let C=!1;const O=()=>{C||ke(!0)},M=window.requestIdleCallback;let ve=null;return typeof M=="function"?ve=M(()=>O(),{timeout:220}):ve=window.setTimeout(O,60),()=>{if(C=!0,ve!==null)if(typeof M=="function"){const De=window.cancelIdleCallback;typeof De=="function"&&De(ve)}else window.clearTimeout(ve)}},[G]);const Ve=le&&!G,Ge=Ve&&(S("top-skills-outgoing")||S("player-breakdown")||S("damage-breakdown")),kt=Ve&&S("skill-usage"),Ae=Ve&&S("apm-stats"),me=Ve&&S("spike-damage"),be=Ve&&S("incoming-strike-damage"),Xe=Ve&&S("conditions-outgoing"),pe=g.useMemo(()=>{var Je,Pt,Dt,wt,Ot,Ht;const C=z&&typeof z=="object"?z:{},O=Qt=>Array.isArray(Qt)?Qt:[],M=Qt=>Qt&&typeof Qt=="object"?Qt:{},ve=(Qt,_n)=>Qt&&typeof Qt=="object"?Qt:_n,De={value:0,player:"-",profession:"Unknown",professionList:[],count:0},ye={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},Q={...C,total:Number(C.total||0),timelineData:O(C.timelineData),mapData:O(C.mapData),fightBreakdown:O(C.fightBreakdown),topSkills:O(C.topSkills),topIncomingSkills:O(C.topIncomingSkills),leaderboards:M(C.leaderboards),topStatsPerSecond:M(C.topStatsPerSecond),topStatsLeaderboardsPerSecond:M(C.topStatsLeaderboardsPerSecond),maxDownContrib:ve(C.maxDownContrib,De),maxBarrier:ve(C.maxBarrier,De),maxHealing:ve(C.maxHealing,De),maxDodges:ve(C.maxDodges,De),maxStrips:ve(C.maxStrips,De),maxCleanses:ve(C.maxCleanses,De),maxCC:ve(C.maxCC,De),maxStab:ve(C.maxStab,De),closestToTag:ve(C.closestToTag,De),mvp:{...ye,...M(C.mvp),topStats:O((Je=C==null?void 0:C.mvp)==null?void 0:Je.topStats)},silver:ve(C.silver,ye),bronze:ve(C.bronze,ye),avgMvpScore:Number(C.avgMvpScore||0),offensePlayers:O(C.offensePlayers),defensePlayers:O(C.defensePlayers),damageMitigationPlayers:O(C.damageMitigationPlayers),damageMitigationMinions:O(C.damageMitigationMinions),supportPlayers:O(C.supportPlayers),healingPlayers:O(C.healingPlayers),boonTables:O(C.boonTables),boonTimeline:O(C.boonTimeline),boonUptimeTimeline:O(C.boonUptimeTimeline),specialTables:O(C.specialTables),outgoingConditionSummary:O(C.outgoingConditionSummary),outgoingConditionPlayers:O(C.outgoingConditionPlayers),incomingConditionSummary:O(C.incomingConditionSummary),incomingConditionPlayers:O(C.incomingConditionPlayers),squadClassData:O(C.squadClassData),enemyClassData:O(C.enemyClassData),attendanceData:O(C.attendanceData),squadCompByFight:O(C.squadCompByFight),fightDiffMode:O(C.fightDiffMode),playerSkillBreakdowns:O(C.playerSkillBreakdowns)},pt=O((Pt=Q.leaderboards)==null?void 0:Pt.downContrib).map(Qt=>({...Qt,value:Number((Qt==null?void 0:Qt.value)??0)})).filter(Qt=>Number.isFinite(Qt.value)).sort((Qt,_n)=>_n.value-Qt.value||String((Qt==null?void 0:Qt.account)||"").localeCompare(String((_n==null?void 0:_n.account)||"")))[0];return pt&&(Q.maxDownContrib={...Q.maxDownContrib||{},value:Number(pt.value||0),player:String(pt.account||((Dt=Q.maxDownContrib)==null?void 0:Dt.player)||"-"),count:Number(pt.count||((wt=Q.maxDownContrib)==null?void 0:wt.count)||0),profession:String(pt.profession||((Ot=Q.maxDownContrib)==null?void 0:Ot.profession)||"Unknown"),professionList:Array.isArray(pt.professionList)?pt.professionList:((Ht=Q.maxDownContrib)==null?void 0:Ht.professionList)||[]}),Q},[z]);g.useEffect(()=>{var De;if(!((De=window==null?void 0:window.electronAPI)!=null&&De.fetchImageAsDataUrl)||G)return;let C=!1;const O=()=>{if(C)return;const ye=new Set,Q=Pt=>{typeof Pt=="string"&&/^https?:\/\//i.test(Pt)&&ye.add(Pt)},et=Pt=>{Pt.forEach(Dt=>{Q(Dt==null?void 0:Dt.icon),Q(Dt==null?void 0:Dt.iconUrl)})};et(Array.isArray(pe==null?void 0:pe.topSkills)?pe.topSkills:[]),et(Array.isArray(pe==null?void 0:pe.topIncomingSkills)?pe.topIncomingSkills:[]),et(Array.isArray(pe==null?void 0:pe.topSkillsByDamage)?pe.topSkillsByDamage:[]),et(Array.isArray(pe==null?void 0:pe.topSkillsByDownContribution)?pe.topSkillsByDownContribution:[]),et(Array.isArray(pe==null?void 0:pe.outgoingConditionSummary)?pe.outgoingConditionSummary:[]),et(Array.isArray(pe==null?void 0:pe.incomingConditionSummary)?pe.incomingConditionSummary:[]),(Array.isArray(pe==null?void 0:pe.boonTables)?pe.boonTables:[]).forEach(Pt=>{Q(Pt==null?void 0:Pt.icon)}),(Array.isArray(pe==null?void 0:pe.specialTables)?pe.specialTables:[]).forEach(Pt=>{Q(Pt==null?void 0:Pt.icon)}),Ge&&(Array.isArray(pe==null?void 0:pe.playerSkillBreakdowns)?pe.playerSkillBreakdowns:[]).forEach(Dt=>{const wt=Array.isArray(Dt==null?void 0:Dt.skills)?Dt.skills:[];et(wt)}),ye.size>0&&yse(Array.from(ye))},M=window.requestIdleCallback;let ve=null;return typeof M=="function"?ve=M(()=>O(),{timeout:500}):ve=window.setTimeout(O,120),()=>{if(C=!0,ve!==null)if(typeof M=="function"){const ye=window.cancelIdleCallback;typeof ye=="function"&&ye(ve)}else window.clearTimeout(ve)}},[pe,G,Ge]);const tn=g.useMemo(()=>{const C=(l==null?void 0:l.skillUsageData)??U;return{logRecords:Array.isArray(C==null?void 0:C.logRecords)?C.logRecords:[],players:Array.isArray(C==null?void 0:C.players)?C.players:[],skillOptions:Array.isArray(C==null?void 0:C.skillOptions)?C.skillOptions:[],resUtilitySkills:Array.isArray(C==null?void 0:C.resUtilitySkills)?C.resUtilitySkills:[]}},[U,l==null?void 0:l.skillUsageData]),Se=tn.players.length>0;g.useEffect(()=>{i||E(x.topSkillsMetric||"damage")},[x.topSkillsMetric,i]);const at=C=>{if(i){i({...x,topSkillsMetric:C});return}E(C)},{scrollContainerRef:Ft}=M8(u,!0,X),{devMockUploadState:nn,webCopyStatus:hn,setWebCopyStatus:mr,handleWebUpload:mn,handleDevMockUpload:un}=nW({logs:e,stats:pe,skillUsageData:tn,activeStatsViewSettings:r||sw,uiTheme:h||"classic",embedded:u,onWebUpload:s}),{sharing:fs,handleShare:pn}=XW(u),Bn={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},Mn=C=>{const O=Bn[C];return O?y[O]>0:!0},[Pi,Ur]=g.useState(null),[Kn,uc]=g.useState(null),[dc,sl]=g.useState("totalBuffs"),[Di,Rs]=g.useState("total"),[Xr,ms]=g.useState(""),[oo,ya]=g.useState(""),[Ti,ol]=g.useState(null),[hr,hs]=g.useState("squadBuffs"),[wa,Zd]=g.useState(""),[Lr,ll]=g.useState(null),[cl,vu]=g.useState(null),[ul,bu]=g.useState(""),[Mi,dl]=g.useState(null),[te,Oe]=g.useState(""),[ze,Ct]=g.useState(null),[Lt,Kt]=g.useState(null),[rn,$t]=g.useState(null),[jt,$n]=g.useState(""),[sr,lt]=g.useState(null),[D,$]=g.useState(""),[J,Ne]=g.useState(""),[ue,We]=g.useState(""),[Ie,yt]=g.useState(""),[vt,zt]=g.useState(""),[qe,fe]=g.useState(""),[he,nt]=g.useState(""),[Ce,rt]=g.useState("outgoing"),[st,St]=g.useState(""),[Pe,_e]=g.useState("damage"),[Re,Ke]=g.useState("damageTaken"),[Ye,Ue]=g.useState("totalMitigation"),[we,tt]=g.useState("all"),[it,ce]=g.useState({key:"damage",dir:"desc"}),ot=!(we!=="all"&&doe.has(we)),bt=ot?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",je=ot?it:{key:"applications",dir:it.key==="applications"?it.dir:"desc"},[oe,Rt]=g.useState("condiCleanse"),[Te,Ee]=g.useState("healing"),[gt,ut]=g.useState("total"),[ct,He]=g.useState("all"),[mt,xt]=g.useState("total"),[Bt,Jt]=g.useState("total"),[gn,jn]=g.useState("total"),[Fn,Tr]=g.useState("total"),[zn,Mr]=g.useState("all"),[pr,Gn]=g.useState("squad"),[wi,kr]=g.useState("player"),[oi,fl]=g.useState(""),[ps,yu]=g.useState(""),[Hi,za]=g.useState(null),[Ei,fc]=g.useState([]),[Rn,lo]=g.useState(null),[qi,Qe]=g.useState(null),[Fe,$e]=g.useState("hit"),[Le,ht]=g.useState("all"),[At,xn]=g.useState(null),[wn,Yn]=g.useState(null),[Xn,li]=g.useState("hit"),[Ki,mc]=g.useState([]),[vn,Jd]=g.useState(null),[gr,aa]=g.useState(!1),sa=g.useRef(null),[Oh,Ih]=g.useState("sizes"),[co,_h]=g.useState("total"),Lh=co==="perSecond",[$h,wu]=g.useState(null),[oa,hc]=g.useState("total"),[ka,uo]=g.useState(null),[fo,jv]=g.useState(null),[mo,Av]=g.useState(null),[hB,pB]=g.useState(""),[pc,Pv]=g.useState(null),[gB,MC]=g.useState(null),[Bs,Fh]=g.useState(null),[xB,vB]=g.useState(""),[bB,yB]=g.useState("player"),[gc,Dv]=g.useState(null),[wB,EC]=g.useState(null),[ho,Rh]=g.useState(null),kB=Ae?tn:fT,{apmSpecBuckets:ml}=tV(kB),po=g.useMemo(()=>Ge?pe.playerSkillBreakdowns||[]:_b,[Ge,pe.playerSkillBreakdowns]),Tv=g.useMemo(()=>{const C=new Map;return po.forEach(O=>C.set(O.key,O)),C},[po]),ku=g.useMemo(()=>{const C=new Map;return po.forEach(O=>{const M=O.profession||"Unknown";C.has(M)||C.set(M,{profession:M,players:[],skills:new Map});const ve=C.get(M);ve.players.push(O),O.skills.forEach(De=>{var Q;const ye=ve.skills.get(De.id)||{...De,damage:0,downContribution:0};ye.damage+=Number(De.damage||0),ye.downContribution+=Number(De.downContribution||0),!ye.icon&&De.icon&&(ye.icon=De.icon),(Q=ye.name)!=null&&Q.startsWith("Skill ")&&!De.name.startsWith("Skill ")&&(ye.name=De.name),ve.skills.set(De.id,ye)})}),Array.from(C.values()).map(O=>{const M=Array.from(O.skills.values()).sort((De,ye)=>ye.damage-De.damage),ve=M.reduce((De,ye)=>(De[ye.id]=ye,De),{});return{profession:O.profession,players:O.players,skills:M,skillMap:ve}}).sort((O,M)=>O.profession.localeCompare(M.profession))},[po]),go=pc&&Tv.get(pc)||null,SB=go&&Bs&&(((KC=go.skillMap)==null?void 0:KC[Bs])||go.skills.find(C=>C.id===Bs))||null,Mv=g.useMemo(()=>{const C=new Map;return ku.forEach(O=>C.set(O.profession,O)),C},[ku]),hl=gc&&Mv.get(gc)||null,NB=hl&&ho&&((GC=hl.skillMap)==null?void 0:GC[ho])||null,Bh=(C,O)=>{if(!O)return null;const M=Number(O.index);if(Number.isInteger(M)&&M>=0&&M<C.length)return C[M]||null;const ve=String(O.fightId||"").trim();return ve&&C.find(De=>String((De==null?void 0:De.id)||"").trim()===ve)||null},pl=C=>{if(C&&typeof C=="object"){const M=Number((C==null?void 0:C.damage)||0),ve=Array.isArray(C==null?void 0:C.skillRows)?C.skillRows:void 0,De=(ve||[]).reduce((ye,Q)=>ye+Number((Q==null?void 0:Q.downContribution)||0),0);return{hit:Number((C==null?void 0:C.hit)??M),burst1s:Number((C==null?void 0:C.burst1s)||0),burst5s:Number((C==null?void 0:C.burst5s)||0),burst30s:Number((C==null?void 0:C.burst30s)||0),hitDown:Number((C==null?void 0:C.hitDown)||De||0),burst1sDown:Number((C==null?void 0:C.burst1sDown)||0),burst5sDown:Number((C==null?void 0:C.burst5sDown)||0),burst30sDown:Number((C==null?void 0:C.burst30sDown)||0),skillName:String((C==null?void 0:C.skillName)||""),buckets5s:Array.isArray(C==null?void 0:C.buckets5s)?C.buckets5s:void 0,buckets5sDown:Array.isArray(C==null?void 0:C.buckets5sDown)?C.buckets5sDown:void 0,downIndices5s:Array.isArray(C==null?void 0:C.downIndices5s)?C.downIndices5s:void 0,deathIndices5s:Array.isArray(C==null?void 0:C.deathIndices5s)?C.deathIndices5s:void 0,skillRows:ve}}return{hit:Number(C||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},Sa=g.useMemo(()=>{if(!me)return{fights:[],players:[]};const C=xe=>String(xe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),O=xe=>C(xe).toLowerCase().split(/[^a-z0-9]+/i).map(Ze=>Ze.trim()).filter(Boolean).map(Ze=>Ze.length>3&&Ze.endsWith("s")?Ze.slice(0,-1):Ze),M=(xe,Ze)=>{const ae=C(xe),It=C(Ze);if(!It)return ae;if(!ae)return It;const Tt=O(ae),ln=O(It),dn=new Set(Tt),tr=new Set(ln),qt=ln.length>0&&ln.every(Wt=>dn.has(Wt)),an=Tt.length>0&&Tt.every(Wt=>tr.has(Wt));return qt||an?ae:`${ae} - ${It}`},ve=xe=>{if(xe==null||xe==="")return 0;if(typeof xe=="number")return!Number.isFinite(xe)||xe<=0?0:xe>1e12?xe:xe*1e3;if(xe instanceof Date){const dn=xe.getTime();return Number.isFinite(dn)&&dn>0?dn:0}const Ze=String(xe).trim();if(!Ze)return 0;const ae=Number(Ze);if(Number.isFinite(ae)&&ae>0)return ae>1e12?ae:ae*1e3;const It=Date.parse(Ze);if(Number.isFinite(It)&&It>0)return It;const Tt=Ze.replace(/([+-]\d{2})$/,"$1:00"),ln=Date.parse(Tt);return Number.isFinite(ln)&&ln>0?ln:0},De=(xe,Ze)=>ve((xe==null?void 0:xe.uploadTime)??(Ze==null?void 0:Ze.uploadTime)??(xe==null?void 0:xe.timeStartStd)??(xe==null?void 0:xe.timeStart)??(xe==null?void 0:xe.timeEndStd)??(xe==null?void 0:xe.timeEnd)),ye=pe==null?void 0:pe.spikeDamage,Q=Array.isArray(ye==null?void 0:ye.fights)?ye.fights:[],et=Array.isArray(ye==null?void 0:ye.players)?ye.players:[],pt=Q.some(xe=>(xe!=null&&xe.values&&typeof xe.values=="object"?Object.values(xe.values):[]).some(ae=>ae&&typeof ae=="object"&&(Number(ae.burst1s||0)>0||Number(ae.burst5s||0)>0||Number(ae.burst30s||0)>0)))||et.some(xe=>Number((xe==null?void 0:xe.peak1s)||0)>0||Number((xe==null?void 0:xe.peak5s)||0)>0||Number((xe==null?void 0:xe.peak30s)||0)>0),Je=Q.some(xe=>(xe!=null&&xe.values&&typeof xe.values=="object"?Object.values(xe.values):[]).some(ae=>ae&&typeof ae=="object"&&(Number(ae.hitDown||0)>0||Number(ae.burst1sDown||0)>0||Number(ae.burst5sDown||0)>0||Number(ae.burst30sDown||0)>0)))||et.some(xe=>Number((xe==null?void 0:xe.peakHitDown)||0)>0||Number((xe==null?void 0:xe.peak1sDown)||0)>0||Number((xe==null?void 0:xe.peak5sDown)||0)>0||Number((xe==null?void 0:xe.peak30sDown)||0)>0);if((Q.length>0||et.length>0)&&(pt||e.length===0)&&(Le!=="downContribution"||Je||e.length===0)){const xe=Q.map((ae,It)=>{const Tt=ae!=null&&ae.values&&typeof ae.values=="object"?ae.values:{};return{id:String((ae==null?void 0:ae.id)||`fight-${It+1}`),shortLabel:String((ae==null?void 0:ae.shortLabel)||`F${It+1}`),fullLabel:C((ae==null?void 0:ae.fullLabel)||`Fight ${It+1}`),timestamp:Number((ae==null?void 0:ae.timestamp)||0),values:Tt,maxHit:Number((ae==null?void 0:ae.maxHit)??(ae==null?void 0:ae.maxDamage)??0),max1s:Number((ae==null?void 0:ae.max1s)||0),max5s:Number((ae==null?void 0:ae.max5s)||0),max30s:Number((ae==null?void 0:ae.max30s)||0),maxHitDown:Number((ae==null?void 0:ae.maxHitDown)||0),max1sDown:Number((ae==null?void 0:ae.max1sDown)||0),max5sDown:Number((ae==null?void 0:ae.max5sDown)||0),max30sDown:Number((ae==null?void 0:ae.max30sDown)||0)}}),Ze=et.map(ae=>({key:String((ae==null?void 0:ae.key)||""),account:String((ae==null?void 0:ae.account)||"Unknown"),displayName:String((ae==null?void 0:ae.displayName)||(ae==null?void 0:ae.account)||"Unknown"),characterName:String((ae==null?void 0:ae.characterName)||(ae==null?void 0:ae.name)||(ae==null?void 0:ae.character_name)||(ae==null?void 0:ae.display_name)||""),profession:String((ae==null?void 0:ae.profession)||"Unknown"),professionList:Array.isArray(ae==null?void 0:ae.professionList)?ae.professionList.map(It=>String(It)):[],logs:Number((ae==null?void 0:ae.logs)||0),peakHit:Number((ae==null?void 0:ae.peakHit)||0),peak1s:Number((ae==null?void 0:ae.peak1s)||0),peak5s:Number((ae==null?void 0:ae.peak5s)||0),peak30s:Number((ae==null?void 0:ae.peak30s)||0),peakHitDown:Number((ae==null?void 0:ae.peakHitDown)||0),peak1sDown:Number((ae==null?void 0:ae.peak1sDown)||0),peak5sDown:Number((ae==null?void 0:ae.peak5sDown)||0),peak30sDown:Number((ae==null?void 0:ae.peak30sDown)||0),peakFightLabel:C((ae==null?void 0:ae.peakFightLabel)||""),peakSkillName:String((ae==null?void 0:ae.peakSkillName)||"")}));return{fights:xe,players:Ze}}const Dt=(xe,Ze)=>{const ae=(Ze==null?void 0:Ze.skillMap)||{},It=(Ze==null?void 0:Ze.buffMap)||{};let Tt=0,ln=0,dn="";const tr=Wt=>{const bn=Number(Wt);if(!Number.isFinite(bn))return String(Wt||"Unknown Skill");const nr=(ae==null?void 0:ae[`s${bn}`])||(ae==null?void 0:ae[`${bn}`]);if(nr!=null&&nr.name)return String(nr.name);const Ua=(It==null?void 0:It[`b${bn}`])||(It==null?void 0:It[`${bn}`]);return Ua!=null&&Ua.name?String(Ua.name):`Skill ${bn}`},qt=Wt=>{if(!Wt||typeof Wt!="object")return;const bn=[Number(Wt.max),Number(Wt.maxDamage),Number(Wt.maxHit)].filter(af=>Number.isFinite(af)),nr=bn.length>0?Math.max(...bn):0;nr>Tt&&(Tt=nr,dn=tr(Wt.id));const Ua=Number(Wt.downContribution||0);Ua>ln&&(ln=Ua)};let an=!1;return Array.isArray(xe==null?void 0:xe.targetDamageDist)&&xe.targetDamageDist.forEach(Wt=>{Array.isArray(Wt)&&Wt.forEach(bn=>{Array.isArray(bn)&&bn.forEach(nr=>{an=!0,qt(nr)})})}),(!an||Tt<=0)&&Array.isArray(xe==null?void 0:xe.totalDamageDist)&&xe.totalDamageDist.forEach(Wt=>{Array.isArray(Wt)&&Wt.forEach(bn=>qt(bn))}),{peak:Tt,peakDownContribution:ln,skillName:dn||"Unknown Skill"}},wt=xe=>{const Ze=qt=>{if(!Array.isArray(qt)||qt.length===0)return[];const an=[];for(let Wt=0;Wt<qt.length;Wt+=1){const bn=Number(qt[Wt]||0),nr=Wt>0?Number(qt[Wt-1]||0):0;an.push(Math.max(0,bn-nr))}return an},ae=qt=>{if(!Array.isArray(qt))return[];const an=qt.reduce((bn,nr)=>Math.max(bn,Array.isArray(nr)?nr.length:0),0);if(an<=0)return[];const Wt=new Array(an).fill(0);return qt.forEach(bn=>{if(Array.isArray(bn))for(let nr=0;nr<an;nr+=1)Wt[nr]+=Number(bn[nr]||0)}),Wt},It=qt=>Array.isArray(qt)?qt.map(an=>Number(an||0)):null,ln=(qt=>{if(!Array.isArray(qt)||qt.length===0)return null;const an=qt[0];if(!Array.isArray(an))return null;if(Array.isArray(an[0])&&Array.isArray(an[0][0]))return ae(an);if(Array.isArray(an[0])&&!Array.isArray(an[0][0])){const Wt=qt.map(bn=>It(Array.isArray(bn)?bn[0]:null)).filter(bn=>Array.isArray(bn)&&bn.length>0);if(Wt.length>0)return ae(Wt)}return null})(xe==null?void 0:xe.targetDamage1S),dn=Array.isArray(xe==null?void 0:xe.damage1S)&&Array.isArray(xe.damage1S[0])?xe.damage1S[0]:null,tr=ln||(Array.isArray(dn)?dn.map(qt=>Number(qt||0)):[]);return Ze(tr)},Ot=(xe,Ze)=>{if(!Array.isArray(xe)||xe.length===0||Ze<=0)return 0;let ae=0,It=0;for(let Tt=0;Tt<xe.length;Tt+=1)ae+=Number(xe[Tt]||0),Tt>=Ze&&(ae-=Number(xe[Tt-Ze]||0)),Tt>=Ze-1&&ae>It&&(It=ae);return Math.max(0,It)},Ht=(xe,Ze)=>{if(!Array.isArray(xe)||xe.length===0||Ze<=0)return[];const ae=[];for(let It=0;It<xe.length;It+=Ze){const Tt=Math.min(It+Ze,xe.length),ln=xe.slice(It,Tt).reduce((dn,tr)=>dn+Number(tr||0),0);ae.push(ln)}return ae},Qt=(xe,Ze)=>{let ae=0,It=0;const Tt=new Map,ln=tr=>{if(!tr||typeof tr!="object"||tr.indirectDamage)return;const qt=Number(tr.totalDamage||0),an=Number(tr.downContribution||0);!Number.isFinite(qt)&&!Number.isFinite(an)||(ae+=Number.isFinite(qt)?qt:0,It+=Number.isFinite(an)?an:0)};return Array.isArray(xe==null?void 0:xe.targetDamageDist)&&xe.targetDamageDist.forEach(tr=>{Array.isArray(tr)&&tr.forEach(qt=>{Array.isArray(qt)&&qt.forEach(an=>{const Wt=Number(an==null?void 0:an.id);if(Number.isFinite(Wt)){const bn=Tt.get(Wt)||{damage:0,downContribution:0};bn.damage+=Number((an==null?void 0:an.totalDamage)||0),bn.downContribution+=Number((an==null?void 0:an.downContribution)||0),Tt.set(Wt,bn)}ln(an)})})}),!(Ze!=null&&Ze.detailedWvW)&&Array.isArray(xe==null?void 0:xe.totalDamageDist)&&xe.totalDamageDist.forEach(tr=>{Array.isArray(tr)&&tr.forEach(qt=>{const an=Number(qt==null?void 0:qt.id);if(!Number.isFinite(an)){ln(qt);return}const Wt=Tt.get(an);if(!Wt){ln(qt);return}const bn=Number((qt==null?void 0:qt.totalDamage)||0)-Number(Wt.damage||0),nr=Number((qt==null?void 0:qt.downContribution)||0)-Number(Wt.downContribution||0);bn<=0&&nr<=0||ln({...qt,totalDamage:Math.max(0,bn),downContribution:Math.max(0,nr)})})}),{damageTotal:Math.max(0,ae),downContributionTotal:Math.max(0,It)}},_n=[],Gt=new Map;e.forEach(xe=>{const Ze=xe==null?void 0:xe.details;if(!Ze)return;const ae=_n.length+1,It=C(Ze.fightName||xe.fightName||`Fight ${ae}`),Tt=Ze.zone||Ze.mapName||Ze.map||Ze.location||"",ln=M(It,String(Tt||"")),dn={};(Array.isArray(Ze.players)?Ze.players:[]).forEach(cn=>{if(cn!=null&&cn.notInSquad)return;const yn=String((cn==null?void 0:cn.account)||(cn==null?void 0:cn.name)||"Unknown"),sf=String((cn==null?void 0:cn.character_name)||(cn==null?void 0:cn.display_name)||(cn==null?void 0:cn.name)||""),xl=String((cn==null?void 0:cn.profession)||"Unknown"),Au=`${yn}|${xl}`,vl=Dt(cn,Ze),wo=Number(vl.peak||0),of=Number(vl.peakDownContribution||0),bl=wt(cn),{damageTotal:Yh,downContributionTotal:xc}=Qt(cn,Ze),Xh=Yh>0?Math.min(1,Math.max(0,xc/Yh)):0,yl=bl.map(xs=>Number(xs||0)*Xh),Pu=Number(Ot(bl,1)||0),Be=Number(Ot(bl,5)||0),Nt=Number(Ot(bl,30)||0),Yt=Number(Ot(yl,1)||0),An=Number(Ot(yl,5)||0),sn=Number(Ot(yl,30)||0),Zt=Math.max(0,Math.ceil(Number((Ze==null?void 0:Ze.durationMS)||0)/5e3)),Pn=Math.max(0,Math.ceil(bl.length/5)),ui=Math.max(0,Math.ceil(yl.length/5)),Fr=Math.max(Zt,Pn,ui),vc=Ht(bl,5),Qh=Ht(yl,5),or=Array.from({length:Fr},(xs,bc)=>Number(vc[bc]||0)),Wa=Array.from({length:Fr},(xs,bc)=>Number(Qh[bc]||0));dn[Au]={hit:wo,burst1s:Pu,burst5s:Be,burst30s:Nt,hitDown:of,burst1sDown:Yt,burst5sDown:An,burst30sDown:sn,skillName:vl.skillName,buckets5s:or,buckets5sDown:Wa};const Ln=Gt.get(Au)||{key:Au,account:yn,displayName:yn,characterName:sf,profession:xl,professionList:[xl],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Ln.logs+=1,Ln.professionList.includes(xl)||Ln.professionList.push(xl),!Ln.characterName&&sf&&(Ln.characterName=sf),wo>Ln.peakHit&&(Ln.peakHit=wo,Ln.peakFightLabel=ln,Ln.peakSkillName=vl.skillName),Pu>Ln.peak1s&&(Ln.peak1s=Pu),Be>Ln.peak5s&&(Ln.peak5s=Be),Nt>Ln.peak30s&&(Ln.peak30s=Nt),of>Ln.peakHitDown&&(Ln.peakHitDown=of),Yt>Ln.peak1sDown&&(Ln.peak1sDown=Yt),An>Ln.peak5sDown&&(Ln.peak5sDown=An),sn>Ln.peak30sDown&&(Ln.peak30sDown=sn),Gt.set(Au,Ln)});const qt=Object.values(dn).reduce((cn,yn)=>Math.max(cn,Number((yn==null?void 0:yn.hit)||0)),0),an=Object.values(dn).reduce((cn,yn)=>Math.max(cn,Number((yn==null?void 0:yn.burst1s)||0)),0),Wt=Object.values(dn).reduce((cn,yn)=>Math.max(cn,Number((yn==null?void 0:yn.burst5s)||0)),0),bn=Object.values(dn).reduce((cn,yn)=>Math.max(cn,Number((yn==null?void 0:yn.burst30s)||0)),0),nr=Object.values(dn).reduce((cn,yn)=>Math.max(cn,Number((yn==null?void 0:yn.hitDown)||0)),0),Ua=Object.values(dn).reduce((cn,yn)=>Math.max(cn,Number((yn==null?void 0:yn.burst1sDown)||0)),0),af=Object.values(dn).reduce((cn,yn)=>Math.max(cn,Number((yn==null?void 0:yn.burst5sDown)||0)),0),YC=Object.values(dn).reduce((cn,yn)=>Math.max(cn,Number((yn==null?void 0:yn.burst30sDown)||0)),0);_n.push({id:xe.filePath||xe.id||`fight-${ae}`,shortLabel:`F${ae}`,fullLabel:ln,timestamp:De(Ze,xe),values:dn,maxHit:qt,max1s:an,max5s:Wt,max30s:bn,maxHitDown:nr,max1sDown:Ua,max5sDown:af,max30sDown:YC})});const Cn=Array.from(Gt.values()).sort((xe,Ze)=>Ze.peakHit!==xe.peakHit?Ze.peakHit-xe.peakHit:xe.displayName.localeCompare(Ze.displayName));return{fights:_n,players:Cn}},[e,pe,me,Le]),Na=g.useMemo(()=>{if(!be)return{fights:[],players:[]};const C=Q=>String(Q||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),O=pe==null?void 0:pe.incomingStrikeDamage,M=Array.isArray(O==null?void 0:O.fights)?O.fights:[],ve=Array.isArray(O==null?void 0:O.players)?O.players:[];if(M.length===0&&ve.length===0)return{fights:[],players:[]};const De=M.map((Q,et)=>{const pt=Q!=null&&Q.values&&typeof Q.values=="object"?Q.values:{};return{id:String((Q==null?void 0:Q.id)||`fight-${et+1}`),shortLabel:String((Q==null?void 0:Q.shortLabel)||`F${et+1}`),fullLabel:C((Q==null?void 0:Q.fullLabel)||`Fight ${et+1}`),timestamp:Number((Q==null?void 0:Q.timestamp)||0),values:pt,maxHit:Number((Q==null?void 0:Q.maxHit)??(Q==null?void 0:Q.maxDamage)??0),max1s:Number((Q==null?void 0:Q.max1s)||0),max5s:Number((Q==null?void 0:Q.max5s)||0),max30s:Number((Q==null?void 0:Q.max30s)||0),maxHitDown:Number((Q==null?void 0:Q.maxHitDown)||0),max1sDown:Number((Q==null?void 0:Q.max1sDown)||0),max5sDown:Number((Q==null?void 0:Q.max5sDown)||0),max30sDown:Number((Q==null?void 0:Q.max30sDown)||0)}}),ye=ve.map(Q=>({key:String((Q==null?void 0:Q.key)||""),account:String((Q==null?void 0:Q.account)||"Unknown"),displayName:String((Q==null?void 0:Q.displayName)||(Q==null?void 0:Q.account)||"Unknown"),characterName:String((Q==null?void 0:Q.characterName)||(Q==null?void 0:Q.name)||(Q==null?void 0:Q.character_name)||(Q==null?void 0:Q.display_name)||""),profession:String((Q==null?void 0:Q.profession)||"Unknown"),professionList:Array.isArray(Q==null?void 0:Q.professionList)?Q.professionList.map(et=>String(et)):[],logs:Number((Q==null?void 0:Q.logs)||0),peakHit:Number((Q==null?void 0:Q.peakHit)||0),peak1s:Number((Q==null?void 0:Q.peak1s)||0),peak5s:Number((Q==null?void 0:Q.peak5s)||0),peak30s:Number((Q==null?void 0:Q.peak30s)||0),peakHitDown:Number((Q==null?void 0:Q.peakHitDown)||0),peak1sDown:Number((Q==null?void 0:Q.peak1sDown)||0),peak5sDown:Number((Q==null?void 0:Q.peak5sDown)||0),peak30sDown:Number((Q==null?void 0:Q.peak30sDown)||0),peakFightLabel:C((Q==null?void 0:Q.peakFightLabel)||""),peakSkillName:String((Q==null?void 0:Q.peakSkillName)||"")}));return{fights:De,players:ye}},[pe,be]),ef=g.useMemo(()=>{const C=new Map;return Sa.players.forEach(O=>C.set(O.key,O)),C},[Sa.players]),CB=g.useMemo(()=>{const C=De=>Le==="downContribution"?Fe==="hit"?De.peakHitDown:Fe==="1s"?De.peak1sDown:Fe==="5s"?De.peak5sDown:De.peak30sDown:Fe==="hit"?De.peakHit:Fe==="1s"?De.peak1s:Fe==="5s"?De.peak5s:De.peak30s,O=qe.trim().toLowerCase(),M=O?Sa.players.filter(De=>De.displayName.toLowerCase().includes(O)||De.account.toLowerCase().includes(O)||De.profession.toLowerCase().includes(O)):Sa.players,ve=new Map;return M.forEach(De=>{const ye=De.profession||"Unknown",Q=ve.get(ye)||[];Q.push(De),ve.set(ye,Q)}),Array.from(ve.entries()).map(([De,ye])=>({profession:De,players:[...ye].sort((Q,et)=>C(et)-C(Q)||Q.displayName.localeCompare(et.displayName))})).sort((De,ye)=>De.profession.localeCompare(ye.profession))},[Sa.players,qe,Fe,Le]),jB=Rn&&ef.get(Rn)||null,zs=g.useMemo(()=>{if(!Rn)return[];const C=M=>M?Number(Le==="downContribution"?Fe==="hit"?M.hitDown||0:Fe==="1s"?M.burst1sDown||0:Fe==="5s"?M.burst5sDown||0:M.burst30sDown||0:Fe==="hit"?M.hit||0:Fe==="1s"?M.burst1s||0:Fe==="5s"?M.burst5s||0:M.burst30s||0):0,O=M=>Number(Le==="downContribution"?Fe==="hit"?M.maxHitDown||0:Fe==="1s"?M.max1sDown||0:Fe==="5s"?M.max5sDown||0:M.max30sDown||0:Fe==="hit"?M.maxHit||0:Fe==="1s"?M.max1s||0:Fe==="5s"?M.max5s||0:M.max30s||0);return Sa.fights.map((M,ve)=>({index:ve,fightId:M.id,shortLabel:M.shortLabel,fullLabel:M.fullLabel,timestamp:Number(M.timestamp||0),damage:C(pl(M.values[Rn])),maxDamage:O(M),skillName:String(pl(M.values[Rn]).skillName||"")}))},[Sa.fights,Rn,Fe,Le]),AB=g.useMemo(()=>{const C=zs.reduce((M,ve)=>Math.max(M,Number(ve.damage||0)),0),O=zs.reduce((M,ve)=>Math.max(M,Number(ve.maxDamage||0)),0);return Math.max(1,C,O)},[zs]),zh=g.useMemo(()=>{var yl,Pu;const C=qi===null?null:zs.find(Be=>Be.index===qi)||null;if(!C||!Rn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const O=Bh(Sa.fights,C),[M,ve]=Rn.split("|"),De=e.find(Be=>String((Be==null?void 0:Be.filePath)||(Be==null?void 0:Be.id)||"")===String(C.fightId||"")),ye=De==null?void 0:De.details,Q=Be=>Array.isArray(Be)?Be.map(Nt=>Array.isArray(Nt)?[Number(Nt[0]),Number(Nt[1])]:Nt&&typeof Nt=="object"?[Number(Nt.time),Number(Nt.value)]:null).filter(Nt=>!!Nt&&Number.isFinite(Nt[0])&&Nt[0]>=0):[],et=Be=>String(Be||"").trim().toLowerCase(),pt=et(M),Je=et(ve),Pt=ef.get(Rn),Dt=new Set([et(Pt==null?void 0:Pt.displayName),et(Pt==null?void 0:Pt.characterName),et(Pt==null?void 0:Pt.account)].filter(Boolean)),wt=Array.isArray(ye==null?void 0:ye.players)&&((yl=ye.players.map(Be=>{const Nt=et(Be==null?void 0:Be.account),Yt=et(Be==null?void 0:Be.name),An=et(Be==null?void 0:Be.profession),sn=!!Nt&&Nt===pt,Zt=!!Yt&&(Yt===pt||Dt.has(Yt)),Pn=!!Nt&&Dt.has(Nt),ui=!Je||An===Je;let Fr=0;return sn&&(Fr+=100),Zt&&(Fr+=90),Pn&&(Fr+=80),ui&&(Fr+=20),{player:Be,score:Fr}}).filter(Be=>Be.score>0).sort((Be,Nt)=>Nt.score-Be.score)[0])==null?void 0:yl.player)||null,Ot=(()=>{const Be=wt==null?void 0:wt.combatReplayData;return Array.isArray(Be)?Be.filter(Nt=>Nt&&typeof Nt=="object"):Be&&typeof Be=="object"?[Be]:[]})(),Ht=Ot.flatMap(Be=>Q(Be==null?void 0:Be.down).map(([Nt])=>Nt)),Qt=Ot.flatMap(Be=>Q(Be==null?void 0:Be.dead).map(([Nt])=>Nt)),_n=Ot.map(Be=>Number(Be==null?void 0:Be.start)).filter(Be=>Number.isFinite(Be)&&Be>=0),Gt=Array.isArray(ye==null?void 0:ye.players)?ye.players.flatMap(Be=>{const Nt=Be==null?void 0:Be.combatReplayData;return Array.isArray(Nt)?Nt.map(Yt=>Number(Yt==null?void 0:Yt.start)):[Number(Nt==null?void 0:Nt.start)]}).filter(Be=>Number.isFinite(Be)&&Be>=0).reduce((Be,Nt)=>Math.min(Be,Nt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,Cn=[0,Number((ye==null?void 0:ye.logStartOffset)||0),..._n,Number.isFinite(Gt)?Gt:0].filter(Be=>Number.isFinite(Be)&&Be>=0),xe=Be=>{const Nt=Math.max(0,Math.floor(Number(Be||0)/1e3)),Yt=Math.floor(Nt/5)*5;return`${Yt}s-${Yt+5}s`},Ze=(Be,Nt)=>{if(Be.length===0||Nt.length===0)return[];const Yt=Nt.length*5e3,An=or=>or.reduce((Wa,Ln)=>Ln>=0&&Ln<=Yt+2e3?Wa+1:Wa,0),sn=[],Zt=Be.map(or=>Number(or||0)).filter(or=>Number.isFinite(or)&&or>=0);if(Zt.length===0)return[];sn.push(Zt);const Pn=Zt.reduce((or,Wa)=>Math.max(or,Wa),0),ui=Zt.reduce((or,Wa)=>Math.min(or,Wa),Number.POSITIVE_INFINITY);Pn>Yt*20&&sn.push(Zt.map(or=>or/1e3)),Pn<=Yt*2&&ui>=0&&Pn>0&&Pn<Math.max(120,Nt.length*5+10)&&sn.push(Zt.map(or=>or*1e3));let Fr=Zt,vc=0,Qh=-1;return sn.forEach(or=>{const Wa=new Set(Cn),Ln=or.reduce((xs,bc)=>Math.min(xs,bc),Number.POSITIVE_INFINITY);if(Number.isFinite(Ln)&&Yt>0&&Ln>Yt){const xs=Math.floor(Ln/Yt)*Yt;Wa.add(xs),Wa.add(Math.max(0,xs-Yt))}Wa.forEach(xs=>{const bc=or.map(jz=>jz-xs),XC=An(bc);XC>Qh&&(Qh=XC,vc=xs,Fr=or)})}),Fr.map(or=>or-vc).filter(or=>Number.isFinite(or)&&or>=0)},ae=(Be,Nt)=>{if(Be.length===0||Nt.length===0)return[];const Yt=Ze(Nt,Be),An=new Map;Be.forEach(Zt=>{const Pn=/^(\d+)s-/.exec(String(Zt));if(!Pn)return;const ui=Number(Pn[1]);Number.isFinite(ui)&&An.set(ui,Zt)});const sn=[];return Yt.forEach(Zt=>{const Pn=Math.max(0,Math.floor(Number(Zt||0)/1e3)),ui=Math.floor(Pn/5)*5,Fr=An.get(ui)||xe(Zt);Be.includes(Fr)&&sn.push(Fr)}),Array.from(new Set(sn))},It=(Be,Nt)=>{if(Be<=0||Nt.length===0)return[];const Yt=Array.from({length:Be},(Zt,Pn)=>`${Pn*5}s-${(Pn+1)*5}s`),sn=Ze(Nt,Yt).map(Zt=>Math.floor(Math.max(0,Number(Zt||0))/5e3)).filter(Zt=>Number.isFinite(Zt)&&Zt>=0&&Zt<Be);return Array.from(new Set(sn))},Tt=pl((Pu=O==null?void 0:O.values)==null?void 0:Pu[Rn]),ln=Le==="downContribution"?Array.isArray(Tt==null?void 0:Tt.buckets5sDown)?(Tt==null?void 0:Tt.buckets5sDown)||[]:[]:Array.isArray(Tt==null?void 0:Tt.buckets5s)?(Tt==null?void 0:Tt.buckets5s)||[]:[],dn=Array.isArray(Tt==null?void 0:Tt.downIndices5s)?Tt.downIndices5s.map(Be=>Number(Be)).filter(Be=>Number.isFinite(Be)&&Be>=0):[],tr=Array.isArray(Tt==null?void 0:Tt.deathIndices5s)?Tt.deathIndices5s.map(Be=>Number(Be)).filter(Be=>Number.isFinite(Be)&&Be>=0):[];if(ln.length>0){const Be=Math.max(0,Math.ceil(Number((ye==null?void 0:ye.durationMS)||0)/5e3)),Nt=Math.max(ln.length,Be),Yt=Array.from({length:Nt},(sn,Zt)=>({label:`${Zt*5}s-${(Zt+1)*5}s`,value:Number(ln[Zt]||0)})),An=Yt.map(sn=>sn.label);return{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (5s ${Le==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Yt,downLabels:ae(An,Ht),deathLabels:ae(An,Qt),downIndices:dn.length>0?dn.filter(sn=>sn<Yt.length):It(Yt.length,Ht),deathIndices:tr.length>0?tr.filter(sn=>sn<Yt.length):It(Yt.length,Qt)}}const qt=C.shortLabel||"Fight";if(!ye||!Array.isArray(ye.players))return{title:`Fight Breakdown - ${qt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const an=ye.players.find(Be=>String((Be==null?void 0:Be.account)||(Be==null?void 0:Be.name)||"Unknown")===M&&String((Be==null?void 0:Be.profession)||"Unknown")===ve);if(!an)return{title:`Fight Breakdown - ${qt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Wt=an,bn=()=>{let Be=0,Nt=0;const Yt=new Map,An=sn=>{if(!sn||typeof sn!="object"||sn.indirectDamage)return;const Zt=Number(sn.totalDamage||0),Pn=Number(sn.downContribution||0);!Number.isFinite(Zt)&&!Number.isFinite(Pn)||(Be+=Number.isFinite(Zt)?Zt:0,Nt+=Number.isFinite(Pn)?Pn:0)};return Array.isArray(Wt==null?void 0:Wt.targetDamageDist)&&Wt.targetDamageDist.forEach(sn=>{Array.isArray(sn)&&sn.forEach(Zt=>{Array.isArray(Zt)&&Zt.forEach(Pn=>{const ui=Number(Pn==null?void 0:Pn.id);if(Number.isFinite(ui)){const Fr=Yt.get(ui)||{damage:0,downContribution:0};Fr.damage+=Number((Pn==null?void 0:Pn.totalDamage)||0),Fr.downContribution+=Number((Pn==null?void 0:Pn.downContribution)||0),Yt.set(ui,Fr)}An(Pn)})})}),!(ye!=null&&ye.detailedWvW)&&Array.isArray(Wt==null?void 0:Wt.totalDamageDist)&&Wt.totalDamageDist.forEach(sn=>{Array.isArray(sn)&&sn.forEach(Zt=>{const Pn=Number(Zt==null?void 0:Zt.id);if(!Number.isFinite(Pn)){An(Zt);return}const ui=Yt.get(Pn);if(!ui){An(Zt);return}const Fr=Number((Zt==null?void 0:Zt.totalDamage)||0)-Number(ui.damage||0),vc=Number((Zt==null?void 0:Zt.downContribution)||0)-Number(ui.downContribution||0);Fr<=0&&vc<=0||An({...Zt,totalDamage:Math.max(0,Fr),downContribution:Math.max(0,vc)})})}),Be<=0?0:Math.min(1,Math.max(0,Nt/Be))},nr=Be=>{if(!Array.isArray(Be)||Be.length===0)return[];const Nt=[];for(let Yt=0;Yt<Be.length;Yt+=1){const An=Number(Be[Yt]||0),sn=Yt>0?Number(Be[Yt-1]||0):0;Nt.push(Math.max(0,An-sn))}return Nt},Ua=Be=>{if(!Array.isArray(Be))return[];const Nt=Be.reduce((An,sn)=>Math.max(An,Array.isArray(sn)?sn.length:0),0);if(Nt<=0)return[];const Yt=new Array(Nt).fill(0);return Be.forEach(An=>{if(Array.isArray(An))for(let sn=0;sn<Nt;sn+=1)Yt[sn]+=Number(An[sn]||0)}),Yt},af=Be=>Array.isArray(Be)?Be.map(Nt=>Number(Nt||0)):null,cn=(Be=>{if(!Array.isArray(Be)||Be.length===0)return null;const Nt=Be[0];if(!Array.isArray(Nt))return null;if(Array.isArray(Nt[0])&&Array.isArray(Nt[0][0]))return Ua(Nt);if(Array.isArray(Nt[0])&&!Array.isArray(Nt[0][0])){const Yt=Be.map(An=>af(Array.isArray(An)?An[0]:null)).filter(An=>Array.isArray(An)&&An.length>0);if(Yt.length>0)return Ua(Yt)}return null})(Wt==null?void 0:Wt.targetDamage1S),yn=Array.isArray(Wt==null?void 0:Wt.damage1S)&&Array.isArray(Wt.damage1S[0])?Wt.damage1S[0]:null,sf=cn||(Array.isArray(yn)?yn.map(Be=>Number(Be||0)):[]),xl=nr(sf),Au=bn(),vl=Le==="downContribution"?xl.map(Be=>Number(Be||0)*Au):xl,wo=5,of=Math.max(0,Math.ceil(Number((ye==null?void 0:ye.durationMS)||0)/(wo*1e3))),bl=Math.max(0,Math.ceil(vl.length/wo)),Yh=Math.max(of,bl),xc=[];for(let Be=0;Be<Yh;Be+=1){const Nt=Be*wo,Yt=Math.min(Nt+wo,vl.length),An=vl.slice(Nt,Yt).reduce((sn,Zt)=>sn+Number(Zt||0),0);xc.push({label:`${Nt}s-${Nt+wo}s`,value:An})}const Xh=xc.map(Be=>Be.label);return{title:`Fight Breakdown - ${qt} (5s ${Le==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:xc,downLabels:ae(Xh,Ht),deathLabels:ae(Xh,Qt),downIndices:It(xc.length,Ht),deathIndices:It(xc.length,Qt)}},[qi,zs,Rn,e,Sa.fights,ef,Le]),Ev=g.useMemo(()=>{const C=new Map;return Na.players.forEach(O=>C.set(O.key,O)),C},[Na.players]),PB=g.useMemo(()=>{const C=De=>Xn==="hit"?De.peakHit:Xn==="1s"?De.peak1s:Xn==="5s"?De.peak5s:De.peak30s,O=he.trim().toLowerCase(),M=O?Na.players.filter(De=>De.displayName.toLowerCase().includes(O)||De.account.toLowerCase().includes(O)||De.profession.toLowerCase().includes(O)):Na.players,ve=new Map;return M.forEach(De=>{const ye=De.profession||"Unknown",Q=ve.get(ye)||[];Q.push(De),ve.set(ye,Q)}),Array.from(ve.entries()).map(([De,ye])=>({profession:De,players:[...ye].sort((Q,et)=>C(et)-C(Q)||Q.displayName.localeCompare(et.displayName))})).sort((De,ye)=>De.profession.localeCompare(ye.profession))},[Na.players,he,Xn]),DB=At&&Ev.get(At)||null,Us=g.useMemo(()=>{if(!At)return[];const C=M=>M?Number(Xn==="hit"?M.hit||0:Xn==="1s"?M.burst1s||0:Xn==="5s"?M.burst5s||0:M.burst30s||0):0,O=M=>Number(Xn==="hit"?M.maxHit||0:Xn==="1s"?M.max1s||0:Xn==="5s"?M.max5s||0:M.max30s||0);return Na.fights.map((M,ve)=>({index:ve,fightId:M.id,shortLabel:M.shortLabel,fullLabel:M.fullLabel,timestamp:Number(M.timestamp||0),damage:C(pl(M.values[At])),maxDamage:O(M),skillName:String(pl(M.values[At]).skillName||"")}))},[Na.fights,At,Xn]),TB=g.useMemo(()=>{const C=Us.reduce((M,ve)=>Math.max(M,Number(ve.damage||0)),0),O=Us.reduce((M,ve)=>Math.max(M,Number(ve.maxDamage||0)),0);return Math.max(1,C,O)},[Us]),Uh=g.useMemo(()=>{var et;const C=wn===null?null:Us.find(pt=>pt.index===wn)||null;if(!C||!At)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const O=Bh(Na.fights,C),M=pl((et=O==null?void 0:O.values)==null?void 0:et[At]),ve=Array.isArray(M==null?void 0:M.buckets5s)?(M==null?void 0:M.buckets5s)||[]:[],De=Array.isArray(M==null?void 0:M.downIndices5s)?M.downIndices5s.map(pt=>Number(pt)).filter(pt=>Number.isFinite(pt)&&pt>=0):[],ye=Array.isArray(M==null?void 0:M.deathIndices5s)?M.deathIndices5s.map(pt=>Number(pt)).filter(pt=>Number.isFinite(pt)&&pt>=0):[];if(ve.length>0){const pt=ve.map((Je,Pt)=>({label:`${Pt*5}s-${(Pt+1)*5}s`,value:Number(Je||0)}));return{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (5s Damage Buckets)`,data:pt,downLabels:[],deathLabels:[],downIndices:De.filter(Je=>Je<pt.length),deathIndices:ye.filter(Je=>Je<pt.length)}}const Q=Number(Xn==="hit"?M.hit||0:Xn==="1s"?M.burst1s||0:Xn==="5s"?M.burst5s||0:M.burst30s||0);return Q>0?{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:Q}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${C.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[wn,Us,At,Na.fights,Xn]),MB=g.useMemo(()=>{var pt;if(wn===null||!At)return[];const C=Us.find(Je=>Je.index===wn);if(!C)return[];const O=Bh(Na.fights,C),M=pl((pt=O==null?void 0:O.values)==null?void 0:pt[At]),De=[...(M==null?void 0:M.skillRows)||[]].filter(Je=>Number((Je==null?void 0:Je.damage)||0)>0||Number((Je==null?void 0:Je.downContribution)||0)>0).sort((Je,Pt)=>Number(Pt.damage||0)-Number(Je.damage||0)).slice(0,30);if(De.length>0)return De;const ye=e.find(Je=>String((Je==null?void 0:Je.filePath)||(Je==null?void 0:Je.id)||"")===String(C.fightId||"")),Q=ye==null?void 0:ye.details;if(Q&&At){const Je=new Set(Object.keys(eu)),Pt=Object.keys(eu).filter(Gt=>Gt&&Gt!=="Unknown").sort((Gt,Cn)=>Cn.length-Gt.length),Dt=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],wt=Gt=>{if(!Gt)return"Unknown";const Cn=String(Gt).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(Je.has(Cn))return Cn;const xe=Cn.toLowerCase();for(const ae of Pt)if(xe.includes(ae.toLowerCase()))return ae;return Dt.find(ae=>xe.includes(ae.toLowerCase()))||Cn||"Unknown"},Ot=Gt=>{const Cn=Number(Gt);if(!Number.isFinite(Cn))return{name:String(Gt||"Unknown Skill"),icon:void 0};const xe=(Q==null?void 0:Q.skillMap)||{},Ze=(Q==null?void 0:Q.buffMap)||{},ae=(xe==null?void 0:xe[`s${Cn}`])||(xe==null?void 0:xe[`${Cn}`]);if(ae!=null&&ae.name)return{name:String(ae.name),icon:ae==null?void 0:ae.icon};const It=(Ze==null?void 0:Ze[`b${Cn}`])||(Ze==null?void 0:Ze[`${Cn}`]);return It!=null&&It.name?{name:String(It.name),icon:It==null?void 0:It.icon}:{name:`Skill ${Cn}`,icon:void 0}},Ht=new Map;(Array.isArray(Q==null?void 0:Q.targets)?Q.targets:[]).forEach(Gt=>{!Gt||Gt.isFake||Gt.enemyPlayer===!1||wt((Gt==null?void 0:Gt.profession)||(Gt==null?void 0:Gt.name)||(Gt==null?void 0:Gt.id))!==At||Array.isArray(Gt==null?void 0:Gt.totalDamageDist)&&Gt.totalDamageDist.forEach(xe=>{Array.isArray(xe)&&xe.forEach(Ze=>{if(!Ze||typeof Ze!="object"||Ze.indirectDamage)return;const ae=Number(Ze.totalDamage||0);if(!Number.isFinite(ae)||ae<=0)return;const It=Number(Ze.connectedHits||Ze.hits||0),Tt=Ot(Ze.id),ln=Tt.name,dn=Ht.get(ln)||{skillName:ln,damage:0,hits:0,icon:Tt.icon};dn.damage+=ae,dn.hits+=Number.isFinite(It)?It:0,!dn.icon&&Tt.icon&&(dn.icon=Tt.icon),Ht.set(ln,dn)})})});const _n=Array.from(Ht.values()).filter(Gt=>Number((Gt==null?void 0:Gt.damage)||0)>0).sort((Gt,Cn)=>Number(Cn.damage||0)-Number(Gt.damage||0)).slice(0,30);if(_n.length>0)return _n}const et=Number((M==null?void 0:M.hit)||0);return et<=0?De:[{skillName:String((M==null?void 0:M.skillName)||"Unknown Skill"),damage:et,hits:1,icon:void 0}]},[wn,At,Us,Na.fights,e]),EB=g.useMemo(()=>{var et;if(qi===null||!Rn)return[];const C=zs.find(pt=>pt.index===qi);if(!C)return[];const O=Bh(Sa.fights,C),M=pl((et=O==null?void 0:O.values)==null?void 0:et[Rn]),De=[...(M==null?void 0:M.skillRows)||[]].filter(pt=>Number((pt==null?void 0:pt.damage)||0)>0||Number((pt==null?void 0:pt.downContribution)||0)>0).sort((pt,Je)=>Number(Je.damage||0)-Number(pt.damage||0)).slice(0,30);if(De.length>0)return De;const ye=e.find(pt=>String((pt==null?void 0:pt.filePath)||(pt==null?void 0:pt.id)||"")===String(C.fightId||"")),Q=ye==null?void 0:ye.details;if(Q&&Rn){const[pt,Je]=Rn.split("|"),Pt=Ht=>{const Qt=Number(Ht);if(!Number.isFinite(Qt))return{name:String(Ht||"Unknown Skill"),icon:void 0};const _n=(Q==null?void 0:Q.skillMap)||{},Gt=(Q==null?void 0:Q.buffMap)||{},Cn=(_n==null?void 0:_n[`s${Qt}`])||(_n==null?void 0:_n[`${Qt}`]);if(Cn!=null&&Cn.name)return{name:String(Cn.name),icon:Cn==null?void 0:Cn.icon};const xe=(Gt==null?void 0:Gt[`b${Qt}`])||(Gt==null?void 0:Gt[`${Qt}`]);return xe!=null&&xe.name?{name:String(xe.name),icon:xe==null?void 0:xe.icon}:{name:`Skill ${Qt}`,icon:void 0}},Dt=new Map,Ot=(Array.isArray(Q==null?void 0:Q.players)?Q.players:[]).find(Ht=>{if(Ht!=null&&Ht.notInSquad)return!1;const Qt=String((Ht==null?void 0:Ht.account)||(Ht==null?void 0:Ht.name)||""),_n=String((Ht==null?void 0:Ht.profession)||"Unknown"),Gt=Qt===String(pt||""),Cn=_n===String(Je||"");return Gt&&Cn})||null;if(Ot){const Ht=Ot,Qt=xe=>{if(!xe||typeof xe!="object"||xe.indirectDamage)return;const Ze=Number(xe.totalDamage||0),ae=Number(xe.downContribution||0);if((!Number.isFinite(Ze)||Ze<=0)&&(!Number.isFinite(ae)||ae<=0))return;const It=Number(xe.connectedHits||xe.hits||0),Tt=Pt(xe.id),ln=Dt.get(Tt.name)||{skillName:Tt.name,damage:0,downContribution:0,hits:0,icon:Tt.icon};ln.damage+=Number.isFinite(Ze)?Ze:0,ln.downContribution+=Number.isFinite(ae)?ae:0,ln.hits+=Number.isFinite(It)?It:0,!ln.icon&&Tt.icon&&(ln.icon=Tt.icon),Dt.set(Tt.name,ln)},_n=new Map;Array.isArray(Ht==null?void 0:Ht.targetDamageDist)&&Ht.targetDamageDist.forEach(xe=>{Array.isArray(xe)&&xe.forEach(Ze=>{Array.isArray(Ze)&&Ze.forEach(ae=>{const It=Number(ae==null?void 0:ae.id),Tt=Number((ae==null?void 0:ae.totalDamage)||0),ln=Number((ae==null?void 0:ae.downContribution)||0);if(Number.isFinite(It)){const dn=_n.get(It)||{damage:0,downContribution:0,hits:0};dn.damage+=Number.isFinite(Tt)?Tt:0,dn.downContribution+=Number.isFinite(ln)?ln:0,dn.hits+=Number((ae==null?void 0:ae.connectedHits)||(ae==null?void 0:ae.hits)||0),_n.set(It,dn)}Qt(ae)})})}),!(Q!=null&&Q.detailedWvW)&&Array.isArray(Ht==null?void 0:Ht.totalDamageDist)&&Ht.totalDamageDist.forEach(xe=>{Array.isArray(xe)&&xe.forEach(Ze=>{const ae=Number(Ze==null?void 0:Ze.id);if(!Number.isFinite(ae)){Qt(Ze);return}const It=_n.get(ae);if(!It){Qt(Ze);return}const Tt=Number((Ze==null?void 0:Ze.totalDamage)||0),ln=Number((Ze==null?void 0:Ze.downContribution)||0),dn=Number((Ze==null?void 0:Ze.connectedHits)||(Ze==null?void 0:Ze.hits)||0),tr=Tt-Number(It.damage||0),qt=ln-Number(It.downContribution||0),an=dn-Number(It.hits||0);tr<=0&&qt<=0&&an<=0||Qt({...Ze,totalDamage:Math.max(0,tr),downContribution:Math.max(0,qt),connectedHits:Math.max(0,an),hits:Math.max(0,an)})})});const Cn=Array.from(Dt.values()).filter(xe=>Number((xe==null?void 0:xe.damage)||0)>0||Number((xe==null?void 0:xe.downContribution)||0)>0).sort((xe,Ze)=>Number(Ze.damage||0)-Number(xe.damage||0)).slice(0,30);if(Cn.length>0)return Cn}}return De},[qi,Rn,zs,Sa.fights,e]);g.useEffect(()=>{if(po.length===0){pc!==null&&Pv(null),Bs!==null&&Fh(null);return}if(!pc||!Tv.has(pc)){const C=po[0].key;Pv(C),MC(null)}},[po,Tv,pc,Bs]),g.useEffect(()=>{if(!go||go.skills.length===0){Bs!==null&&Fh(null);return}const C=go.skills.some(O=>O.id===Bs);(!Bs||!C)&&Fh(go.skills[0].id)},[go,Bs]),g.useEffect(()=>{if(ku.length===0){gc!==null&&Dv(null),ho!==null&&Rh(null);return}if(!gc||!Mv.has(gc)){const C=ku[0].profession;Dv(C),EC(null)}},[ku,Mv,gc,ho]),g.useEffect(()=>{if(!hl||hl.skills.length===0){ho!==null&&Rh(null);return}const C=hl.skills.some(O=>O.id===ho);(!ho||!C)&&Rh(hl.skills[0].id)},[hl,ho]),g.useEffect(()=>{if(Sa.players.length===0){Rn!==null&&lo(null);return}(!Rn||!ef.has(Rn))&&Rn!==null&&lo(null)},[Sa.players,ef,Rn]),g.useEffect(()=>{Qe(null)},[Rn,Fe,Le]),g.useEffect(()=>{if(qi===null)return;zs.some(O=>O.index===qi)||Qe(null)},[zs,qi]),g.useEffect(()=>{if(Na.players.length===0){At!==null&&xn(null);return}(!At||!Ev.has(At))&&At!==null&&xn(null)},[Na.players,Ev,At]),g.useEffect(()=>{Yn(null)},[At,Xn]),g.useEffect(()=>{if(wn===null)return;Us.some(O=>O.index===wn)||Yn(null)},[Us,wn]);const OB=g.useMemo(()=>new Set(Ei),[Ei]),Wh=kt?tn:fT,{playerMapByKey:xo,playerTotalsForSkill:Su,skillChartData:IB,skillChartMaxY:_B,groupedSkillUsagePlayers:LB}=nV({skillUsageData:Wh,selectedSkillId:Hi,selectedPlayers:OB,skillUsageView:co==="perSecond"?"perSecond":"total"}),OC=g.useMemo(()=>{const C=new Map,O=ye=>{ye.forEach(Q=>{const et=$u(Q==null?void 0:Q.name)||(Q==null?void 0:Q.name);et&&Q!=null&&Q.icon&&!C.has(et)&&C.set(et,Q.icon)})},M=ye=>{ye.forEach(Q=>{Object.entries((Q==null?void 0:Q.conditions)||{}).forEach(([et,pt])=>{const Je=$u(et)||et;pt!=null&&pt.icon&&!C.has(Je)&&C.set(Je,pt.icon)})})},ve=ye=>{const Q=new Map;return ye.forEach(et=>{const pt=$u(et==null?void 0:et.name)||(et==null?void 0:et.name);if(!pt)return;const Je=Q.get(pt)||{name:pt,icon:(et==null?void 0:et.icon)||C.get(pt)||gp(pt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};Je.applications+=Number((et==null?void 0:et.applications)||0),Je.damage+=Number((et==null?void 0:et.damage)||0),et!=null&&et.applicationsFromUptime&&(Je.applicationsFromUptime+=Number(et.applicationsFromUptime||0)),et!=null&&et.applicationsFromBuffs&&(Je.applicationsFromBuffs+=Number(et.applicationsFromBuffs||0)),et!=null&&et.applicationsFromBuffsActive&&(Je.applicationsFromBuffsActive+=Number(et.applicationsFromBuffsActive||0)),!Je.icon&&(et!=null&&et.icon)&&(Je.icon=et.icon),Je.icon||(Je.icon=gp(pt)),Q.set(pt,Je)}),Array.from(Q.values())},De=ye=>ye.map(Q=>{const et={};return Object.entries((Q==null?void 0:Q.conditions)||{}).forEach(([pt,Je])=>{const Pt=$u(pt)||pt;if(!Pt)return;const Dt=et[Pt]||{icon:(Je==null?void 0:Je.icon)||C.get(Pt)||gp(Pt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Dt.applications+=Number((Je==null?void 0:Je.applications)||0),Dt.damage+=Number((Je==null?void 0:Je.damage)||0),Je!=null&&Je.applicationsFromUptime&&(Dt.applicationsFromUptime+=Number(Je.applicationsFromUptime||0)),Je!=null&&Je.applicationsFromBuffs&&(Dt.applicationsFromBuffs+=Number(Je.applicationsFromBuffs||0)),Je!=null&&Je.applicationsFromBuffsActive&&(Dt.applicationsFromBuffsActive+=Number(Je.applicationsFromBuffsActive||0)),!Dt.icon&&(Je!=null&&Je.icon)&&(Dt.icon=Je.icon),Dt.icon||(Dt.icon=gp(Pt)),Object.values((Je==null?void 0:Je.skills)||{}).forEach(wt=>{const Ot=(wt==null?void 0:wt.name)||"Unknown",Ht=Dt.skills[Ot]||{name:Ot,hits:0,damage:0,icon:wt==null?void 0:wt.icon};Ht.hits+=Number((wt==null?void 0:wt.hits)||0),Ht.damage+=Number((wt==null?void 0:wt.damage)||0),!Ht.icon&&(wt!=null&&wt.icon)&&(Ht.icon=wt.icon),Dt.skills[Ot]=Ht}),et[Pt]=Dt}),{...Q,conditions:et}});return(ye,Q)=>(O(ye),M(Q),{summary:ve(ye),players:De(Q)})},[]),IC=Xe?Ce==="outgoing"?pe.outgoingConditionSummary:pe.incomingConditionSummary:_b,_C=Xe?Ce==="outgoing"?pe.outgoingConditionPlayers:pe.incomingConditionPlayers:_b,{summary:Vh,players:$B}=g.useMemo(()=>OC(IC||[],_C||[]),[OC,IC,_C]);g.useEffect(()=>{if(!Xe||we==="all"||Vh.some(O=>O.name===we))return;const C=$u(we);C&&Vh.some(O=>O.name===C)?tt(C):tt("all")},[we,Vh,tt,Xe]);const FB=g.useMemo(()=>{const C={};return Su.forEach((O,M)=>{const ve=xo.get(M);if(!ve)return;const De=ve.profession;(!C[De]||O>C[De])&&(C[De]=O)}),C},[Su,xo]),Ut=S,Vn=g.useCallback((C,O)=>{const M=Ut(C);return d?`${O} ${M?"":"hidden"}`:`${O} transition-[opacity,transform] duration-700 ease-in-out ${M?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[Ut,d]),LC=g.useMemo(()=>foe.find(C=>Ut(C))||null,[Ut]),Hn=g.useCallback(C=>C===LC,[LC]),RB=g.useMemo(()=>{const C=new Map,O=new Map;return Ei.forEach(M=>{const ve=xo.get(M);if(!ve)return;const De=Su.get(M)??0,ye=O.get(ve.profession)||[];ye.push({key:M,total:De}),O.set(ve.profession,ye)}),O.forEach(M=>{M.sort((ve,De)=>De.total-ve.total),M.forEach((ve,De)=>{C.set(ve.key,De)})}),C},[Ei,xo,Su]),$C=["0","12 3","8 3","6 3","4 3","2 3"],BB=C=>{const O=xo.get(C),M=Io((O==null?void 0:O.profession)||""),ve=Su.get(C)??0,De=O!=null&&O.profession&&FB[O.profession]||1,Q=.35+(De>0?ve/De:1)*.65;return Hh(M,Q)},zB=C=>{const O=RB.get(C)??0;return $C[O%$C.length]},UB=(C,O,M)=>{if(!M)return BB(C);const ve=xo.get(C),De=Io((ve==null?void 0:ve.profession)||"");return O?Hh(De,1.2):Hh(De,.5)},Hh=(C,O)=>{const M=C.replace("#","");if(M.length!==6)return C;const ve=Je=>Math.max(0,Math.min(255,Je)),De=Je=>Number.parseInt(M.slice(Je,Je+2),16),ye=Je=>ve(Math.round(Je)).toString(16).padStart(2,"0"),Q=De(0),et=De(2),pt=De(4);return`#${ye(Q*O)}${ye(et*O)}${ye(pt*O)}`},FC=g.useMemo(()=>{const C=new Map;return Wh.skillOptions.forEach(O=>{C.set(O.id,{name:O.name,icon:O.icon})}),C},[Wh.skillOptions]),tf=g.useMemo(()=>{var Je;if(Ei.length===0)return[];const C=new Map,O=new Map;let M=0;Ei.forEach(Pt=>{const Dt=xo.get(Pt);if(!Dt)return;M+=Dt.totalActiveSeconds||0,Object.entries(Dt.skillTotals||{}).forEach(([Ot,Ht])=>{C.set(Ot,(C.get(Ot)||0)+Number(Ht||0))});const wt=Dt.profession||"Unknown";O.set(wt,(O.get(wt)||0)+(Dt.totalActiveSeconds||0))});const ve=ps.trim().toLowerCase(),De=co==="perSecond",ye=((Je=Array.from(O.entries()).sort((Pt,Dt)=>Dt[1]-Pt[1])[0])==null?void 0:Je[0])||"Unknown",Q=Io(ye),et="#64748b";return Array.from(C.entries()).map(([Pt,Dt])=>{const wt=FC.get(Pt),Ot=(wt==null?void 0:wt.name)||Pt,Ht=De&&M>0?Dt/M:Dt;return{skillId:Pt,name:Ot,icon:wt==null?void 0:wt.icon,total:Ht}}).filter(Pt=>Pt.total>0&&(!ve||Pt.name.toLowerCase().includes(ve))).sort((Pt,Dt)=>Dt.total-Pt.total).map((Pt,Dt)=>({...Pt,color:Dt===0?Q:Hh(Q,.85-Math.min(Dt*.06,.4))||et}))},[Ei,xo,ps,co,FC]);g.useEffect(()=>{if(kt){if(tf.length===0){Hi!==null&&za(null);return}(!Hi||!tf.some(C=>C.skillId===Hi))&&za(tf[0].skillId)}},[tf,Hi,za,kt]);const Nu=Wh.skillOptions.find(C=>C.id===Hi),WB=(Nu==null?void 0:Nu.name)||"",VB=(Nu==null?void 0:Nu.icon)||null,HB=Se&&!!Hi&&Ei.length>0,qh="__all__",qB=Se&&ml.length>0,vo=g.useMemo(()=>ml.find(C=>C.profession===ka)??null,[ml,ka]),KB=mo===qh,GB=g.useMemo(()=>{var C;return((C=vo==null?void 0:vo.skills)==null?void 0:C.find(O=>O.id===mo))??null},[vo,mo]);g.useEffect(()=>{if(ml.length===0){ka!==null&&uo(null),fo!==null&&jv(null);return}if(!ka||!ml.some(C=>C.profession===ka)){const C=ml[0].profession;uo(C),jv(null)}},[ml,ka,fo]),g.useEffect(()=>{if(!vo||vo.skills.length===0){mo!==null&&Av(null);return}const C=vo.skills.some(O=>O.id===mo);(!mo||!C&&mo!==qh)&&Av(qh)},[vo,mo]);const YB=C=>{fc(O=>O.includes(C)?O.filter(M=>M!==C):[...O,C])},XB=C=>{fc(O=>O.filter(M=>M!==C))},QB=g.useMemo(()=>{const C=Xr.trim().toLowerCase(),O=pe.boonTables||[];return C?O.filter(M=>M.name.toLowerCase().includes(C)):O},[pe.boonTables,Xr]),ZB=g.useMemo(()=>Kn?(pe.boonTables||[]).find(C=>C.id===Kn)??null:null,[pe.boonTables,Kn]),Kh=C=>{var O,M,ve,De;return{selfBuffs:C!=null&&C.totals&&typeof C.totals=="object"?Number(((O=C==null?void 0:C.totals)==null?void 0:O.selfBuffs)||0):0,groupBuffs:C!=null&&C.totals&&typeof C.totals=="object"?Number(((M=C==null?void 0:C.totals)==null?void 0:M.groupBuffs)||0):0,squadBuffs:C!=null&&C.totals&&typeof C.totals=="object"?Number(((ve=C==null?void 0:C.totals)==null?void 0:ve.squadBuffs)||0):Number((C==null?void 0:C.total)||0),totalBuffs:C!=null&&C.totals&&typeof C.totals=="object"?Number((((De=C==null?void 0:C.totals)==null?void 0:De.totalBuffs)??(C==null?void 0:C.total))||0):Number((C==null?void 0:C.total)||0)}},nf=(C,O)=>{const M=Kh(C),ve=Number((M==null?void 0:M[O])||0);return Number.isFinite(ve)?Math.max(0,ve):0},RC=hr==="selfBuffs"?"Self":hr==="groupBuffs"?"Group":hr==="squadBuffs"?"Squad":"All",bo=g.useMemo(()=>(Array.isArray(pe==null?void 0:pe.boonTimeline)?pe.boonTimeline:[]).map(O=>({id:String((O==null?void 0:O.id)||""),name:String((O==null?void 0:O.name)||(O==null?void 0:O.id)||"Unknown Boon"),icon:typeof(O==null?void 0:O.icon)=="string"?O.icon:void 0,stacking:!!(O!=null&&O.stacking),players:(Array.isArray(O==null?void 0:O.players)?O.players:[]).map(M=>({key:String((M==null?void 0:M.key)||""),account:String((M==null?void 0:M.account)||(M==null?void 0:M.displayName)||"Unknown"),displayName:String((M==null?void 0:M.displayName)||(M==null?void 0:M.account)||"Unknown"),profession:String((M==null?void 0:M.profession)||"Unknown"),professionList:Array.isArray(M==null?void 0:M.professionList)?M.professionList.map(ve=>String(ve||"")):[],logs:Number((M==null?void 0:M.logs)||0),totals:Kh(M)})),fights:(Array.isArray(O==null?void 0:O.fights)?O.fights:[]).map((M,ve)=>({id:String((M==null?void 0:M.id)||`fight-${ve+1}`),shortLabel:String((M==null?void 0:M.shortLabel)||`F${ve+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${ve+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),maxTotal:Number((M==null?void 0:M.maxTotal)||0),values:M!=null&&M.values&&typeof M.values=="object"?Object.fromEntries(Object.entries(M.values).map(([De,ye])=>[String(De||""),{total:Number((ye==null?void 0:ye.total)||0),totals:Kh(ye),bucketWeights5s:Array.isArray(ye==null?void 0:ye.bucketWeights5s)?ye.bucketWeights5s.map(Q=>Number(Q||0)):[],buckets5s:Array.isArray(ye==null?void 0:ye.buckets5s)?ye.buckets5s.map(Q=>Number(Q||0)):[]}])):{}}))})).filter(O=>O.id&&O.players.length>0&&O.fights.length>0),[pe.boonTimeline]),JB=g.useMemo(()=>{const C=oo.trim().toLowerCase();return C?bo.filter(O=>String((O==null?void 0:O.name)||"").toLowerCase().includes(C)):bo},[bo,oo]),Gi=g.useMemo(()=>Ti&&bo.find(C=>C.id===Ti)||null,[bo,Ti]),Gh=g.useMemo(()=>[...Array.isArray(Gi==null?void 0:Gi.players)?Gi.players:[]].map(O=>({...O,total:nf(O,hr)})).sort((O,M)=>Number(M.total||0)-Number(O.total||0)||String(O.displayName||"").localeCompare(String(M.displayName||""))),[Gi,hr]),ez=g.useMemo(()=>{const C=Gh,O=wa.trim().toLowerCase();return O?C.filter(M=>String((M==null?void 0:M.displayName)||"").toLowerCase().includes(O)||String((M==null?void 0:M.account)||"").toLowerCase().includes(O)||String((M==null?void 0:M.profession)||"").toLowerCase().includes(O)):C},[Gh,wa]),tz=g.useMemo(()=>{const C=new Map;return Gh.forEach(O=>{C.set(String((O==null?void 0:O.key)||""),O)}),C},[Gh]),nz=Lr&&tz.get(Lr)||null,Cu=g.useMemo(()=>!Gi||!Lr?[]:(Gi.fights||[]).map((C,O)=>{var De;const M=(De=C==null?void 0:C.values)==null?void 0:De[Lr],ve=Object.entries(C!=null&&C.values&&typeof C.values=="object"?C.values:{}).filter(([ye])=>String(ye||"")!=="__all__").reduce((ye,[,Q])=>Math.max(ye,nf(Q,hr)),0);return{index:O,fightId:String((C==null?void 0:C.id)||""),shortLabel:String((C==null?void 0:C.shortLabel)||`F${O+1}`),fullLabel:String((C==null?void 0:C.fullLabel)||`Fight ${O+1}`),timestamp:Number((C==null?void 0:C.timestamp)||0),total:nf(M,hr),maxTotal:ve>0?ve:Number((C==null?void 0:C.maxTotal)||0)}}),[Gi,Lr,hr]),rz=g.useMemo(()=>{const C=Cu.reduce((M,ve)=>Math.max(M,Number((ve==null?void 0:ve.total)||0)),0),O=Cu.reduce((M,ve)=>Math.max(M,Number((ve==null?void 0:ve.maxTotal)||0)),0);return Math.max(1,C,O)},[Cu]),BC=g.useMemo(()=>{var Dt;const C=cl===null?null:Cu.find(wt=>wt.index===cl)||null;if(!C||!Gi||!Lr)return{title:"Fight Breakdown",data:[]};const O=Gi.fights[C.index],M=((Dt=O==null?void 0:O.values)==null?void 0:Dt[Lr])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},ve=nf(M,hr),De=Array.isArray(M==null?void 0:M.bucketWeights5s)?M.bucketWeights5s:[],ye=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],Q=Math.max(De.length,ye.length,Math.ceil(Math.max(0,Number((O==null?void 0:O.durationMs)||0))/5e3),1),et=Array.from({length:Q},(wt,Ot)=>Number(De[Ot]||0)),pt=et.reduce((wt,Ot)=>wt+Number(Ot||0),0);let Je=[];if(pt>0){const wt=ve>0?ve/pt:0;Je=et.map(Ot=>Number(Ot||0)*wt)}else if(ye.length>0){const wt=Array.from({length:Q},(Ot,Ht)=>Number(ye[Ht]||0));if(hr==="totalBuffs"||!(M!=null&&M.totals))Je=wt;else{const Ot=nf({totals:Kh(M)},"totalBuffs"),Ht=Ot>0?ve/Ot:0;Je=wt.map(Qt=>Number(Qt||0)*Ht)}}else{const wt=ve>0?ve/Math.max(1,Q):0;Je=Array.from({length:Q},()=>wt)}const Pt=Array.from({length:Q},(wt,Ot)=>({label:`${Ot*5}s-${(Ot+1)*5}s`,value:Number(Je[Ot]||0)}));return{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (5s ${RC} Generation Buckets)`,data:Pt}},[cl,Cu,Gi,Lr,hr,RC]),yo=g.useMemo(()=>(Array.isArray(pe==null?void 0:pe.boonUptimeTimeline)?pe.boonUptimeTimeline:[]).map(O=>({id:String((O==null?void 0:O.id)||""),name:String((O==null?void 0:O.name)||(O==null?void 0:O.id)||"Unknown Boon"),icon:typeof(O==null?void 0:O.icon)=="string"?O.icon:void 0,stacking:!!(O!=null&&O.stacking),players:(Array.isArray(O==null?void 0:O.players)?O.players:[]).map(M=>({key:String((M==null?void 0:M.key)||""),account:String((M==null?void 0:M.account)||(M==null?void 0:M.displayName)||"Unknown"),displayName:String((M==null?void 0:M.displayName)||(M==null?void 0:M.account)||"Unknown"),profession:String((M==null?void 0:M.profession)||"Unknown"),professionList:Array.isArray(M==null?void 0:M.professionList)?M.professionList.map(ve=>String(ve||"")):[],logs:Number((M==null?void 0:M.logs)||0),total:Math.max(0,Number((M==null?void 0:M.total)||0)),peak:Math.max(0,Number((M==null?void 0:M.peak)||0))})).filter(M=>M.key&&M.key!=="__all__"),fights:(Array.isArray(O==null?void 0:O.fights)?O.fights:[]).map((M,ve)=>({id:String((M==null?void 0:M.id)||`fight-${ve+1}`),shortLabel:String((M==null?void 0:M.shortLabel)||`F${ve+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${ve+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),maxTotal:Math.max(0,Number((M==null?void 0:M.maxTotal)||0)),values:M!=null&&M.values&&typeof M.values=="object"?Object.fromEntries(Object.entries(M.values).map(([De,ye])=>[String(De||""),{total:Math.max(0,Number((ye==null?void 0:ye.total)||0)),peak:Math.max(0,Number((ye==null?void 0:ye.peak)||0)),buckets5s:Array.isArray(ye==null?void 0:ye.buckets5s)?ye.buckets5s.map(Q=>Math.max(0,Number(Q||0))):[]}])):{}}))})).filter(O=>O.id&&O.players.length>0&&O.fights.length>0),[pe.boonUptimeTimeline]),iz=g.useMemo(()=>{const C=ul.trim().toLowerCase();return C?yo.filter(O=>String((O==null?void 0:O.name)||"").toLowerCase().includes(C)):yo},[yo,ul]),Nn=g.useMemo(()=>Mi&&yo.find(C=>C.id===Mi)||null,[yo,Mi]),ju=g.useMemo(()=>{const C=new Map,O=Array.isArray(Nn==null?void 0:Nn.players)?Nn.players:[],M=Array.isArray(Nn==null?void 0:Nn.fights)?Nn.fights:[];if(!O.length||!M.length)return C;const ve=M.reduce((De,ye)=>{const Q=Math.max(Math.ceil(Math.max(0,Number((ye==null?void 0:ye.durationMs)||0))/5e3),1);return De+Q},0);return ve<=0||O.forEach(De=>{const ye=String((De==null?void 0:De.key)||"");if(!ye||ye==="__all__")return;let Q=0;M.forEach(et=>{var Dt;const pt=(Dt=et==null?void 0:et.values)==null?void 0:Dt[ye],Je=Array.isArray(pt==null?void 0:pt.buckets5s)?pt.buckets5s:[],Pt=Math.max(Je.length,Math.ceil(Math.max(0,Number((et==null?void 0:et.durationMs)||0))/5e3),1);for(let wt=0;wt<Pt;wt+=1)Math.max(0,Number(Je[wt]||0))>0&&(Q+=1)}),C.set(ye,Q/ve*100)}),C},[Nn]),rf=g.useMemo(()=>[...(Array.isArray(Nn==null?void 0:Nn.players)?Nn.players:[]).map(M=>({...M,uptimePercent:Number(ju.get(String((M==null?void 0:M.key)||""))||0)}))].sort((M,ve)=>Number(ju.get(String((ve==null?void 0:ve.key)||""))||0)-Number(ju.get(String((M==null?void 0:M.key)||""))||0)||Number(ve.peak||0)-Number(M.peak||0)||Number(ve.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(ve.displayName||""))),[Nn,ju]),az=g.useMemo(()=>{const C=te.trim().toLowerCase();return C?rf.filter(O=>String((O==null?void 0:O.displayName)||"").toLowerCase().includes(C)||String((O==null?void 0:O.account)||"").toLowerCase().includes(C)||String((O==null?void 0:O.profession)||"").toLowerCase().includes(C)):rf},[rf,te]),sz=g.useMemo(()=>{const C=new Map;return rf.forEach(O=>{C.set(String((O==null?void 0:O.key)||""),O)}),C},[rf]),oz=ze&&sz.get(ze)||null,gl=g.useMemo(()=>!Nn||!ze?[]:(Nn.fights||[]).map((C,O)=>{var Dt;const M=((Dt=C==null?void 0:C.values)==null?void 0:Dt[ze])||{total:0,peak:0},ve=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],De=Math.max(ve.length,Math.ceil(Math.max(0,Number((C==null?void 0:C.durationMs)||0))/5e3),1),ye=Math.max(0,Number((M==null?void 0:M.total)||0))/De,et=Array.from({length:De},(wt,Ot)=>Math.max(0,Number(ve[Ot]||0))).reduce((wt,Ot)=>wt+(Ot>0?1:0),0)/De*100,pt=Object.entries(C!=null&&C.values&&typeof C.values=="object"?C.values:{}).filter(([wt])=>String(wt||"")!=="__all__").reduce((wt,[,Ot])=>Math.max(wt,Math.max(0,Number((Ot==null?void 0:Ot.peak)||0))),0),Je=Object.entries(C!=null&&C.values&&typeof C.values=="object"?C.values:{}).filter(([wt])=>String(wt||"")!=="__all__").reduce((wt,[,Ot])=>{const Ht=Array.isArray(Ot==null?void 0:Ot.buckets5s)?Ot.buckets5s:[],Qt=Math.max(Ht.length,Math.ceil(Math.max(0,Number((C==null?void 0:C.durationMs)||0))/5e3),1),_n=Math.max(0,Number((Ot==null?void 0:Ot.total)||0))/Qt;return Math.max(wt,_n)},0),Pt=Object.entries(C!=null&&C.values&&typeof C.values=="object"?C.values:{}).filter(([wt])=>String(wt||"")!=="__all__").reduce((wt,[,Ot])=>{const Ht=Array.isArray(Ot==null?void 0:Ot.buckets5s)?Ot.buckets5s:[],Qt=Math.max(Ht.length,Math.ceil(Math.max(0,Number((C==null?void 0:C.durationMs)||0))/5e3),1),Gt=Array.from({length:Qt},(Cn,xe)=>Math.max(0,Number(Ht[xe]||0))).reduce((Cn,xe)=>Cn+(xe>0?1:0),0)/Qt*100;return Math.max(wt,Gt)},0);return{index:O,fightId:String((C==null?void 0:C.id)||""),shortLabel:String((C==null?void 0:C.shortLabel)||`F${O+1}`),fullLabel:String((C==null?void 0:C.fullLabel)||`Fight ${O+1}`),timestamp:Number((C==null?void 0:C.timestamp)||0),durationMs:Number((C==null?void 0:C.durationMs)||0),total:Math.max(0,Number((M==null?void 0:M.total)||0)),average:ye,uptimePercent:et,peak:Math.max(0,Number((M==null?void 0:M.peak)||0)),maxTotal:pt>0?pt:Math.max(0,Number((C==null?void 0:C.maxTotal)||0)),maxAverage:Je,maxUptimePercent:Pt}}),[Nn,ze]),lz=g.useMemo(()=>{const C=!!(Nn!=null&&Nn.stacking),O=gl.reduce((De,ye)=>Math.max(De,Number(C?ye==null?void 0:ye.average:(ye==null?void 0:ye.uptimePercent)||0)),0),M=gl.reduce((De,ye)=>Math.max(De,Number(C?ye==null?void 0:ye.maxAverage:(ye==null?void 0:ye.maxUptimePercent)||0)),0),ve=Nn!=null&&Nn.stacking?25:100;return Math.max(1,O,M,ve)},[gl,Nn==null?void 0:Nn.stacking]),zC=g.useMemo(()=>{var Q,et;const C=Lt===null?null:gl.find(pt=>pt.index===Lt)||null;if(!C||!Nn||!ze)return{title:"Fight Breakdown",data:[]};const O=(Q=Nn.fights)==null?void 0:Q[C.index];if(!O)return{title:"Fight Breakdown",data:[]};const M=(et=O==null?void 0:O.values)==null?void 0:et[ze],ve=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],De=Math.max(ve.length,Math.ceil(Math.max(0,Number((O==null?void 0:O.durationMs)||0))/5e3),1),ye=Array.from({length:De},(pt,Je)=>{const Pt=Object.entries(O!=null&&O.values&&typeof O.values=="object"?O.values:{}).filter(([Dt])=>String(Dt||"")!=="__all__").reduce((Dt,[,wt])=>{var Ot;return Math.max(Dt,Math.max(0,Number(((Ot=wt==null?void 0:wt.buckets5s)==null?void 0:Ot[Je])||0)))},0);return{label:`${Je*5}s-${(Je+1)*5}s`,value:Math.max(0,Number(ve[Je]||0)),maxValue:Pt}});return{title:`Fight Breakdown - ${C.shortLabel||"Fight"} (5s Stack Buckets)`,data:ye}},[Lt,gl,Nn,ze]),cz=g.useMemo(()=>{if(!ze)return null;const C=ju.get(ze);return Number.isFinite(Number(C))?Number(C):null},[ju,ze]),uz=g.useMemo(()=>{const C=jt.trim().toLowerCase(),O=[...pe.specialTables||[]].sort((M,ve)=>M.name.localeCompare(ve.name));return C?O.filter(M=>M.name.toLowerCase().includes(C)):O},[pe.specialTables,jt]),gs=g.useMemo(()=>[...pe.specialTables||[]].filter(O=>/\b(sigil|relic)\b/i.test(String((O==null?void 0:O.name)||""))).sort((O,M)=>O.name.localeCompare(M.name)),[pe.specialTables]),dz=g.useMemo(()=>{const C=D.trim().toLowerCase();return C?gs.filter(O=>O.name.toLowerCase().includes(C)):gs},[gs,D]),fz=g.useMemo(()=>rn?(pe.specialTables||[]).find(C=>C.id===rn)??null:null,[pe.specialTables,rn]),mz=g.useMemo(()=>sr?gs.find(C=>C.id===sr)??null:null,[gs,sr]);g.useEffect(()=>{!pe.boonTables||pe.boonTables.length===0||(!Kn||!pe.boonTables.some(C=>C.id===Kn))&&uc(pe.boonTables[0].id)},[pe.boonTables,Kn]),g.useEffect(()=>{if(bo.length===0){Ti!==null&&ol(null);return}(!Ti||!bo.some(C=>C.id===Ti))&&ol(bo[0].id)},[bo,Ti]),g.useEffect(()=>{var M;const C=(Gi==null?void 0:Gi.players)||[];if(C.length===0){Lr!==null&&ll(null);return}const O=((M=C.find(ve=>ve.key==="__all__"))==null?void 0:M.key)||C[0].key;(!Lr||!C.some(ve=>ve.key===Lr))&&ll(O)},[Gi,Lr]),g.useEffect(()=>{vu(null)},[Ti,Lr]),g.useEffect(()=>{if(yo.length===0){Mi!==null&&dl(null);return}(!Mi||!yo.some(C=>C.id===Mi))&&dl(yo[0].id)},[yo,Mi]),g.useEffect(()=>{var M;const C=(Nn==null?void 0:Nn.players)||[];if(C.length===0){ze!==null&&Ct(null);return}const O=((M=C.find(ve=>ve.key==="__all__"))==null?void 0:M.key)||C[0].key;(!ze||!C.some(ve=>ve.key===ze))&&Ct(O)},[Nn,ze]),g.useEffect(()=>{Lt!==null&&(Lt<0||Lt>=gl.length)&&Kt(null)},[gl,Lt]),g.useEffect(()=>{Kt(null)},[Mi,ze]),g.useEffect(()=>{!pe.specialTables||pe.specialTables.length===0||(!rn||!pe.specialTables.some(C=>C.id===rn))&&$t(pe.specialTables[0].id)},[pe.specialTables,rn]),g.useEffect(()=>{if(!gs||gs.length===0){sr!==null&&lt(null);return}(!sr||!gs.some(C=>C.id===sr))&&lt(gs[0].id)},[gs,sr]),g.useEffect(()=>{const C=()=>{const M=window.getSelection();M&&M.rangeCount>0&&M.removeAllRanges()},O=M=>{var De;const ve=M.target;(De=ve==null?void 0:ve.closest)!=null&&De.call(ve,".recharts-wrapper")&&(M.preventDefault(),C())};return document.addEventListener("selectstart",O),document.addEventListener("mousedown",O),document.addEventListener("mousemove",O),document.addEventListener("dragstart",O),()=>{document.removeEventListener("selectstart",O),document.removeEventListener("mousedown",O),document.removeEventListener("mousemove",O),document.removeEventListener("dragstart",O)}},[]);const Qr=C=>{sa.current&&(window.clearTimeout(sa.current),sa.current=null),aa(!1),Jd(C)},$r=()=>{vn&&(sa.current&&window.clearTimeout(sa.current),aa(!0),sa.current=window.setTimeout(()=>{Jd(null),aa(!1),sa.current=null},160))};g.useEffect(()=>{if(!vn)return;const C=ve=>{ve.key==="Escape"&&$r()},O=document.body.style.overflow,M=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",C),()=>{window.removeEventListener("keydown",C),document.body.style.overflow=O,document.documentElement.style.overflow=M}},[vn]);const UC=(C,O)=>{const M=((O==null?void 0:O.value)||0)-((C==null?void 0:C.value)||0);return M!==0?M:String((C==null?void 0:C.name)||"").localeCompare(String((O==null?void 0:O.name)||""))},WC=Array.isArray(pe==null?void 0:pe.squadClassData)?pe.squadClassData:[],VC=Array.isArray(pe==null?void 0:pe.enemyClassData)?pe.enemyClassData:[],hz=Array.isArray(pe==null?void 0:pe.attendanceData)?pe.attendanceData:[],Ov=Array.isArray(pe==null?void 0:pe.squadCompByFight)?pe.squadCompByFight:[],HC=Array.isArray(pe==null?void 0:pe.fightBreakdown)?pe.fightBreakdown:[],pz=g.useMemo(()=>{const C=new Map;return HC.forEach(O=>{const M=String((O==null?void 0:O.id)||"");M&&C.set(M,O)}),Ov.map(O=>{const M=C.get(String((O==null?void 0:O.id)||""))||null;return{...O,enemyClassCounts:(M==null?void 0:M.enemyClassCounts)||{},isWin:typeof(M==null?void 0:M.isWin)=="boolean"?M.isWin:void 0}})},[Ov,HC]),gz=g.useMemo(()=>[...WC].sort(UC),[WC]),xz=g.useMemo(()=>[...VC].sort(UC),[VC]),vz=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",bz=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${vn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${vn?"":"backdrop-blur-2xl"}`,qC=u&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,yz=X?{...qC||{},overflowY:"hidden"}:qC,wz=C=>co==="perSecond"?C.toFixed(1):Math.round(C).toLocaleString(),kz=C=>C.toFixed(1),Sz=C=>Math.round(C).toLocaleString(),Nz=C=>typeof C=="number"&&Number.isFinite(C)?C.toFixed(1):"0.0",Cz=Math.max(Math.max(0,Number(pe.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((p==null?void 0:p.total)||0))),ci=Cse;return c.jsxs("div",{className:vz,children:[vn&&c.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${gr?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:$r}),c.jsx(ooe,{embedded:u,dashboardTitle:f,totalLogs:Cz,onBack:t,devMockAvailable:ee,devMockUploadState:nn,onDevMockUpload:un,uploadingWeb:T,onWebUpload:mn,sharing:fs,canShareDiscord:m,onShare:pn,actionsDisabled:ie}),c.jsx(loe,{embedded:u,webUploadMessage:L,webUploadUrl:_,webUploadBuildStatus:K,webCopyStatus:hn,setWebCopyStatus:mr}),c.jsx(coe,{embedded:u,devMockAvailable:ee,devMockUploadState:nn}),G&&c.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3",children:[c.jsx("div",{className:"stats-settling-banner__title font-semibold",children:B}),c.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:de})]}),V.active&&c.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:c.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${V.progressPercent}%`}})}),c.jsx("div",{className:"stats-settling-banner__meta stats-settling-banner__joke mt-2 text-xs opacity-90",children:re})]}),c.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${X?"stats-dashboard-loading-shell":""}`,children:[c.jsxs("div",{id:"stats-dashboard-container",ref:Ft,className:`${bz} ${u?"":"flex-1"} ${X?"stats-dashboard-scroll-lock":""}`,style:yz,children:[c.jsxs(c.Fragment,{children:[Ut("overview")&&c.jsx(Hse,{stats:pe,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("fight-breakdown")&&c.jsx(qse,{stats:pe,fightBreakdownTab:Oh,setFightBreakdownTab:Ih,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("top-players")&&c.jsx(Yse,{stats:pe,showTopStats:w,showMvp:N,topStatsMode:k,expandedLeader:Pi,setExpandedLeader:Ur,formatTopStatValue:Sl,formatWithCommas:mi,isMvpStatEnabled:Mn,renderProfessionIcon:ci,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("top-skills-outgoing")&&c.jsx(Xse,{stats:pe,topSkillsMetric:F,onTopSkillsMetricChange:at,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("squad-composition")&&c.jsx(Qse,{sortedSquadClassData:gz,sortedEnemyClassData:xz,getProfessionIconPath:_c,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("attendance-ledger")&&c.jsx(noe,{attendanceRows:hz,getProfessionIconPath:_c,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("squad-comp-fight")&&c.jsx(ioe,{fights:Ov,getProfessionIconPath:_c,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("fight-comp")&&c.jsx(soe,{fights:pz,getProfessionIconPath:_c,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("timeline")&&c.jsx(Zse,{timelineData:pe.timelineData,timelineFriendlyScope:pr,setTimelineFriendlyScope:Gn,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("map-distribution")&&c.jsx(Jse,{mapData:pe.mapData,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("offense-detailed")&&c.jsx(Ose,{stats:pe,OFFENSE_METRICS:DO,roundCountStats:j,offenseSearch:J,setOffenseSearch:Ne,activeOffenseStat:Pe,setActiveOffenseStat:_e,offenseViewMode:mt,setOffenseViewMode:xt,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs}),Ut("player-breakdown")&&c.jsx(Dse,{expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs,viewMode:bB,setViewMode:yB,playerSkillBreakdowns:po,classSkillBreakdowns:ku,activePlayerKey:pc,setActivePlayerKey:Pv,expandedPlayerKey:gB,setExpandedPlayerKey:MC,activePlayerSkillId:Bs,setActivePlayerSkillId:Fh,activeClassKey:gc,setActiveClassKey:Dv,expandedClassKey:wB,setExpandedClassKey:EC,activeClassSkillId:ho,setActiveClassSkillId:Rh,skillSearch:xB,setSkillSearch:vB,activePlayerBreakdown:go,activePlayerSkill:SB,activeClassBreakdown:hl,activeClassSkill:NB,renderProfessionIcon:ci}),Ut("damage-breakdown")&&c.jsx(Tse,{expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,playerSkillBreakdowns:po,renderProfessionIcon:ci}),Ut("spike-damage")&&c.jsx(cT,{expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,spikePlayerFilter:qe,setSpikePlayerFilter:fe,groupedSpikePlayers:CB,spikeMode:Fe,setSpikeMode:$e,damageBasis:Le,setDamageBasis:ht,showDamageBasisToggle:!0,selectedSpikePlayerKey:Rn,setSelectedSpikePlayerKey:lo,selectedSpikePlayer:jB,spikeChartData:zs,spikeChartMaxY:AB,selectedSpikeFightIndex:qi,setSelectedSpikeFightIndex:Qe,spikeDrilldownTitle:zh.title,spikeDrilldownData:zh.data,spikeDrilldownDownIndices:zh.downIndices,spikeDrilldownDeathIndices:zh.deathIndices,spikeFightSkillRows:EB,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:mi,renderProfessionIcon:ci}),Ut("conditions-outgoing")&&c.jsx(Ise,{conditionSummary:Vh,conditionPlayers:$B,conditionSearch:vt,setConditionSearch:zt,activeConditionName:we,setActiveConditionName:tt,conditionDirection:Ce,setConditionDirection:rt,conditionGridClass:bt,effectiveConditionSort:je,setConditionSort:ce,showConditionDamage:ot,renderProfessionIcon:ci,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs}),Ut("defense-detailed")&&c.jsx(Lse,{stats:pe,DEFENSE_METRICS:TO,defenseSearch:ue,setDefenseSearch:We,activeDefenseStat:Re,setActiveDefenseStat:Ke,defenseViewMode:Bt,setDefenseViewMode:Jt,roundCountStats:j,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs}),Ut("incoming-strike-damage")&&c.jsx(cT,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,spikePlayerFilter:he,setSpikePlayerFilter:nt,groupedSpikePlayers:PB,spikeMode:Xn,setSpikeMode:li,selectedSpikePlayerKey:At,setSelectedSpikePlayerKey:xn,selectedSpikePlayer:DB,spikeChartData:Us,spikeChartMaxY:TB,selectedSpikeFightIndex:wn,setSelectedSpikeFightIndex:Yn,spikeDrilldownTitle:Uh.title,spikeDrilldownData:Uh.data,spikeDrilldownDownIndices:Uh.downIndices,spikeDrilldownDeathIndices:Uh.deathIndices,spikeFightSkillRows:MB,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:mi,renderProfessionIcon:ci}),Ut("defense-mitigation")&&c.jsx($se,{stats:pe,DAMAGE_MITIGATION_METRICS:r8,damageMitigationSearch:Ie,setDamageMitigationSearch:yt,activeDamageMitigationStat:Ye,setActiveDamageMitigationStat:Ue,damageMitigationViewMode:gn,setDamageMitigationViewMode:jn,damageMitigationScope:wi,setDamageMitigationScope:kr,roundCountStats:j,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs}),Ut("boon-output")&&c.jsx(_se,{stats:pe,activeBoonCategory:dc,setActiveBoonCategory:C=>sl(C),activeBoonMetric:Di,setActiveBoonMetric:Rs,activeBoonTab:Kn,setActiveBoonTab:uc,activeBoonTable:ZB,filteredBoonTables:QB,boonSearch:Xr,setBoonSearch:ms,formatBoonMetricDisplay:I8,getBoonMetricValue:UO,renderProfessionIcon:ci,roundCountStats:j,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs}),Ut("boon-timeline")&&c.jsx(Mse,{expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,boonSearch:oo,setBoonSearch:ya,boons:JB,activeBoonId:Ti,setActiveBoonId:ol,timelineScope:hr,setTimelineScope:hs,playerFilter:wa,setPlayerFilter:Zd,players:ez,selectedPlayerKey:Lr,setSelectedPlayerKey:ll,selectedPlayer:nz,chartData:Cu,chartMaxY:rz,selectedFightIndex:cl,setSelectedFightIndex:vu,drilldownTitle:BC.title,drilldownData:BC.data,formatWithCommas:mi,renderProfessionIcon:ci}),Ut("boon-uptime")&&c.jsx(Ese,{expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,boonSearch:ul,setBoonSearch:bu,boons:iz,activeBoonId:Mi,setActiveBoonId:dl,playerFilter:te,setPlayerFilter:Oe,players:az,selectedPlayerKey:ze,setSelectedPlayerKey:Ct,selectedPlayer:oz,chartData:gl,chartMaxY:lz,selectedFightIndex:Lt,setSelectedFightIndex:Kt,drilldownTitle:zC.title,drilldownData:zC.data,overallUptimePercent:cz,showStackCapLine:!!(Nn!=null&&Nn.stacking),formatWithCommas:mi,renderProfessionIcon:ci}),Ut("support-detailed")&&c.jsx(Fse,{stats:pe,SUPPORT_METRICS:MO,supportSearch:st,setSupportSearch:St,activeSupportStat:oe,setActiveSupportStat:Rt,supportViewMode:Fn,setSupportViewMode:Tr,cleanseScope:zn,setCleanseScope:Mr,roundCountStats:j,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs}),Ut("healing-stats")&&c.jsx(Rse,{stats:pe,HEALING_METRICS:i8,activeHealingMetric:Te,setActiveHealingMetric:Ee,healingCategory:gt,setHealingCategory:ut,activeResUtilitySkill:ct,setActiveResUtilitySkill:He,skillUsageData:tn,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("fight-diff-mode")&&c.jsx(Vse,{stats:pe,formatWithCommas:mi,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn}),Ut("special-buffs")&&c.jsx(zse,{stats:pe,specialSearch:jt,setSpecialSearch:$n,filteredSpecialTables:uz,activeSpecialTab:rn,setActiveSpecialTab:$t,activeSpecialTable:fz,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs}),Ut("sigil-relic-uptime")&&c.jsx(Wse,{hasSigilRelicTables:gs.length>0,sigilRelicSearch:D,setSigilRelicSearch:$,filteredSigilRelicTables:dz,activeSigilRelicTab:sr,setActiveSigilRelicTab:lt,activeSigilRelicTable:mz,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs}),Ut("skill-usage")&&c.jsx(jse,{expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,selectedPlayers:Ei,setSelectedPlayers:fc,removeSelectedPlayer:XB,playerMapByKey:xo,groupedSkillUsagePlayers:LB,expandedSkillUsageClass:$h,setExpandedSkillUsageClass:wu,togglePlayerSelection:YB,skillUsagePlayerFilter:oi,setSkillUsagePlayerFilter:fl,skillUsageView:co,setSkillUsageView:_h,skillUsageData:tn,skillUsageSkillFilter:ps,setSkillUsageSkillFilter:yu,selectedSkillId:Hi,setSelectedSkillId:za,skillBarData:tf,selectedSkillName:WB,selectedSkillIcon:VB,skillUsageReady:HB,skillUsageAvailable:Se,isSkillUsagePerSecond:Lh,skillChartData:IB,skillChartMaxY:_B,playerTotalsForSkill:Su,hoveredSkillPlayer:Ki,setHoveredSkillPlayer:mc,getLineStrokeColor:UB,getLineDashForPlayer:zB,formatSkillUsageValue:wz,renderProfessionIcon:ci}),Ut("apm-stats")&&c.jsx(Pse,{expandedSection:vn,expandedSectionClosing:gr,openExpandedSection:Qr,closeExpandedSection:$r,isSectionVisible:Ut,isFirstVisibleSection:Hn,sectionClass:Vn,sidebarListClass:Hs,apmSpecAvailable:qB,skillUsageAvailable:Se,apmSpecTables:ml,activeApmSpec:ka,setActiveApmSpec:uo,expandedApmSpec:fo,setExpandedApmSpec:jv,activeApmSkillId:mo,setActiveApmSkillId:Av,ALL_SKILLS_KEY:qh,apmSkillSearch:hB,setApmSkillSearch:pB,activeApmSpecTable:vo,activeApmSkill:GB,isAllApmSkills:KB,apmView:oa,setApmView:hc,formatApmValue:Nz,formatCastRateValue:kz,formatCastCountValue:Sz,renderProfessionIcon:ci})]}),!u&&c.jsx("div",{className:"h-24","aria-hidden":"true"})]}),X&&c.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const hoe="Arcane",VN="CRT",_0="MatteSlate",L0="KineticPaper",Tc="KineticPaperDark",og={id:hoe,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},poe={id:_0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},goe={id:L0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},xoe={id:Tc,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},voe=[og,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],boe={id:VN,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Lf=[...voe,boe,poe,goe,xoe];function yoe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const woe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,koe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Soe={};function mT(e,t){return(Soe.jsx?koe:woe).test(e)}const Noe=/[ \t\n\f\r]/g;function Coe(e){return typeof e=="object"?e.type==="text"?hT(e.value):!1:hT(e)}function hT(e){return e.replace(Noe,"")===""}class jh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}jh.prototype.normal={};jh.prototype.property={};jh.prototype.space=void 0;function z$(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new jh(n,r,t)}function l1(e){return e.toLowerCase()}class ba{constructor(t,n){this.attribute=n,this.property=t}}ba.prototype.attribute="";ba.prototype.booleanish=!1;ba.prototype.boolean=!1;ba.prototype.commaOrSpaceSeparated=!1;ba.prototype.commaSeparated=!1;ba.prototype.defined=!1;ba.prototype.mustUseProperty=!1;ba.prototype.number=!1;ba.prototype.overloadedBoolean=!1;ba.prototype.property="";ba.prototype.spaceSeparated=!1;ba.prototype.space=void 0;let joe=0;const fn=pu(),Vr=pu(),c1=pu(),ft=pu(),rr=pu(),hd=pu(),ja=pu();function pu(){return 2**++joe}const u1=Object.freeze(Object.defineProperty({__proto__:null,boolean:fn,booleanish:Vr,commaOrSpaceSeparated:ja,commaSeparated:hd,number:ft,overloadedBoolean:c1,spaceSeparated:rr},Symbol.toStringTag,{value:"Module"})),Lb=Object.keys(u1);class HN extends ba{constructor(t,n,r,i){let a=-1;if(super(t,n),pT(this,"space",i),typeof r=="number")for(;++a<Lb.length;){const s=Lb[a];pT(this,Lb[a],(r&u1[s])===u1[s])}}}HN.prototype.defined=!0;function pT(e,t,n){n&&(e[t]=n)}function Xd(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new HN(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[l1(r)]=r,n[l1(a.attribute)]=r}return new jh(t,n,e.space)}const U$=Xd({properties:{ariaActiveDescendant:null,ariaAtomic:Vr,ariaAutoComplete:null,ariaBusy:Vr,ariaChecked:Vr,ariaColCount:ft,ariaColIndex:ft,ariaColSpan:ft,ariaControls:rr,ariaCurrent:null,ariaDescribedBy:rr,ariaDetails:null,ariaDisabled:Vr,ariaDropEffect:rr,ariaErrorMessage:null,ariaExpanded:Vr,ariaFlowTo:rr,ariaGrabbed:Vr,ariaHasPopup:null,ariaHidden:Vr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:rr,ariaLevel:ft,ariaLive:null,ariaModal:Vr,ariaMultiLine:Vr,ariaMultiSelectable:Vr,ariaOrientation:null,ariaOwns:rr,ariaPlaceholder:null,ariaPosInSet:ft,ariaPressed:Vr,ariaReadOnly:Vr,ariaRelevant:null,ariaRequired:Vr,ariaRoleDescription:rr,ariaRowCount:ft,ariaRowIndex:ft,ariaRowSpan:ft,ariaSelected:Vr,ariaSetSize:ft,ariaSort:null,ariaValueMax:ft,ariaValueMin:ft,ariaValueNow:ft,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function W$(e,t){return t in e?e[t]:t}function V$(e,t){return W$(e,t.toLowerCase())}const Aoe=Xd({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:hd,acceptCharset:rr,accessKey:rr,action:null,allow:null,allowFullScreen:fn,allowPaymentRequest:fn,allowUserMedia:fn,alt:null,as:null,async:fn,autoCapitalize:null,autoComplete:rr,autoFocus:fn,autoPlay:fn,blocking:rr,capture:null,charSet:null,checked:fn,cite:null,className:rr,cols:ft,colSpan:null,content:null,contentEditable:Vr,controls:fn,controlsList:rr,coords:ft|hd,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fn,defer:fn,dir:null,dirName:null,disabled:fn,download:c1,draggable:Vr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fn,formTarget:null,headers:rr,height:ft,hidden:c1,high:ft,href:null,hrefLang:null,htmlFor:rr,httpEquiv:rr,id:null,imageSizes:null,imageSrcSet:null,inert:fn,inputMode:null,integrity:null,is:null,isMap:fn,itemId:null,itemProp:rr,itemRef:rr,itemScope:fn,itemType:rr,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fn,low:ft,manifest:null,max:null,maxLength:ft,media:null,method:null,min:null,minLength:ft,multiple:fn,muted:fn,name:null,nonce:null,noModule:fn,noValidate:fn,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fn,optimum:ft,pattern:null,ping:rr,placeholder:null,playsInline:fn,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fn,referrerPolicy:null,rel:rr,required:fn,reversed:fn,rows:ft,rowSpan:ft,sandbox:rr,scope:null,scoped:fn,seamless:fn,selected:fn,shadowRootClonable:fn,shadowRootDelegatesFocus:fn,shadowRootMode:null,shape:null,size:ft,sizes:null,slot:null,span:ft,spellCheck:Vr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ft,step:null,style:null,tabIndex:ft,target:null,title:null,translate:null,type:null,typeMustMatch:fn,useMap:null,value:Vr,width:ft,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:rr,axis:null,background:null,bgColor:null,border:ft,borderColor:null,bottomMargin:ft,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fn,declare:fn,event:null,face:null,frame:null,frameBorder:null,hSpace:ft,leftMargin:ft,link:null,longDesc:null,lowSrc:null,marginHeight:ft,marginWidth:ft,noResize:fn,noHref:fn,noShade:fn,noWrap:fn,object:null,profile:null,prompt:null,rev:null,rightMargin:ft,rules:null,scheme:null,scrolling:Vr,standby:null,summary:null,text:null,topMargin:ft,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ft,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fn,disableRemotePlayback:fn,prefix:null,property:null,results:ft,security:null,unselectable:null},space:"html",transform:V$}),Poe=Xd({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ja,accentHeight:ft,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ft,amplitude:ft,arabicForm:null,ascent:ft,attributeName:null,attributeType:null,azimuth:ft,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ft,by:null,calcMode:null,capHeight:ft,className:rr,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ft,diffuseConstant:ft,direction:null,display:null,dur:null,divisor:ft,dominantBaseline:null,download:fn,dx:null,dy:null,edgeMode:null,editable:null,elevation:ft,enableBackground:null,end:null,event:null,exponent:ft,externalResourcesRequired:null,fill:null,fillOpacity:ft,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:hd,g2:hd,glyphName:hd,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ft,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ft,horizOriginX:ft,horizOriginY:ft,id:null,ideographic:ft,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ft,k:ft,k1:ft,k2:ft,k3:ft,k4:ft,kernelMatrix:ja,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ft,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ft,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ft,overlineThickness:ft,paintOrder:null,panose1:null,path:null,pathLength:ft,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:rr,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ft,pointsAtY:ft,pointsAtZ:ft,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ja,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ja,rev:ja,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ja,requiredFeatures:ja,requiredFonts:ja,requiredFormats:ja,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ft,specularExponent:ft,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ft,strikethroughThickness:ft,string:null,stroke:null,strokeDashArray:ja,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ft,strokeOpacity:ft,strokeWidth:null,style:null,surfaceScale:ft,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ja,tabIndex:ft,tableValues:null,target:null,targetX:ft,targetY:ft,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ja,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ft,underlineThickness:ft,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ft,values:null,vAlphabetic:ft,vMathematical:ft,vectorEffect:null,vHanging:ft,vIdeographic:ft,version:null,vertAdvY:ft,vertOriginX:ft,vertOriginY:ft,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ft,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:W$}),H$=Xd({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),q$=Xd({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:V$}),K$=Xd({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Doe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},Toe=/[A-Z]/g,gT=/-[a-z]/g,Moe=/^data[-\w.:]+$/i;function Eoe(e,t){const n=l1(t);let r=t,i=ba;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&Moe.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(gT,Ioe);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!gT.test(a)){let s=a.replace(Toe,Ooe);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=HN}return new i(r,t)}function Ooe(e){return"-"+e.toLowerCase()}function Ioe(e){return e.charAt(1).toUpperCase()}const _oe=z$([U$,Aoe,H$,q$,K$],"html"),qN=z$([U$,Poe,H$,q$,K$],"svg");function Loe(e){return e.join(" ").trim()}var KN={},xT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,$oe=/\n/g,Foe=/^\s*/,Roe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Boe=/^:\s*/,zoe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Uoe=/^[;\s]*/,Woe=/^\s+|\s+$/g,Voe=`
`,vT="/",bT="*",Mc="",Hoe="comment",qoe="declaration";function Koe(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var v=p.match($oe);v&&(n+=v.length);var y=p.lastIndexOf(Voe);r=~y?p.length-y:r+p.length}function a(){var p={line:n,column:r};return function(v){return v.position=new s(p),u(),v}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var v=new Error(t.source+":"+n+":"+r+": "+p);if(v.reason=p,v.filename=t.source,v.line=n,v.column=r,v.source=e,!t.silent)throw v}function l(p){var v=p.exec(e);if(v){var y=v[0];return i(y),e=e.slice(y.length),v}}function u(){l(Foe)}function d(p){var v;for(p=p||[];v=f();)v!==!1&&p.push(v);return p}function f(){var p=a();if(!(vT!=e.charAt(0)||bT!=e.charAt(1))){for(var v=2;Mc!=e.charAt(v)&&(bT!=e.charAt(v)||vT!=e.charAt(v+1));)++v;if(v+=2,Mc===e.charAt(v-1))return o("End of comment missing");var y=e.slice(2,v-2);return r+=2,i(y),e=e.slice(v),r+=2,p({type:Hoe,comment:y})}}function h(){var p=a(),v=l(Roe);if(v){if(f(),!l(Boe))return o("property missing ':'");var y=l(zoe),x=p({type:qoe,property:yT(v[0].replace(xT,Mc)),value:y?yT(y[0].replace(xT,Mc)):Mc});return l(Uoe),x}}function m(){var p=[];d(p);for(var v;v=h();)v!==!1&&(p.push(v),d(p));return p}return u(),m()}function yT(e){return e?e.replace(Woe,Mc):Mc}var Goe=Koe,Yoe=fg&&fg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KN,"__esModule",{value:!0});KN.default=Qoe;const Xoe=Yoe(Goe);function Qoe(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,Xoe.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var mv={};Object.defineProperty(mv,"__esModule",{value:!0});mv.camelCase=void 0;var Zoe=/^--[a-zA-Z0-9_-]+$/,Joe=/-([a-z])/g,ele=/^[^-]+$/,tle=/^-(webkit|moz|ms|o|khtml)-/,nle=/^-(ms)-/,rle=function(e){return!e||ele.test(e)||Zoe.test(e)},ile=function(e,t){return t.toUpperCase()},wT=function(e,t){return"".concat(t,"-")},ale=function(e,t){return t===void 0&&(t={}),rle(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(nle,wT):e=e.replace(tle,wT),e.replace(Joe,ile))};mv.camelCase=ale;var sle=fg&&fg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ole=sle(KN),lle=mv;function d1(e,t){var n={};return!e||typeof e!="string"||(0,ole.default)(e,function(r,i){r&&i&&(n[(0,lle.camelCase)(r,t)]=i)}),n}d1.default=d1;var cle=d1;const ule=Ls(cle),G$=Y$("end"),GN=Y$("start");function Y$(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function dle(e){const t=GN(e),n=G$(e);if(t&&n)return{start:t,end:n}}function Xf(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kT(e.position):"start"in e||"end"in e?kT(e):"line"in e||"column"in e?f1(e):""}function f1(e){return ST(e&&e.line)+":"+ST(e&&e.column)}function kT(e){return f1(e&&e.start)+"-"+f1(e&&e.end)}function ST(e){return e&&typeof e=="number"?e:1}class Vi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=Xf(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Vi.prototype.file="";Vi.prototype.name="";Vi.prototype.reason="";Vi.prototype.message="";Vi.prototype.stack="";Vi.prototype.column=void 0;Vi.prototype.line=void 0;Vi.prototype.ancestors=void 0;Vi.prototype.cause=void 0;Vi.prototype.fatal=void 0;Vi.prototype.place=void 0;Vi.prototype.ruleId=void 0;Vi.prototype.source=void 0;const YN={}.hasOwnProperty,fle=new Map,mle=/[A-Z]/g,hle=new Set(["table","tbody","thead","tfoot","tr"]),ple=new Set(["td","th"]),X$="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function gle(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Nle(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Sle(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?qN:_oe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=Q$(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function Q$(e,t,n){if(t.type==="element")return xle(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return vle(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return yle(e,t,n);if(t.type==="mdxjsEsm")return ble(e,t);if(t.type==="root")return wle(e,t,n);if(t.type==="text")return kle(e,t)}function xle(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=qN,e.schema=i),e.ancestors.push(t);const a=J$(e,t.tagName,!1),s=Cle(e,t);let o=QN(e,t);return hle.has(t.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!Coe(l):!0})),Z$(e,s,a,t),XN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function vle(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}Rm(e,t.position)}function ble(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Rm(e,t.position)}function yle(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=qN,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:J$(e,t.name,!0),s=jle(e,t),o=QN(e,t);return Z$(e,s,a,t),XN(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function wle(e,t,n){const r={};return XN(r,QN(e,t)),e.create(t,e.Fragment,r,n)}function kle(e,t){return t.value}function Z$(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function XN(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Sle(e,t,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:t;return o?u(a,s,o):u(a,s)}}function Nle(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=GN(r);return t(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Cle(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&YN.call(t.properties,i)){const a=Ale(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&ple.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function jle(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else Rm(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else Rm(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function QN(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:fle;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=Q$(e,a,s);o!==void 0&&n.push(o)}return n}function Ale(e,t,n){const r=Eoe(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?yoe(n):Loe(n)),r.property==="style"){let i=typeof n=="object"?n:Ple(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Dle(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Doe[r.property]||r.property:r.attribute,n]}}function Ple(e,t){try{return ule(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new Vi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=X$+"#cannot-parse-style-attribute",i}}function J$(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=mT(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=mT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return YN.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);Rm(e)}function Rm(e,t){const n=new Vi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=X$+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Dle(e){const t={};let n;for(n in e)YN.call(e,n)&&(t[Tle(n)]=e[n]);return t}function Tle(e){let t=e.replace(mle,Mle);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Mle(e){return"-"+e.toLowerCase()}const $b={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Ele={};function ZN(e,t){const n=Ele,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return eF(e,r,i)}function eF(e,t,n){if(Ole(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return NT(e.children,t,n)}return Array.isArray(e)?NT(e,t,n):""}function NT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=eF(e[i],t,n);return r.join("")}function Ole(e){return!!(e&&typeof e=="object")}const CT=document.createElement("i");function JN(e){const t="&"+e+";";CT.innerHTML=t;const n=CT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function _a(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function Za(e,t){return e.length>0?(_a(e,e.length,0,t),e):t}const jT={}.hasOwnProperty;function tF(e){const t={};let n=-1;for(;++n<e.length;)Ile(t,e[n]);return t}function Ile(e,t){let n;for(n in t){const i=(jT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){jT.call(i,s)||(i[s]=[]);const o=a[s];_le(i[s],Array.isArray(o)?o:o?[o]:[])}}}function _le(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);_a(e,0,0,r)}function nF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ps(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Qi=lc(/[A-Za-z]/),zi=lc(/[\dA-Za-z]/),Lle=lc(/[#-'*+\--9=?A-Z^-~]/);function $0(e){return e!==null&&(e<32||e===127)}const m1=lc(/\d/),$le=lc(/[\dA-Fa-f]/),Fle=lc(/[!-/:-@[-`{-~]/);function Xt(e){return e!==null&&e<-2}function Zn(e){return e!==null&&(e<0||e===32)}function kn(e){return e===-2||e===-1||e===32}const hv=lc(new RegExp("\\p{P}|\\p{S}","u")),cu=lc(/\s/);function lc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Qd(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&zi(e.charCodeAt(n+1))&&zi(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function Tn(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return kn(l)?(e.enter(n),o(l)):t(l)}function o(l){return kn(l)&&a++<i?(e.consume(l),o):(e.exit(n),t(l))}}const Rle={tokenize:Ble};function Ble(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),Tn(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Xt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const zle={tokenize:Ule},AT={tokenize:Wle};function Ule(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,l,u)(w)}return u(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&b();const N=t.events.length;let j=N,k;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){k=t.events[j][1].end;break}x(r);let A=N;for(;A<t.events.length;)t.events[A][1].end={...k},A++;return _a(t.events,j+1,0,t.events.slice(N)),t.events.length=A,u(w)}return o(w)}function u(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(AT,d,f)(w)}function d(w){return i&&b(),x(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(AT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&b(),x(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),v(w)}function v(w){if(w===null){y(e.exit("chunkFlow"),!0),x(0),e.consume(w);return}return Xt(w)?(e.consume(w),y(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),v)}function y(w,N){const j=t.sliceStream(w);if(N&&j.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(j),t.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const A=t.events.length;let E=A,F,T;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(F){T=t.events[E][1].end;break}F=!0}for(x(r),k=A;k<t.events.length;)t.events[k][1].end={...T},k++;_a(t.events,E+1,0,t.events.slice(A)),t.events.length=k}}function x(w){let N=n.length;for(;N-- >w;){const j=n[N];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function b(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Wle(e,t,n){return Tn(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Id(e){if(e===null||Zn(e)||cu(e))return 1;if(hv(e))return 2}function pv(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const h1={name:"attention",resolveAll:Vle,tokenize:Hle};function Vle(e,t){let n=-1,r,i,a,s,o,l,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};PT(f,-l),PT(h,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=Za(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=Za(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=Za(u,pv(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=Za(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=Za(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,_a(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function Hle(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Id(r);let a;return s;function s(l){return a=l,e.enter("attentionSequence"),o(l)}function o(l){if(l===a)return e.consume(l),o;const u=e.exit("attentionSequence"),d=Id(l),f=!d||d===2&&i||n.includes(l),h=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!h)),u._close=!!(a===42?h:h&&(d||!f)),t(l)}}function PT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const qle={name:"autolink",tokenize:Kle};function Kle(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return Qi(m)?(e.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||zi(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||zi(m))&&r++<32?(e.consume(m),o):(r=0,u(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||$0(m)?n(m):(e.consume(m),l)}function u(m){return m===64?(e.consume(m),d):Lle(m)?(e.consume(m),u):n(m)}function d(m){return zi(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||zi(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Ah={partial:!0,tokenize:Gle};function Gle(e,t,n){return r;function r(a){return kn(a)?Tn(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Xt(a)?t(a):n(a)}}const rF={continuation:{tokenize:Xle},exit:Qle,name:"blockQuote",tokenize:Yle};function Yle(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return kn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function Xle(e,t,n){const r=this;return i;function i(s){return kn(s)?Tn(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(rF,t,n)(s)}}function Qle(e){e.exit("blockQuote")}const iF={name:"characterEscape",tokenize:Zle};function Zle(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return Fle(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const aF={name:"characterReference",tokenize:Jle};function Jle(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),l}function l(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=zi,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=$le,d):(e.enter("characterReferenceValue"),a=7,s=m1,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===zi&&!JN(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const DT={partial:!0,tokenize:tce},TT={concrete:!0,name:"codeFenced",tokenize:ece};function ece(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,s=0,o;return l;function l(k){return u(k)}function u(k){const A=r.events[r.events.length-1];return a=A&&A[1].type==="linePrefix"?A[2].sliceSerialize(A[1],!0).length:0,o=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===o?(s++,e.consume(k),d):s<3?n(k):(e.exit("codeFencedFenceSequence"),kn(k)?Tn(e,f,"whitespace")(k):f(k))}function f(k){return k===null||Xt(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(DT,v,N)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||Xt(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):kn(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Tn(e,m,"whitespace")(k)):k===96&&k===o?n(k):(e.consume(k),h)}function m(k){return k===null||Xt(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||Xt(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===o?n(k):(e.consume(k),p)}function v(k){return e.attempt(i,N,y)(k)}function y(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),x}function x(k){return a>0&&kn(k)?Tn(e,b,"linePrefix",a+1)(k):b(k)}function b(k){return k===null||Xt(k)?e.check(DT,v,N)(k):(e.enter("codeFlowValue"),w(k))}function w(k){return k===null||Xt(k)?(e.exit("codeFlowValue"),b(k)):(e.consume(k),w)}function N(k){return e.exit("codeFenced"),t(k)}function j(k,A,E){let F=0;return T;function T(le){return k.enter("lineEnding"),k.consume(le),k.exit("lineEnding"),L}function L(le){return k.enter("codeFencedFence"),kn(le)?Tn(k,_,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(le):_(le)}function _(le){return le===o?(k.enter("codeFencedFenceSequence"),K(le)):E(le)}function K(le){return le===o?(F++,k.consume(le),K):F>=s?(k.exit("codeFencedFenceSequence"),kn(le)?Tn(k,ee,"whitespace")(le):ee(le)):E(le)}function ee(le){return le===null||Xt(le)?(k.exit("codeFencedFence"),A(le)):E(le)}}}function tce(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Fb={name:"codeIndented",tokenize:rce},nce={partial:!0,tokenize:ice};function rce(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),Tn(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):Xt(u)?e.attempt(nce,s,l)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Xt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function l(u){return e.exit("codeIndented"),t(u)}}function ice(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Xt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):Tn(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Xt(s)?i(s):n(s)}}const ace={name:"codeText",previous:oce,resolve:sce,tokenize:lce};function sce(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function oce(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function lce(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),l):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Xt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Xt(f)?(e.exit("codeTextData"),l(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class cce{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Nf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Nf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Nf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Nf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Nf(this.left,n.reverse())}}}function Nf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function sF(e){const t={};let n=-1,r,i,a,s,o,l,u;const d=new cce(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,uce(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return _a(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function uce(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let d,f,h=-1,m=n,p=0,v=0;const y=[v];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(v=h+1,y.push(v),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):y.pop(),h=y.length;h--;){const x=o.slice(y[h],y[h+1]),b=a.pop();l.push([b,b+x.length-1]),e.splice(b,2,x)}for(l.reverse(),h=-1;++h<l.length;)u[p+l[h][0]]=p+l[h][1],p+=l[h][1]-l[h][0]-1;return u}const dce={resolve:mce,tokenize:hce},fce={partial:!0,tokenize:pce};function mce(e){return sF(e),e}function hce(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Xt(o)?e.check(fce,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function pce(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),Tn(e,a,"linePrefix")}function a(s){if(s===null||Xt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function oF(e,t,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let d=0;return f;function f(x){return x===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(x),e.exit(a),h):x===null||x===32||x===41||$0(x)?n(x):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),v(x))}function h(x){return x===62?(e.enter(a),e.consume(x),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(x))}function m(x){return x===62?(e.exit("chunkString"),e.exit(o),h(x)):x===null||x===60||Xt(x)?n(x):(e.consume(x),x===92?p:m)}function p(x){return x===60||x===62||x===92?(e.consume(x),m):m(x)}function v(x){return!d&&(x===null||x===41||Zn(x))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(x)):d<u&&x===40?(e.consume(x),d++,v):x===41?(e.consume(x),d--,v):x===null||x===32||x===40||$0(x)?n(x):(e.consume(x),x===92?y:v)}function y(x){return x===40||x===41||x===92?(e.consume(x),v):v(x)}}function lF(e,t,n,r,i,a){const s=this;let o=0,l;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Xt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Xt(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!kn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function cF(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,l):n(h)}function l(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===s?(e.exit(a),l(s)):h===null?n(h):Xt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),Tn(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Xt(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function Qf(e,t){let n;return r;function r(i){return Xt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):kn(i)?Tn(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const gce={name:"definition",tokenize:vce},xce={partial:!0,tokenize:bce};function vce(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return lF.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=Ps(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Zn(m)?Qf(e,u)(m):u(m)}function u(m){return oF(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(xce,f,f)(m)}function f(m){return kn(m)?Tn(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Xt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function bce(e,t,n){return r;function r(o){return Zn(o)?Qf(e,i)(o):n(o)}function i(o){return cF(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return kn(o)?Tn(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Xt(o)?t(o):n(o)}}const yce={name:"hardBreakEscape",tokenize:wce};function wce(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Xt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const kce={name:"headingAtx",resolve:Sce,tokenize:Nce};function Sce(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},_a(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Nce(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||Zn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||Xt(d)?(e.exit("atxHeading"),t(d)):kn(d)?Tn(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||Zn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const Cce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],MT=["pre","script","style","textarea"],jce={concrete:!0,name:"htmlFlow",resolveTo:Dce,tokenize:Tce},Ace={partial:!0,tokenize:Ece},Pce={partial:!0,tokenize:Mce};function Dce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Tce(e,t,n){const r=this;let i,a,s,o,l;return u;function u(S){return d(S)}function d(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),f}function f(S){return S===33?(e.consume(S),h):S===47?(e.consume(S),a=!0,v):S===63?(e.consume(S),i=3,r.interrupt?t:I):Qi(S)?(e.consume(S),s=String.fromCharCode(S),y):n(S)}function h(S){return S===45?(e.consume(S),i=2,m):S===91?(e.consume(S),i=5,o=0,p):Qi(S)?(e.consume(S),i=4,r.interrupt?t:I):n(S)}function m(S){return S===45?(e.consume(S),r.interrupt?t:I):n(S)}function p(S){const W="CDATA[";return S===W.charCodeAt(o++)?(e.consume(S),o===W.length?r.interrupt?t:_:p):n(S)}function v(S){return Qi(S)?(e.consume(S),s=String.fromCharCode(S),y):n(S)}function y(S){if(S===null||S===47||S===62||Zn(S)){const W=S===47,R=s.toLowerCase();return!W&&!a&&MT.includes(R)?(i=1,r.interrupt?t(S):_(S)):Cce.includes(s.toLowerCase())?(i=6,W?(e.consume(S),x):r.interrupt?t(S):_(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):a?b(S):w(S))}return S===45||zi(S)?(e.consume(S),s+=String.fromCharCode(S),y):n(S)}function x(S){return S===62?(e.consume(S),r.interrupt?t:_):n(S)}function b(S){return kn(S)?(e.consume(S),b):T(S)}function w(S){return S===47?(e.consume(S),T):S===58||S===95||Qi(S)?(e.consume(S),N):kn(S)?(e.consume(S),w):T(S)}function N(S){return S===45||S===46||S===58||S===95||zi(S)?(e.consume(S),N):j(S)}function j(S){return S===61?(e.consume(S),k):kn(S)?(e.consume(S),j):w(S)}function k(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),l=S,A):kn(S)?(e.consume(S),k):E(S)}function A(S){return S===l?(e.consume(S),l=null,F):S===null||Xt(S)?n(S):(e.consume(S),A)}function E(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||Zn(S)?j(S):(e.consume(S),E)}function F(S){return S===47||S===62||kn(S)?w(S):n(S)}function T(S){return S===62?(e.consume(S),L):n(S)}function L(S){return S===null||Xt(S)?_(S):kn(S)?(e.consume(S),L):n(S)}function _(S){return S===45&&i===2?(e.consume(S),ke):S===60&&i===1?(e.consume(S),re):S===62&&i===4?(e.consume(S),P):S===63&&i===3?(e.consume(S),I):S===93&&i===5?(e.consume(S),se):Xt(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Ace,Z,K)(S)):S===null||Xt(S)?(e.exit("htmlFlowData"),K(S)):(e.consume(S),_)}function K(S){return e.check(Pce,ee,Z)(S)}function ee(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),le}function le(S){return S===null||Xt(S)?K(S):(e.enter("htmlFlowData"),_(S))}function ke(S){return S===45?(e.consume(S),I):_(S)}function re(S){return S===47?(e.consume(S),s="",H):_(S)}function H(S){if(S===62){const W=s.toLowerCase();return MT.includes(W)?(e.consume(S),P):_(S)}return Qi(S)&&s.length<8?(e.consume(S),s+=String.fromCharCode(S),H):_(S)}function se(S){return S===93?(e.consume(S),I):_(S)}function I(S){return S===62?(e.consume(S),P):S===45&&i===2?(e.consume(S),I):_(S)}function P(S){return S===null||Xt(S)?(e.exit("htmlFlowData"),Z(S)):(e.consume(S),P)}function Z(S){return e.exit("htmlFlow"),t(S)}}function Mce(e,t,n){const r=this;return i;function i(s){return Xt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function Ece(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ah,t,n)}}const Oce={name:"htmlText",tokenize:Ice};function Ice(e,t,n){const r=this;let i,a,s;return o;function o(I){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(I),l}function l(I){return I===33?(e.consume(I),u):I===47?(e.consume(I),j):I===63?(e.consume(I),w):Qi(I)?(e.consume(I),E):n(I)}function u(I){return I===45?(e.consume(I),d):I===91?(e.consume(I),a=0,p):Qi(I)?(e.consume(I),b):n(I)}function d(I){return I===45?(e.consume(I),m):n(I)}function f(I){return I===null?n(I):I===45?(e.consume(I),h):Xt(I)?(s=f,re(I)):(e.consume(I),f)}function h(I){return I===45?(e.consume(I),m):f(I)}function m(I){return I===62?ke(I):I===45?h(I):f(I)}function p(I){const P="CDATA[";return I===P.charCodeAt(a++)?(e.consume(I),a===P.length?v:p):n(I)}function v(I){return I===null?n(I):I===93?(e.consume(I),y):Xt(I)?(s=v,re(I)):(e.consume(I),v)}function y(I){return I===93?(e.consume(I),x):v(I)}function x(I){return I===62?ke(I):I===93?(e.consume(I),x):v(I)}function b(I){return I===null||I===62?ke(I):Xt(I)?(s=b,re(I)):(e.consume(I),b)}function w(I){return I===null?n(I):I===63?(e.consume(I),N):Xt(I)?(s=w,re(I)):(e.consume(I),w)}function N(I){return I===62?ke(I):w(I)}function j(I){return Qi(I)?(e.consume(I),k):n(I)}function k(I){return I===45||zi(I)?(e.consume(I),k):A(I)}function A(I){return Xt(I)?(s=A,re(I)):kn(I)?(e.consume(I),A):ke(I)}function E(I){return I===45||zi(I)?(e.consume(I),E):I===47||I===62||Zn(I)?F(I):n(I)}function F(I){return I===47?(e.consume(I),ke):I===58||I===95||Qi(I)?(e.consume(I),T):Xt(I)?(s=F,re(I)):kn(I)?(e.consume(I),F):ke(I)}function T(I){return I===45||I===46||I===58||I===95||zi(I)?(e.consume(I),T):L(I)}function L(I){return I===61?(e.consume(I),_):Xt(I)?(s=L,re(I)):kn(I)?(e.consume(I),L):F(I)}function _(I){return I===null||I===60||I===61||I===62||I===96?n(I):I===34||I===39?(e.consume(I),i=I,K):Xt(I)?(s=_,re(I)):kn(I)?(e.consume(I),_):(e.consume(I),ee)}function K(I){return I===i?(e.consume(I),i=void 0,le):I===null?n(I):Xt(I)?(s=K,re(I)):(e.consume(I),K)}function ee(I){return I===null||I===34||I===39||I===60||I===61||I===96?n(I):I===47||I===62||Zn(I)?F(I):(e.consume(I),ee)}function le(I){return I===47||I===62||Zn(I)?F(I):n(I)}function ke(I){return I===62?(e.consume(I),e.exit("htmlTextData"),e.exit("htmlText"),t):n(I)}function re(I){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(I),e.exit("lineEnding"),H}function H(I){return kn(I)?Tn(e,se,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(I):se(I)}function se(I){return e.enter("htmlTextData"),s(I)}}const eC={name:"labelEnd",resolveAll:Fce,resolveTo:Rce,tokenize:Bce},_ce={tokenize:zce},Lce={tokenize:Uce},$ce={tokenize:Wce};function Fce(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&_a(e,0,e.length,n),e}function Rce(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",l,t],["enter",u,t]],o=Za(o,e.slice(a+1,a+r+3)),o=Za(o,[["enter",d,t]]),o=Za(o,pv(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=Za(o,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),o=Za(o,e.slice(s+1)),o=Za(o,[["exit",l,t]]),_a(e,a,e.length,o),e}function Bce(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(Ps(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),l):n(h)}function l(h){return h===40?e.attempt(_ce,d,s?d:f)(h):h===91?e.attempt(Lce,d,s?u:f)(h):s?d(h):f(h)}function u(h){return e.attempt($ce,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function zce(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return Zn(f)?Qf(e,a)(f):a(f)}function a(f){return f===41?d(f):oF(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return Zn(f)?Qf(e,l)(f):d(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?cF(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return Zn(f)?Qf(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function Uce(e,t,n){const r=this;return i;function i(o){return lF.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(Ps(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function Wce(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const Vce={name:"labelStartImage",resolveAll:eC.resolveAll,tokenize:Hce};function Hce(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const qce={name:"labelStartLink",resolveAll:eC.resolveAll,tokenize:Kce};function Kce(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Rb={name:"lineEnding",tokenize:Gce};function Gce(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Tn(e,t,"linePrefix")}}const lg={name:"thematicBreak",tokenize:Yce};function Yce(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||Xt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function l(u){return u===i?(e.consume(u),r++,l):(e.exit("thematicBreakSequence"),kn(u)?Tn(e,o,"whitespace")(u):o(u))}}const la={continuation:{tokenize:Jce},exit:tue,name:"list",tokenize:Zce},Xce={partial:!0,tokenize:nue},Qce={partial:!0,tokenize:eue};function Zce(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:m1(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(lg,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return m1(m)&&++s<10?(e.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Ah,r.interrupt?n:d,e.attempt(Xce,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return kn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Jce(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Ah,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Tn(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!kn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(Qce,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Tn(e,e.attempt(la,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function eue(e,t,n){const r=this;return Tn(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function tue(e){e.exit(this.containerState.type)}function nue(e,t,n){const r=this;return Tn(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!kn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const ET={name:"setextUnderline",resolveTo:rue,tokenize:iue};function rue(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function iue(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),kn(u)?Tn(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||Xt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const aue={tokenize:sue};function sue(e){const t=this,n=e.attempt(Ah,r,e.attempt(this.parser.constructs.flowInitial,i,Tn(e,e.attempt(this.parser.constructs.flow,i,e.attempt(dce,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const oue={resolveAll:dF()},lue=uF("string"),cue=uF("text");function uF(e){return{resolveAll:dF(e==="text"?uue:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return u(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),l)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function dF(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function uue(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const due={42:la,43:la,45:la,48:la,49:la,50:la,51:la,52:la,53:la,54:la,55:la,56:la,57:la,62:rF},fue={91:gce},mue={[-2]:Fb,[-1]:Fb,32:Fb},hue={35:kce,42:lg,45:[ET,lg],60:jce,61:ET,95:lg,96:TT,126:TT},pue={38:aF,92:iF},gue={[-5]:Rb,[-4]:Rb,[-3]:Rb,33:Vce,38:aF,42:h1,60:[qle,Oce],91:qce,92:[yce,iF],93:eC,95:h1,96:ace},xue={null:[h1,oue]},vue={null:[42,95]},bue={null:[]},yue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:vue,contentInitial:fue,disable:bue,document:due,flow:hue,flowInitial:mue,insideSpan:xue,string:pue,text:gue},Symbol.toStringTag,{value:"Module"}));function wue(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:A(j),check:A(k),consume:b,enter:w,exit:N,interrupt:A(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(u,l);return t.resolveAll&&a.push(t),u;function f(L){return s=Za(s,L),y(),s[s.length-1]!==null?[]:(E(t,0),u.events=pv(a,u.events,u),u.events)}function h(L,_){return Sue(m(L),_)}function m(L){return kue(s,L)}function p(){const{_bufferIndex:L,_index:_,line:K,column:ee,offset:le}=r;return{_bufferIndex:L,_index:_,line:K,column:ee,offset:le}}function v(L){i[L.line]=L.column,T()}function y(){let L;for(;r._index<s.length;){const _=s[r._index];if(typeof _=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<_.length;)x(_.charCodeAt(r._bufferIndex));else x(_)}}function x(L){d=d(L)}function b(L){Xt(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,T()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=L}function w(L,_){const K=_||{};return K.type=L,K.start=p(),u.events.push(["enter",K,u]),o.push(K),K}function N(L){const _=o.pop();return _.end=p(),u.events.push(["exit",_,u]),_}function j(L,_){E(L,_.from)}function k(L,_){_.restore()}function A(L,_){return K;function K(ee,le,ke){let re,H,se,I;return Array.isArray(ee)?Z(ee):"tokenize"in ee?Z([ee]):P(ee);function P(q){return ne;function ne(Y){const z=Y!==null&&q[Y],U=Y!==null&&q.null,V=[...Array.isArray(z)?z:z?[z]:[],...Array.isArray(U)?U:U?[U]:[]];return Z(V)(Y)}}function Z(q){return re=q,H=0,q.length===0?ke:S(q[H])}function S(q){return ne;function ne(Y){return I=F(),se=q,q.partial||(u.currentConstruct=q),q.name&&u.parser.constructs.disable.null.includes(q.name)?R():q.tokenize.call(_?Object.assign(Object.create(u),_):u,l,W,R)(Y)}}function W(q){return L(se,I),le}function R(q){return I.restore(),++H<re.length?S(re[H]):ke}}}function E(L,_){L.resolveAll&&!a.includes(L)&&a.push(L),L.resolve&&_a(u.events,_,u.events.length-_,L.resolve(u.events.slice(_),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function F(){const L=p(),_=u.previous,K=u.currentConstruct,ee=u.events.length,le=Array.from(o);return{from:ee,restore:ke};function ke(){r=L,u.previous=_,u.currentConstruct=K,u.events.length=ee,o=le,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function kue(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Sue(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function Nue(e){const r={constructs:tF([yue,...(e||{}).extensions||[]]),content:i(Rle),defined:[],document:i(zle),flow:i(aue),lazy:{},string:i(lue),text:i(cue)};return r;function i(a){return s;function s(o){return wue(r,a,o)}}}function Cue(e){for(;!sF(e););return e}const OT=/[\0\t\n\r]/g;function jue(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const l=[];let u,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(OT.lastIndex=f,u=OT.exec(a),h=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(h),!u){t=a.slice(f);break}if(m===10&&f===h&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<h&&(l.push(a.slice(f,h)),e+=h-f),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const Aue=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Pue(e){return e.replace(Aue,Due)}function Due(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return nF(n.slice(a?2:1),a?16:10)}return JN(n)||e}const fF={}.hasOwnProperty;function Tue(e,t,n){return typeof t!="string"&&(n=t,t=void 0),Mue(n)(Cue(Nue(n).document().write(jue()(e,t,!0))))}function Mue(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(kt),autolinkProtocol:F,autolinkEmail:F,atxHeading:a(X),blockQuote:a(U),characterEscape:F,characterReference:F,codeFenced:a(V),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(V,s),codeText:a(G,s),codeTextData:F,data:F,codeFlowValue:F,definition:a(B),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(de),hardBreakEscape:a(ie),hardBreakTrailing:a(ie),htmlFlow:a(Ve,s),htmlFlowData:F,htmlText:a(Ve,s),htmlTextData:F,image:a(Ge),label:s,link:a(kt),listItem:a(me),listItemValue:h,listOrdered:a(Ae,f),listUnordered:a(Ae),paragraph:a(be),reference:S,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(X),strong:a(Xe),thematicBreak:a(tn)},exit:{atxHeading:l(),atxHeadingSequence:j,autolink:l(),autolinkEmail:z,autolinkProtocol:Y,blockQuote:l(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:R,characterReferenceMarkerNumeric:R,characterReferenceValue:q,characterReference:ne,codeFenced:l(y),codeFencedFence:v,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:l(x),codeText:l(le),codeTextData:T,data:T,definition:l(),definitionDestinationString:N,definitionLabelString:b,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(_),hardBreakTrailing:l(_),htmlFlow:l(K),htmlFlowData:T,htmlText:l(ee),htmlTextData:T,image:l(re),label:se,labelText:H,lineEnding:L,link:l(ke),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:W,resourceDestinationString:I,resourceTitleString:P,resource:Z,setextHeading:l(E),setextHeadingLineSequence:A,setextHeadingText:k,strong:l(),thematicBreak:l()}};mF(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Se){let at={type:"root",children:[]};const Ft={stack:[at],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:d,data:n},nn=[];let hn=-1;for(;++hn<Se.length;)if(Se[hn][1].type==="listOrdered"||Se[hn][1].type==="listUnordered")if(Se[hn][0]==="enter")nn.push(hn);else{const mr=nn.pop();hn=i(Se,mr,hn)}for(hn=-1;++hn<Se.length;){const mr=t[Se[hn][0]];fF.call(mr,Se[hn][1].type)&&mr[Se[hn][1].type].call(Object.assign({sliceSerialize:Se[hn][2].sliceSerialize},Ft),Se[hn][1])}if(Ft.tokenStack.length>0){const mr=Ft.tokenStack[Ft.tokenStack.length-1];(mr[1]||IT).call(Ft,void 0,mr[0])}for(at.position={start:kl(Se.length>0?Se[0][1].start:{line:1,column:1,offset:0}),end:kl(Se.length>0?Se[Se.length-2][1].end:{line:1,column:1,offset:0})},hn=-1;++hn<t.transforms.length;)at=t.transforms[hn](at)||at;return at}function i(Se,at,Ft){let nn=at-1,hn=-1,mr=!1,mn,un,fs,pn;for(;++nn<=Ft;){const Bn=Se[nn];switch(Bn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Bn[0]==="enter"?hn++:hn--,pn=void 0;break}case"lineEndingBlank":{Bn[0]==="enter"&&(mn&&!pn&&!hn&&!fs&&(fs=nn),pn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:pn=void 0}if(!hn&&Bn[0]==="enter"&&Bn[1].type==="listItemPrefix"||hn===-1&&Bn[0]==="exit"&&(Bn[1].type==="listUnordered"||Bn[1].type==="listOrdered")){if(mn){let Mn=nn;for(un=void 0;Mn--;){const Pi=Se[Mn];if(Pi[1].type==="lineEnding"||Pi[1].type==="lineEndingBlank"){if(Pi[0]==="exit")continue;un&&(Se[un][1].type="lineEndingBlank",mr=!0),Pi[1].type="lineEnding",un=Mn}else if(!(Pi[1].type==="linePrefix"||Pi[1].type==="blockQuotePrefix"||Pi[1].type==="blockQuotePrefixWhitespace"||Pi[1].type==="blockQuoteMarker"||Pi[1].type==="listItemIndent"))break}fs&&(!un||fs<un)&&(mn._spread=!0),mn.end=Object.assign({},un?Se[un][1].start:Bn[1].end),Se.splice(un||nn,0,["exit",mn,Bn[2]]),nn++,Ft++}if(Bn[1].type==="listItemPrefix"){const Mn={type:"listItem",_spread:!1,start:Object.assign({},Bn[1].start),end:void 0};mn=Mn,Se.splice(nn,0,["enter",Mn,Bn[2]]),nn++,Ft++,fs=void 0,pn=!0}}}return Se[at][1]._spread=mr,Ft}function a(Se,at){return Ft;function Ft(nn){o.call(this,Se(nn),nn),at&&at.call(this,nn)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Se,at,Ft){this.stack[this.stack.length-1].children.push(Se),this.stack.push(Se),this.tokenStack.push([at,Ft||void 0]),Se.position={start:kl(at.start),end:void 0}}function l(Se){return at;function at(Ft){Se&&Se.call(this,Ft),u.call(this,Ft)}}function u(Se,at){const Ft=this.stack.pop(),nn=this.tokenStack.pop();if(nn)nn[0].type!==Se.type&&(at?at.call(this,Se,nn[0]):(nn[1]||IT).call(this,Se,nn[0]));else throw new Error("Cannot close `"+Se.type+"` ("+Xf({start:Se.start,end:Se.end})+"): its not open");Ft.position.end=kl(Se.end)}function d(){return ZN(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Se){if(this.data.expectingFirstListItemValue){const at=this.stack[this.stack.length-2];at.start=Number.parseInt(this.sliceSerialize(Se),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.lang=Se}function p(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.meta=Se}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function y(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.value=Se.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function x(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.value=Se.replace(/(\r?\n|\r)$/g,"")}function b(Se){const at=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=at,Ft.identifier=Ps(this.sliceSerialize(Se)).toLowerCase()}function w(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.title=Se}function N(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.url=Se}function j(Se){const at=this.stack[this.stack.length-1];if(!at.depth){const Ft=this.sliceSerialize(Se).length;at.depth=Ft}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function A(Se){const at=this.stack[this.stack.length-1];at.depth=this.sliceSerialize(Se).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function F(Se){const Ft=this.stack[this.stack.length-1].children;let nn=Ft[Ft.length-1];(!nn||nn.type!=="text")&&(nn=pe(),nn.position={start:kl(Se.start),end:void 0},Ft.push(nn)),this.stack.push(nn)}function T(Se){const at=this.stack.pop();at.value+=this.sliceSerialize(Se),at.position.end=kl(Se.end)}function L(Se){const at=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ft=at.children[at.children.length-1];Ft.position.end=kl(Se.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(at.type)&&(F.call(this,Se),T.call(this,Se))}function _(){this.data.atHardBreak=!0}function K(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.value=Se}function ee(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.value=Se}function le(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.value=Se}function ke(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const at=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=at,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function re(){const Se=this.stack[this.stack.length-1];if(this.data.inReference){const at=this.data.referenceType||"shortcut";Se.type+="Reference",Se.referenceType=at,delete Se.url,delete Se.title}else delete Se.identifier,delete Se.label;this.data.referenceType=void 0}function H(Se){const at=this.sliceSerialize(Se),Ft=this.stack[this.stack.length-2];Ft.label=Pue(at),Ft.identifier=Ps(at).toLowerCase()}function se(){const Se=this.stack[this.stack.length-1],at=this.resume(),Ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ft.type==="link"){const nn=Se.children;Ft.children=nn}else Ft.alt=at}function I(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.url=Se}function P(){const Se=this.resume(),at=this.stack[this.stack.length-1];at.title=Se}function Z(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function W(Se){const at=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=at,Ft.identifier=Ps(this.sliceSerialize(Se)).toLowerCase(),this.data.referenceType="full"}function R(Se){this.data.characterReferenceType=Se.type}function q(Se){const at=this.sliceSerialize(Se),Ft=this.data.characterReferenceType;let nn;Ft?(nn=nF(at,Ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):nn=JN(at);const hn=this.stack[this.stack.length-1];hn.value+=nn}function ne(Se){const at=this.stack.pop();at.position.end=kl(Se.end)}function Y(Se){T.call(this,Se);const at=this.stack[this.stack.length-1];at.url=this.sliceSerialize(Se)}function z(Se){T.call(this,Se);const at=this.stack[this.stack.length-1];at.url="mailto:"+this.sliceSerialize(Se)}function U(){return{type:"blockquote",children:[]}}function V(){return{type:"code",lang:null,meta:null,value:""}}function G(){return{type:"inlineCode",value:""}}function B(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function de(){return{type:"emphasis",children:[]}}function X(){return{type:"heading",depth:0,children:[]}}function ie(){return{type:"break"}}function Ve(){return{type:"html",value:""}}function Ge(){return{type:"image",title:null,url:"",alt:null}}function kt(){return{type:"link",title:null,url:"",children:[]}}function Ae(Se){return{type:"list",ordered:Se.type==="listOrdered",start:null,spread:Se._spread,children:[]}}function me(Se){return{type:"listItem",spread:Se._spread,checked:null,children:[]}}function be(){return{type:"paragraph",children:[]}}function Xe(){return{type:"strong",children:[]}}function pe(){return{type:"text",value:""}}function tn(){return{type:"thematicBreak"}}}function kl(e){return{line:e.line,column:e.column,offset:e.offset}}function mF(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?mF(e,r):Eue(e,r)}}function Eue(e,t){let n;for(n in t)if(fF.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function IT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Xf({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Xf({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Xf({start:t.start,end:t.end})+") is still open")}function Oue(e){const t=this;t.parser=n;function n(r){return Tue(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function Iue(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function _ue(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function Lue(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function $ue(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Fue(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Rue(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=Qd(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function Bue(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function zue(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function hF(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function Uue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return hF(e,t);const i={src:Qd(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function Wue(e,t){const n={src:Qd(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function Vue(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function Hue(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return hF(e,t);const i={href:Qd(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function que(e,t){const n={href:Qd(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Kue(e,t,n){const r=e.all(t),i=n?Gue(n):pF(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function Gue(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=pF(n[r])}return t}function pF(e){const t=e.spread;return t??e.children.length>1}function Yue(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function Xue(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Que(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function Zue(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Jue(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=GN(t.children[1]),l=G$(t.children[t.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function ede(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let l=-1;const u=[];for(;++l<o;){const f=t.children[l],h={},m=s?s[l]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function tde(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const _T=9,LT=32;function nde(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push($T(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push($T(t.slice(i),i>0,!1)),a.join("")}function $T(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===_T||a===LT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===_T||a===LT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function rde(e,t){const n={type:"text",value:nde(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function ide(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const ade={blockquote:Iue,break:_ue,code:Lue,delete:$ue,emphasis:Fue,footnoteReference:Rue,heading:Bue,html:zue,imageReference:Uue,image:Wue,inlineCode:Vue,linkReference:Hue,link:que,listItem:Kue,list:Yue,paragraph:Xue,root:Que,strong:Zue,table:Jue,tableCell:tde,tableRow:ede,text:rde,thematicBreak:ide,toml:_p,yaml:_p,definition:_p,footnoteDefinition:_p};function _p(){}const gF=-1,gv=0,Zf=1,F0=2,tC=3,nC=4,rC=5,iC=6,xF=7,vF=8,FT=typeof self=="object"?self:globalThis,sde=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case gv:case gF:return n(s,i);case Zf:{const o=n([],i);for(const l of s)o.push(r(l));return o}case F0:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case tC:return n(new Date(s),i);case nC:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case rC:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case iC:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case xF:{const{name:o,message:l}=s;return n(new FT[o](l),i)}case vF:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new FT[a](s),i)};return r},RT=e=>sde(new Map,e)(0),Lu="",{toString:ode}={},{keys:lde}=Object,Cf=e=>{const t=typeof e;if(t!=="object"||!e)return[gv,t];const n=ode.call(e).slice(8,-1);switch(n){case"Array":return[Zf,Lu];case"Object":return[F0,Lu];case"Date":return[tC,Lu];case"RegExp":return[nC,Lu];case"Map":return[rC,Lu];case"Set":return[iC,Lu];case"DataView":return[Zf,n]}return n.includes("Array")?[Zf,n]:n.includes("Error")?[xF,n]:[F0,n]},Lp=([e,t])=>e===gv&&(t==="function"||t==="symbol"),cde=(e,t,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=Cf(s);switch(o){case gv:{let d=s;switch(l){case"bigint":o=vF,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return i([gF],s)}return i([o,d],s)}case Zf:{if(l){let h=s;return l==="DataView"?h=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(h=new Uint8Array(s)),i([l,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case F0:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of lde(s))(e||!Lp(Cf(s[h])))&&d.push([a(h),a(s[h])]);return f}case tC:return i([o,s.toISOString()],s);case nC:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case rC:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Lp(Cf(h))||Lp(Cf(m))))&&d.push([a(h),a(m)]);return f}case iC:{const d=[],f=i([o,d],s);for(const h of s)(e||!Lp(Cf(h)))&&d.push(a(h));return f}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},BT=(e,{json:t,lossy:n}={})=>{const r=[];return cde(!(t||n),!!t,new Map,r)(e),r},R0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?RT(BT(e,t)):structuredClone(e):(e,t)=>RT(BT(e,t));function ude(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function dde(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function fde(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||ude,r=e.options.footnoteBackLabel||dde,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=Qd(f.toLowerCase());let m=0;const p=[],v=e.footnoteCounts.get(f);for(;v!==void 0&&++m<=v;){p.length>0&&p.push({type:"text",value:" "});let b=typeof n=="string"?n:n(l,m);typeof b=="string"&&(b={type:"text",value:b}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const y=d[d.length-1];if(y&&y.type==="element"&&y.tagName==="p"){const b=y.children[y.children.length-1];b&&b.type==="text"?b.value+=" ":y.children.push({type:"text",value:" "}),y.children.push(...p)}else d.push(...p);const x={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,x),o.push(x)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...R0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const xv=function(e){if(e==null)return gde;if(typeof e=="function")return vv(e);if(typeof e=="object")return Array.isArray(e)?mde(e):hde(e);if(typeof e=="string")return pde(e);throw new Error("Expected function, string, or object as test")};function mde(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=xv(e[n]);return vv(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function hde(e){const t=e;return vv(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function pde(e){return vv(t);function t(n){return n&&n.type===e}}function vv(e){return t;function t(n,r,i){return!!(xde(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function gde(){return!0}function xde(e){return e!==null&&typeof e=="object"&&"type"in e}const bF=[],vde=!0,p1=!1,bde="skip";function yF(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=xv(i),s=r?-1:1;o(e,void 0,[])();function o(l,u,d){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=bF,p,v,y;if((!t||a(l,u,d[d.length-1]||void 0))&&(m=yde(n(l,d)),m[0]===p1))return m;if("children"in l&&l.children){const x=l;if(x.children&&m[0]!==bde)for(v=(r?x.children.length:-1)+s,y=d.concat(x);v>-1&&v<x.children.length;){const b=x.children[v];if(p=o(b,v,y)(),p[0]===p1)return p;v=typeof p[1]=="number"?p[1]:v+s}}return m}}}function yde(e){return Array.isArray(e)?e:typeof e=="number"?[vde,e]:e==null?bF:[e]}function aC(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),yF(e,a,o,i);function o(l,u){const d=u[u.length-1],f=d?d.children.indexOf(l):void 0;return s(l,f,d)}}const g1={}.hasOwnProperty,wde={};function kde(e,t){const n=t||wde,r=new Map,i=new Map,a=new Map,s={...ade,...n.handlers},o={all:u,applyData:Nde,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:Sde,wrap:jde};return aC(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function l(d,f){const h=d.type,m=o.handlers[h];if(g1.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:v,...y}=d,x=R0(y);return x.children=o.all(d),x}return R0(d)}return(o.options.unknownHandler||Cde)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=zT(p.value)),!Array.isArray(p)&&p.type==="element")){const v=p.children[0];v&&v.type==="text"&&(v.value=zT(v.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function Sde(e,t){e.position&&(t.position=dle(e))}function Nde(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,R0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Cde(e,t){const n=t.data||{},r="value"in t&&!(g1.call(n,"hProperties")||g1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function jde(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function zT(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function UT(e,t){const n=kde(e,t),r=n.one(e,void 0),i=fde(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Ade(e,t){return e&&"run"in e?async function(n,r){const i=UT(n,{file:r,...t});await e.run(i,r)}:function(n,r){return UT(n,{file:r,...e||t})}}function WT(e){if(e)throw e}var cg=Object.prototype.hasOwnProperty,wF=Object.prototype.toString,VT=Object.defineProperty,HT=Object.getOwnPropertyDescriptor,qT=function(t){return typeof Array.isArray=="function"?Array.isArray(t):wF.call(t)==="[object Array]"},KT=function(t){if(!t||wF.call(t)!=="[object Object]")return!1;var n=cg.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&cg.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||cg.call(t,i)},GT=function(t,n){VT&&n.name==="__proto__"?VT(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},YT=function(t,n){if(n==="__proto__")if(cg.call(t,n)){if(HT)return HT(t,n).value}else return;return t[n]},Pde=function e(){var t,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(t=arguments[l],t!=null)for(n in t)r=YT(o,n),i=YT(t,n),o!==i&&(d&&i&&(KT(i)||(a=qT(i)))?(a?(a=!1,s=r&&qT(r)?r:[]):s=r&&KT(r)?r:{},GT(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&GT(o,{name:n,newValue:i}));return o};const Bb=Ls(Pde);function x1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Dde(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const d=e[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?Tde(d,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function Tde(e,t){let n;return r;function r(...s){const o=e.length>s.length;let l;o&&s.push(i);try{l=e.apply(this,s)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const Gs={basename:Mde,dirname:Ede,extname:Ode,join:Ide,sep:"/"};function Mde(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ph(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function Ede(e){if(Ph(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Ode(e){Ph(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function Ide(...e){let t=-1,n;for(;++t<e.length;)Ph(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":_de(n)}function _de(e){Ph(e);const t=e.codePointAt(0)===47;let n=Lde(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function Lde(e,t){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Ph(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const $de={cwd:Fde};function Fde(){return"/"}function v1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function Rde(e){if(typeof e=="string")e=new URL(e);else if(!v1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return Bde(e)}function Bde(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const zb=["history","path","basename","stem","extname","dirname"];class kF{constructor(t){let n;t?v1(t)?n={path:t}:typeof t=="string"||zde(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":$de.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<zb.length;){const a=zb[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)zb.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Gs.basename(this.path):void 0}set basename(t){Wb(t,"basename"),Ub(t,"basename"),this.path=Gs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Gs.dirname(this.path):void 0}set dirname(t){XT(this.basename,"dirname"),this.path=Gs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Gs.extname(this.path):void 0}set extname(t){if(Ub(t,"extname"),XT(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Gs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){v1(t)&&(t=Rde(t)),Wb(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Gs.basename(this.path,this.extname):void 0}set stem(t){Wb(t,"stem"),Ub(t,"stem"),this.path=Gs.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new Vi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Ub(e,t){if(e&&e.includes(Gs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Gs.sep+"`")}function Wb(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function XT(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function zde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Ude=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},Wde={}.hasOwnProperty;class sC extends Ude{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Dde()}copy(){const t=new sC;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Bb(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(qb("data",this.frozen),this.namespace[t]=n,this):Wde.call(this.namespace,t)&&this.namespace[t]||void 0:t?(qb("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=$p(t),r=this.parser||this.Parser;return Vb("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Vb("process",this.parser||this.Parser),Hb("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=$p(t),l=r.parse(o);r.run(l,o,function(d,f,h){if(d||!f||!h)return u(d);const m=f,p=r.stringify(m,h);qde(p)?h.value=p:h.result=p,u(d,h)});function u(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),Vb("processSync",this.parser||this.Parser),Hb("processSync",this.compiler||this.Compiler),this.process(t,i),ZT("processSync","process",n),r;function i(a,s){n=!0,WT(a),r=s}}run(t,n,r){QT(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=$p(n);i.run(t,l,u);function u(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),ZT("runSync","run",r),i;function a(s,o){WT(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=$p(n),i=this.compiler||this.Compiler;return Hb("stringify",i),QT(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(qb("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;l(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Bb(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...p]=d;const v=r[h][1];x1(v)&&x1(m)&&(m=Bb(!0,v,m)),r[h]=[u,m,...p]}}}}const Vde=new sC().freeze();function Vb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function Hb(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function qb(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function QT(e){if(!x1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function ZT(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function $p(e){return Hde(e)?e:new kF(e)}function Hde(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function qde(e){return typeof e=="string"||Kde(e)}function Kde(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const Gde="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",JT=[],eM={allowDangerousHtml:!0},Yde=/^(https?|ircs?|mailto|xmpp)$/i,Xde=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function Qde(e){const t=Zde(e),n=Jde(e);return efe(t.runSync(t.parse(n),n),e)}function Zde(e){const t=e.rehypePlugins||JT,n=e.remarkPlugins||JT,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...eM}:eM;return Vde().use(Oue).use(n).use(Ade,r).use(t)}function Jde(e){const t=e.children||"",n=new kF;return typeof t=="string"&&(n.value=t),n}function efe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,l=t.urlTransform||tfe;for(const d of Xde)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+Gde+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),aC(e,u),gle(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in $b)if(Object.hasOwn($b,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],v=$b[m];(v===null||v.includes(d.tagName))&&(d.properties[m]=l(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function tfe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||Yde.test(e.slice(0,t))?e:""}function tM(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function nfe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function rfe(e,t,n){const i=xv((n||{}).ignore||[]),a=ife(t);let s=-1;for(;++s<a.length;)yF(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return l(u,d)}function l(u,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const y=f.children.indexOf(u);let x=!1,b=[];h.lastIndex=0;let w=h.exec(u.value);for(;w;){const N=w.index,j={index:w.index,input:w.input,stack:[...d,u]};let k=m(...w,j);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?h.lastIndex=N+1:(p!==N&&b.push({type:"text",value:u.value.slice(p,N)}),Array.isArray(k)?b.push(...k):k&&b.push(k),p=N+w[0].length,x=!0),!h.global)break;w=h.exec(u.value)}return x?(p<u.value.length&&b.push({type:"text",value:u.value.slice(p)}),f.children.splice(y,1,...b)):b=[u],y+b.length}}function ife(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([afe(i[0]),sfe(i[1])])}return t}function afe(e){return typeof e=="string"?new RegExp(nfe(e),"g"):e}function sfe(e){return typeof e=="function"?e:function(){return e}}const Kb="phrasing",Gb=["autolink","link","image","label"];function ofe(){return{transforms:[hfe],enter:{literalAutolink:cfe,literalAutolinkEmail:Yb,literalAutolinkHttp:Yb,literalAutolinkWww:Yb},exit:{literalAutolink:mfe,literalAutolinkEmail:ffe,literalAutolinkHttp:ufe,literalAutolinkWww:dfe}}}function lfe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:Kb,notInConstruct:Gb},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:Kb,notInConstruct:Gb},{character:":",before:"[ps]",after:"\\/",inConstruct:Kb,notInConstruct:Gb}]}}function cfe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Yb(e){this.config.enter.autolinkProtocol.call(this,e)}function ufe(e){this.config.exit.autolinkProtocol.call(this,e)}function dfe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function ffe(e){this.config.exit.autolinkEmail.call(this,e)}function mfe(e){this.exit(e)}function hfe(e){rfe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,pfe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),gfe]],{ignore:["link","linkReference"]})}function pfe(e,t,n,r,i){let a="";if(!SF(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!xfe(n)))return!1;const s=vfe(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function gfe(e,t,n,r){return!SF(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function xfe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function vfe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=tM(e,"(");let a=tM(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function SF(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||cu(n)||hv(n))&&(!t||n!==47)}NF.peek=Afe;function bfe(){this.buffer()}function yfe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function wfe(){this.buffer()}function kfe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Sfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ps(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Nfe(e){this.exit(e)}function Cfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=Ps(this.sliceSerialize(e)).toLowerCase(),n.label=t}function jfe(e){this.exit(e)}function Afe(){return"["}function NF(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function Pfe(){return{enter:{gfmFootnoteCallString:bfe,gfmFootnoteCall:yfe,gfmFootnoteDefinitionLabelString:wfe,gfmFootnoteDefinition:kfe},exit:{gfmFootnoteCallString:Sfe,gfmFootnoteCall:Nfe,gfmFootnoteDefinitionLabelString:Cfe,gfmFootnoteDefinition:jfe}}}function Dfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:NF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let l=o.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return l+=o.move(a.safe(a.associationId(r),{before:l,after:"]"})),d(),l+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),l+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?CF:Tfe))),u(),l}}function Tfe(e,t,n){return t===0?e:CF(e,t,n)}function CF(e,t,n){return(n?"":"    ")+e}const Mfe=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];jF.peek=Lfe;function Efe(){return{canContainEols:["delete"],enter:{strikethrough:Ife},exit:{strikethrough:_fe}}}function Ofe(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Mfe}],handlers:{delete:jF}}}function Ife(e){this.enter({type:"delete",children:[]},e)}function _fe(e){this.exit(e)}function jF(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function Lfe(){return"~"}function $fe(e){return e.length}function Ffe(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||$fe,a=[],s=[],o=[],l=[];let u=0,d=-1;for(;++d<e.length;){const v=[],y=[];let x=-1;for(e[d].length>u&&(u=e[d].length);++x<e[d].length;){const b=Rfe(e[d][x]);if(n.alignDelimiters!==!1){const w=i(b);y[x]=w,(l[x]===void 0||w>l[x])&&(l[x]=w)}v.push(b)}s[d]=v,o[d]=y}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=nM(r[f]);else{const v=nM(r);for(;++f<u;)a[f]=v}f=-1;const h=[],m=[];for(;++f<u;){const v=a[f];let y="",x="";v===99?(y=":",x=":"):v===108?y=":":v===114&&(x=":");let b=n.alignDelimiters===!1?1:Math.max(1,l[f]-y.length-x.length);const w=y+"-".repeat(b)+x;n.alignDelimiters!==!1&&(b=y.length+b+x.length,b>l[f]&&(l[f]=b),m[f]=b),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const v=s[d],y=o[d];f=-1;const x=[];for(;++f<u;){const b=v[f]||"";let w="",N="";if(n.alignDelimiters!==!1){const j=l[f]-(y[f]||0),k=a[f];k===114?w=" ".repeat(j):k===99?j%2?(w=" ".repeat(j/2+.5),N=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),N=w):N=" ".repeat(j)}n.delimiterStart!==!1&&!f&&x.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&b==="")&&(n.delimiterStart!==!1||f)&&x.push(" "),n.alignDelimiters!==!1&&x.push(w),x.push(b),n.alignDelimiters!==!1&&x.push(N),n.padding!==!1&&x.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&x.push("|")}p.push(n.delimiterEnd===!1?x.join("").replace(/ +$/,""):x.join(""))}return p.join(`
`)}function Rfe(e){return e==null?"":String(e)}function nM(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Bfe(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),zfe);return i(),s}function zfe(e,t,n){return">"+(n?"":" ")+e}function Ufe(e,t){return rM(e,t.inConstruct,!0)&&!rM(e,t.notInConstruct,!1)}function rM(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function iM(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Ufe(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Wfe(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function Vfe(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Hfe(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function qfe(e,t,n,r){const i=Hfe(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(Vfe(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,Kfe);return f(),h}const o=n.createTracker(r),l=i.repeat(Math.max(Wfe(a,i)+1,3)),u=n.enter("codeFenced");let d=o.move(l);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(l),u(),d}function Kfe(e,t,n){return(n?"":"    ")+e}function oC(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function Gfe(e,t,n,r){const i=oC(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("[");return u+=l.move(n.safe(n.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),s(),u}function Yfe(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Bm(e){return"&#x"+e.toString(16).toUpperCase()+";"}function B0(e,t,n){const r=Id(e),i=Id(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}AF.peek=Xfe;function AF(e,t,n,r){const i=Yfe(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=B0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Bm(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=B0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Bm(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function Xfe(e,t,n){return n.options.emphasis||"*"}function Qfe(e,t){let n=!1;return aC(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,p1}),!!((!e.depth||e.depth<3)&&ZN(e)&&(t.options.setext||n))}function Zfe(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(Qfe(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),l=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=Bm(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),l(),o(),u}PF.peek=Jfe;function PF(e){return e.value||""}function Jfe(){return"<"}DF.peek=eme;function DF(e,t,n,r){const i=oC(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const l=n.createTracker(r);let u=l.move("![");return u+=l.move(n.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(n.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(o=n.enter("destinationRaw"),u+=l.move(n.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=l.move(" "+i),u+=l.move(n.safe(e.title,{before:u,after:i,...l.current()})),u+=l.move(i),o()),u+=l.move(")"),s(),u}function eme(){return"!"}TF.peek=tme;function TF(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("![");const u=n.safe(e.alt,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function tme(){return"!"}MF.peek=nme;function MF(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let l;if(s.atBreak)for(;l=o.exec(r);){let u=l.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(l.index+1)}}return i+r+i}function nme(){return"`"}function EF(e,t){const n=ZN(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}OF.peek=rme;function OF(e,t,n,r){const i=oC(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,l;if(EF(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),l=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(l=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),l(),e.title&&(l=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),l()),u+=s.move(")"),o(),u}function rme(e,t,n){return EF(e,n)?"<":"["}IF.peek=ime;function IF(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let l=o.move("[");const u=n.containerPhrasing(e,{before:l,after:"]",...o.current()});l+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:l,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?l+=o.move(f+"]"):i==="shortcut"?l=l.slice(0,-1):l+=o.move("]"),l}function ime(){return"["}function lC(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function ame(e){const t=lC(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function sme(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function _F(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function ome(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?sme(n):lC(n);const o=e.ordered?s==="."?")":".":ame(n);let l=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(l=!0),_F(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function lme(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function cme(e,t,n,r){const i=lme(n);let a=n.bulletCurrent||lC(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const l=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return l(),u;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function ume(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const dme=xv(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function fme(e,t,n,r){return(e.children.some(function(s){return dme(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function mme(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}LF.peek=hme;function LF(e,t,n,r){const i=mme(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let l=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=l.charCodeAt(0),d=B0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(l=Bm(u)+l.slice(1));const f=l.charCodeAt(l.length-1),h=B0(r.after.charCodeAt(0),f,i);h.inside&&(l=l.slice(0,-1)+Bm(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+l+m}function hme(e,t,n){return n.options.strong||"*"}function pme(e,t,n,r){return n.safe(e.value,r)}function gme(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function xme(e,t,n){const r=(_F(n)+(n.options.ruleSpaces?" ":"")).repeat(gme(n));return n.options.ruleSpaces?r.slice(0,-1):r}const $F={blockquote:Bfe,break:iM,code:qfe,definition:Gfe,emphasis:AF,hardBreak:iM,heading:Zfe,html:PF,image:DF,imageReference:TF,inlineCode:MF,link:OF,linkReference:IF,list:ome,listItem:cme,paragraph:ume,root:fme,strong:LF,text:pme,thematicBreak:xme};function vme(){return{enter:{table:bme,tableData:aM,tableHeader:aM,tableRow:wme},exit:{codeText:kme,table:yme,tableData:Xb,tableHeader:Xb,tableRow:Xb}}}function bme(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function yme(e){this.exit(e),this.data.inTable=void 0}function wme(e){this.enter({type:"tableRow",children:[]},e)}function Xb(e){this.exit(e)}function aM(e){this.enter({type:"tableCell",children:[]},e)}function kme(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Sme));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Sme(e,t){return t==="|"?t:e}function Nme(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:l,tableRow:o}};function s(m,p,v,y){return u(d(m,v,y),m.align)}function o(m,p,v,y){const x=f(m,v,y),b=u([x]);return b.slice(0,b.indexOf(`
`))}function l(m,p,v,y){const x=v.enter("tableCell"),b=v.enter("phrasing"),w=v.containerPhrasing(m,{...y,before:a,after:a});return b(),x(),w}function u(m,p){return Ffe(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,v){const y=m.children;let x=-1;const b=[],w=p.enter("table");for(;++x<y.length;)b[x]=f(y[x],p,v);return w(),b}function f(m,p,v){const y=m.children;let x=-1;const b=[],w=p.enter("tableRow");for(;++x<y.length;)b[x]=l(y[x],m,p,v);return w(),b}function h(m,p,v){let y=$F.inlineCode(m,p,v);return v.stack.includes("tableCell")&&(y=y.replace(/\|/g,"\\$&")),y}}function Cme(){return{exit:{taskListCheckValueChecked:sM,taskListCheckValueUnchecked:sM,paragraph:Ame}}}function jme(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Pme}}}function sM(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Ame(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Pme(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let l=$F.listItem(e,t,n,{...r,...o.current()});return a&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(d){return d+s}}function Dme(){return[ofe(),Pfe(),Efe(),vme(),Cme()]}function Tme(e){return{extensions:[lfe(),Dfe(e),Ofe(),Nme(e),jme()]}}const Mme={tokenize:$me,partial:!0},FF={tokenize:Fme,partial:!0},RF={tokenize:Rme,partial:!0},BF={tokenize:Bme,partial:!0},Eme={tokenize:zme,partial:!0},zF={name:"wwwAutolink",tokenize:_me,previous:WF},UF={name:"protocolAutolink",tokenize:Lme,previous:VF},al={name:"emailAutolink",tokenize:Ime,previous:HF},so={};function Ome(){return{text:so}}let yc=48;for(;yc<123;)so[yc]=al,yc++,yc===58?yc=65:yc===91&&(yc=97);so[43]=al;so[45]=al;so[46]=al;so[95]=al;so[72]=[al,UF];so[104]=[al,UF];so[87]=[al,zF];so[119]=[al,zF];function Ime(e,t,n){const r=this;let i,a;return s;function s(f){return!b1(f)||!HF.call(r,r.previous)||cC(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return b1(f)?(e.consume(f),o):f===64?(e.consume(f),l):n(f)}function l(f){return f===46?e.check(Eme,d,u)(f):f===45||f===95||zi(f)?(a=!0,e.consume(f),l):d(f)}function u(f){return e.consume(f),i=!0,l}function d(f){return a&&i&&Qi(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function _me(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!WF.call(r,r.previous)||cC(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(Mme,e.attempt(FF,e.attempt(RF,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function Lme(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&VF.call(r,r.previous)&&!cC(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(Qi(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),l}return n(f)}function l(f){return f===47?(e.consume(f),a?u:(a=!0,l)):n(f)}function u(f){return f===null||$0(f)||Zn(f)||cu(f)||hv(f)?n(f):e.attempt(FF,e.attempt(RF,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function $me(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function Fme(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(BF,l,o)(u):u===null||Zn(u)||cu(u)||u!==45&&hv(u)?l(u):(a=!0,e.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function l(u){return i||r||!a?n(u):t(u)}}function Rme(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(BF,t,a)(s):s===null||Zn(s)||cu(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function Bme(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||Zn(o)||cu(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||Zn(o)||cu(o)?t(o):r(o)}function a(o){return Qi(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):Qi(o)?(e.consume(o),s):n(o)}}function zme(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return zi(a)?n(a):t(a)}}function WF(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||Zn(e)}function VF(e){return!Qi(e)}function HF(e){return!(e===47||b1(e))}function b1(e){return e===43||e===45||e===46||e===95||zi(e)}function cC(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const Ume={tokenize:Xme,partial:!0};function Wme(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:Kme,continuation:{tokenize:Gme},exit:Yme}},text:{91:{name:"gfmFootnoteCall",tokenize:qme},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:Vme,resolveTo:Hme}}}}function Vme(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const l=r.events[i][1];if(l.type==="labelImage"){s=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return o;function o(l){if(!s||!s._balanced)return n(l);const u=Ps(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function Hme(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function qme(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),l}function l(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!s||f===null||f===91||Zn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(Ps(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return Zn(f)||(s=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function Kme(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return l;function l(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||Zn(p))return n(p);if(p===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return a=Ps(r.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return Zn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),Tn(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function Gme(e,t,n){return e.check(Ah,t,e.attempt(Ume,t,n))}function Yme(e){e.exit("gfmFootnoteDefinition")}function Xme(e,t,n){const r=this;return Tn(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function Qme(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let l=-1;for(;++l<s.length;)if(s[l][0]==="enter"&&s[l][1].type==="strikethroughSequenceTemporary"&&s[l][1]._close){let u=l;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[l][1].end.offset-s[l][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[l][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[l][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[l][1].start)},h=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&_a(h,h.length,0,pv(m,s.slice(u+1,l),o)),_a(h,h.length,0,[["exit",f,o],["enter",s[l][1],o],["exit",s[l][1],o],["exit",d,o]]),_a(s,u-1,l-u+3,h),l=u+h.length-2;break}}for(l=-1;++l<s.length;)s[l][1].type==="strikethroughSequenceTemporary"&&(s[l][1].type="data");return s}function a(s,o,l){const u=this.previous,d=this.events;let f=0;return h;function h(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?l(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const v=Id(u);if(p===126)return f>1?l(p):(s.consume(p),f++,m);if(f<2&&!n)return l(p);const y=s.exit("strikethroughSequenceTemporary"),x=Id(p);return y._open=!x||x===2&&!!v,y._close=!v||v===2&&!!x,o(p)}}}class Zme{constructor(){this.map=[]}add(t,n,r){Jme(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Jme(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function ehe(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function the(){return{flow:{null:{name:"table",tokenize:nhe,resolveAll:rhe}}}}function nhe(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let L=r.events.length-1;for(;L>-1;){const ee=r.events[L][1].type;if(ee==="lineEnding"||ee==="linePrefix")L--;else break}const _=L>-1?r.events[L][1].type:null,K=_==="tableHead"||_==="tableRow"?k:l;return K===k&&r.parser.lazy[r.now().line]?n(T):K(T)}function l(T){return e.enter("tableHead"),e.enter("tableRow"),u(T)}function u(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Xt(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):kn(T)?Tn(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||Zn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,kn(T)?Tn(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?y(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),v):j(T)}function v(T){return kn(T)?Tn(e,y,"whitespace")(T):y(T)}function y(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),x):T===45?(a+=1,x(T)):T===null||Xt(T)?N(T):j(T)}function x(T){return T===45?(e.enter("tableDelimiterFiller"),b(T)):j(T)}function b(T){return T===45?(e.consume(T),b):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(T))}function w(T){return kn(T)?Tn(e,N,"whitespace")(T):N(T)}function N(T){return T===124?p(T):T===null||Xt(T)?!s||i!==a?j(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):j(T)}function j(T){return n(T)}function k(T){return e.enter("tableRow"),A(T)}function A(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),A):T===null||Xt(T)?(e.exit("tableRow"),t(T)):kn(T)?Tn(e,A,"whitespace")(T):(e.enter("data"),E(T))}function E(T){return T===null||T===124||Zn(T)?(e.exit("data"),A(T)):(e.consume(T),T===92?F:E)}function F(T){return T===92||T===124?(e.consume(T),E):E(T)}}function rhe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,l=0,u,d,f;const h=new Zme;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,l!==0&&(oM(h,t,l,u,d),d=void 0,l=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Fp(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Fp(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,l=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(l=n,a[1]!==0?(s[0]=s[1],f=Fp(h,t,a,i,n,f)):s[1]!==0&&(f=Fp(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(l!==0&&oM(h,t,l,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=ehe(t.events,n))}return e}function Fp(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},Ru(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const l=Ru(t.events,n[1]);if(a={type:s,start:Object.assign({},l),end:Object.assign({},l)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=Ru(t.events,n[2]),d=Ru(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,v=n[3]-n[2]-1;e.add(p,v,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},Ru(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function oM(e,t,n,r,i){const a=[],s=Ru(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function Ru(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const ihe={name:"tasklistCheck",tokenize:she};function ahe(){return{text:{91:ihe}}}function she(e,t,n){const r=this;return i;function i(l){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),a)}function a(l){return Zn(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),s):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),s):n(l)}function s(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(l)}function o(l){return Xt(l)?t(l):kn(l)?e.check({tokenize:ohe},t,n)(l):n(l)}}function ohe(e,t,n){return Tn(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function lhe(e){return tF([Ome(),Wme(),Qme(e),the(),ahe()])}const che={};function uhe(e){const t=this,n=e||che,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(lhe(n)),a.push(Dme()),s.push(Tme(n))}const Qb='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output/uptime, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n### Boon Uptime (Defense)\n\nThe Boon Uptime section is derived from `players[*].buffUptimes[*].statesPerSource`\nfor boon-classified buffs and reports **stack state over time on the selected\nplayer**, not outgoing generation.\n\nSource/eligibility:\n- include only `players[*].buffUptimes[*]` entries where `buffMap[b{id}]` (or fallback)\n  has `classification === "Boon"` (or empty classification treated as boon-compatible)\n- use `buffMap` metadata for `name`, `icon`, and `stacking`\n\nPer-fight timeline buckets:\n- sample every 5 seconds (`t = 0, 5, 10, ...`) and read current state value from\n  each source timeline in `statesPerSource`\n- sum active source values for that sample into the player bucket\n\nStack semantics (enforced):\n- non-stacking boons: binary only\n  - `bucket = 1` when sampled value is `> 0`\n  - `bucket = 0` otherwise\n  - no fractional values are permitted\n- stacking boons: integer stack counts only\n  - sampled values are rounded to whole stacks\n  - stacks are clamped to a max cap\n\nUptime percentage semantics:\n- uptime% is **presence-based** for all boons:\n  - a 5s bucket counts as uptime when sampled bucket value is `> 0`\n  - otherwise that bucket counts as no uptime\n- this rule applies to both non-stacking and stacking boons (stack amount does\n  not scale uptime%)\n- denominator includes all 5s buckets across all fights for that player/boon\n  (including fights where that player has no states for the boon)\n\nStack caps:\n- `Might`: `25`\n- `Stability`: `25`\n- current implementation applies cap `25` for stacking boons\n\nUI behavior:\n- main chart:\n  - stacking boons: per-fight **average stacks**\n  - non-stacking boons: per-fight **uptime percentage** (active 5s buckets / total 5s buckets)\n- drilldown chart: selected fight 5-second stack buckets\n- for stacking boons, UI may render a reference line at stack cap (`25`)\n- player list and summary card use the same shared uptime% source, so selected\n  player row uptime% equals displayed overall uptime%\n\nAggregation notes:\n- uptime view is account-keyed per player and does not use an aggregated `__all__`\n  synthetic row for timeline values\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`, `src/renderer/stats/sections/BoonUptimeSection.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',qF=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),bv=g.createContext({}),uC=g.createContext(null),yv=typeof document<"u",dhe=yv?g.useLayoutEffect:g.useEffect,KF=g.createContext({strict:!1}),dC=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),fhe="framerAppearId",GF="data-"+dC(fhe);function mhe(e,t,n,r){const{visualElement:i}=g.useContext(bv),a=g.useContext(KF),s=g.useContext(uC),o=g.useContext(qF).reducedMotion,l=g.useRef();r=r||a.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=l.current;g.useInsertionEffect(()=>{u&&u.update(n,s)});const d=g.useRef(!!(n[GF]&&!window.HandoffComplete));return dhe(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function ed(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function hhe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):ed(n)&&(n.current=r))},[t])}function zm(e){return typeof e=="string"||Array.isArray(e)}function wv(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const fC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],mC=["initial",...fC];function kv(e){return wv(e.animate)||mC.some(t=>zm(e[t]))}function YF(e){return!!(kv(e)||e.variants)}function phe(e,t){if(kv(e)){const{initial:n,animate:r}=e;return{initial:n===!1||zm(n)?n:void 0,animate:zm(r)?r:void 0}}return e.inherit!==!1?t:{}}function ghe(e){const{initial:t,animate:n}=phe(e,g.useContext(bv));return g.useMemo(()=>({initial:t,animate:n}),[lM(t),lM(n)])}function lM(e){return Array.isArray(e)?e.join(" "):e}const cM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Um={};for(const e in cM)Um[e]={isEnabled:t=>cM[e].some(n=>!!t[n])};function xhe(e){for(const t in e)Um[t]={...Um[t],...e[t]}}const XF=g.createContext({}),QF=g.createContext({}),vhe=Symbol.for("motionComponentSymbol");function bhe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&xhe(e);function a(o,l){let u;const d={...g.useContext(qF),...o,layoutId:yhe(o)},{isStatic:f}=d,h=ghe(o),m=r(o,f);if(!f&&yv){h.visualElement=mhe(i,m,d,t);const p=g.useContext(QF),v=g.useContext(KF).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,v,e,p))}return g.createElement(bv.Provider,{value:h},u&&h.visualElement?g.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,o,hhe(m,h.visualElement,l),m,f,h.visualElement))}const s=g.forwardRef(a);return s[vhe]=i,s}function yhe({layoutId:e}){const t=g.useContext(XF).id;return t&&e!==void 0?t+"-"+e:e}function whe(e){function t(r,i={}){return bhe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const khe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hC(e){return typeof e!="string"||e.includes("-")?!1:!!(khe.indexOf(e)>-1||/[A-Z]/.test(e))}const z0={};function She(e){Object.assign(z0,e)}const Dh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],gu=new Set(Dh);function ZF(e,{layout:t,layoutId:n}){return gu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!z0[e]||e==="opacity")}const xa=e=>!!(e&&e.getVelocity),Nhe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Che=Dh.length;function jhe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<Che;s++){const o=Dh[s];if(e[o]!==void 0){const l=Nhe[o]||o;a+=`${l}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const JF=e=>t=>typeof t=="string"&&t.startsWith(e),eR=JF("--"),y1=JF("var(--"),Ahe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Phe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Jl=(e,t,n)=>Math.min(Math.max(n,e),t),xu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Jf={...xu,transform:e=>Jl(0,1,e)},Rp={...xu,default:1},em=e=>Math.round(e*1e5)/1e5,Sv=/(-)?([\d]*\.?[\d])+/g,tR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Dhe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Th(e){return typeof e=="string"}const Mh=e=>({test:t=>Th(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Nl=Mh("deg"),to=Mh("%"),en=Mh("px"),The=Mh("vh"),Mhe=Mh("vw"),uM={...to,parse:e=>to.parse(e)/100,transform:e=>to.transform(e*100)},dM={...xu,transform:Math.round},nR={borderWidth:en,borderTopWidth:en,borderRightWidth:en,borderBottomWidth:en,borderLeftWidth:en,borderRadius:en,radius:en,borderTopLeftRadius:en,borderTopRightRadius:en,borderBottomRightRadius:en,borderBottomLeftRadius:en,width:en,maxWidth:en,height:en,maxHeight:en,size:en,top:en,right:en,bottom:en,left:en,padding:en,paddingTop:en,paddingRight:en,paddingBottom:en,paddingLeft:en,margin:en,marginTop:en,marginRight:en,marginBottom:en,marginLeft:en,rotate:Nl,rotateX:Nl,rotateY:Nl,rotateZ:Nl,scale:Rp,scaleX:Rp,scaleY:Rp,scaleZ:Rp,skew:Nl,skewX:Nl,skewY:Nl,distance:en,translateX:en,translateY:en,translateZ:en,x:en,y:en,z:en,perspective:en,transformPerspective:en,opacity:Jf,originX:uM,originY:uM,originZ:en,zIndex:dM,fillOpacity:Jf,strokeOpacity:Jf,numOctaves:dM};function pC(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let l=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(eR(f)){a[f]=h;continue}const m=nR[f],p=Phe(h,m);if(gu.has(f)){if(l=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,o[f]=p):i[f]=p}if(t.transform||(l||r?i.transform=jhe(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const gC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function rR(e,t,n){for(const r in t)!xa(t[r])&&!ZF(r,n)&&(e[r]=t[r])}function Ehe({transformTemplate:e},t,n){return g.useMemo(()=>{const r=gC();return pC(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function Ohe(e,t,n){const r=e.style||{},i={};return rR(i,r,e),Object.assign(i,Ehe(e,t,n)),e.transformValues?e.transformValues(i):i}function Ihe(e,t,n){const r={},i=Ohe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const _he=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function U0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||_he.has(e)}let iR=e=>!U0(e);function Lhe(e){e&&(iR=t=>t.startsWith("on")?!U0(t):e(t))}try{Lhe(require("@emotion/is-prop-valid").default)}catch{}function $he(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(iR(i)||n===!0&&U0(i)||!t&&!U0(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function fM(e,t,n){return typeof e=="string"?e:en.transform(t+n*e)}function Fhe(e,t,n){const r=fM(t,e.x,e.width),i=fM(n,e.y,e.height);return`${r} ${i}`}const Rhe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Bhe={offset:"strokeDashoffset",array:"strokeDasharray"};function zhe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?Rhe:Bhe;e[a.offset]=en.transform(-r);const s=en.transform(t),o=en.transform(n);e[a.array]=`${s} ${o}`}function xC(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:l=0,...u},d,f,h){if(pC(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:v}=e;m.transform&&(v&&(p.transform=m.transform),delete m.transform),v&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=Fhe(v,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&zhe(m,s,o,l,!1)}const aR=()=>({...gC(),attrs:{}}),vC=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Uhe(e,t,n,r){const i=g.useMemo(()=>{const a=aR();return xC(a,t,{enableHardwareAcceleration:!1},vC(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};rR(a,e.style,e),i.style={...a,...i.style}}return i}function Whe(e=!1){return(n,r,i,{latestValues:a},s)=>{const l=(hC(n)?Uhe:Ihe)(r,a,s,n),d={...$he(r,typeof n=="string",e),...l,ref:i},{children:f}=r,h=g.useMemo(()=>xa(f)?f.get():f,[f]);return g.createElement(n,{...d,children:h})}}function sR(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const oR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function lR(e,t,n,r){sR(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(oR.has(i)?i:dC(i),t.attrs[i])}function bC(e,t){const{style:n}=e,r={};for(const i in n)(xa(n[i])||t.style&&xa(t.style[i])||ZF(i,e))&&(r[i]=n[i]);return r}function cR(e,t){const n=bC(e,t);for(const r in e)if(xa(e[r])||xa(t[r])){const i=Dh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function yC(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function Vhe(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const W0=e=>Array.isArray(e),Hhe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),qhe=e=>W0(e)?e[e.length-1]||0:e;function ug(e){const t=xa(e)?e.get():e;return Hhe(t)?t.toValue():t}function Khe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:Ghe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const uR=e=>(t,n)=>{const r=g.useContext(bv),i=g.useContext(uC),a=()=>Khe(e,t,r,i);return n?a():Vhe(a)};function Ghe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=ug(a[h]);let{initial:s,animate:o}=e;const l=kv(e),u=YF(e);t&&u&&!l&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!wv(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=yC(e,m);if(!p)return;const{transitionEnd:v,transition:y,...x}=p;for(const b in x){let w=x[b];if(Array.isArray(w)){const N=d?w.length-1:0;w=w[N]}w!==null&&(i[b]=w)}for(const b in v)i[b]=v[b]}),i}const zr=e=>e;class mM{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Yhe(e){let t=new mM,n=new mM,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(l,u=!1,d=!1)=>{const f=d&&i,h=f?t:n;return u&&s.add(l),h.add(l)&&f&&i&&(r=t.order.length),l},cancel:l=>{n.remove(l),s.delete(l)},process:l=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(l),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(l))}};return o}const Bp=["prepare","read","update","preRender","render","postRender"],Xhe=40;function Qhe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Bp.reduce((f,h)=>(f[h]=Yhe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,Xhe),1),i.timestamp=f,i.isProcessing=!0,Bp.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},l=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Bp.reduce((f,h)=>{const m=a[h];return f[h]=(p,v=!1,y=!1)=>(n||l(),m.schedule(p,v,y)),f},{}),cancel:f=>Bp.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:fr,cancel:Zo,state:_i,steps:Zb}=Qhe(typeof requestAnimationFrame<"u"?requestAnimationFrame:zr,!0),Zhe={useVisualState:uR({scrapeMotionValuesFromProps:cR,createRenderState:aR,onMount:(e,t,{renderState:n,latestValues:r})=>{fr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),fr.render(()=>{xC(n,r,{enableHardwareAcceleration:!1},vC(t.tagName),e.transformTemplate),lR(t,n)})}})},Jhe={useVisualState:uR({scrapeMotionValuesFromProps:bC,createRenderState:gC})};function epe(e,{forwardMotionProps:t=!1},n,r){return{...hC(e)?Zhe:Jhe,preloadedFeatures:n,useRender:Whe(t),createVisualElement:r,Component:e}}function Eo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const dR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function Nv(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const tpe=e=>t=>dR(t)&&e(t,Nv(t));function $o(e,t,n,r){return Eo(e,t,tpe(n),r)}const npe=(e,t)=>n=>t(e(n)),Kl=(...e)=>e.reduce(npe);function fR(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const hM=fR("dragHorizontal"),pM=fR("dragVertical");function mR(e){let t=!1;if(e==="y")t=pM();else if(e==="x")t=hM();else{const n=hM(),r=pM();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function hR(){const e=mR(!0);return e?(e(),!1):!0}class cc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function gM(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||hR())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&fr.update(()=>o[r](a,s))};return $o(e.current,n,i,{passive:!e.getProps()[r]})}class rpe extends cc{mount(){this.unmount=Kl(gM(this.node,!0),gM(this.node,!1))}unmount(){}}class ipe extends cc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kl(Eo(this.node.current,"focus",()=>this.onFocus()),Eo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const pR=(e,t)=>t?e===t?!0:pR(e,t.parentElement):!1;function Jb(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,Nv(n))}class ape extends cc{constructor(){super(...arguments),this.removeStartListeners=zr,this.removeEndListeners=zr,this.removeAccessibleListeners=zr,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=$o(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();fr.update(()=>{!f&&!pR(this.node.current,o.target)?d&&d(o,l):u&&u(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=$o(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Kl(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||Jb("up",(l,u)=>{const{onTap:d}=this.node.getProps();d&&fr.update(()=>d(l,u))})};this.removeEndListeners(),this.removeEndListeners=Eo(this.node.current,"keyup",s),Jb("down",(o,l)=>{this.startPress(o,l)})},n=Eo(this.node.current,"keydown",t),r=()=>{this.isPressing&&Jb("cancel",(a,s)=>this.cancelPress(a,s))},i=Eo(this.node.current,"blur",r);this.removeAccessibleListeners=Kl(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&fr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!hR()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&fr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=$o(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Eo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Kl(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const w1=new WeakMap,ey=new WeakMap,spe=e=>{const t=w1.get(e.target);t&&t(e)},ope=e=>{e.forEach(spe)};function lpe({root:e,...t}){const n=e||document;ey.has(n)||ey.set(n,{});const r=ey.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(ope,{root:e,...t})),r[i]}function cpe(e,t,n){const r=lpe(t);return w1.set(e,n),r.observe(e),()=>{w1.delete(e),r.unobserve(e)}}const upe={some:0,all:1};class dpe extends cc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:upe[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(l)};return cpe(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(fpe(t,n))&&this.startObserver()}unmount(){}}function fpe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const mpe={inView:{Feature:dpe},tap:{Feature:ape},focus:{Feature:ipe},hover:{Feature:rpe}};function gR(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function hpe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function ppe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Cv(e,t,n){const r=e.getProps();return yC(r,t,n!==void 0?n:r.custom,hpe(e),ppe(e))}let wC=zr;const Gc=e=>e*1e3,Fo=e=>e/1e3,gpe={current:!1},xR=e=>Array.isArray(e)&&typeof e[0]=="number";function vR(e){return!!(!e||typeof e=="string"&&bR[e]||xR(e)||Array.isArray(e)&&e.every(vR))}const $f=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,bR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$f([0,.65,.55,1]),circOut:$f([.55,0,1,.45]),backIn:$f([.31,.01,.66,-.59]),backOut:$f([.33,1.53,.69,.99])};function yR(e){if(e)return xR(e)?$f(e):Array.isArray(e)?e.map(yR):bR[e]}function xpe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:l}={}){const u={[t]:n};l&&(u.offset=l);const d=yR(o);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function vpe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const wR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,bpe=1e-7,ype=12;function wpe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=wR(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>bpe&&++o<ype);return s}function Eh(e,t,n,r){if(e===t&&n===r)return zr;const i=a=>wpe(a,0,1,e,n);return a=>a===0||a===1?a:wR(i(a),t,r)}const kpe=Eh(.42,0,1,1),Spe=Eh(0,0,.58,1),kR=Eh(.42,0,.58,1),Npe=e=>Array.isArray(e)&&typeof e[0]!="number",SR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,NR=e=>t=>1-e(1-t),kC=e=>1-Math.sin(Math.acos(e)),CR=NR(kC),Cpe=SR(kC),jR=Eh(.33,1.53,.69,.99),SC=NR(jR),jpe=SR(SC),Ape=e=>(e*=2)<1?.5*SC(e):.5*(2-Math.pow(2,-10*(e-1))),Ppe={linear:zr,easeIn:kpe,easeInOut:kR,easeOut:Spe,circIn:kC,circInOut:Cpe,circOut:CR,backIn:SC,backInOut:jpe,backOut:jR,anticipate:Ape},xM=e=>{if(Array.isArray(e)){wC(e.length===4);const[t,n,r,i]=e;return Eh(t,n,r,i)}else if(typeof e=="string")return Ppe[e];return e},NC=(e,t)=>n=>!!(Th(n)&&Dhe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),AR=(e,t,n)=>r=>{if(!Th(r))return r;const[i,a,s,o]=r.match(Sv);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Dpe=e=>Jl(0,255,e),ty={...xu,transform:e=>Math.round(Dpe(e))},Bc={test:NC("rgb","red"),parse:AR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+ty.transform(e)+", "+ty.transform(t)+", "+ty.transform(n)+", "+em(Jf.transform(r))+")"};function Tpe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const k1={test:NC("#"),parse:Tpe,transform:Bc.transform},td={test:NC("hsl","hue"),parse:AR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+to.transform(em(t))+", "+to.transform(em(n))+", "+em(Jf.transform(r))+")"},Yi={test:e=>Bc.test(e)||k1.test(e)||td.test(e),parse:e=>Bc.test(e)?Bc.parse(e):td.test(e)?td.parse(e):k1.parse(e),transform:e=>Th(e)?e:e.hasOwnProperty("red")?Bc.transform(e):td.transform(e)},Nr=(e,t,n)=>-n*e+n*t+e;function ny(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function Mpe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,l=2*n-o;i=ny(l,o,e+1/3),a=ny(l,o,e),s=ny(l,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const ry=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},Epe=[k1,Bc,td],Ope=e=>Epe.find(t=>t.test(e));function vM(e){const t=Ope(e);let n=t.parse(e);return t===td&&(n=Mpe(n)),n}const PR=(e,t)=>{const n=vM(e),r=vM(t),i={...n};return a=>(i.red=ry(n.red,r.red,a),i.green=ry(n.green,r.green,a),i.blue=ry(n.blue,r.blue,a),i.alpha=Nr(n.alpha,r.alpha,a),Bc.transform(i))};function Ipe(e){var t,n;return isNaN(e)&&Th(e)&&(((t=e.match(Sv))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(tR))===null||n===void 0?void 0:n.length)||0)>0}const DR={regex:Ahe,countKey:"Vars",token:"${v}",parse:zr},TR={regex:tR,countKey:"Colors",token:"${c}",parse:Yi.parse},MR={regex:Sv,countKey:"Numbers",token:"${n}",parse:xu.parse};function iy(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function V0(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&iy(n,DR),iy(n,TR),iy(n,MR),n}function ER(e){return V0(e).values}function OR(e){const{values:t,numColors:n,numVars:r,tokenised:i}=V0(e),a=t.length;return s=>{let o=i;for(let l=0;l<a;l++)l<r?o=o.replace(DR.token,s[l]):l<r+n?o=o.replace(TR.token,Yi.transform(s[l])):o=o.replace(MR.token,em(s[l]));return o}}const _pe=e=>typeof e=="number"?0:e;function Lpe(e){const t=ER(e);return OR(e)(t.map(_pe))}const ec={test:Ipe,parse:ER,createTransformer:OR,getAnimatableNone:Lpe},IR=(e,t)=>n=>`${n>0?t:e}`;function _R(e,t){return typeof e=="number"?n=>Nr(e,t,n):Yi.test(e)?PR(e,t):e.startsWith("var(")?IR(e,t):$R(e,t)}const LR=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>_R(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},$pe=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=_R(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},$R=(e,t)=>{const n=ec.createTransformer(t),r=V0(e),i=V0(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Kl(LR(r.values,i.values),n):IR(e,t)},Wm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},bM=(e,t)=>n=>Nr(e,t,n);function Fpe(e){return typeof e=="number"?bM:typeof e=="string"?Yi.test(e)?PR:$R:Array.isArray(e)?LR:typeof e=="object"?$pe:bM}function Rpe(e,t,n){const r=[],i=n||Fpe(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const l=Array.isArray(t)?t[s]||zr:t;o=Kl(l,o)}r.push(o)}return r}function FR(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(wC(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=Rpe(t,r,i),o=s.length,l=u=>{let d=0;if(o>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=Wm(e[d],e[d+1],u);return s[d](f)};return n?u=>l(Jl(e[0],e[a-1],u)):l}function Bpe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Wm(0,t,r);e.push(Nr(n,1,i))}}function zpe(e){const t=[0];return Bpe(t,e.length-1),t}function Upe(e,t){return e.map(n=>n*t)}function Wpe(e,t){return e.map(()=>t||kR).splice(0,e.length-1)}function H0({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Npe(r)?r.map(xM):xM(r),a={done:!1,value:t[0]},s=Upe(n&&n.length===t.length?n:zpe(t),e),o=FR(s,t,{ease:Array.isArray(i)?i:Wpe(t,i)});return{calculatedDuration:e,next:l=>(a.value=o(l),a.done=l>=e,a)}}function RR(e,t){return t?e*(1e3/t):0}const Vpe=5;function BR(e,t,n){const r=Math.max(t-Vpe,0);return RR(n-e(r),t-r)}const ay=.001,Hpe=.01,qpe=10,Kpe=.05,Gpe=1;function Ype({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=Jl(Kpe,Gpe,s),e=Jl(Hpe,qpe,Fo(e)),s<1?(i=u=>{const d=u*s,f=d*e,h=d-n,m=S1(u,s),p=Math.exp(-f);return ay-h/m*p},a=u=>{const f=u*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),v=S1(Math.pow(u,2),s);return(-i(u)+ay>0?-1:1)*((h-m)*p)/v}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-ay+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const o=5/e,l=Qpe(i,a,o);if(e=Gc(e),isNaN(l))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const Xpe=12;function Qpe(e,t,n){let r=n;for(let i=1;i<Xpe;i++)r=r-e(r)/t(r);return r}function S1(e,t){return e*Math.sqrt(1-t*t)}const Zpe=["duration","bounce"],Jpe=["stiffness","damping","mass"];function yM(e,t){return t.some(n=>e[n]!==void 0)}function ege(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!yM(e,Jpe)&&yM(e,Zpe)){const n=Ype(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function zR({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:l,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=ege({...r,velocity:-Fo(r.velocity||0)}),m=f||0,p=l/(2*Math.sqrt(o*u)),v=a-i,y=Fo(Math.sqrt(o/u)),x=Math.abs(v)<5;n||(n=x?.01:2),t||(t=x?.005:.5);let b;if(p<1){const w=S1(y,p);b=N=>{const j=Math.exp(-p*y*N);return a-j*((m+p*y*v)/w*Math.sin(w*N)+v*Math.cos(w*N))}}else if(p===1)b=w=>a-Math.exp(-y*w)*(v+(m+y*v)*w);else{const w=y*Math.sqrt(p*p-1);b=N=>{const j=Math.exp(-p*y*N),k=Math.min(w*N,300);return a-j*((m+p*y*v)*Math.sinh(k)+w*v*Math.cosh(k))/w}}return{calculatedDuration:h&&d||null,next:w=>{const N=b(w);if(h)s.done=w>=d;else{let j=m;w!==0&&(p<1?j=BR(b,w,N):j=0);const k=Math.abs(j)<=n,A=Math.abs(a-N)<=t;s.done=k&&A}return s.value=s.done?a:N,s}}}function wM({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||l!==void 0&&E>l,p=E=>o===void 0?l:l===void 0||Math.abs(o-E)<Math.abs(l-E)?o:l;let v=n*t;const y=f+v,x=s===void 0?y:s(y);x!==y&&(v=x-f);const b=E=>-v*Math.exp(-E/r),w=E=>x+b(E),N=E=>{const F=b(E),T=w(E);h.done=Math.abs(F)<=u,h.value=h.done?x:T};let j,k;const A=E=>{m(h.value)&&(j=E,k=zR({keyframes:[h.value,p(h.value)],velocity:BR(w,E,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return A(0),{calculatedDuration:null,next:E=>{let F=!1;return!k&&j===void 0&&(F=!0,N(E),A(E)),j!==void 0&&E>j?k.next(E-j):(!F&&N(E),h)}}}const tge=e=>{const t=({timestamp:n})=>e(n);return{start:()=>fr.update(t,!0),stop:()=>Zo(t),now:()=>_i.isProcessing?_i.timestamp:performance.now()}},kM=2e4;function SM(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<kM;)t+=n,r=e.next(t);return t>=kM?1/0:t}const nge={decay:wM,inertia:wM,tween:H0,keyframes:H0,spring:zR};function q0({autoplay:e=!0,delay:t=0,driver:n=tge,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:l,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,v,y;const x=()=>{y=new Promise(P=>{v=P})};x();let b;const w=nge[i]||H0;let N;w!==H0&&typeof r[0]!="number"&&(N=FR([0,100],r,{clamp:!1}),r=[0,100]);const j=w({...h,keyframes:r});let k;o==="mirror"&&(k=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let A="idle",E=null,F=null,T=null;j.calculatedDuration===null&&a&&(j.calculatedDuration=SM(j));const{calculatedDuration:L}=j;let _=1/0,K=1/0;L!==null&&(_=L+s,K=_*(a+1)-s);let ee=0;const le=P=>{if(F===null)return;m>0&&(F=Math.min(F,P)),m<0&&(F=Math.min(P-K/m,F)),E!==null?ee=E:ee=Math.round(P-F)*m;const Z=ee-t*(m>=0?1:-1),S=m>=0?Z<0:Z>K;ee=Math.max(Z,0),A==="finished"&&E===null&&(ee=K);let W=ee,R=j;if(a){const z=Math.min(ee,K)/_;let U=Math.floor(z),V=z%1;!V&&z>=1&&(V=1),V===1&&U--,U=Math.min(U,a+1),!!(U%2)&&(o==="reverse"?(V=1-V,s&&(V-=s/_)):o==="mirror"&&(R=k)),W=Jl(0,1,V)*_}const q=S?{done:!1,value:r[0]}:R.next(W);N&&(q.value=N(q.value));let{done:ne}=q;!S&&L!==null&&(ne=m>=0?ee>=K:ee<=0);const Y=E===null&&(A==="finished"||A==="running"&&ne);return f&&f(q.value),Y&&H(),q},ke=()=>{b&&b.stop(),b=void 0},re=()=>{A="idle",ke(),v(),x(),F=T=null},H=()=>{A="finished",d&&d(),ke(),v()},se=()=>{if(p)return;b||(b=n(le));const P=b.now();l&&l(),E!==null?F=P-E:(!F||A==="finished")&&(F=P),A==="finished"&&x(),T=F,E=null,A="running",b.start()};e&&se();const I={then(P,Z){return y.then(P,Z)},get time(){return Fo(ee)},set time(P){P=Gc(P),ee=P,E!==null||!b||m===0?E=P:F=b.now()-P/m},get duration(){const P=j.calculatedDuration===null?SM(j):j.calculatedDuration;return Fo(P)},get speed(){return m},set speed(P){P===m||!b||(m=P,I.time=Fo(ee))},get state(){return A},play:se,pause:()=>{A="paused",E=ee},stop:()=>{p=!0,A!=="idle"&&(A="idle",u&&u(),re())},cancel:()=>{T!==null&&le(T),re()},complete:()=>{A="finished"},sample:P=>(F=0,le(P))};return I}function rge(e){let t;return()=>(t===void 0&&(t=e()),t)}const ige=rge(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),age=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),zp=10,sge=2e4,oge=(e,t)=>t.type==="spring"||e==="backgroundColor"||!vR(t.ease);function lge(e,t,{onUpdate:n,onComplete:r,...i}){if(!(ige()&&age.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,l,u=!1;const d=()=>{l=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(oge(t,i)){const w=q0({...i,repeat:0,delay:0});let N={done:!1,value:f[0]};const j=[];let k=0;for(;!N.done&&k<sge;)N=w.sample(k),j.push(N.value),k+=zp;p=void 0,f=j,h=k-zp,m="linear"}const v=xpe(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),y=()=>{u=!1,v.cancel()},x=()=>{u=!0,fr.update(y),o(),d()};return v.onfinish=()=>{u||(e.set(vpe(f,i)),r&&r(),x())},{then(w,N){return l.then(w,N)},attachTimeline(w){return v.timeline=w,v.onfinish=null,zr},get time(){return Fo(v.currentTime||0)},set time(w){v.currentTime=Gc(w)},get speed(){return v.playbackRate},set speed(w){v.playbackRate=w},get duration(){return Fo(h)},play:()=>{s||(v.play(),Zo(y))},pause:()=>v.pause(),stop:()=>{if(s=!0,v.playState==="idle")return;const{currentTime:w}=v;if(w){const N=q0({...i,autoplay:!1});e.setWithVelocity(N.sample(w-zp).value,N.sample(w).value,zp)}x()},complete:()=>{u||v.finish()},cancel:x}}function cge({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:zr,pause:zr,stop:zr,then:a=>(a(),Promise.resolve()),cancel:zr,complete:zr});return t?q0({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const uge={type:"spring",stiffness:500,damping:25,restSpeed:10},dge=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),fge={type:"keyframes",duration:.8},mge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},hge=(e,{keyframes:t})=>t.length>2?fge:gu.has(e)?e.startsWith("scale")?dge(t[1]):uge:mge,N1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ec.test(t)||t==="0")&&!t.startsWith("url(")),pge=new Set(["brightness","contrast","saturate","opacity"]);function gge(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Sv)||[];if(!r)return e;const i=n.replace(r,"");let a=pge.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const xge=/([a-z-]*)\(.*?\)/g,C1={...ec,getAnimatableNone:e=>{const t=e.match(xge);return t?t.map(gge).join(" "):e}},vge={...nR,color:Yi,backgroundColor:Yi,outlineColor:Yi,fill:Yi,stroke:Yi,borderColor:Yi,borderTopColor:Yi,borderRightColor:Yi,borderBottomColor:Yi,borderLeftColor:Yi,filter:C1,WebkitFilter:C1},CC=e=>vge[e];function UR(e,t){let n=CC(e);return n!==C1&&(n=ec),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const WR=e=>/^0[^.\s]+$/.test(e);function bge(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||WR(e)}function yge(e,t,n,r){const i=N1(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const l=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?s:a[u-1]),bge(a[u])&&l.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(o=a[u]);if(i&&l.length&&o)for(let u=0;u<l.length;u++){const d=l[u];a[d]=UR(t,o)}return a}function wge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}function jC(e,t){return e[t]||e.default||e}const kge={skipAnimations:!1},AC=(e,t,n,r={})=>i=>{const a=jC(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-Gc(s);const l=yge(t,e,n,a),u=l[0],d=l[l.length-1],f=N1(e,u),h=N1(e,d);let m={keyframes:l,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(wge(a)||(m={...m,...hge(e,m)}),m.duration&&(m.duration=Gc(m.duration)),m.repeatDelay&&(m.repeatDelay=Gc(m.repeatDelay)),!f||!h||gpe.current||a.type===!1||kge.skipAnimations)return cge(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=lge(t,e,m);if(p)return p}return q0(m)};function K0(e){return!!(xa(e)&&e.add)}const VR=e=>/^\-?\d*\.?\d+$/.test(e);function PC(e,t){e.indexOf(t)===-1&&e.push(t)}function DC(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class TC{constructor(){this.subscriptions=[]}add(t){return PC(this.subscriptions,t),()=>DC(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sge=e=>!isNaN(parseFloat(e));class Nge{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=_i;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,fr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>fr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Sge(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new TC);const r=this.events[t].add(n);return t==="change"?()=>{r(),fr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?RR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _d(e,t){return new Nge(e,t)}const HR=e=>t=>t.test(e),Cge={test:e=>e==="auto",parse:e=>e},qR=[xu,en,to,Nl,Mhe,The,Cge],jf=e=>qR.find(HR(e)),jge=[...qR,Yi,ec],Age=e=>jge.find(HR(e));function Pge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,_d(n))}function Dge(e,t){const n=Cv(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=qhe(a[s]);Pge(e,s,o)}}function Tge(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const l=a[o],u=t[l];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[l])!==null&&r!==void 0?r:e.readValue(l))!==null&&i!==void 0?i:t[l]),d!=null&&(typeof d=="string"&&(VR(d)||WR(d))?d=parseFloat(d):!Age(d)&&ec.test(u)&&(d=UR(l,u)),e.addValue(l,_d(d,{owner:e})),n[l]===void 0&&(n[l]=d),d!==null&&e.setBaseTarget(l,d))}}function Mge(e,t){return t?(t[e]||t.default||t).from:void 0}function Ege(e,t,n){const r={};for(const i in e){const a=Mge(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function Oge({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Ige(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function KR(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const l=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&Oge(d,f))continue;const p={delay:n,elapsed:0,...jC(a||{},f)};if(window.HandoffAppearAnimations){const x=e.getProps()[GF];if(x){const b=window.HandoffAppearAnimations(x,f,h,fr);b!==null&&(p.elapsed=b,p.isHandoff=!0)}}let v=!p.isHandoff&&!Ige(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(v=!1),h.animation&&(v=!1),v)continue;h.start(AC(f,h,m,e.shouldReduceMotion&&gu.has(f)?{type:!1}:p));const y=h.animation;K0(l)&&(l.add(f),y.then(()=>l.remove(f))),u.push(y)}return s&&Promise.all(u).then(()=>{s&&Dge(e,s)}),u}function j1(e,t,n={}){const r=Cv(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(KR(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return _ge(e,t,u+l,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,u]=o==="beforeChildren"?[a,s]:[s,a];return l().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function _ge(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(Lge).forEach((u,d)=>{u.notify("AnimationStart",t),s.push(j1(u,t,{...a,delay:n+l(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function Lge(e,t){return e.sortNodePosition(t)}function $ge(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>j1(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=j1(e,t,n);else{const i=typeof t=="function"?Cv(e,t,n.custom):t;r=Promise.all(KR(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const Fge=[...fC].reverse(),Rge=fC.length;function Bge(e){return t=>Promise.all(t.map(({animation:n,options:r})=>$ge(e,n,r)))}function zge(e){let t=Bge(e);const n=Wge();let r=!0;const i=(l,u)=>{const d=Cv(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;l={...l,...m,...h}}return l};function a(l){t=l(e)}function s(l,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},v=1/0;for(let x=0;x<Rge;x++){const b=Fge[x],w=n[b],N=d[b]!==void 0?d[b]:f[b],j=zm(N),k=b===u?w.isActive:null;k===!1&&(v=x);let A=N===f[b]&&N!==d[b]&&j;if(A&&r&&e.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...p},!w.isActive&&k===null||!N&&!w.prevProp||wv(N)||typeof N=="boolean")continue;let F=Uge(w.prevProp,N)||b===u&&w.isActive&&!A&&j||x>v&&j,T=!1;const L=Array.isArray(N)?N:[N];let _=L.reduce(i,{});k===!1&&(_={});const{prevResolvedValues:K={}}=w,ee={...K,..._},le=ke=>{F=!0,m.has(ke)&&(T=!0,m.delete(ke)),w.needsAnimating[ke]=!0};for(const ke in ee){const re=_[ke],H=K[ke];if(p.hasOwnProperty(ke))continue;let se=!1;W0(re)&&W0(H)?se=!gR(re,H):se=re!==H,se?re!==void 0?le(ke):m.add(ke):re!==void 0&&m.has(ke)?le(ke):w.protectedKeys[ke]=!0}w.prevProp=N,w.prevResolvedValues=_,w.isActive&&(p={...p,..._}),r&&e.blockInitialAnimation&&(F=!1),F&&(!A||T)&&h.push(...L.map(ke=>({animation:ke,options:{type:b,...l}})))}if(m.size){const x={};m.forEach(b=>{const w=e.getBaseTarget(b);w!==void 0&&(x[b]=w)}),h.push({animation:x})}let y=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(h):Promise.resolve()}function o(l,u,d){var f;if(n[l].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(l,u)}),n[l].isActive=u;const h=s(d,l);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function Uge(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!gR(t,e):!1}function wc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Wge(){return{animate:wc(!0),whileInView:wc(),whileHover:wc(),whileTap:wc(),whileDrag:wc(),whileFocus:wc(),exit:wc()}}class Vge extends cc{constructor(t){super(t),t.animationState||(t.animationState=zge(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),wv(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Hge=0;class qge extends cc{constructor(){super(...arguments),this.id=Hge++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Kge={animation:{Feature:Vge},exit:{Feature:qge}},NM=(e,t)=>Math.abs(e-t);function Gge(e,t){const n=NM(e.x,t.x),r=NM(e.y,t.y);return Math.sqrt(n**2+r**2)}class GR{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=oy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=Gge(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:v}=_i;this.history.push({...p,timestamp:v});const{onStart:y,onMove:x}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=sy(h,this.transformPagePoint),fr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=oy(f.type==="pointercancel"?this.lastMoveEventInfo:sy(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),p&&p(f,y)},!dR(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=Nv(t),o=sy(s,this.transformPagePoint),{point:l}=o,{timestamp:u}=_i;this.history=[{...l,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,oy(o,this.history)),this.removeListeners=Kl($o(this.contextWindow,"pointermove",this.handlePointerMove),$o(this.contextWindow,"pointerup",this.handlePointerUp),$o(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Zo(this.updatePoint)}}function sy(e,t){return t?{point:t(e.point)}:e}function CM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function oy({point:e},t){return{point:e,delta:CM(e,YR(t)),offset:CM(e,Yge(t)),velocity:Xge(t,.1)}}function Yge(e){return e[0]}function YR(e){return e[e.length-1]}function Xge(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=YR(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>Gc(t)));)n--;if(!r)return{x:0,y:0};const a=Fo(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Fa(e){return e.max-e.min}function A1(e,t=0,n=.01){return Math.abs(e-t)<=n}function jM(e,t,n,r=.5){e.origin=r,e.originPoint=Nr(t.min,t.max,e.origin),e.scale=Fa(n)/Fa(t),(A1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Nr(n.min,n.max,e.origin)-e.originPoint,(A1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function tm(e,t,n,r){jM(e.x,t.x,n.x,r?r.originX:void 0),jM(e.y,t.y,n.y,r?r.originY:void 0)}function AM(e,t,n){e.min=n.min+t.min,e.max=e.min+Fa(t)}function Qge(e,t,n){AM(e.x,t.x,n.x),AM(e.y,t.y,n.y)}function PM(e,t,n){e.min=t.min-n.min,e.max=e.min+Fa(t)}function nm(e,t,n){PM(e.x,t.x,n.x),PM(e.y,t.y,n.y)}function Zge(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Nr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Nr(n,e,r.max):Math.min(e,n)),e}function DM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function Jge(e,{top:t,left:n,bottom:r,right:i}){return{x:DM(e.x,n,i),y:DM(e.y,t,r)}}function TM(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function e0e(e,t){return{x:TM(e.x,t.x),y:TM(e.y,t.y)}}function t0e(e,t){let n=.5;const r=Fa(e),i=Fa(t);return i>r?n=Wm(t.min,t.max-r,e.min):r>i&&(n=Wm(e.min,e.max-i,t.min)),Jl(0,1,n)}function n0e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const P1=.35;function r0e(e=P1){return e===!1?e=0:e===!0&&(e=P1),{x:MM(e,"left","right"),y:MM(e,"top","bottom")}}function MM(e,t,n){return{min:EM(e,t),max:EM(e,n)}}function EM(e,t){return typeof e=="number"?e:e[t]||0}const OM=()=>({translate:0,scale:1,origin:0,originPoint:0}),nd=()=>({x:OM(),y:OM()}),IM=()=>({min:0,max:0}),Wr=()=>({x:IM(),y:IM()});function Ya(e){return[e("x"),e("y")]}function XR({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function i0e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function a0e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ly(e){return e===void 0||e===1}function D1({scale:e,scaleX:t,scaleY:n}){return!ly(e)||!ly(t)||!ly(n)}function Pc(e){return D1(e)||QR(e)||e.z||e.rotate||e.rotateX||e.rotateY}function QR(e){return _M(e.x)||_M(e.y)}function _M(e){return e&&e!=="0%"}function G0(e,t,n){const r=e-n,i=t*r;return n+i}function LM(e,t,n,r,i){return i!==void 0&&(e=G0(e,i,r)),G0(e,n,r)+t}function T1(e,t=0,n=1,r,i){e.min=LM(e.min,t,n,r,i),e.max=LM(e.max,t,n,r,i)}function ZR(e,{x:t,y:n}){T1(e.x,t.translate,t.scale,t.originPoint),T1(e.y,n.translate,n.scale,n.originPoint)}function s0e(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const l=a.instance;l&&l.style&&l.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&rd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,ZR(e,s)),r&&Pc(a.latestValues)&&rd(e,a.latestValues))}t.x=$M(t.x),t.y=$M(t.y)}function $M(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Dl(e,t){e.min=e.min+t,e.max=e.max+t}function FM(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=Nr(e.min,e.max,a);T1(e,t[n],t[r],s,t.scale)}const o0e=["x","scaleX","originX"],l0e=["y","scaleY","originY"];function rd(e,t){FM(e.x,t,o0e),FM(e.y,t,l0e)}function JR(e,t){return XR(a0e(e.getBoundingClientRect(),t))}function c0e(e,t,n){const r=JR(e,n),{scroll:i}=t;return i&&(Dl(r.x,i.offset.x),Dl(r.y,i.offset.y)),r}const eB=({current:e})=>e?e.ownerDocument.defaultView:null,u0e=new WeakMap;class d0e{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Nv(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=mR(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ya(y=>{let x=this.getAxisMotionValue(y).get()||0;if(to.test(x)){const{projection:b}=this.visualElement;if(b&&b.layout){const w=b.layout.layoutBox[y];w&&(x=Fa(w)*(parseFloat(x)/100))}}this.originPoint[y]=x}),p&&fr.update(()=>p(d,f),!1,!0);const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:v}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=f0e(y),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(d,f)},o=(d,f)=>this.stop(d,f),l=()=>Ya(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new GR(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:eB(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&fr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!Up(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=Zge(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&ed(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=Jge(i.layoutBox,n):this.constraints=!1,this.elastic=r0e(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ya(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=n0e(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!ed(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=c0e(r,i.root,this.visualElement.getTransformPagePoint());let s=e0e(i.layout.layoutBox,a);if(n){const o=n(i0e(s));this.hasMutatedConstraints=!!o,o&&(s=XR(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Ya(d=>{if(!Up(d,n,this.currentDirection))return;let f=l&&l[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(AC(t,r,0,n))}stopAnimation(){Ya(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ya(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Ya(n=>{const{drag:r}=this.getProps();if(!Up(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-Nr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ed(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ya(s=>{const o=this.getAxisMotionValue(s);if(o){const l=o.get();i[s]=t0e({min:l,max:l},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ya(s=>{if(!Up(s,t,null))return;const o=this.getAxisMotionValue(s),{min:l,max:u}=this.constraints[s];o.set(Nr(l,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;u0e.set(this.visualElement,this);const t=this.visualElement.current,n=$o(t,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();ed(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=Eo(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ya(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=P1,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function Up(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function f0e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class m0e extends cc{constructor(t){super(t),this.removeGroupControls=zr,this.removeListeners=zr,this.controls=new d0e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zr}unmount(){this.removeGroupControls(),this.removeListeners()}}const RM=e=>(t,n)=>{e&&fr.update(()=>e(t,n))};class h0e extends cc{constructor(){super(...arguments),this.removePointerDownListener=zr}onPointerDown(t){this.session=new GR(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eB(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:RM(t),onStart:RM(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&fr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=$o(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function p0e(){const e=g.useContext(uC);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=g.useId();return g.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function BM(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Af={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(en.test(e))e=parseFloat(e);else return e;const n=BM(e,t.target.x),r=BM(e,t.target.y);return`${n}% ${r}%`}},g0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=ec.parse(e);if(i.length>5)return r;const a=ec.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,l=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=l;const u=Nr(o,l,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class x0e extends X0.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;She(v0e),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||fr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function tB(e){const[t,n]=p0e(),r=g.useContext(XF);return X0.createElement(x0e,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(QF),isPresent:t,safeToRemove:n})}const v0e={borderRadius:{...Af,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Af,borderTopRightRadius:Af,borderBottomLeftRadius:Af,borderBottomRightRadius:Af,boxShadow:g0e},nB=["TopLeft","TopRight","BottomLeft","BottomRight"],b0e=nB.length,zM=e=>typeof e=="string"?parseFloat(e):e,UM=e=>typeof e=="number"||en.test(e);function y0e(e,t,n,r,i,a){i?(e.opacity=Nr(0,n.opacity!==void 0?n.opacity:1,w0e(r)),e.opacityExit=Nr(t.opacity!==void 0?t.opacity:1,0,k0e(r))):a&&(e.opacity=Nr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<b0e;s++){const o=`border${nB[s]}Radius`;let l=WM(t,o),u=WM(n,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||UM(l)===UM(u)?(e[o]=Math.max(Nr(zM(l),zM(u),r),0),(to.test(u)||to.test(l))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=Nr(t.rotate||0,n.rotate||0,r))}function WM(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const w0e=rB(0,.5,CR),k0e=rB(.5,.95,zr);function rB(e,t,n){return r=>r<e?0:r>t?1:n(Wm(e,t,r))}function VM(e,t){e.min=t.min,e.max=t.max}function qa(e,t){VM(e.x,t.x),VM(e.y,t.y)}function HM(e,t,n,r,i){return e-=t,e=G0(e,1/n,r),i!==void 0&&(e=G0(e,1/i,r)),e}function S0e(e,t=0,n=1,r=.5,i,a=e,s=e){if(to.test(t)&&(t=parseFloat(t),t=Nr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=Nr(a.min,a.max,r);e===a&&(o-=t),e.min=HM(e.min,t,n,o,i),e.max=HM(e.max,t,n,o,i)}function qM(e,t,[n,r,i],a,s){S0e(e,t[n],t[r],t[i],t.scale,a,s)}const N0e=["x","scaleX","originX"],C0e=["y","scaleY","originY"];function KM(e,t,n,r){qM(e.x,t,N0e,n?n.x:void 0,r?r.x:void 0),qM(e.y,t,C0e,n?n.y:void 0,r?r.y:void 0)}function GM(e){return e.translate===0&&e.scale===1}function iB(e){return GM(e.x)&&GM(e.y)}function j0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function aB(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function YM(e){return Fa(e.x)/Fa(e.y)}class A0e{constructor(){this.members=[]}add(t){PC(this.members,t),t.scheduleRender()}remove(t){if(DC(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XM(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:l,rotateX:u,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const P0e=(e,t)=>e.depth-t.depth;class D0e{constructor(){this.children=[],this.isDirty=!1}add(t){PC(this.children,t),this.isDirty=!0}remove(t){DC(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(P0e),this.isDirty=!1,this.children.forEach(t)}}function T0e(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(Zo(r),e(a-t))};return fr.read(r,!0),()=>Zo(r)}function M0e(e){window.MotionDebug&&window.MotionDebug.record(e)}function E0e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function O0e(e,t,n){const r=xa(e)?e:_d(e);return r.start(AC("",r,t,n)),r.animation}const QM=["","X","Y","Z"],I0e={visibility:"hidden"},ZM=1e3;let _0e=0;const Dc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function sB({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=_0e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Dc.totalNodes=Dc.resolvedTargetDeltas=Dc.recalculatedProjection=0,this.nodes.forEach(F0e),this.nodes.forEach(W0e),this.nodes.forEach(V0e),this.nodes.forEach(R0e),M0e(Dc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new D0e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new TC),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const l=this.eventHandlers.get(s);l&&l.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=E0e(s),this.instance=s;const{layoutId:l,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||l)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=T0e(h,250),dg.hasAnimatedSinceResize&&(dg.hasAnimatedSinceResize=!1,this.nodes.forEach(eE))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||Y0e,{onLayoutAnimationStart:y,onLayoutAnimationComplete:x}=d.getProps(),b=!this.targetLayout||!aB(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const N={...jC(v,"layout"),onPlay:y,onComplete:x};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||eE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Zo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(H0e),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(JM);return}this.isUpdating||this.nodes.forEach(z0e),this.isUpdating=!1,this.nodes.forEach(U0e),this.nodes.forEach(L0e),this.nodes.forEach($0e),this.clearAllSnapshots();const o=performance.now();_i.delta=Jl(0,1e3/60,o-_i.timestamp),_i.timestamp=o,_i.isProcessing=!0,Zb.update.process(_i),Zb.preRender.process(_i),Zb.render.process(_i),_i.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(B0e),this.sharedNodes.forEach(q0e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,fr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){fr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!iB(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||Pc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return s&&(l=this.removeTransform(l)),X0e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Wr();const o=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Dl(o.x,l.offset.x),Dl(o.y,l.offset.y)),o}removeElementScroll(s){const o=Wr();qa(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){qa(o,s);const{scroll:h}=this.root;h&&(Dl(o.x,-h.offset.x),Dl(o.y,-h.offset.y))}Dl(o.x,d.offset.x),Dl(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const l=Wr();qa(l,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&rd(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Pc(d.latestValues)&&rd(l,d.latestValues)}return Pc(this.latestValues)&&rd(l,this.latestValues),l}removeTransform(s){const o=Wr();qa(o,s);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Pc(u.latestValues))continue;D1(u.latestValues)&&u.updateSnapshot();const d=Wr(),f=u.measurePageBox();qa(d,f),KM(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Pc(this.latestValues)&&KM(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==_i.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==l;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=_i.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),nm(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wr(),this.targetWithTransforms=Wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qa(this.target,this.layout.layoutBox),ZR(this.target,this.targetDelta)):qa(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),nm(this.relativeTargetOrigin,this.target,m.target),qa(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Dc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||D1(this.parent.latestValues)||QR(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===_i.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;qa(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;s0e(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=nd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=nd(),this.projectionDeltaWithTransform=nd());const v=this.projectionTransform;tm(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=XM(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Dc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=nd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=Wr(),m=l?l.source:void 0,p=this.layout?this.layout.source:void 0,v=m!==p,y=this.getStack(),x=!y||y.members.length<=1,b=!!(v&&!x&&this.options.crossfade===!0&&!this.path.some(G0e));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const j=N/1e3;tE(f.x,s.x,j),tE(f.y,s.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(nm(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),K0e(this.relativeTarget,this.relativeTargetOrigin,h,j),w&&j0e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=Wr()),qa(w,this.relativeTarget)),v&&(this.animationValues=d,y0e(d,u,this.latestValues,j,b,x)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Zo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=fr.update(()=>{dg.hasAnimatedSinceResize=!0,this.currentAnimation=O0e(0,ZM,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ZM),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=s;if(!(!o||!l||!u)){if(this!==s&&this.layout&&u&&oB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||Wr();const f=Fa(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const h=Fa(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}qa(o,l),rd(o,d),tm(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new A0e),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<QM.length;d++){const f="rotate"+QM[d];l[f]&&(u[f]=l[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return I0e;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=ug(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=ug(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Pc(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=XM(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(l=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const v in z0){if(h[v]===void 0)continue;const{correct:y,applyTo:x}=z0[v],b=u.transform==="none"?h[v]:y(h[v],f);if(x){const w=x.length;for(let N=0;N<w;N++)u[x[N]]=b}else u[v]=b}return this.options.layoutId&&(u.pointerEvents=f===this?ug(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(JM),this.root.sharedNodes.clear()}}}function L0e(e){e.updateLayout()}function $0e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?Ya(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Fa(h);h.min=r[f].min,h.max=h.min+m}):oB(a,n.layoutBox,r)&&Ya(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Fa(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=nd();tm(o,r,n.layoutBox);const l=nd();s?tm(l,e.applyTransform(i,!0),n.measuredBox):tm(l,r,n.layoutBox);const u=!iB(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Wr();nm(p,n.layoutBox,h.layoutBox);const v=Wr();nm(v,r,m.layoutBox),aB(p,v)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function F0e(e){Dc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function R0e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function B0e(e){e.clearSnapshot()}function JM(e){e.clearMeasurements()}function z0e(e){e.isLayoutDirty=!1}function U0e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function eE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function W0e(e){e.resolveTargetDelta()}function V0e(e){e.calcProjection()}function H0e(e){e.resetRotation()}function q0e(e){e.removeLeadSnapshot()}function tE(e,t,n){e.translate=Nr(t.translate,0,n),e.scale=Nr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function nE(e,t,n,r){e.min=Nr(t.min,n.min,r),e.max=Nr(t.max,n.max,r)}function K0e(e,t,n,r){nE(e.x,t.x,n.x,r),nE(e.y,t.y,n.y,r)}function G0e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Y0e={duration:.45,ease:[.4,0,.1,1]},rE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),iE=rE("applewebkit/")&&!rE("chrome/")?Math.round:zr;function aE(e){e.min=iE(e.min),e.max=iE(e.max)}function X0e(e){aE(e.x),aE(e.y)}function oB(e,t,n){return e==="position"||e==="preserve-aspect"&&!A1(YM(t),YM(n),.2)}const Q0e=sB({attachResizeListener:(e,t)=>Eo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cy={current:void 0},lB=sB({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cy.current){const e=new Q0e({});e.mount(window),e.setOptions({layoutScroll:!0}),cy.current=e}return cy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),Z0e={pan:{Feature:h0e},drag:{Feature:m0e,ProjectionNode:lB,MeasureLayout:tB}},J0e=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function exe(e){const t=J0e.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function M1(e,t,n=1){const[r,i]=exe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return VR(s)?parseFloat(s):s}else return y1(i)?M1(i,t,n+1):i}function txe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!y1(a))return;const s=M1(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!y1(a))continue;const s=M1(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const nxe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),cB=e=>nxe.has(e),rxe=e=>Object.keys(e).some(cB),sE=e=>e===xu||e===en,oE=(e,t)=>parseFloat(e.split(", ")[t]),lE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return oE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?oE(a[1],e):0}},ixe=new Set(["x","y","z"]),axe=Dh.filter(e=>!ixe.has(e));function sxe(e){const t=[];return axe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Ld={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:lE(4,13),y:lE(5,14)};Ld.translateX=Ld.x;Ld.translateY=Ld.y;const oxe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{o[u]=Ld[u](r,a)}),t.render();const l=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(o[u]),e[u]=Ld[u](l,a)}),e},lxe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(cB);let a=[],s=!1;const o=[];if(i.forEach(l=>{const u=e.getValue(l);if(!e.hasValue(l))return;let d=n[l],f=jf(d);const h=t[l];let m;if(W0(h)){const p=h.length,v=h[0]===null?1:0;d=h[v],f=jf(d);for(let y=v;y<p&&h[y]!==null;y++)m?wC(jf(h[y])===m):m=jf(h[y])}else m=jf(h);if(f!==m)if(sE(f)&&sE(m)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?t[l]=parseFloat(h):Array.isArray(h)&&m===en&&(t[l]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[l]=f.transform(h):(s||(a=sxe(e),s=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:t[l],u.jump(h))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,u=oxe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),yv&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function cxe(e,t,n,r){return rxe(t)?lxe(e,t,n,r):{target:t,transitionEnd:r}}const uxe=(e,t,n,r)=>{const i=txe(e,t,r);return t=i.target,r=i.transitionEnd,cxe(e,t,n,r)},E1={current:null},uB={current:!1};function dxe(){if(uB.current=!0,!!yv)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>E1.current=e.matches;e.addListener(t),t()}else E1.current=!1}function fxe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(xa(a))e.addValue(i,a),K0(r)&&r.add(i);else if(xa(s))e.addValue(i,_d(a,{owner:e})),K0(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,_d(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const cE=new WeakMap,dB=Object.keys(Um),mxe=dB.length,uE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],hxe=mC.length;class pxe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>fr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=kv(n),this.isVariantNode=YF(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&xa(h)&&(h.set(o[f],!1),K0(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,cE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),uB.current||dxe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:E1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){cE.delete(this.current),this.projection&&this.projection.unmount(),Zo(this.notifyUpdate),Zo(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=gu.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&fr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let l=0;l<mxe;l++){const u=dB[l],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=Um[u];h&&(s=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:l,layout:u,alwaysMeasureLayout:!!d||f&&ed(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<uE.length;r++){const i=uE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=fxe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<hxe;r++){const i=mC[r],a=this.props[i];(zm(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=_d(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=yC(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!xa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new TC),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class fB extends pxe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=Ege(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){Tge(this,r,s);const o=uxe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function gxe(e){return window.getComputedStyle(e)}class xxe extends fB{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(gu.has(n)){const r=CC(n);return r&&r.default||0}else{const r=gxe(t),i=(eR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return JR(t,n)}build(t,n,r,i){pC(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return bC(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;xa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){sR(t,n,r,i)}}class vxe extends fB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(gu.has(n)){const r=CC(n);return r&&r.default||0}return n=oR.has(n)?n:dC(n),t.getAttribute(n)}measureInstanceViewportBox(){return Wr()}scrapeMotionValuesFromProps(t,n){return cR(t,n)}build(t,n,r,i){xC(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){lR(t,n,r,i)}mount(t){this.isSVGTag=vC(t.tagName),super.mount(t)}}const bxe=(e,t)=>hC(e)?new vxe(t,{enableHardwareAcceleration:!1}):new xxe(t,{enableHardwareAcceleration:!0}),yxe={layout:{ProjectionNode:lB,MeasureLayout:tB}},wxe={...Kge,...mpe,...Z0e,...yxe},qs=whe((e,t)=>epe(e,t,wxe,bxe));function kxe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:l,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:v,children:y}){return e?c.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:x=>x.target===x.currentTarget&&t(),children:c.jsxs("div",{className:"app-modal-card proof-of-work-modal relative isolate w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[c.jsxs("div",{className:"pointer-events-none absolute inset-0 z-0 opacity-60","aria-hidden":"true",children:[c.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),c.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),c.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("div",{className:"relative",ref:f,children:[c.jsx("input",{type:"text",value:n,onChange:x=>a(x.target.value),onFocus:s,onBlur:x=>o(x.relatedTarget),onKeyDown:x=>{x.key==="Enter"&&l()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&c.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((x,b)=>c.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),u(x)},children:[c.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:x.section}),c.jsx("div",{className:"truncate",children:d(x.text,n)})]},`${x.hitId}-${b}-${x.text}`))})]}),c.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:c.jsx(ri,{className:"w-5 h-5"})})]})]}),c.jsx("div",{className:"h-[65vh]",children:c.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[c.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[c.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),c.jsxs("div",{className:"space-y-1",children:[h.length===0&&c.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((x,b)=>{const w=x.id===m;return c.jsxs("button",{type:"button","data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${x.level===1?"proof-of-work-toc-item--l1":x.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":x.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(x),children:[c.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),c.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:x.text})]},`${x.id}-${x.level}-${b}`)})]})]}),c.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:v,id:"metrics-spec-content",children:c.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:y})})]})})]})]})}):null}const kc="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",O1="arcbridge_web_theme_override",dE="arcbridge_web_kinetic_font_override",fE="__default__",mB=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},mE=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Sxe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},Nxe=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},Cxe=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},I1=e=>e?e===VN?!0:Lf.some(t=>t.id===e):!1,jxe=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&I1(t))return t;const n=mB(O1);if(!n)return null;try{const r=JSON.parse(n),i=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return i&&I1(i)?i:null}catch{return null}},hE=(e,t)=>e?e===_0?"matte":e===L0||e===Tc?"kinetic":e===VN?"crt":t==="modern"||t==="classic"?t:"classic":t,_1=e=>{if(typeof e!="string")return null;const t=e.trim();return t||null},uy=e=>(e==null?void 0:e.uiTheme)==="kinetic"&&!_1(e==null?void 0:e.webThemeId),pE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},Axe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},gE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),Pxe=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,l=r>0?o/r*n:0,u=`${l} ${n-l}`,d=n-i;return i+=l,c.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:u,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},Dxe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return c.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),c.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),c.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function Txe(){var dl;const e=jxe(),[t,n]=g.useState(null),[r,i]=g.useState(null),[a,s]=g.useState(null),[o,l]=g.useState(null),[u,d]=g.useState(""),[f,h]=g.useState(null),[m,p]=g.useState(null),[v,y]=g.useState(!1),[x,b]=g.useState(!1),[w,N]=g.useState(()=>hE(e,"classic")),[j,k]=g.useState("classic"),[A,E]=g.useState(og.id),[F,T]=g.useState(e),L=g.useMemo(()=>{const te=new URLSearchParams(window.location.search),Oe=te.get("themeId")||te.get("theme");return Oe&&I1(Oe)?Oe:null},[]),[_,K]=g.useState("default"),[ee,le]=g.useState(!1),[ke,re]=g.useState(!1),[H,se]=g.useState(!1),[I,P]=g.useState(""),[Z,S]=g.useState(""),[W,R]=g.useState([]),[q,ne]=g.useState(!1),[Y,z]=g.useState("overview"),[U,V]=g.useState("kdr"),[G,B]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),de=g.useRef(null),X=g.useRef(null),ie=g.useRef(null),Ve=g.useRef(null),Ge=g.useRef(null),kt=g.useRef(null),Ae=g.useRef(new Map),me=g.useRef(null),be=g.useRef(null),Xe=g.useMemo(()=>{let te=window.location.pathname||"/";const Oe=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return te.endsWith("/index.html")&&(te=te.slice(0,-11)),te.includes("/reports/")&&(te=te.replace(/\/reports\/[^/]+\/?$/,"")),Oe&&(te=te.replace(/^\/web\/web(?=\/|$)/,"/web")),te.endsWith("/")||(te=`${te}/`),te},[]),pe=g.useMemo(()=>new URL(Xe,window.location.origin).toString(),[Xe]),tn=g.useMemo(()=>L?Nxe(pe,L):pe,[L,pe]),Se=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),at=g.useMemo(()=>{const Oe=[Xe,"./","/"],ze=[];return Oe.forEach(Ct=>{let Lt=Ct||"/";Lt!=="./"&&!Lt.endsWith("/")&&(Lt=`${Lt}/`),ze.includes(Lt)||ze.push(Lt)}),ze},[Xe,Se]),[Ft,nn]=g.useState(at[0]||"/"),hn=te=>{var Oe;return typeof te=="string"||typeof te=="number"?String(te):Array.isArray(te)?te.map(hn).join(""):te&&typeof te=="object"&&"props"in te?hn((Oe=te.props)==null?void 0:Oe.children):""},mr=te=>{const Oe=gE(te||"section")||"section",ze=Ae.current,Ct=(ze.get(Oe)??0)+1;return ze.set(Oe,Ct),Ct===1?Oe:`${Oe}-${Ct}`},mn=g.useMemo(()=>{const te=Qb.split(`
`),Oe=new Map,ze=[],Ct=Lt=>{const Kt=gE(Lt||"section")||"section",rn=(Oe.get(Kt)??0)+1;return Oe.set(Kt,rn),rn===1?Kt:`${Kt}-${rn}`};for(const Lt of te){const Kt=/^(#{1,3})\s+(.*)\s*$/.exec(Lt);if(!Kt)continue;const rn=Kt[1].length,$t=Kt[2].trim();$t&&ze.push({level:rn,text:$t,id:Ct($t)})}return ze},[Qb]),un=(te,Oe)=>{const ze=te==="./"?"./":te.endsWith("/")?te:`${te}/`,Ct=String(Oe||"").replace(/^\/+/,"");return`${ze}${Ct}`};g.useEffect(()=>{const te=mB(dE);(te==="original"||te==="default")&&K(te)},[]),g.useEffect(()=>{const te=F||A,Oe=Lf.find(ze=>ze.id===te)||og;h(Oe)},[F,A]),g.useEffect(()=>{if(!F){N(j);return}N(hE(F,j))},[F,j]),g.useEffect(()=>{nn(at[0]||"/");let te=!0;return(async()=>{for(const ze of at)try{if((await fetch(un(ze,"ui-theme.json"),{cache:"no-store"})).ok){te&&nn(ze);return}}catch{}})(),()=>{te=!1}},[at]);const fs=(te,Oe)=>{const ze=Oe.trim();if(!ze)return te;const Ct=te.toLowerCase(),Lt=ze.toLowerCase(),Kt=Ct.indexOf(Lt);if(Kt===-1)return te;const rn=te.slice(0,Kt),$t=te.slice(Kt,Kt+ze.length),jt=te.slice(Kt+ze.length);return c.jsxs(c.Fragment,{children:[rn,c.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:$t}),jt]})},pn=(te,Oe)=>{const ze=X.current;if(!ze)return;let Ct=ze.querySelector(`[data-search-hit="${te}"]`);if(!Ct&&Oe){const Lt=Oe.trim().replace(/\s+/g," "),Kt=Array.from(ze.querySelectorAll("h1, h2, h3, p, li, code"));Ct=Kt.find(rn=>(rn.textContent||"").trim().replace(/\s+/g," ")===Lt)||null,Ct||(Ct=Kt.find(rn=>(rn.textContent||"").toLowerCase().includes(Lt.toLowerCase()))||null)}Ct&&requestAnimationFrame(()=>{const Lt=ze.getBoundingClientRect(),Kt=Ct.getBoundingClientRect(),rn=Math.max(0,ze.scrollTop+(Kt.top-Lt.top)-12);ze.scrollTop=rn,Ct.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),kt.current&&window.clearTimeout(kt.current),kt.current=window.setTimeout(()=>{Ct.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},Bn=te=>{const Oe=X.current,ze=te.trim().toLowerCase();if(!Oe||ze.length<2){R([]);return}const Ct=Array.from(Oe.querySelectorAll("h1, h2, h3, p, li, code"));Ct.forEach(rn=>rn.removeAttribute("data-search-hit"));const Lt=[];let Kt=0;Ct.forEach((rn,$t)=>{const jt=(rn.textContent||"").trim();if(jt&&jt.toLowerCase().includes(ze)){let $n="";for(let sr=$t;sr>=0;sr-=1){const lt=Ct[sr];if(lt&&["H1","H2","H3"].includes(lt.tagName)){$n=(lt.textContent||"").trim();break}}rn.setAttribute("data-search-hit",String(Kt)),Lt.push({index:$t,text:jt,section:$n||"Unlabeled Section",hitId:Kt}),Kt+=1}}),R(Lt.slice(0,12))};g.useEffect(()=>{var Oe;if(!H)return;P(((Oe=mn[0])==null?void 0:Oe.id)||"");const te=ze=>{var Lt;const Ct=ze.target;Ct&&((Lt=ie.current)!=null&&Lt.contains(Ct)||(ne(!1),R([])))};return window.addEventListener("mousedown",te),()=>{window.removeEventListener("mousedown",te)}},[H,mn]),g.useEffect(()=>{if(!H){P("");return}const te=X.current;if(!te)return;let Oe=0;const ze=()=>{var J;const Lt=Array.from(te.querySelectorAll("[data-heading-id]"));if(Lt.length===0)return;const rn=te.getBoundingClientRect().top+18,$t=Lt.map((Ne,ue)=>({index:ue,id:Ne.dataset.headingId||Ne.id||"",top:Ne.getBoundingClientRect().top})).filter(Ne=>!!Ne.id);if($t.length===0)return;let jt=0,$n=!1;for(const Ne of $t){if(Ne.top<=rn){jt=Ne.index,$n=!0;continue}$n||(jt=Ne.index);break}te.scrollTop+te.clientHeight>=te.scrollHeight-2&&(jt=Math.max(0,$t.length-1));const lt=mn[jt],D=((J=$t[jt])==null?void 0:J.id)||"",$=(lt==null?void 0:lt.id)||D;$&&P($)};ze();const Ct=()=>{Oe&&cancelAnimationFrame(Oe),Oe=requestAnimationFrame(ze)};return te.addEventListener("scroll",Ct,{passive:!0}),window.addEventListener("resize",Ct),()=>{Oe&&cancelAnimationFrame(Oe),te.removeEventListener("scroll",Ct),window.removeEventListener("resize",Ct)}},[H,mn]);const Mn=g.useMemo(()=>[{id:"overview",label:"Overview",icon:k8,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:Wc},{id:"fight-breakdown",label:"Fight Breakdown",icon:_l},{id:"top-players",label:"Top Players",icon:Wc},{id:"top-skills-outgoing",label:"Top Skills",icon:Tk},{id:"squad-composition",label:"Classes",icon:_r},{id:"timeline",label:"Squad vs Enemy Size",icon:_r},{id:"map-distribution",label:"Map Distribution",icon:_k}]},{id:"roster",label:"Roster Intel",icon:ym,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:ym},{id:"squad-comp-fight",label:"Squad Comp",icon:_r},{id:"fight-comp",label:"Fight Comp",icon:_l}]},{id:"offense",label:"Offensive Stats",icon:_l,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:B$},{id:"player-breakdown",label:"Player Breakdown",icon:Ik},{id:"damage-breakdown",label:"Damage Breakdown",icon:Mk},{id:"spike-damage",label:"Spike Damage",icon:wm},{id:"conditions-outgoing",label:"Conditions",icon:fx}]},{id:"defense",label:"Defensive Stats",icon:kd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:kd},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:wm},{id:"defense-mitigation",label:"Damage Mitigation",icon:Rk},{id:"boon-output",label:"Boon Output",icon:Vc},{id:"boon-timeline",label:"Boon Timeline",icon:Fk},{id:"boon-uptime",label:"Boon Uptime",icon:Kf},{id:"support-detailed",label:"Support Detailed",icon:Lk},{id:"healing-stats",label:"Healing Stats",icon:$O}]},{id:"other",label:"Other Metrics",icon:mx,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Ek},{id:"special-buffs",label:"Special Buffs",icon:$g},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:Bk},{id:"skill-usage",label:"Skill Usage",icon:Ok},{id:"apm-stats",label:"APM Breakdown",icon:$k}]}],[]),Pi=g.useMemo(()=>{const te=new Map;return Mn.forEach(Oe=>{te.set(Oe.id.toLowerCase(),Oe.id),(Oe.sectionIds||[]).forEach(ze=>te.set(String(ze).toLowerCase(),Oe.id)),(Oe.items||[]).forEach(ze=>te.set(String(ze.id).toLowerCase(),Oe.id))}),te.set("report-top","overview"),te.set("overview","overview"),te.set("kdr","overview"),te},[Mn]),Ur=g.useMemo(()=>Mn.find(te=>te.id===Y)||Mn[0],[Mn,Y]),Kn=w==="kinetic",uc=g.useMemo(()=>{const Oe=((Ur==null?void 0:Ur.sectionIds)||((Ur==null?void 0:Ur.items)||[]).map(ze=>ze.id)).map(ze=>ze==="kdr"?"overview":ze);return new Set(Oe)},[Ur]),dc=te=>{if(te==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const Oe=te==="kdr"?"overview":te,ze=Oe==="overview"&&te!=="kdr"?"report-top":Oe,Ct=document.getElementById(ze);if(!Ct||!(Ct.getAttribute("data-section-visible")!=="false")||!Ct.offsetParent)return!1;const Kt=Ct.getBoundingClientRect();if(Kt.height<=0)return!1;let rn=0;if(ze==="stats-view-top"){const jt=document.getElementById("report-top");jt&&(rn=jt.getBoundingClientRect().height+12)}const $t=Kt.top+window.scrollY-12-rn;return window.scrollTo({top:Math.max(0,$t),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${ze}`),!0},sl=(te,Oe=0)=>{dc(te)||Oe>=12||window.setTimeout(()=>{requestAnimationFrame(()=>sl(te,Oe+1))},40)};g.useEffect(()=>{if(!t)return;const te=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(ze=>{ze.scrollHeight})});return()=>cancelAnimationFrame(te)},[t]),g.useEffect(()=>{const te=me.current;if(!te)return;let Oe=0;const ze=()=>{if(dc(te)){me.current=null;return}if(Oe+=1,Oe>=20){me.current=null;return}window.setTimeout(()=>requestAnimationFrame(ze),40)};requestAnimationFrame(ze)},[Y]),g.useEffect(()=>{const te=()=>{var Kt,rn;const Oe=(window.location.hash||"").replace(/^#/,"").trim();if(!Oe)return;let ze=Oe;try{ze=decodeURIComponent(Oe)}catch{ze=Oe}const Ct=ze.toLowerCase(),Lt=Pi.get(Ct);if(Lt){if(z(Lt),B(()=>{const $t={};return Mn.forEach(jt=>{$t[jt.id]=jt.id===Lt}),$t}),Ct==="report-top")V("kdr");else{const $t=Mn.find(jt=>jt.id.toLowerCase()===Ct);V(((rn=(Kt=$t==null?void 0:$t.items)==null?void 0:Kt[0])==null?void 0:rn.id)||Ct)}me.current=Ct==="report-top"?"kdr":Ct}};return te(),window.addEventListener("hashchange",te),()=>{window.removeEventListener("hashchange",te)}},[Pi,Mn]);const Di=w==="matte",Rs=f??og,Xr=Kn&&Rs.id===Tc,ms=Kn?Xr?"142, 155, 214":"90, 80, 68":Rs.rgb,oo=Di?"#d8e1eb":Kn?Xr?"#f0d8a9":"#24211d":"var(--accent)",ya={"--accent":`rgb(${ms})`,"--accent-rgb":ms,"--accent-soft":`rgba(${ms}, ${Kn?Xr?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${ms}, ${Kn?Xr?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${ms}, ${Kn?Xr?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${ms}, ${Kn?Xr?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${ms}, ${Kn?Xr?"0.08":"0.04":"0.08"})`},Ti=w==="modern"||w==="matte"||w==="kinetic",ol=Rs.pattern?Di||Kn?void 0:Ti?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Rs.pattern}`:Rs.pattern:void 0,hr=Kn?{backgroundImage:"none",backgroundColor:Xr?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:Xr?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:Di?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Ti?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"};g.useEffect(()=>{var rn;let te=!0;const ze=new URLSearchParams(window.location.search).get("report")||((rn=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:rn[1])||null,Ct=ze?`${Xe}reports/${ze}/report.json`:`${Xe}report.json`;ze&&l(Ct);const Lt=$t=>{var sr,lt,D;const jt=new Set((((sr=$t==null?void 0:$t.meta)==null?void 0:sr.commanders)||[]).map($=>String($)));if(jt.size===0)return $t;const $n=$t.stats;return(lt=$n==null?void 0:$n.leaderboards)!=null&&lt.closestToTag&&($n.leaderboards.closestToTag=$n.leaderboards.closestToTag.map($=>jt.has(String($==null?void 0:$.account))?{...$,value:0}:$)),(D=$n==null?void 0:$n.closestToTag)!=null&&D.player&&jt.has(String($n.closestToTag.player))&&($n.closestToTag={...$n.closestToTag,value:0}),$t},Kt=$t=>{var D,$,J,Ne,ue;const jt=$t==null?void 0:$t.stats;if(!jt||typeof jt!="object")return $t;const $n=Array.isArray((D=jt==null?void 0:jt.leaderboards)==null?void 0:D.downContrib)?jt.leaderboards.downContrib:[];if(!$n.length)return $t;const lt=$n.map(We=>({...We,value:Number((We==null?void 0:We.value)??0)})).filter(We=>Number.isFinite(We.value)).sort((We,Ie)=>Ie.value-We.value||String((We==null?void 0:We.account)||"").localeCompare(String((Ie==null?void 0:Ie.account)||"")))[0];return lt&&(jt.maxDownContrib={...jt.maxDownContrib||{},value:Number(lt.value||0),player:String(lt.account||(($=jt.maxDownContrib)==null?void 0:$.player)||"-"),count:Number(lt.count||((J=jt.maxDownContrib)==null?void 0:J.count)||0),profession:String(lt.profession||((Ne=jt.maxDownContrib)==null?void 0:Ne.profession)||"Unknown"),professionList:Array.isArray(lt.professionList)?lt.professionList:((ue=jt.maxDownContrib)==null?void 0:ue.professionList)||[]}),$t};return fetch(Ct,{cache:"no-store"}).then($t=>$t.ok?$t.json():Promise.reject()).then($t=>{var $n,sr,lt,D,$;if(!te)return;const jt=Kt(Lt($t));if(n(jt),!F){const J=($n=jt==null?void 0:jt.stats)==null?void 0:$n.uiTheme;J==="modern"||J==="classic"||J==="crt"||J==="matte"||J==="kinetic"?k(J):((sr=jt==null?void 0:jt.stats)==null?void 0:sr.webThemeId)===_0?k("matte"):(((lt=jt==null?void 0:jt.stats)==null?void 0:lt.webThemeId)===L0||((D=jt==null?void 0:jt.stats)==null?void 0:D.webThemeId)===Tc)&&k("kinetic");const Ne=_1(($=jt==null?void 0:jt.stats)==null?void 0:$.webThemeId);Ne?E(Ne):uy(jt==null?void 0:jt.stats)&&E(Tc)}}).catch(()=>{if(ze){if(!te)return;s("Report not found yet. It may still be deploying.")}fetch(`${Xe}reports/index.json`,{cache:"no-store"}).then($t=>$t.ok?$t.json():Promise.reject()).then($t=>{te&&i(Array.isArray($t)?$t:[])}).catch(()=>{te&&s("No report data found.")})}),()=>{te=!1}},[Xe,F]),g.useEffect(()=>{if(t){const te=t.meta.dateLabel||pE(t.meta.dateStart,t.meta.dateEnd);document.title=te?`ArcBridge  ${t.meta.title}  ${te}`:`ArcBridge  ${t.meta.title}`;return}document.title="ArcBridge Reports"},[t]),g.useEffect(()=>{var Oe;if(F)return;const te=_1((Oe=t==null?void 0:t.stats)==null?void 0:Oe.webThemeId);if(te){E(te);return}uy(t==null?void 0:t.stats)&&E(Tc)},[t,F]),g.useEffect(()=>{const te=document.body;te.classList.add("web-report"),te.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),Di?te.classList.add("theme-matte"):w==="modern"?te.classList.add("theme-modern"):w==="crt"?te.classList.add("theme-crt"):w==="kinetic"?(te.classList.add("theme-kinetic"),Xr&&te.classList.add("theme-kinetic-dark"),_==="original"&&te.classList.add("theme-kinetic-font-original")):te.classList.add("theme-classic")},[w,Di,Xr,_]),g.useEffect(()=>{var Oe;if(F||Se&&((Oe=t==null?void 0:t.stats)!=null&&Oe.webThemeId)||uy(t==null?void 0:t.stats))return;let te=!0;return fetch(un(Ft,"theme.json"),{cache:"no-store"}).then(ze=>ze.ok?ze.json():Promise.reject()).then(ze=>{te&&typeof(ze==null?void 0:ze.id)=="string"&&ze.id&&E(ze.id)}).catch(()=>{}),()=>{te=!1}},[Ft,Se,t,F]),g.useEffect(()=>{var Kt,rn;if(F)return;const te=(Kt=t==null?void 0:t.stats)==null?void 0:Kt.webThemeId,Oe=(rn=t==null?void 0:t.stats)==null?void 0:rn.uiTheme;if((Oe==="modern"||Oe==="classic"||Oe==="crt"||Oe==="matte"||Oe==="kinetic")&&!(te===_0&&Oe!=="matte"||(te===L0||te===Tc)&&Oe!=="kinetic"||te==="CRT"&&Oe!=="crt"))return;let Lt=!0;return fetch(un(Ft,"ui-theme.json"),{cache:"no-store"}).then($t=>$t.ok?$t.json():Promise.reject()).then($t=>{if(!Lt)return;const jt=$t==null?void 0:$t.theme;(jt==="modern"||jt==="classic"||jt==="crt"||jt==="matte"||jt==="kinetic")&&k(jt)}).catch(()=>{}),()=>{Lt=!1}},[Ft,t,F]),g.useEffect(()=>{let te=!0;return fetch(un(Ft,"logo.json"),{cache:"no-store"}).then(Oe=>Oe.ok?Oe.json():Promise.reject()).then(Oe=>{if(!te)return;const ze="svg/ArcBridge.svg",Ct=Oe!=null&&Oe.path?String(Oe.path):ze,Lt=Oe!=null&&Oe.updatedAt?String(Oe.updatedAt):"",Kt=un(Ft,Ct),rn=Lt?`${Kt}?v=${encodeURIComponent(Lt)}`:Kt;p(rn),y(!(Oe!=null&&Oe.path)||Ct===ze)}).catch(()=>{te&&(p(null),y(!1))}),()=>{te=!1}},[Ft]);const hs=g.useMemo(()=>r?[...r].sort((te,Oe)=>{const ze=new Date(te.dateEnd||te.dateStart).getTime();return new Date(Oe.dateEnd||Oe.dateStart).getTime()-ze}):[],[r]),wa=g.useMemo(()=>{if(!hs.length)return[];const te=u.trim().toLowerCase();return te?hs.filter(Oe=>{var Lt;const ze=((Lt=Oe.commanders)==null?void 0:Lt.join(" "))||"";return`${Oe.title} ${ze} ${Oe.dateLabel}`.toLowerCase().includes(te)}):hs},[hs,u]),Zd=te=>{if(!te){Sxe(O1);return}mE(O1,JSON.stringify({themeId:te}))},Lr=te=>{const Oe=te===fE?null:te;Oe&&!Lf.some(ze=>ze.id===Oe)||(T(Oe),Zd(Oe),le(!1))},ll=te=>{K(te),mE(dE,te),re(!1)};g.useEffect(()=>{const te=ze=>{if(!Ve.current)return;const Ct=ze.target;Ve.current.contains(Ct)||Ge.current&&Ge.current.contains(Ct)||(le(!1),re(!1))},Oe=ze=>{ze.key==="Escape"&&(le(!1),re(!1))};return window.addEventListener("mousedown",te),window.addEventListener("keydown",Oe),()=>{window.removeEventListener("mousedown",te),window.removeEventListener("keydown",Oe)}},[]),g.useEffect(()=>()=>{be.current!==null&&(cancelAnimationFrame(be.current),be.current=null)},[]);const cl=g.useMemo(()=>{if(!F)return"Default";const te=Lf.find(Oe=>Oe.id===F);return(te==null?void 0:te.label)||"Default"},[F]),vu=c.jsxs("div",{className:"relative flex items-center gap-2",ref:Ve,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),c.jsxs("button",{type:"button",onClick:()=>le(te=>!te),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:cl}),c.jsx("span",{className:`transition-transform ${ee?"rotate-180":""}`,children:""})]}),ee&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>Lr(fE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Lf.map(te=>c.jsx("button",{type:"button",onClick:()=>Lr(te.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${F===te.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:te.label},te.id))]})]}),ul=Kn?c.jsxs("div",{className:"relative flex items-center gap-2",ref:Ge,children:[c.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),c.jsxs("button",{type:"button",onClick:()=>re(te=>!te),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[c.jsx("span",{className:"truncate text-left",children:_==="original"?"Original App":"Kinetic Default"}),c.jsx("span",{className:`transition-transform ${ke?"rotate-180":""}`,children:""})]}),ke&&c.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[c.jsx("button",{type:"button",onClick:()=>ll("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${_==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),c.jsx("button",{type:"button",onClick:()=>ll("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${_==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,bu=c.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[c.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[c.jsx("div",{className:"min-w-[160px]",children:vu}),ul&&c.jsx("div",{className:"min-w-[160px]",children:ul}),c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),c.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),c.jsx("a",{href:"#proof-of-work",onClick:te=>{te.preventDefault(),se(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),c.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),c.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",c.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),c.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),c.jsxs("p",{className:"mt-2",children:["See the"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",c.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),Mi=c.jsxs(kxe,{isOpen:H,onClose:()=>se(!1),searchValue:Z,searchFocused:q,searchResults:W,onSearchChange:te=>{S(te),requestAnimationFrame(()=>Bn(te))},onSearchFocus:()=>{ne(!0),requestAnimationFrame(()=>Bn(Z))},onSearchBlur:te=>{var Oe;te&&((Oe=ie.current)!=null&&Oe.contains(te))||ne(!1)},onSearchEnter:()=>{W.length>0&&pn(W[0].hitId,W[0].text)},onSearchResultMouseDown:te=>{ne(!0),pn(te.hitId,te.text)},renderHighlightedMatch:fs,searchRef:ie,tocItems:mn,activeTocId:I,onTocClick:te=>{const Oe=X.current;if(!Oe)return;let ze=Oe.querySelector(`[data-heading-id="${te.id}"]`);if(!ze){const Ct=te.text.trim().replace(/\s+/g," ");ze=Array.from(Oe.querySelectorAll("h1, h2, h3")).find(Kt=>(Kt.textContent||"").trim().replace(/\s+/g," ")===Ct)||null}ze&&(P(te.id),requestAnimationFrame(()=>{const Ct=Oe.getBoundingClientRect(),Lt=ze.getBoundingClientRect(),Kt=Oe.scrollTop+(Lt.top-Ct.top)-12;Oe.scrollTop=Math.max(0,Kt)}))},contentRef:X,children:[(Ae.current=new Map,null),c.jsx(Qde,{remarkPlugins:[uhe],components:{h1:({children:te})=>{const Oe=hn(te),ze=mr(Oe);return c.jsx("h1",{id:ze,"data-heading-id":ze,className:"text-2xl font-bold text-white scroll-mt-6",children:te})},h2:({children:te})=>{const Oe=hn(te),ze=mr(Oe);return c.jsx("h2",{id:ze,"data-heading-id":ze,className:"text-xl font-semibold text-white scroll-mt-6",children:te})},h3:({children:te})=>{const Oe=hn(te),ze=mr(Oe);return c.jsx("h3",{id:ze,"data-heading-id":ze,className:"text-lg font-semibold text-white scroll-mt-6",children:te})},p:({children:te})=>c.jsx("p",{className:"leading-6 text-gray-200",children:te}),ul:({children:te})=>c.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:te}),ol:({children:te})=>c.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:te}),li:({children:te})=>c.jsx("li",{className:"leading-6",children:te}),blockquote:({children:te})=>c.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:te}),a:({href:te,children:Oe})=>c.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:te,target:"_blank",rel:"noreferrer",children:Oe}),table:({children:te})=>c.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:c.jsx("table",{className:"w-full border-collapse text-left text-sm",children:te})}),th:({children:te})=>c.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:te}),td:({children:te})=>c.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:te}),pre:({children:te})=>c.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:te}),code:te=>{const{inline:Oe,children:ze}=te;return Oe===!0?c.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:ze}):c.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:ze})}},children:Qb})]});if(t){const te=un(Ft,"svg/ArcBridge.svg"),Oe=()=>{be.current!==null&&(cancelAnimationFrame(be.current),be.current=null);const lt=window.scrollY||window.pageYOffset||0;if(lt<=1){window.scrollTo({top:0,behavior:"auto"});return}const D=320,$=performance.now(),J=Ne=>{const ue=Ne-$,We=Math.min(1,ue/D),Ie=1-Math.pow(1-We,3),yt=Math.max(0,Math.round(lt*(1-Ie)));window.scrollTo({top:yt,behavior:"auto"}),We<1?be.current=requestAnimationFrame(J):(be.current=null,window.scrollTo({top:0,behavior:"auto"}))};be.current=requestAnimationFrame(J)},ze=lt=>{B(()=>{const D={};return Mn.forEach($=>{D[$.id]=$.id===lt}),D})},Ct=lt=>{var $,J;me.current=null,z(lt);const D=Mn.find(Ne=>Ne.id===lt);V(((J=($=D==null?void 0:D.items)==null?void 0:$[0])==null?void 0:J.id)||"kdr"),Oe()},Lt=lt=>{if(!!!G[lt]){ze(lt),Ct(lt);return}if(lt!==Y){Ct(lt);return}B($=>({...$,[lt]:!1}))},Kt=(lt,D)=>{G[lt]||ze(lt),V(D);const $=lt===Y;$||(me.current=D,z(lt),requestAnimationFrame(()=>sl(D))),$&&requestAnimationFrame(()=>sl(D))},rn=lt=>{const D=lt.currentTarget;if(!(D.scrollHeight>D.clientHeight)){window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault();return}const J=D.scrollTop<=0,Ne=D.scrollTop+D.clientHeight>=D.scrollHeight-1;(J&&lt.deltaY<0||Ne&&lt.deltaY>0)&&(window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault())},$t=lt=>{const D=de.current;if(!D)return;const $=lt.target;if(!$||!D.contains($))return;let J=$;for(;J&&J!==D;){const ue=window.getComputedStyle(J).overflowY;if((ue==="auto"||ue==="scroll")&&J.scrollHeight>J.clientHeight+1){const Ie=J.scrollTop<=0,yt=J.scrollTop+J.clientHeight>=J.scrollHeight-1;(lt.deltaY<0&&Ie||lt.deltaY>0&&yt)&&(window.scrollBy({top:lt.deltaY,behavior:"auto"}),lt.preventDefault());return}J=J.parentElement}},jt=lt=>{const D=Math.max(0,6-lt);return{accordionDuration:.5+D*.07,itemDuration:.34+D*.035,stagger:.05+D*.01,delayChildren:.06+D*.015}},$n=lt=>{const D=jt(lt);return{open:{transition:{staggerChildren:D.stagger,delayChildren:D.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,D.stagger*.7),staggerDirection:-1}}}},sr={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Di?"var(--bg-base)":Kn?Xr?"#2b3048":"#d8d1c5":Ti?"#0f141c":"#0f172a",backgroundImage:Di?"none":ol,...ya},children:[!Di&&!Kn&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${x?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>b(!1)}),c.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${x?"translate-x-0":"-translate-x-full"}`,children:c.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[c.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),c.jsx("button",{onClick:()=>b(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),c.jsx("div",{className:"px-5 pb-4",children:c.jsxs("a",{href:tn,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),c.jsx("nav",{className:"px-3 pb-6 space-y-2 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:rn,children:Mn.map(lt=>{const D=lt.icon,$=lt.id===Y,J=!!G[lt.id],Ne=jt(lt.items.length),ue=$n(lt.items.length);return c.jsxs(qs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-1",children:[c.jsxs("button",{onClick:()=>Lt(lt.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${$?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(D,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:lt.label}),c.jsx(qs.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:J?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(iw,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(qs.div,{initial:!1,animate:J?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ne.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(qs.div,{variants:ue,initial:!1,animate:J?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:lt.items.map(We=>{const Ie=We.icon;return c.jsxs(qs.button,{variants:sr,transition:{duration:Ne.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{Kt(lt.id,We.id),b(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${U===We.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Ie,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),We.label]},We.id)})})},`${lt.id}-submenu-mobile`)]},lt.id)})})]})}),c.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:c.jsxs("div",{className:"flex flex-col w-full",children:[c.jsx("div",{className:"px-6 pt-6 pb-5",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:oo,maskImage:`url(${te})`,WebkitMaskImage:`url(${te})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),c.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),c.jsx("nav",{className:"px-4 space-y-2 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:rn,children:Mn.map(lt=>{const D=lt.icon,$=lt.id===Y,J=!!G[lt.id],Ne=jt(lt.items.length),ue=$n(lt.items.length);return c.jsxs(qs.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-1",children:[c.jsxs("button",{onClick:()=>Lt(lt.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${$?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(D,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:lt.label}),c.jsx(qs.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:J?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:c.jsx(iw,{className:"w-4 h-4 text-gray-300"})})]}),c.jsx(qs.div,{initial:!1,animate:J?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Ne.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:c.jsx(qs.div,{variants:ue,initial:!1,animate:J?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:lt.items.map(We=>{const Ie=We.icon;return c.jsxs(qs.button,{variants:sr,transition:{duration:Ne.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>Kt(lt.id,We.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${U===We.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[c.jsx(Ie,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),We.label]},We.id)})})},`${lt.id}-submenu-desktop`)]},lt.id)})}),c.jsx("div",{className:"border-t border-white/10",children:c.jsxs("a",{href:tn,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[c.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:c.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[c.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),c.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),c.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[c.jsx("div",{className:`${kc} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:hr,children:c.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[m&&(v?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:oo,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{className:"min-w-0",children:[c.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:t.meta.title}),c.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:t.meta.dateLabel||pE(t.meta.dateStart,t.meta.dateEnd)})]})]}),c.jsxs("button",{onClick:()=>b(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[c.jsx(sj,{className:"w-4 h-4"}),"Contents"]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[c.jsx(m8,{className:"w-4 h-4 text-[color:var(--accent)]"}),t.meta.dateLabel||"Log Range"]}),c.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(_r,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:t.meta.commanders.length?t.meta.commanders.join(", "):"No Commanders"})]}),c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[c.jsx(FO,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",t.meta.appVersion?`v${t.meta.appVersion}`:"build"]})]})]})}),c.jsxs("div",{className:"sm:hidden mb-4",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),c.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((Ur==null?void 0:Ur.items)||[]).map(lt=>{const D=lt.icon;return c.jsxs("button",{onClick:()=>Kt((Ur==null?void 0:Ur.id)||"overview",lt.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${U===lt.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[c.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:c.jsx(D,{className:"w-3 h-3 text-[color:var(--accent)]"})}),lt.label]},`chip-${lt.id}`)})})]}),c.jsx("div",{ref:de,onWheelCapture:$t,className:"flex-1 min-w-0",children:c.jsx("div",{id:"stats-view-top",children:c.jsx(moe,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:t.stats,statsViewSettings:(dl=t.stats)==null?void 0:dl.statsViewSettings,embedded:!0,uiTheme:w,sectionVisibility:lt=>uc.has(lt),dashboardTitle:`Statistics Dashboard - ${(Ur==null?void 0:Ur.label)||"Overview"}`})})}),c.jsx("div",{className:"mt-10",children:bu})]}),c.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:c.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[c.jsxs("a",{href:tn,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(_O,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),c.jsxs("button",{onClick:()=>b(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(sj,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),c.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[c.jsx(f8,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),Mi]})}return c.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Di?"var(--bg-base)":Kn?Xr?"#2b3048":"#d8d1c5":Ti?"#0f141c":"#0f172a",backgroundImage:Di?"none":ol,...ya},children:[!Di&&!Kn&&c.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[c.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),c.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),c.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),c.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[c.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[c.jsxs("div",{id:"report-top",className:`${kc} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:hr,children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[m&&(v?c.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:oo,maskImage:`url(${m})`,WebkitMaskImage:`url(${m})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):c.jsx("img",{src:m,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),c.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:c.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[wa.length," Reports"]})})]}),c.jsxs("div",{className:`${kc} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:hr,children:[c.jsx("input",{type:"search",value:u,onChange:te=>d(te.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),c.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",c.jsx("span",{className:"text-[color:var(--accent)]",children:wa.length})," of"," ",c.jsx("span",{className:"text-[color:var(--accent)]",children:hs.length})]})]}),a&&c.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:hr,children:[c.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),c.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:a}),o&&c.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",c.jsx("span",{className:"text-amber-50",children:o})]})]}),!a&&!r&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:hr,children:"Loading reports..."}),wa.length>0&&c.jsx("div",{className:"flex flex-col gap-3",children:wa.map(te=>{var Oe,ze,Ct,Lt;return c.jsx("a",{href:Cxe(pe,te.id,L),className:`${kc} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:hr,children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[c.jsxs("div",{className:"min-w-0 block text-left",children:[c.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:te.dateLabel}),c.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:Axe(te.dateStart)}),c.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[c.jsx(_r,{className:"w-4 h-4 text-[color:var(--accent)]"}),c.jsx("span",{className:"truncate",children:te.commanders.length?te.commanders.join(", "):"No Commanders"})]})]}),c.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[c.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(Oe=te.summary)!=null&&Oe.mapSlices&&te.summary.mapSlices.length>0?c.jsxs(c.Fragment,{children:[c.jsx(Pxe,{slices:te.summary.mapSlices}),c.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):c.jsxs(c.Fragment,{children:[c.jsx(Dxe,{value:(ze=te.summary)==null?void 0:ze.borderlandsPct}),c.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[c.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),c.jsxs("div",{className:"text-sm text-white font-semibold",children:[((Ct=te.summary)==null?void 0:Ct.avgSquadSize)??"--"," / ",((Lt=te.summary)==null?void 0:Lt.avgEnemySize)??"--"]})]}),c.jsx(v8,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},te.id)})}),!a&&r&&hs.length===0&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:hr,children:"No reports uploaded yet."}),!a&&r&&hs.length>0&&wa.length===0&&c.jsx("div",{className:`${kc} p-6 text-gray-300`,style:hr,children:"No reports match your search."})]}),c.jsx("div",{className:"mt-8",children:bu})]}),Mi]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");dy.createRoot(document.getElementById("root")).render(c.jsx(X0.StrictMode,{children:c.jsx(Txe,{})}));
